var rC=Object.defineProperty,sC=(qt,ue,ge)=>ue in qt?rC(qt,ue,{enumerable:!0,configurable:!0,writable:!0,value:ge}):qt[ue]=ge,kp=(qt,ue,ge)=>(sC(qt,"symbol"!=typeof ue?ue+"":ue,ge),ge),vm=(qt,ue,ge)=>{if(!ue.has(qt))throw TypeError("Cannot "+ge)},Qn=(qt,ue,ge)=>(vm(qt,ue,"read from private field"),ge?ge.call(qt):ue.get(qt)),oi=(qt,ue,ge)=>{if(ue.has(qt))throw TypeError("Cannot add the same private member more than once");ue instanceof WeakSet?ue.add(qt):ue.set(qt,ge)},Ir=(qt,ue,ge,f)=>(vm(qt,ue,"write to private field"),f?f.call(qt,ge):ue.set(qt,ge),ge),l1=(qt,ue,ge,f)=>({set _(te){Ir(qt,ue,te,ge)},get _(){return Qn(qt,ue,f)}}),ti=(qt,ue,ge)=>(vm(qt,ue,"access private method"),ge);(self.webpackChunk_2022F2E_w2=self.webpackChunk_2022F2E_w2||[]).push([[179],{6819:(qt,ue,ge)=>{"use strict";ge.d(ue,{x:()=>le});var f=ge(1135),te=ge(8274);let le=(()=>{class Qe{constructor(){this.defaultConfig={isShow:!1,displayText:"\u4e0a\u50b3\u4e2d...",animationName:"signLoading"},this.dialogConfig$=new f.X(this.defaultConfig)}showDialog(Te){this.dialogConfig$.next({...Te,isShow:!0})}dismissDialog(){this.dialogConfig$.next({...this.defaultConfig,isShow:!1})}}return Qe.\u0275fac=function(Te){return new(Te||Qe)},Qe.\u0275prov=te.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Qe})()},688:(qt,ue,ge)=>{"use strict";ge.d(ue,{T:()=>le});var f=ge(7579),te=ge(8274);let le=(()=>{class Qe{constructor(){this._pdfData="",this.base64Prefix="data:application/pdf;base64,",this.today$=new f.x}getPdfData(){return this._pdfData}setDdfData(Te){this._pdfData=Te,localStorage.setItem("pdfData",Te)}readBlob(Te){return new Promise((m,c)=>{const d=new FileReader;d.addEventListener("load",()=>m(d.result)),d.addEventListener("error",c),d.readAsDataURL(Te)})}addDate(){const Te=new Date,m=`${Te.getFullYear()}/${Te.getMonth()+1}/${Te.getDate()}`;this.today$.next(m)}}return Qe.\u0275fac=function(Te){return new(Te||Qe)},Qe.\u0275prov=te.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Qe})()},7130:(qt,ue,ge)=>{"use strict";ge.r(ue),ge.d(ue,{SignDocModule:()=>Nr});var f=ge(1384),te=ge(6895),le=ge(8274),Qe=ge(8421),Je=ge(9751),Te=ge(5577),m=ge(1144),c=ge(576),d=ge(3268);const u=["addListener","removeListener"],r=["addEventListener","removeEventListener"],o=["on","off"];function i(b,y,v,x){if((0,c.m)(v)&&(x=v,v=void 0),x)return i(b,y,v).pipe((0,d.Z)(x));const[L,T]=function p(b){return(0,c.m)(b.addEventListener)&&(0,c.m)(b.removeEventListener)}(b)?r.map(V=>Y=>b[V](y,Y,v)):function h(b){return(0,c.m)(b.addListener)&&(0,c.m)(b.removeListener)}(b)?u.map(s(b,y)):function l(b){return(0,c.m)(b.on)&&(0,c.m)(b.off)}(b)?o.map(s(b,y)):[];if(!L&&(0,m.z)(b))return(0,Te.z)(V=>i(V,y,v))((0,Qe.Xf)(b));if(!L)throw new TypeError("Invalid event target");return new Je.y(V=>{const Y=(...$)=>V.next(1<$.length?$:$[0]);return L(Y),()=>T(Y)})}function s(b,y){return v=>x=>b[v](y,x)}var w=ge(7579),_=ge(457),C=ge(2722),I=ge(4408);const z=new(ge(7565).v)(I.o);var fe=ge(4482),ye=ge(5403),_e=ge(9300),we=ge(6036),Ee=ge.t(we,2),de=ge(2813),Ve=ge.t(de,2);const Ze=["pdfViewerContainer"];function ie(b,y,v){b[y]=v}function R(){return typeof window>"u"}R()||ie(Ee,"verbosity",we.VerbosityLevel.INFOS);var H=(()=>{return(b=H||(H={}))[b.DISABLED=0]="DISABLED",b[b.ENABLED=1]="ENABLED",b[b.ENHANCED=2]="ENHANCED",H;var b})();let F=(()=>{class b{constructor(v,x){if(this.element=v,this.ngZone=x,this.isVisible=!1,this._cMapsUrl=typeof Ee<"u"?`https://unpkg.com/pdfjs-dist@${we.version}/cmaps/`:null,this._imageResourcesPath=typeof Ee<"u"?`https://unpkg.com/pdfjs-dist@${we.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=H.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new w.x,this.afterLoadComplete=new le.vpe,this.pageRendered=new le.vpe,this.pageInitialized=new le.vpe,this.textLayerRendered=new le.vpe,this.onError=new le.vpe,this.onProgress=new le.vpe,this.pageChange=new le.vpe(!0),R())return;let L;L=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${we.version}/legacy/build/pdf.worker.min.js`,ie(we.GlobalWorkerOptions,"workerSrc",L)}set cMapsUrl(v){this._cMapsUrl=v}set page(v){const x=v=parseInt(v,10)||1;this._pdf&&(v=this.getValidPageNumber(v)),this._page=v,x!==v&&this.pageChange.emit(v)}set renderText(v){this._renderText=v}set renderTextMode(v){this._renderTextMode=v}set originalSize(v){this._originalSize=v}set showAll(v){this._showAll=v}set stickToPage(v){this._stickToPage=v}set zoom(v){v<=0||(this._zoom=v)}get zoom(){return this._zoom}set zoomScale(v){this._zoomScale=v}get zoomScale(){return this._zoomScale}set rotation(v){"number"==typeof v&&v%90==0?this._rotation=v:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(v){this._externalLinkTarget=v}set autoresize(v){this._canAutoResize=Boolean(v)}set fitToPage(v){this._fitToPage=Boolean(v)}set showBorders(v){this._showBorders=Boolean(v)}static getLinkTarget(v){switch(v){case"blank":return de.LinkTarget.BLANK;case"none":return de.LinkTarget.NONE;case"self":return de.LinkTarget.SELF;case"parent":return de.LinkTarget.PARENT;case"top":return de.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const v=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=v?!1===this.isVisible&&null!=v&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(v){if(!R()&&this.isVisible)if("src"in v)this.loadPDF();else if(this._pdf){if("renderText"in v?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:H.DISABLED,this.resetPdfDocument()):"showAll"in v&&(this.setupViewer(),this.resetPdfDocument()),"page"in v){const{page:x}=v;if(x.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,_.D)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe((0,C.R)(this.destroy$)).subscribe({next:v=>{const x=this._rotation||v.rotate,L=v.getViewport({scale:this._zoom,rotation:x}).width*b.CSS_UNITS;let T=this._zoom,V=!0;if(!this._originalSize||this._fitToPage&&L>this.pdfViewerContainer.nativeElement.clientWidth){const Y=v.getViewport({scale:1,rotation:x});T=this.getScale(Y.width,Y.height),V=!this._stickToPage}this.pdfViewer._setScale(T,V)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfFindController.setDocument(null))}getPDFLinkServiceConfig(){const v=b.getLinkTarget(this._externalLinkTarget);return v?{externalLinkTarget:v}:{}}initEventBus(){this.eventBus=function dt(b,y){const v=new b.EventBus;return function he(b,y){i(b,"documentload").pipe((0,C.R)(y)).subscribe(()=>{const v=document.createEvent("CustomEvent");v.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(v)}),i(b,"pagerendered").pipe((0,C.R)(y)).subscribe(({pageNumber:v,cssTransform:x,source:L})=>{const T=document.createEvent("CustomEvent");T.initCustomEvent("pagerendered",!0,!0,{pageNumber:v,cssTransform:x}),L.div.dispatchEvent(T)}),i(b,"textlayerrendered").pipe((0,C.R)(y)).subscribe(({pageNumber:v,source:x})=>{const L=document.createEvent("CustomEvent");L.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:v}),x.textLayerDiv.dispatchEvent(L)}),i(b,"pagechanging").pipe((0,C.R)(y)).subscribe(({pageNumber:v,source:x})=>{const L=document.createEvent("UIEvents");L.initEvent("pagechanging",!0,!0),L.pageNumber=v,x.container.dispatchEvent(L)}),i(b,"pagesinit").pipe((0,C.R)(y)).subscribe(({source:v})=>{const x=document.createEvent("CustomEvent");x.initCustomEvent("pagesinit",!0,!0,null),v.container.dispatchEvent(x)}),i(b,"pagesloaded").pipe((0,C.R)(y)).subscribe(({pagesCount:v,source:x})=>{const L=document.createEvent("CustomEvent");L.initCustomEvent("pagesloaded",!0,!0,{pagesCount:v}),x.container.dispatchEvent(L)}),i(b,"scalechange").pipe((0,C.R)(y)).subscribe(({scale:v,presetValue:x,source:L})=>{const T=document.createEvent("UIEvents");T.initEvent("scalechange",!0,!0),T.scale=v,T.presetValue=x,L.container.dispatchEvent(T)}),i(b,"updateviewarea").pipe((0,C.R)(y)).subscribe(({location:v,source:x})=>{const L=document.createEvent("UIEvents");L.initEvent("updateviewarea",!0,!0),L.location=v,x.container.dispatchEvent(L)}),i(b,"find").pipe((0,C.R)(y)).subscribe(({source:v,type:x,query:L,phraseSearch:T,caseSensitive:V,highlightAll:Y,findPrevious:$})=>{if(v===window)return;const ae=document.createEvent("CustomEvent");ae.initCustomEvent("find"+x,!0,!0,{query:L,phraseSearch:T,caseSensitive:V,highlightAll:Y,findPrevious:$}),window.dispatchEvent(ae)}),i(b,"attachmentsloaded").pipe((0,C.R)(y)).subscribe(({attachmentsCount:v,source:x})=>{const L=document.createEvent("CustomEvent");L.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:v}),x.container.dispatchEvent(L)}),i(b,"sidebarviewchanged").pipe((0,C.R)(y)).subscribe(({view:v,source:x})=>{const L=document.createEvent("CustomEvent");L.initCustomEvent("sidebarviewchanged",!0,!0,{view:v}),x.outerContainer.dispatchEvent(L)}),i(b,"pagemode").pipe((0,C.R)(y)).subscribe(({mode:v,source:x})=>{const L=document.createEvent("CustomEvent");L.initCustomEvent("pagemode",!0,!0,{mode:v}),x.pdfViewer.container.dispatchEvent(L)}),i(b,"namedaction").pipe((0,C.R)(y)).subscribe(({action:v,source:x})=>{const L=document.createEvent("CustomEvent");L.initCustomEvent("namedaction",!0,!0,{action:v}),x.pdfViewer.container.dispatchEvent(L)}),i(b,"presentationmodechanged").pipe((0,C.R)(y)).subscribe(({active:v,switchInProgress:x})=>{const L=document.createEvent("CustomEvent");L.initCustomEvent("presentationmodechanged",!0,!0,{active:v,switchInProgress:x}),window.dispatchEvent(L)}),i(b,"outlineloaded").pipe((0,C.R)(y)).subscribe(({outlineCount:v,source:x})=>{const L=document.createEvent("CustomEvent");L.initCustomEvent("outlineloaded",!0,!0,{outlineCount:v}),x.container.dispatchEvent(L)})}(v,y),v}(Ve,this.destroy$),i(this.eventBus,"pagerendered").pipe((0,C.R)(this.destroy$)).subscribe(v=>{this.pageRendered.emit(v)}),i(this.eventBus,"pagesinit").pipe((0,C.R)(this.destroy$)).subscribe(v=>{this.pageInitialized.emit(v)}),i(this.eventBus,"pagechanging").pipe((0,C.R)(this.destroy$)).subscribe(({pageNumber:v})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=v,this.pageChange.emit(v)},100)}),i(this.eventBus,"textlayerrendered").pipe((0,C.R)(this.destroy$)).subscribe(v=>{this.textLayerRendered.emit(v)})}initPDFServices(){this.pdfLinkService=new de.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new de.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:H.DISABLED,findController:this.pdfFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath}}setupViewer(){ie(Ee,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new de.PDFViewer(this.getPDFOptions()):new de.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(v){return v<1?1:v>this._pdf.numPages?this._pdf.numPages:v}getDocumentParams(){const v=typeof this.src;if(!this._cMapsUrl)return this.src;const x={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===v?x.url=this.src:"object"===v&&(void 0!==this.src.byteLength?x.data=this.src:Object.assign(x,this.src)),x}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=we.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=x=>{this.onProgress.emit(x)};const v=this.src;(0,_.D)(this.loadingTask.promise).pipe((0,C.R)(this.destroy$)).subscribe({next:x=>{this._pdf=x,this.lastLoaded=v,this.afterLoadComplete.emit(x),this.resetPdfDocument(),this.update()},error:x=>{this.lastLoaded=null,this.onError.emit(x)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(v,x){const L=this._showBorders?2*b.BORDER_WIDTH:0,T=this.pdfViewerContainer.nativeElement.clientWidth-L,V=this.pdfViewerContainer.nativeElement.clientHeight-L;if(0===V||0===x||0===T||0===v)return 1;let Y=1;switch(this._zoomScale){case"page-fit":Y=Math.min(V/x,T/v);break;case"page-height":Y=V/x;break;default:Y=T/v}return this._zoom*Y/b.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){R()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){R()||this.ngZone.runOutsideAngular(()=>{i(window,"resize").pipe(function Pe(b,y=z){return(0,fe.e)((v,x)=>{let L=null,T=null,V=null;const Y=()=>{if(L){L.unsubscribe(),L=null;const ae=T;T=null,x.next(ae)}};function $(){const ae=V+b,Ae=y.now();if(Ae<ae)return L=this.schedule(void 0,ae-Ae),void x.add(L);Y()}v.subscribe((0,ye.x)(x,ae=>{T=ae,V=y.now(),L||(L=y.schedule($,b),x.add(L))},()=>{Y(),x.complete()},void 0,()=>{T=L=null}))})}(100),(0,_e.h)(()=>this._canAutoResize&&!!this._pdf),(0,C.R)(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return b.CSS_UNITS=96/72,b.BORDER_WIDTH=9,b.\u0275fac=function(v){return new(v||b)(le.Y36(le.SBq),le.Y36(le.R0b))},b.\u0275cmp=le.Xpm({type:b,selectors:[["pdf-viewer"]],viewQuery:function(v,x){if(1&v&&le.Gf(Ze,5),2&v){let L;le.iGM(L=le.CRH())&&(x.pdfViewerContainer=L.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[le.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(v,x){1&v&&(le.TgZ(0,"div",0,1),le._UZ(2,"div",2),le.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),b})(),j=(()=>{class b{}return b.\u0275fac=function(v){return new(v||b)},b.\u0275mod=le.oAB({type:b}),b.\u0275inj=le.cJS({}),b})();var B=ge(688),J=(()=>{return(b=J||(J={}))[b.SIGN=0]="SIGN",b[b.CHECK=1]="CHECK",b[b.DATE=2]="DATE",b[b.TEXT=3]="TEXT",b[b.PREVIEW=4]="PREVIEW",J;var b})();let re=(()=>{class b{constructor(v,x){this.pdfUtilityService=v,this.router=x,this.funcList=J,this.currentFunc=J.PREVIEW}ngOnInit(){}signFuncs(v){switch(this.currentFunc=v,v){case J.PREVIEW:this.router.navigateByUrl("/signDoc/previewDoc");break;case J.SIGN:this.router.navigateByUrl("/signDoc/createSign");break;case J.CHECK:break;case J.DATE:this.pdfUtilityService.addDate()}}}return b.\u0275fac=function(v){return new(v||b)(le.Y36(B.T),le.Y36(f.F0))},b.\u0275cmp=le.Xpm({type:b,selectors:[["app-sign-doc"]],decls:22,vars:6,consts:[[1,"container"],[1,"bottom"],[3,"click"],[1,"icon"],[1,"material-symbols-outlined"]],template:function(v,x){1&v&&(le.TgZ(0,"div",0),le._UZ(1,"router-outlet"),le.TgZ(2,"section",1)(3,"ul")(4,"li",2),le.NdJ("click",function(){return x.signFuncs(x.funcList.SIGN)}),le.TgZ(5,"div",3)(6,"span",4),le._uU(7," edit "),le.qZA()(),le.TgZ(8,"a"),le._uU(9,"\u7c3d\u540d"),le.qZA()(),le.TgZ(10,"li",2),le.NdJ("click",function(){return x.signFuncs(x.funcList.PREVIEW)}),le.TgZ(11,"div",3)(12,"span",4),le._uU(13," article "),le.qZA()(),le.TgZ(14,"a"),le._uU(15,"\u9810\u89bd\u6587\u4ef6"),le.qZA()(),le.TgZ(16,"li",2),le.NdJ("click",function(){return x.signFuncs(x.funcList.DATE)}),le.TgZ(17,"div",3)(18,"span",4),le._uU(19," calendar_month "),le.qZA()(),le.TgZ(20,"a"),le._uU(21,"\u65e5\u671f"),le.qZA()()()()()),2&v&&(le.xp6(5),le.ekj("active",x.currentFunc===x.funcList.SIGN),le.xp6(6),le.ekj("active",x.currentFunc===x.funcList.PREVIEW),le.xp6(6),le.ekj("active",x.currentFunc===x.funcList.DATE))},dependencies:[f.lC],styles:[".container[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:space-between;align-items:center;flex-direction:column}.bottom[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:85vw;height:4rem;background:var(--white);border-radius:16px;margin:16px 24px;padding:5px;list-style:none;display:flex;justify-content:center;align-items:flex-end}.bottom[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;z-index:98}.bottom[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{background:linear-gradient(180deg,#35a483 0%,#077854 100%);color:var(--white)}.bottom[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:var(--primary)}.bottom[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;text-align:center;font-size:12px}.bottom[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:40px;height:40px;background:#f0f0f0;border-radius:9px;color:gray}"]}),b})();var me=ge(5861),De=ge(8621);function je(b,y){if(1&b){const v=le.EpF();le.ynx(0),le.TgZ(1,"ul",15)(2,"li",16),le.NdJ("click",function(){le.CHM(v);const L=le.oxw();return le.KtG(L.changeColorSolid(L.chooseColorSolid.BLACK))}),le.qZA(),le.TgZ(3,"li",17),le.NdJ("click",function(){le.CHM(v);const L=le.oxw();return le.KtG(L.changeColorSolid(L.chooseColorSolid.BLUE))}),le.qZA(),le.TgZ(4,"li",18),le.NdJ("click",function(){le.CHM(v);const L=le.oxw();return le.KtG(L.changeColorSolid(L.chooseColorSolid.RED))}),le.qZA()(),le.BQk()}if(2&b){const v=le.oxw();le.xp6(2),le.ekj("active",v.currentColorSolid===v.chooseColorSolid.BLACK),le.xp6(1),le.ekj("active",v.currentColorSolid===v.chooseColorSolid.BLUE),le.xp6(1),le.ekj("active",v.currentColorSolid===v.chooseColorSolid.RED)}}function We(b,y){1&b&&le.GkF(0)}var it=(()=>{return(b=it||(it={}))[b.CREATE=0]="CREATE",b[b.IMPORT=1]="IMPORT",it;var b})(),Be=(()=>{return(b=Be||(Be={})).BLACK="black",b.BLUE="blue",b.RED="red",Be;var b})();let Ue=(()=>{class b{constructor(v,x){this.router=v,this.pdfUtilityService=x,this.canvas={},this.chooseSignMethod=it,this.currentSignMethod=it.CREATE,this.chooseColorSolid=Be,this.currentColorSolid=Be.BLACK,this.isPainting=!1}ngAfterViewInit(){this.canvas=new De.fabric.Canvas("canvas"),this.canvas.freeDrawingBrush.width=1.5,this.canvas.isDrawingMode=!0,this.canvas.setHeight("60vh",{cssOnly:!0})}ngOnInit(){}createSignToImage(){localStorage.setItem("signData",this.canvas.toDataURL()),this.router.navigateByUrl("/signDoc/previewDoc")}clearCanvas(){this.canvas.clear()}changeSignMethod(v){switch(this.currentSignMethod=v,v){case it.CREATE:this.canvas.isDrawingMode=!0;break;case it.IMPORT:this.canvas.isDrawingMode=!1}}onUpload(v){var x=this;return(0,me.Z)(function*(){const L=yield x.pdfUtilityService.readBlob(v.target.files[0]);De.fabric.Image.fromURL(L,T=>{x.canvas.add(T),x.canvas.renderAll()})})()}changeColorSolid(v){this.currentColorSolid=v,this.canvas.freeDrawingBrush.color=v}}return b.\u0275fac=function(v){return new(v||b)(le.Y36(f.F0),le.Y36(B.T))},b.\u0275cmp=le.Xpm({type:b,selectors:[["app-create-sign"]],decls:26,vars:6,consts:[[1,"top"],[1,"chooseSign"],[3,"click"],[1,"content"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"signContainer"],[1,"signRender"],["id","canvas"],["canvas",""],[1,"clearSignButton",3,"click"],[1,"createSignButton",3,"click"],["hidden","","type","file","accept","image/png",3,"change"],["uploader",""],[1,"chooseColors"],[1,"blackSolid",3,"click"],[1,"blueSolid",3,"click"],[1,"redSolid",3,"click"]],template:function(v,x){if(1&v){const L=le.EpF();le.TgZ(0,"section",0)(1,"div",1)(2,"ul")(3,"li",2),le.NdJ("click",function(){return x.changeSignMethod(x.chooseSignMethod.CREATE)}),le.TgZ(4,"a"),le._uU(5,"\u624b\u5beb\u7c3d\u540d"),le.qZA()(),le.TgZ(6,"li",2),le.NdJ("click",function(){le.CHM(L);const V=le.MAs(25);return x.changeSignMethod(x.chooseSignMethod.IMPORT),le.KtG(V.click())}),le.TgZ(7,"a"),le._uU(8,"\u532f\u5165\u7c3d\u540d\u6a94"),le.qZA()()()()(),le.TgZ(9,"section",3),le.ynx(10,4),le.YNc(11,je,5,6,"ng-container",5),le.YNc(12,We,1,0,"ng-container",6),le.BQk(),le.TgZ(13,"div",7)(14,"div",8),le._UZ(15,"canvas",9,10),le.qZA(),le.TgZ(17,"ul")(18,"li")(19,"a",11),le.NdJ("click",function(){return x.clearCanvas()}),le._uU(20,"\u6e05\u9664"),le.qZA()(),le.TgZ(21,"li")(22,"a",12),le.NdJ("click",function(){return x.createSignToImage()}),le._uU(23,"\u5efa\u7acb\u7c3d\u540d"),le.qZA()()()()(),le.TgZ(24,"input",13,14),le.NdJ("change",function(V){return x.onUpload(V)}),le.qZA()}2&v&&(le.xp6(3),le.ekj("active",x.currentSignMethod===x.chooseSignMethod.CREATE),le.xp6(3),le.ekj("active",x.currentSignMethod===x.chooseSignMethod.IMPORT),le.xp6(4),le.Q6J("ngSwitch",x.currentSignMethod),le.xp6(1),le.Q6J("ngSwitchCase",x.chooseSignMethod.CREATE))},dependencies:[te.RF,te.n9,te.ED],styles:['.top[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:1rem}.top[_ngcontent-%COMP%]   .chooseSign[_ngcontent-%COMP%]{width:240px;height:40px;background:var(--white);border-radius:14px}.top[_ngcontent-%COMP%]   .chooseSign[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;list-style:none;padding:0}.top[_ngcontent-%COMP%]   .chooseSign[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.top[_ngcontent-%COMP%]   .chooseSign[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:var(--primary)}.top[_ngcontent-%COMP%]   .chooseSign[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{margin:0}.top[_ngcontent-%COMP%]   .chooseSign[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:120px;height:40px;background:linear-gradient(180deg,#35a483 0%,#077854 100%);border-radius:14px;border:0;color:var(--white)}.content[_ngcontent-%COMP%]{width:343px;height:75vh}.content[_ngcontent-%COMP%]   .chooseColors[_ngcontent-%COMP%]{display:flex;padding:0;justify-content:center;list-style:none;margin-bottom:1rem}.content[_ngcontent-%COMP%]   .chooseColors[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}.content[_ngcontent-%COMP%]   .chooseColors[_ngcontent-%COMP%]   .blackSolid[_ngcontent-%COMP%]{position:relative;width:35px;height:35px;background-color:#000;border-radius:50%}.content[_ngcontent-%COMP%]   .chooseColors[_ngcontent-%COMP%]   .blackSolid.active[_ngcontent-%COMP%]:after{content:"";width:35px;height:35px;border:black solid 2px;border-radius:50%;display:block;position:absolute;left:-2px;top:-2px;transform:scale(1.2)}.content[_ngcontent-%COMP%]   .chooseColors[_ngcontent-%COMP%]   .blueSolid[_ngcontent-%COMP%]{position:relative;width:35px;height:35px;background-color:#00f;border-radius:50%}.content[_ngcontent-%COMP%]   .chooseColors[_ngcontent-%COMP%]   .blueSolid.active[_ngcontent-%COMP%]:after{content:"";width:35px;height:35px;border:blue solid 2px;border-radius:50%;display:block;position:absolute;left:-2px;top:-2px;transform:scale(1.2)}.content[_ngcontent-%COMP%]   .chooseColors[_ngcontent-%COMP%]   .redSolid[_ngcontent-%COMP%]{position:relative;width:35px;height:35px;background-color:red;border-radius:50%}.content[_ngcontent-%COMP%]   .chooseColors[_ngcontent-%COMP%]   .redSolid.active[_ngcontent-%COMP%]:after{content:"";width:35px;height:35px;border:red solid 2px;border-radius:50%;display:block;position:absolute;left:-2px;top:-2px;transform:scale(1.2)}.content[_ngcontent-%COMP%]   .signContainer[_ngcontent-%COMP%]{width:100%;height:100%}.content[_ngcontent-%COMP%]   .signContainer[_ngcontent-%COMP%]   .signRender[_ngcontent-%COMP%]{width:100%;background:var(--white);border-radius:26px;margin-bottom:1rem}.content[_ngcontent-%COMP%]   .signContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;list-style:none;padding:0}.content[_ngcontent-%COMP%]   .signContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:center;align-items:center}.content[_ngcontent-%COMP%]   .signContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:165px;height:56px;border-radius:16px}.content[_ngcontent-%COMP%]   .signContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.createSignButton[_ngcontent-%COMP%]{background:linear-gradient(180deg,#35a483 0%,#077854 100%);color:var(--white);border:0}.content[_ngcontent-%COMP%]   .signContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.clearSignButton[_ngcontent-%COMP%]{background:var(--white);border:1px solid var(--primary);color:var(--primary)}']}),b})();function ht(b){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(b)}var Ke=Uint8Array,pt=Uint16Array,be=Uint32Array,ze=new Ke([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Xe=new Ke([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ne=new Ke([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),yt=function(b,y){for(var v=new pt(31),x=0;x<31;++x)v[x]=y+=1<<b[x-1];var L=new be(v[30]);for(x=1;x<30;++x)for(var T=v[x];T<v[x+1];++T)L[T]=T-v[x]<<5|x;return[v,L]},ot=yt(ze,2),Ct=ot[0],Pt=ot[1];Ct[28]=258,Pt[258]=28;for(var Gt=yt(Xe,0),Tn=Gt[0],Jn=Gt[1],Nt=new pt(32768),Ye=0;Ye<32768;++Ye){var st=(43690&Ye)>>>1|(21845&Ye)<<1;Nt[Ye]=((65280&(st=(61680&(st=(52428&st)>>>2|(13107&st)<<2))>>>4|(3855&st)<<4))>>>8|(255&st)<<8)>>>1}var Bt=function(b,y,v){for(var x=b.length,L=0,T=new pt(y);L<x;++L)++T[b[L]-1];var Y,V=new pt(y);for(L=0;L<y;++L)V[L]=V[L-1]+T[L-1]<<1;if(v){Y=new pt(1<<y);var $=15-y;for(L=0;L<x;++L)if(b[L])for(var ae=L<<4|b[L],Ae=y-b[L],Re=V[b[L]-1]++<<Ae,Ge=Re|(1<<Ae)-1;Re<=Ge;++Re)Y[Nt[Re]>>>$]=ae}else for(Y=new pt(x),L=0;L<x;++L)Y[L]=Nt[V[b[L]-1]++]>>>15-b[L];return Y},Kt=new Ke(288);for(Ye=0;Ye<144;++Ye)Kt[Ye]=8;for(Ye=144;Ye<256;++Ye)Kt[Ye]=9;for(Ye=256;Ye<280;++Ye)Kt[Ye]=7;for(Ye=280;Ye<288;++Ye)Kt[Ye]=8;var bn=new Ke(32);for(Ye=0;Ye<32;++Ye)bn[Ye]=5;var fn=Bt(Kt,9,0),Rn=Bt(Kt,9,1),ri=Bt(bn,5,0),Ri=Bt(bn,5,1),di=function(b){for(var y=b[0],v=1;v<b.length;++v)b[v]>y&&(y=b[v]);return y},Li=function(b,y,v){var x=y/8>>0;return(b[x]|b[x+1]<<8)>>>(7&y)&v},_i=function(b,y){var v=y/8>>0;return(b[v]|b[v+1]<<8|b[v+2]<<16)>>>(7&y)},nr=function(b){return(b/8>>0)+(7&b&&1)},Pi=function(b,y,v){(null==y||y<0)&&(y=0),(null==v||v>b.length)&&(v=b.length);var x=new(b instanceof pt?pt:b instanceof be?be:Ke)(v-y);return x.set(b.subarray(y,v)),x},ji=function(b,y,v){var x=y/8>>0;b[x]|=v<<=7&y,b[x+1]|=v>>>8},Kn=function(b,y,v){var x=y/8>>0;b[x]|=v<<=7&y,b[x+1]|=v>>>8,b[x+2]|=v>>>16},ir=function(b,y){for(var v=[],x=0;x<b.length;++x)b[x]&&v.push({s:x,f:b[x]});var L=v.length,T=v.slice();if(!L)return[new Ke(0),0];if(1==L){var V=new Ke(v[0].s+1);return V[v[0].s]=1,[V,1]}v.sort(function(rn,xn){return rn.f-xn.f}),v.push({s:-1,f:25001});var Y=v[0],$=v[1],ae=0,Ae=1,Re=2;for(v[0]={s:-1,f:Y.f+$.f,l:Y,r:$};Ae!=L-1;)Y=v[v[ae].f<v[Re].f?ae++:Re++],$=v[ae!=Ae&&v[ae].f<v[Re].f?ae++:Re++],v[Ae++]={s:-1,f:Y.f+$.f,l:Y,r:$};var Ge=T[0].s;for(x=1;x<L;++x)T[x].s>Ge&&(Ge=T[x].s);var oe=new pt(Ge+1),ft=Er(v[Ae-1],oe,0);if(ft>y){x=0;var rt=0,bt=ft-y,tt=1<<bt;for(T.sort(function(xn,Jt){return oe[Jt.s]-oe[xn.s]||xn.f-Jt.f});x<L;++x){var gt=T[x].s;if(!(oe[gt]>y))break;rt+=tt-(1<<ft-oe[gt]),oe[gt]=y}for(rt>>>=bt;rt>0;){var Tt=T[x].s;oe[Tt]<y?rt-=1<<y-oe[Tt]++-1:++x}for(;x>=0&&rt;--x){var Yt=T[x].s;oe[Yt]==y&&(--oe[Yt],++rt)}ft=y}return[new Ke(oe),ft]},Er=function(b,y,v){return-1==b.s?Math.max(Er(b.l,y,v+1),Er(b.r,y,v+1)):y[b.s]=v},rr=function(b){for(var y=b.length;y&&!b[--y];);for(var v=new pt(++y),x=0,L=b[0],T=1,V=function($){v[x++]=$},Y=1;Y<=y;++Y)if(b[Y]==L&&Y!=y)++T;else{if(!L&&T>2){for(;T>138;T-=138)V(32754);T>2&&(V(T>10?T-11<<5|28690:T-3<<5|12305),T=0)}else if(T>3){for(V(L),--T;T>6;T-=6)V(8304);T>2&&(V(T-3<<5|8208),T=0)}for(;T--;)V(L);T=1,L=b[Y]}return[v.subarray(0,x),y]},Yr=function(b,y){for(var v=0,x=0;x<y.length;++x)v+=b[x]*y[x];return v},as=function(b,y,v){var x=v.length,L=nr(y+2);b[L]=255&x,b[L+1]=x>>>8,b[L+2]=255^b[L],b[L+3]=255^b[L+1];for(var T=0;T<x;++T)b[L+T+4]=v[T];return 8*(L+4+x)},Xs=function(b,y,v,x,L,T,V,Y,$,ae,Ae){ji(y,Ae++,v),++L[256];for(var Re=ir(L,15),Ge=Re[0],oe=Re[1],ft=ir(T,15),rt=ft[0],bt=ft[1],tt=rr(Ge),gt=tt[0],Tt=tt[1],Yt=rr(rt),rn=Yt[0],xn=Yt[1],Jt=new pt(19),St=0;St<gt.length;++St)Jt[31&gt[St]]++;for(St=0;St<rn.length;++St)Jt[31&rn[St]]++;for(var dn=ir(Jt,7),vn=dn[0],lt=dn[1],at=19;at>4&&!vn[Ne[at-1]];--at);var nn,mn,en,cn,kt=ae+5<<3,Et=Yr(L,Kt)+Yr(T,bn)+V,ln=Yr(L,Ge)+Yr(T,rt)+V+14+3*at+Yr(Jt,vn)+(2*Jt[16]+3*Jt[17]+7*Jt[18]);if(kt<=Et&&kt<=ln)return as(y,Ae,b.subarray($,$+ae));if(ji(y,Ae,1+(ln<Et)),Ae+=2,ln<Et){nn=Bt(Ge,oe,0),mn=Ge,en=Bt(rt,bt,0),cn=rt;var gn=Bt(vn,lt,0);for(ji(y,Ae,Tt-257),ji(y,Ae+5,xn-1),ji(y,Ae+10,at-4),Ae+=14,St=0;St<at;++St)ji(y,Ae+3*St,vn[Ne[St]]);Ae+=3*at;for(var Nn=[gt,rn],ke=0;ke<2;++ke){var mt=Nn[ke];for(St=0;St<mt.length;++St)ji(y,Ae,gn[At=31&mt[St]]),Ae+=vn[At],At>15&&(ji(y,Ae,mt[St]>>>5&127),Ae+=mt[St]>>>12)}}else nn=fn,mn=Kt,en=ri,cn=bn;for(St=0;St<Y;++St)if(x[St]>255){var At;Kn(y,Ae,nn[257+(At=x[St]>>>18&31)]),Ae+=mn[At+257],At>7&&(ji(y,Ae,x[St]>>>23&31),Ae+=ze[At]);var E=31&x[St];Kn(y,Ae,en[E]),Ae+=cn[E],E>3&&(Kn(y,Ae,x[St]>>>5&8191),Ae+=Xe[E])}else Kn(y,Ae,nn[x[St]]),Ae+=mn[x[St]];return Kn(y,Ae,nn[256]),Ae+mn[256]},Ni=new be([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Vt=new Ke(0),sn=function(b,y,v,x,L){return function(b,y,v,x,L,T){var V=b.length,Y=new Ke(x+V+5*(1+Math.floor(V/7e3))+L),$=Y.subarray(x,Y.length-L),ae=0;if(!y||V<8)for(var Ae=0;Ae<=V;Ae+=65535){var Re=Ae+65535;Re<V?ae=as($,ae,b.subarray(Ae,Re)):($[Ae]=T,ae=as($,ae,b.subarray(Ae,V)))}else{for(var Ge=Ni[y-1],oe=Ge>>>13,ft=8191&Ge,rt=(1<<v)-1,bt=new pt(32768),tt=new pt(rt+1),gt=Math.ceil(v/3),Tt=2*gt,Yt=function(on){return(b[on]^b[on+1]<<gt^b[on+2]<<Tt)&rt},rn=new be(25e3),xn=new pt(288),Jt=new pt(32),St=0,dn=0,vn=(Ae=0,0),lt=0,at=0;Ae<V;++Ae){var kt=Yt(Ae),Et=32767&Ae,ln=tt[kt];if(bt[Et]=ln,tt[kt]=Et,lt<=Ae){var nn=V-Ae;if((St>7e3||vn>24576)&&nn>423){ae=Xs(b,$,0,rn,xn,Jt,dn,vn,at,Ae-at,ae),vn=St=dn=0,at=Ae;for(var mn=0;mn<286;++mn)xn[mn]=0;for(mn=0;mn<30;++mn)Jt[mn]=0}var en=2,cn=0,gn=ft,Nn=Et-ln&32767;if(nn>2&&kt==Yt(Ae-Nn))for(var ke=Math.min(oe,nn)-1,mt=Math.min(32767,Ae),At=Math.min(258,nn);Nn<=mt&&--gn&&Et!=ln;){if(b[Ae+en]==b[Ae+en-Nn]){for(var E=0;E<At&&b[Ae+E]==b[Ae+E-Nn];++E);if(E>en){if(en=E,cn=Nn,E>ke)break;var D=Math.min(Nn,E-2),P=0;for(mn=0;mn<D;++mn){var N=Ae-Nn+mn+32768&32767,pe=N-bt[N]+32768&32767;pe>P&&(P=pe,ln=N)}}}Nn+=(Et=ln)-(ln=bt[Et])+32768&32767}if(cn){rn[vn++]=268435456|Pt[en]<<18|Jn[cn];var Fe=31&Pt[en],et=31&Jn[cn];dn+=ze[Fe]+Xe[et],++xn[257+Fe],++Jt[et],lt=Ae+en,++St}else rn[vn++]=b[Ae],++xn[b[Ae]]}}ae=Xs(b,$,T,rn,xn,Jt,dn,vn,at,Ae-at,ae),T||(ae=as($,ae,Vt))}return Pi(Y,0,x+nr(ae)+L)}(b,y.level??6,null==y.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(b.length)))):12+y.mem,v,x,!L)};function Ea(b,y){void 0===y&&(y={});var v=function(){var b=1,y=0;return{p:function(v){for(var x=b,L=y,T=v.length,V=0;V!=T;){for(var Y=Math.min(V+5552,T);V<Y;++V)L+=x+=v[V];x%=65521,L%=65521}b=x,y=L},d:function(){return(b>>>8<<16|(255&y)<<8|y>>>8)+2*((255&b)<<23)}}}();v.p(b);var x=sn(b,y,2,4);return function(b,y){var v=y.level,x=0==v?0:v<6?1:9==v?3:2;b[0]=120,b[1]=x<<6|(x?32-2*x:1)}(x,y),function(b,y,v){for(;v;++y)b[y]=v,v>>>=8}(x,x.length-4,v.d()),x}function qa(b,y){return function(b,y,v){var x=b.length,L=!y||v,T=!v||v.i;v||(v={}),y||(y=new Ke(3*x));var V=function(D){var P=y.length;if(D>P){var N=new Ke(Math.max(2*P,D));N.set(y),y=N}},Y=v.f||0,$=v.p||0,ae=v.b||0,Ae=v.l,Re=v.d,Ge=v.m,oe=v.n,ft=8*x;do{if(!Ae){v.f=Y=Li(b,$,1);var rt=Li(b,$+1,3);if($+=3,!rt){var tt=b[(bt=nr($)+4)-4]|b[bt-3]<<8,gt=bt+tt;if(gt>x){if(T)throw"unexpected EOF";break}L&&V(ae+tt),y.set(b.subarray(bt,gt),ae),v.b=ae+=tt,v.p=$=8*gt;continue}if(1==rt)Ae=Rn,Re=Ri,Ge=9,oe=5;else{if(2!=rt)throw"invalid block type";var Tt=Li(b,$,31)+257,Yt=Li(b,$+10,15)+4,rn=Tt+Li(b,$+5,31)+1;$+=14;for(var xn=new Ke(rn),Jt=new Ke(19),St=0;St<Yt;++St)Jt[Ne[St]]=Li(b,$+3*St,7);$+=3*Yt;var dn=di(Jt),vn=(1<<dn)-1;if(!T&&$+rn*(dn+7)>ft)break;var lt=Bt(Jt,dn,1);for(St=0;St<rn;){var bt,at=lt[Li(b,$,vn)];if($+=15&at,(bt=at>>>4)<16)xn[St++]=bt;else{var kt=0,Et=0;for(16==bt?(Et=3+Li(b,$,3),$+=2,kt=xn[St-1]):17==bt?(Et=3+Li(b,$,7),$+=3):18==bt&&(Et=11+Li(b,$,127),$+=7);Et--;)xn[St++]=kt}}var ln=xn.subarray(0,Tt),nn=xn.subarray(Tt);Ge=di(ln),oe=di(nn),Ae=Bt(ln,Ge,1),Re=Bt(nn,oe,1)}if($>ft)throw"unexpected EOF"}L&&V(ae+131072);for(var mn=(1<<Ge)-1,en=(1<<oe)-1,cn=Ge+oe+18;T||$+cn<ft;){var gn=(kt=Ae[_i(b,$)&mn])>>>4;if(($+=15&kt)>ft)throw"unexpected EOF";if(!kt)throw"invalid length/literal";if(gn<256)y[ae++]=gn;else{if(256==gn){Ae=null;break}var Nn=gn-254;gn>264&&(Nn=Li(b,$,(1<<(ke=ze[St=gn-257]))-1)+Ct[St],$+=ke);var mt=Re[_i(b,$)&en],At=mt>>>4;if(!mt)throw"invalid distance";if($+=15&mt,nn=Tn[At],At>3){var ke=Xe[At];nn+=_i(b,$)&(1<<ke)-1,$+=ke}if($>ft)throw"unexpected EOF";L&&V(ae+131072);for(var E=ae+Nn;ae<E;ae+=4)y[ae]=y[ae-nn],y[ae+1]=y[ae+1-nn],y[ae+2]=y[ae+2-nn],y[ae+3]=y[ae+3-nn];ae=E}}v.l=Ae,v.p=$,v.b=ae,Ae&&(Y=1,v.m=Ge,v.d=Re,v.n=oe)}while(!Y);return ae==y.length?y:Pi(y,0,ae)}((function(b){if(8!=(15&b[0])||b[0]>>>4>7||(b[0]<<8|b[1])%31)throw"invalid zlib data";if(32&b[1])throw"invalid zlib data: preset dictionaries not supported"}(b),b.subarray(2,-4)),y)}var ii=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ka(){ii.console&&"function"==typeof ii.console.log&&ii.console.log.apply(ii.console,arguments)}var Ui={log:Ka,warn:function(b){ii.console&&("function"==typeof ii.console.warn?ii.console.warn.apply(ii.console,arguments):Ka.call(null,arguments))},error:function(b){ii.console&&("function"==typeof ii.console.error?ii.console.error.apply(ii.console,arguments):Ka(b))}};function Za(b,y,v){var x=new XMLHttpRequest;x.open("GET",b),x.responseType="blob",x.onload=function(){Qs(x.response,y,v)},x.onerror=function(){Ui.error("could not download file")},x.send()}function Qr(b){var y=new XMLHttpRequest;y.open("HEAD",b,!1);try{y.send()}catch{}return y.status>=200&&y.status<=299}function Ts(b){try{b.dispatchEvent(new MouseEvent("click"))}catch{var y=document.createEvent("MouseEvents");y.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),b.dispatchEvent(y)}}var bo,wo,Qs=ii.saveAs||("object"!==(typeof window>"u"?"undefined":ht(window))||window!==ii?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(b,y,v){var x=ii.URL||ii.webkitURL,L=document.createElement("a");L.download=y=y||b.name||"download",L.rel="noopener","string"==typeof b?(L.href=b,L.origin!==location.origin?Qr(L.href)?Za(b,y,v):Ts(L,L.target="_blank"):Ts(L)):(L.href=x.createObjectURL(b),setTimeout(function(){x.revokeObjectURL(L.href)},4e4),setTimeout(function(){Ts(L)},0))}:"msSaveOrOpenBlob"in navigator?function(b,y,v){if(y=y||b.name||"download","string"==typeof b)if(Qr(b))Za(b,y,v);else{var x=document.createElement("a");x.href=b,x.target="_blank",setTimeout(function(){Ts(x)})}else navigator.msSaveOrOpenBlob((L=b,void 0===(T=v)?T={autoBom:!1}:"object"!==ht(T)&&(Ui.warn("Deprecated: Expected third argument to be a object"),T={autoBom:!T}),T.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(L.type)?new Blob([String.fromCharCode(65279),L],{type:L.type}):L),y);var L,T}:function(b,y,v,x){if((x=x||open("","_blank"))&&(x.document.title=x.document.body.innerText="downloading..."),"string"==typeof b)return Za(b,y,v);var L="application/octet-stream"===b.type,T=/constructor/i.test(ii.HTMLElement)||ii.safari,V=/CriOS\/[\d]+/.test(navigator.userAgent);if((V||L&&T)&&"object"===(typeof FileReader>"u"?"undefined":ht(FileReader))){var Y=new FileReader;Y.onloadend=function(){var Ae=Y.result;Ae=V?Ae:Ae.replace(/^data:[^;]*;/,"data:attachment/file;"),x?x.location.href=Ae:location=Ae,x=null},Y.readAsDataURL(b)}else{var $=ii.URL||ii.webkitURL,ae=$.createObjectURL(b);x?x.location=ae:location.href=ae,x=null,setTimeout(function(){$.revokeObjectURL(ae)},4e4)}});function Vo(b){var y;b=b||"",this.ok=!1,"#"==b.charAt(0)&&(b=b.substr(1,6)),b={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[b=(b=b.replace(/ /g,"")).toLowerCase()]||b;for(var v=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(Y){return[parseInt(Y[1]),parseInt(Y[2]),parseInt(Y[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(Y){return[parseInt(Y[1],16),parseInt(Y[2],16),parseInt(Y[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(Y){return[parseInt(Y[1]+Y[1],16),parseInt(Y[2]+Y[2],16),parseInt(Y[3]+Y[3],16)]}}],x=0;x<v.length;x++){var T=v[x].process,V=v[x].re.exec(b);V&&(y=T(V),this.r=y[0],this.g=y[1],this.b=y[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var Y=this.r.toString(16),$=this.g.toString(16),ae=this.b.toString(16);return 1==Y.length&&(Y="0"+Y),1==$.length&&($="0"+$),1==ae.length&&(ae="0"+ae),"#"+Y+$+ae}}function pr(b,y){var v=b[0],x=b[1],L=b[2],T=b[3];v=kr(v,x,L,T,y[0],7,-680876936),T=kr(T,v,x,L,y[1],12,-389564586),L=kr(L,T,v,x,y[2],17,606105819),x=kr(x,L,T,v,y[3],22,-1044525330),v=kr(v,x,L,T,y[4],7,-176418897),T=kr(T,v,x,L,y[5],12,1200080426),L=kr(L,T,v,x,y[6],17,-1473231341),x=kr(x,L,T,v,y[7],22,-45705983),v=kr(v,x,L,T,y[8],7,1770035416),T=kr(T,v,x,L,y[9],12,-1958414417),L=kr(L,T,v,x,y[10],17,-42063),x=kr(x,L,T,v,y[11],22,-1990404162),v=kr(v,x,L,T,y[12],7,1804603682),T=kr(T,v,x,L,y[13],12,-40341101),L=kr(L,T,v,x,y[14],17,-1502002290),v=Mi(v,x=kr(x,L,T,v,y[15],22,1236535329),L,T,y[1],5,-165796510),T=Mi(T,v,x,L,y[6],9,-1069501632),L=Mi(L,T,v,x,y[11],14,643717713),x=Mi(x,L,T,v,y[0],20,-373897302),v=Mi(v,x,L,T,y[5],5,-701558691),T=Mi(T,v,x,L,y[10],9,38016083),L=Mi(L,T,v,x,y[15],14,-660478335),x=Mi(x,L,T,v,y[4],20,-405537848),v=Mi(v,x,L,T,y[9],5,568446438),T=Mi(T,v,x,L,y[14],9,-1019803690),L=Mi(L,T,v,x,y[3],14,-187363961),x=Mi(x,L,T,v,y[8],20,1163531501),v=Mi(v,x,L,T,y[13],5,-1444681467),T=Mi(T,v,x,L,y[2],9,-51403784),L=Mi(L,T,v,x,y[7],14,1735328473),v=Zi(v,x=Mi(x,L,T,v,y[12],20,-1926607734),L,T,y[5],4,-378558),T=Zi(T,v,x,L,y[8],11,-2022574463),L=Zi(L,T,v,x,y[11],16,1839030562),x=Zi(x,L,T,v,y[14],23,-35309556),v=Zi(v,x,L,T,y[1],4,-1530992060),T=Zi(T,v,x,L,y[4],11,1272893353),L=Zi(L,T,v,x,y[7],16,-155497632),x=Zi(x,L,T,v,y[10],23,-1094730640),v=Zi(v,x,L,T,y[13],4,681279174),T=Zi(T,v,x,L,y[0],11,-358537222),L=Zi(L,T,v,x,y[3],16,-722521979),x=Zi(x,L,T,v,y[6],23,76029189),v=Zi(v,x,L,T,y[9],4,-640364487),T=Zi(T,v,x,L,y[12],11,-421815835),L=Zi(L,T,v,x,y[15],16,530742520),v=Cr(v,x=Zi(x,L,T,v,y[2],23,-995338651),L,T,y[0],6,-198630844),T=Cr(T,v,x,L,y[7],10,1126891415),L=Cr(L,T,v,x,y[14],15,-1416354905),x=Cr(x,L,T,v,y[5],21,-57434055),v=Cr(v,x,L,T,y[12],6,1700485571),T=Cr(T,v,x,L,y[3],10,-1894986606),L=Cr(L,T,v,x,y[10],15,-1051523),x=Cr(x,L,T,v,y[1],21,-2054922799),v=Cr(v,x,L,T,y[8],6,1873313359),T=Cr(T,v,x,L,y[15],10,-30611744),L=Cr(L,T,v,x,y[6],15,-1560198380),x=Cr(x,L,T,v,y[13],21,1309151649),v=Cr(v,x,L,T,y[4],6,-145523070),T=Cr(T,v,x,L,y[11],10,-1120210379),L=Cr(L,T,v,x,y[2],15,718787259),x=Cr(x,L,T,v,y[9],21,-343485551),b[0]=Fr(v,b[0]),b[1]=Fr(x,b[1]),b[2]=Fr(L,b[2]),b[3]=Fr(T,b[3])}function Ho(b,y,v,x,L,T){return y=Fr(Fr(y,b),Fr(x,T)),Fr(y<<L|y>>>32-L,v)}function kr(b,y,v,x,L,T,V){return Ho(y&v|~y&x,b,y,L,T,V)}function Mi(b,y,v,x,L,T,V){return Ho(y&x|v&~x,b,y,L,T,V)}function Zi(b,y,v,x,L,T,V){return Ho(y^v^x,b,y,L,T,V)}function Cr(b,y,v,x,L,T,V){return Ho(v^(y|~x),b,y,L,T,V)}function Da(b){var y,v=b.length,x=[1732584193,-271733879,-1732584194,271733878];for(y=64;y<=b.length;y+=64)pr(x,zo(b.substring(y-64,y)));b=b.substring(y-64);var L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(y=0;y<b.length;y++)L[y>>2]|=b.charCodeAt(y)<<(y%4<<3);if(L[y>>2]|=128<<(y%4<<3),y>55)for(pr(x,L),y=0;y<16;y++)L[y]=0;return L[14]=8*v,pr(x,L),x}function zo(b){var y,v=[];for(y=0;y<64;y+=4)v[y>>2]=b.charCodeAt(y)+(b.charCodeAt(y+1)<<8)+(b.charCodeAt(y+2)<<16)+(b.charCodeAt(y+3)<<24);return v}bo=ii.atob.bind(ii),wo=ii.btoa.bind(ii);var Tr="0123456789abcdef".split("");function Ta(b){for(var y="",v=0;v<4;v++)y+=Tr[b>>8*v+4&15]+Tr[b>>8*v&15];return y}function Wo(b){return String.fromCharCode((255&b)>>0,(65280&b)>>8,(16711680&b)>>16,(4278190080&b)>>24)}function Ma(b){return Da(b).map(Wo).join("")}var Js="5d41402abc4b2a76b9719d911017c592"!=function(b){for(var y=0;y<b.length;y++)b[y]=Ta(b[y]);return b.join("")}(Da("hello"));function Fr(b,y){if(Js){var v=(65535&b)+(65535&y);return(b>>16)+(y>>16)+(v>>16)<<16|65535&v}return b+y&4294967295}function Go(b,y){var v,x,L;if(b!==v){for(var V=(L=b,new Array(1+(256/b.length>>0)+1).join(L)),Y=[],$=0;$<256;$++)Y[$]=$;var ae=0;for($=0;$<256;$++){var Ae=Y[$];ae=(ae+Ae+V.charCodeAt($))%256,Y[$]=Y[ae],Y[ae]=Ae}v=b,x=Y}else Y=x;var Re=y.length,Ge=0,oe=0,ft="";for($=0;$<Re;$++)oe=(oe+(Ae=Y[Ge=(Ge+1)%256]))%256,Y[Ge]=Y[oe],Y[oe]=Ae,V=Y[(Y[Ge]+Y[oe])%256],ft+=String.fromCharCode(y.charCodeAt($)^V);return ft}var hi={print:4,modify:8,copy:16,"annot-forms":32};function Hs(b,y,v,x){this.v=1,this.r=2;var L=192;b.forEach(function(Y){if(void 0!==hi.perm)throw new Error("Invalid permission: "+Y);L+=hi[Y]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var T=(y+this.padding).substr(0,32),V=(v+this.padding).substr(0,32);this.O=this.processOwnerPassword(T,V),this.P=-(1+(255^L)),this.encryptionKey=Ma(T+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(x)).substr(0,5),this.U=Go(this.encryptionKey,this.padding)}function La(b){if(/[^\u0000-\u00ff]/.test(b))throw new Error("Invalid PDF Name Object: "+b+", Only accept ASCII characters.");for(var y="",v=b.length,x=0;x<v;x++){var L=b.charCodeAt(x);y+=L<33||35===L||37===L||40===L||41===L||47===L||60===L||62===L||91===L||93===L||123===L||125===L||L>126?"#"+("0"+L.toString(16)).slice(-2):b[x]}return y}function nc(b){if("object"!==ht(b))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var y={};this.subscribe=function(v,x,L){if(L=L||!1,"string"!=typeof v||"function"!=typeof x||"boolean"!=typeof L)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");y.hasOwnProperty(v)||(y[v]={});var T=Math.random().toString(35);return y[v][T]=[x,!!L],T},this.unsubscribe=function(v){for(var x in y)if(y[x][v])return delete y[x][v],0===Object.keys(y[x]).length&&delete y[x],!0;return!1},this.publish=function(v){if(y.hasOwnProperty(v)){var x=Array.prototype.slice.call(arguments,1),L=[];for(var T in y[v]){var V=y[v][T];try{V[0].apply(b,x)}catch(Y){ii.console&&Ui.error("jsPDF PubSub Error",Y.message,Y)}V[1]&&L.push(T)}L.length&&L.forEach(this.unsubscribe)}},this.getTopics=function(){return y}}function la(b){if(!(this instanceof la))return new la(b);var y="opacity,stroke-opacity".split(",");for(var v in b)b.hasOwnProperty(v)&&y.indexOf(v)>=0&&(this[v]=b[v]);this.id="",this.objectNumber=-1}function Al(b,y){this.gState=b,this.matrix=y,this.id="",this.objectNumber=-1}function Co(b,y,v,x,L){if(!(this instanceof Co))return new Co(b,y,v,x,L);this.type="axial"===b?2:3,this.coords=y,this.colors=v,Al.call(this,x,L)}function $o(b,y,v,x,L){if(!(this instanceof $o))return new $o(b,y,v,x,L);this.boundingBox=b,this.xStep=y,this.yStep=v,this.stream="",this.cloneIndex=0,Al.call(this,x,L)}function ni(b){var y,v="string"==typeof arguments[0]?arguments[0]:"p",x=arguments[1],L=arguments[2],T=arguments[3],V=[],Y=1,$=16,ae="S",Ae=null;"object"===ht(b=b||{})&&(v=b.orientation,x=b.unit||x,L=b.format||L,T=b.compress||b.compressPdf||T,null!==(Ae=b.encryption||null)&&(Ae.userPassword=Ae.userPassword||"",Ae.ownerPassword=Ae.ownerPassword||"",Ae.userPermissions=Ae.userPermissions||[]),Y="number"==typeof b.userUnit?Math.abs(b.userUnit):1,void 0!==b.precision&&(y=b.precision),void 0!==b.floatPrecision&&($=b.floatPrecision),ae=b.defaultPathOperation||"S"),V=b.filters||(!0===T?["FlateEncode"]:V),x=x||"mm",v=(""+(v||"P")).toLowerCase();var Re=b.putOnlyUsedFonts||!1,Ge={},oe={internal:{},__private__:{}};oe.__private__.PubSub=nc;var ft="1.3",rt=oe.__private__.getPdfVersion=function(){return ft};oe.__private__.setPdfVersion=function(U){ft=U};var bt={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};oe.__private__.getPageFormats=function(){return bt};var tt=oe.__private__.getPageFormat=function(U){return bt[U]};L=L||"a4";var gt={COMPAT:"compat",ADVANCED:"advanced"},Tt=gt.COMPAT;function Yt(){this.saveGraphicsState(),nt(new fi(Gn,0,0,-Gn,0,Ul()*Gn).toString()+" cm"),this.setFontSize(this.getFontSize()/Gn),ae="n",Tt=gt.ADVANCED}function rn(){this.restoreGraphicsState(),ae="S",Tt=gt.COMPAT}var xn=oe.__private__.combineFontStyleAndFontWeight=function(U,xe){if("bold"==U&&"normal"==xe||"bold"==U&&400==xe||"normal"==U&&"italic"==xe||"bold"==U&&"italic"==xe)throw new Error("Invalid Combination of fontweight and fontstyle");return xe&&(U=400==xe||"normal"===xe?"italic"===U?"italic":"normal":700!=xe&&"bold"!==xe||"normal"!==U?(700==xe?"bold":xe)+""+U:"bold"),U};oe.advancedAPI=function(U){var xe=Tt===gt.COMPAT;return xe&&Yt.call(this),"function"!=typeof U||(U(this),xe&&rn.call(this)),this},oe.compatAPI=function(U){var xe=Tt===gt.ADVANCED;return xe&&rn.call(this),"function"!=typeof U||(U(this),xe&&Yt.call(this)),this},oe.isAdvancedAPI=function(){return Tt===gt.ADVANCED};var Jt,St=function(U){if(Tt!==gt.ADVANCED)throw new Error(U+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},dn=oe.roundToPrecision=oe.__private__.roundToPrecision=function(U,xe){var vt=y||xe;if(isNaN(U)||isNaN(vt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return U.toFixed(vt).replace(/0+$/,"")};Jt=oe.hpf=oe.__private__.hpf="number"==typeof $?function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return dn(U,$)}:"smart"===$?function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return dn(U,U>-1&&U<1?16:5)}:function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return dn(U,16)};var vn=oe.f2=oe.__private__.f2=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.f2");return dn(U,2)},lt=oe.__private__.f3=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.f3");return dn(U,3)},at=oe.scale=oe.__private__.scale=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.scale");return Tt===gt.COMPAT?U*Gn:Tt===gt.ADVANCED?U:void 0},kt=function(U){return Tt===gt.COMPAT?Ul()-U:Tt===gt.ADVANCED?U:void 0},Et=function(U){return at(kt(U))};oe.__private__.setPrecision=oe.setPrecision=function(U){"number"==typeof parseInt(U,10)&&(y=parseInt(U,10))};var ln,nn="00000000000000000000000000000000",mn=oe.__private__.getFileId=function(){return nn},en=oe.__private__.setFileId=function(U){return nn=void 0!==U&&/^[a-fA-F0-9]{32}$/.test(U)?U.toUpperCase():nn.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==Ae&&(js=new Hs(Ae.userPermissions,Ae.userPassword,Ae.ownerPassword,nn)),nn};oe.setFileId=function(U){return en(U),this},oe.getFileId=function(){return mn()};var cn=oe.__private__.convertDateToPDFDate=function(U){var xe=U.getTimezoneOffset(),vt=xe<0?"+":"-",It=Math.floor(Math.abs(xe/60)),zt=Math.abs(xe%60),hn=[vt,At(It),"'",At(zt),"'"].join("");return["D:",U.getFullYear(),At(U.getMonth()+1),At(U.getDate()),At(U.getHours()),At(U.getMinutes()),At(U.getSeconds()),hn].join("")},gn=oe.__private__.convertPDFDateToDate=function(U){var xe=parseInt(U.substr(2,4),10),vt=parseInt(U.substr(6,2),10)-1,It=parseInt(U.substr(8,2),10),zt=parseInt(U.substr(10,2),10),hn=parseInt(U.substr(12,2),10),Mn=parseInt(U.substr(14,2),10);return new Date(xe,vt,It,zt,hn,Mn,0)},Nn=oe.__private__.setCreationDate=function(U){var xe;if(void 0===U&&(U=new Date),U instanceof Date)xe=cn(U);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(U))throw new Error("Invalid argument passed to jsPDF.setCreationDate");xe=U}return ln=xe},ke=oe.__private__.getCreationDate=function(U){var xe=ln;return"jsDate"===U&&(xe=gn(ln)),xe};oe.setCreationDate=function(U){return Nn(U),this},oe.getCreationDate=function(U){return ke(U)};var mt,At=oe.__private__.padd2=function(U){return("0"+parseInt(U)).slice(-2)},E=oe.__private__.padd2Hex=function(U){return("00"+(U=U.toString())).substr(U.length)},D=0,P=[],N=[],G=0,pe=[],Fe=[],et=!1,Mt=N,on=function(){D=0,G=0,N=[],P=[],pe=[],kl=$r(),Po=$r()};oe.__private__.setCustomOutputDestination=function(U){et=!0,Mt=U};var Ht=function(U){et||(Mt=U)};oe.__private__.resetCustomOutputDestination=function(){et=!1,Mt=N};var nt=oe.__private__.out=function(U){return U=U.toString(),G+=U.length+1,Mt.push(U),Mt},$n=oe.__private__.write=function(U){return nt(1===arguments.length?U.toString():Array.prototype.join.call(arguments," "))},Wn=oe.__private__.getArrayBuffer=function(U){for(var xe=U.length,vt=new ArrayBuffer(xe),It=new Uint8Array(vt);xe--;)It[xe]=U.charCodeAt(xe);return vt},Dn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];oe.__private__.getStandardFonts=function(){return Dn};var On=b.fontSize||16;oe.__private__.setFontSize=oe.setFontSize=function(U){return On=Tt===gt.ADVANCED?U/Gn:U,this};var kn,Vn=oe.__private__.getFontSize=oe.getFontSize=function(){return Tt===gt.COMPAT?On:On*Gn},Bn=b.R2L||!1;oe.__private__.setR2L=oe.setR2L=function(U){return Bn=U,this},oe.__private__.getR2L=oe.getR2L=function(){return Bn};var bi,Di=oe.__private__.setZoomMode=function(U){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(U))kn=U;else if(isNaN(U)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(U))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+U+'" is not recognized.');kn=U}else kn=parseInt(U,10)};oe.__private__.getZoomMode=function(){return kn};var Oi,Vi=oe.__private__.setPageMode=function(U){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(U))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+U+'" is not recognized.');bi=U};oe.__private__.getPageMode=function(){return bi};var mr=oe.__private__.setLayoutMode=function(U){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(U))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+U+'" is not recognized.');Oi=U};oe.__private__.getLayoutMode=function(){return Oi},oe.__private__.setDisplayMode=oe.setDisplayMode=function(U,xe,vt){return Di(U),mr(xe),Vi(vt),this};var wi={title:"",subject:"",author:"",keywords:"",creator:""};oe.__private__.getDocumentProperty=function(U){if(-1===Object.keys(wi).indexOf(U))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return wi[U]},oe.__private__.getDocumentProperties=function(){return wi},oe.__private__.setDocumentProperties=oe.setProperties=oe.setDocumentProperties=function(U){for(var xe in wi)wi.hasOwnProperty(xe)&&U[xe]&&(wi[xe]=U[xe]);return this},oe.__private__.setDocumentProperty=function(U,xe){if(-1===Object.keys(wi).indexOf(U))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return wi[U]=xe};var Hi,Gn,ts,Qi,$s,vr={},Ar={},so=[],Ji={},Ol={},Br={},ha={},oo=null,br=0,Ai=[],cr=new nc(oe),Il=b.hotfixes||[],Ls={},il={},Fa=[],fi=function U(xe,vt,It,zt,hn,Mn){if(!(this instanceof U))return new U(xe,vt,It,zt,hn,Mn);isNaN(xe)&&(xe=1),isNaN(vt)&&(vt=0),isNaN(It)&&(It=0),isNaN(zt)&&(zt=1),isNaN(hn)&&(hn=0),isNaN(Mn)&&(Mn=0),this._matrix=[xe,vt,It,zt,hn,Mn]};Object.defineProperty(fi.prototype,"sx",{get:function(){return this._matrix[0]},set:function(U){this._matrix[0]=U}}),Object.defineProperty(fi.prototype,"shy",{get:function(){return this._matrix[1]},set:function(U){this._matrix[1]=U}}),Object.defineProperty(fi.prototype,"shx",{get:function(){return this._matrix[2]},set:function(U){this._matrix[2]=U}}),Object.defineProperty(fi.prototype,"sy",{get:function(){return this._matrix[3]},set:function(U){this._matrix[3]=U}}),Object.defineProperty(fi.prototype,"tx",{get:function(){return this._matrix[4]},set:function(U){this._matrix[4]=U}}),Object.defineProperty(fi.prototype,"ty",{get:function(){return this._matrix[5]},set:function(U){this._matrix[5]=U}}),Object.defineProperty(fi.prototype,"a",{get:function(){return this._matrix[0]},set:function(U){this._matrix[0]=U}}),Object.defineProperty(fi.prototype,"b",{get:function(){return this._matrix[1]},set:function(U){this._matrix[1]=U}}),Object.defineProperty(fi.prototype,"c",{get:function(){return this._matrix[2]},set:function(U){this._matrix[2]=U}}),Object.defineProperty(fi.prototype,"d",{get:function(){return this._matrix[3]},set:function(U){this._matrix[3]=U}}),Object.defineProperty(fi.prototype,"e",{get:function(){return this._matrix[4]},set:function(U){this._matrix[4]=U}}),Object.defineProperty(fi.prototype,"f",{get:function(){return this._matrix[5]},set:function(U){this._matrix[5]=U}}),Object.defineProperty(fi.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(fi.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(fi.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(fi.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),fi.prototype.join=function(U){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Jt).join(U)},fi.prototype.multiply=function(U){return new fi(U.sx*this.sx+U.shy*this.shx,U.sx*this.shy+U.shy*this.sy,U.shx*this.sx+U.sy*this.shx,U.shx*this.shy+U.sy*this.sy,U.tx*this.sx+U.ty*this.shx+this.tx,U.tx*this.shy+U.ty*this.sy+this.ty)},fi.prototype.decompose=function(){var U=this.sx,xe=this.shy,vt=this.shx,It=this.sy,zt=this.tx,hn=this.ty,Mn=Math.sqrt(U*U+xe*xe),qn=(U/=Mn)*vt+(xe/=Mn)*It;vt-=U*qn,It-=xe*qn;var ai=Math.sqrt(vt*vt+It*It);return qn/=ai,U*(It/=ai)<xe*(vt/=ai)&&(U=-U,xe=-xe,qn=-qn,Mn=-Mn),{scale:new fi(Mn,0,0,ai,0,0),translate:new fi(1,0,0,1,zt,hn),rotate:new fi(U,xe,-xe,U,0,0),skew:new fi(1,0,qn,1,0,0)}},fi.prototype.toString=function(U){return this.join(" ")},fi.prototype.inversed=function(){var U=this.sx,xe=this.shy,vt=this.shx,It=this.sy,zt=this.tx,hn=this.ty,Mn=1/(U*It-xe*vt),qn=It*Mn,ai=-xe*Mn,xi=-vt*Mn,Fi=U*Mn;return new fi(qn,ai,xi,Fi,-qn*zt-xi*hn,-ai*zt-Fi*hn)},fi.prototype.applyToPoint=function(U){return new ol(U.x*this.sx+U.y*this.shx+this.tx,U.x*this.shy+U.y*this.sy+this.ty)},fi.prototype.applyToRectangle=function(U){var xe=this.applyToPoint(U),vt=this.applyToPoint(new ol(U.x+U.w,U.y+U.h));return new zu(xe.x,xe.y,vt.x-xe.x,vt.y-xe.y)},fi.prototype.clone=function(){return new fi(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},oe.Matrix=fi;var da=oe.matrixMult=function(U,xe){return xe.multiply(U)},xo=new fi(1,0,0,1,0,0);oe.unitMatrix=oe.identityMatrix=xo;var qs=function(U,xe){if(!Ol[U]){var vt=(xe instanceof Co?"Sh":"P")+(Object.keys(Ji).length+1).toString(10);xe.id=vt,Ol[U]=vt,Ji[vt]=xe,cr.publish("addPattern",xe)}};oe.ShadingPattern=Co,oe.TilingPattern=$o,oe.addShadingPattern=function(U,xe){return St("addShadingPattern()"),qs(U,xe),this},oe.beginTilingPattern=function(U){St("beginTilingPattern()"),_c(U.boundingBox[0],U.boundingBox[1],U.boundingBox[2]-U.boundingBox[0],U.boundingBox[3]-U.boundingBox[1],U.matrix)},oe.endTilingPattern=function(U,xe){St("endTilingPattern()"),xe.stream=Fe[mt].join("\n"),qs(U,xe),cr.publish("endTilingPattern",xe),Fa.pop().restore()};var ds=oe.__private__.newObject=function(){var U=$r();return Xo(U,!0),U},$r=oe.__private__.newObjectDeferred=function(){return D++,P[D]=function(){return G},D},Xo=function(U,xe){return xe="boolean"==typeof xe&&xe,P[U]=G,xe&&nt(U+" 0 obj"),U},hc=oe.__private__.newAdditionalObject=function(){var U={objId:$r(),content:""};return pe.push(U),U},kl=$r(),Po=$r(),fa=oe.__private__.decodeColorString=function(U){var xe=U.split(" ");if(2!==xe.length||"g"!==xe[1]&&"G"!==xe[1])5===xe.length&&("k"===xe[4]||"K"===xe[4])&&(xe=[(1-xe[0])*(1-xe[3]),(1-xe[1])*(1-xe[3]),(1-xe[2])*(1-xe[3]),"r"]);else{var vt=parseFloat(xe[0]);xe=[vt,vt,vt,"r"]}for(var It="#",zt=0;zt<3;zt++)It+=("0"+Math.floor(255*parseFloat(xe[zt])).toString(16)).slice(-2);return It},Ko=oe.__private__.encodeColorString=function(U){var xe;"string"==typeof U&&(U={ch1:U});var vt=U.ch1,It=U.ch2,zt=U.ch3,hn=U.ch4,Mn="draw"===U.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof vt&&"#"!==vt.charAt(0)){var qn=new Vo(vt);if(qn.ok)vt=qn.toHex();else if(!/^\d*\.?\d*$/.test(vt))throw new Error('Invalid color "'+vt+'" passed to jsPDF.encodeColorString.')}if("string"==typeof vt&&/^#[0-9A-Fa-f]{3}$/.test(vt)&&(vt="#"+vt[1]+vt[1]+vt[2]+vt[2]+vt[3]+vt[3]),"string"==typeof vt&&/^#[0-9A-Fa-f]{6}$/.test(vt)){var ai=parseInt(vt.substr(1),16);vt=ai>>16&255,It=ai>>8&255,zt=255&ai}if(void 0===It||void 0===hn&&vt===It&&It===zt)xe="string"==typeof vt?vt+" "+Mn[0]:2===U.precision?vn(vt/255)+" "+Mn[0]:lt(vt/255)+" "+Mn[0];else if(void 0===hn||"object"===ht(hn)){if(hn&&!isNaN(hn.a)&&0===hn.a)return["1.","1.","1.",Mn[1]].join(" ");xe="string"==typeof vt?[vt,It,zt,Mn[1]].join(" "):2===U.precision?[vn(vt/255),vn(It/255),vn(zt/255),Mn[1]].join(" "):[lt(vt/255),lt(It/255),lt(zt/255),Mn[1]].join(" ")}else xe="string"==typeof vt?[vt,It,zt,hn,Mn[2]].join(" "):2===U.precision?[vn(vt),vn(It),vn(zt),vn(hn),Mn[2]].join(" "):[lt(vt),lt(It),lt(zt),lt(hn),Mn[2]].join(" ");return xe},Eo=oe.__private__.getFilters=function(){return V},ao=oe.__private__.putStream=function(U){var xe=(U=U||{}).data||"",vt=U.filters||Eo(),It=U.alreadyAppliedFilters||[],zt=U.addLength1||!1,hn=xe.length,Mn=U.objectId,qn=function(is){return is};if(null!==Ae&&void 0===Mn)throw new Error("ObjectId must be passed to putStream for file encryption");null!==Ae&&(qn=js.encryptor(Mn,0));var ai={};!0===vt&&(vt=["FlateEncode"]);var xi=U.additionalKeyValues||[],Fi=(ai=void 0!==ni.API.processDataByFilters?ni.API.processDataByFilters(xe,vt):{data:xe,reverseChain:[]}).reverseChain+(Array.isArray(It)?It.join(" "):It.toString());if(0!==ai.data.length&&(xi.push({key:"Length",value:ai.data.length}),!0===zt&&xi.push({key:"Length1",value:hn})),0!=Fi.length)if(Fi.split("/").length-1==1)xi.push({key:"Filter",value:Fi});else{xi.push({key:"Filter",value:"["+Fi+"]"});for(var Xi=0;Xi<xi.length;Xi+=1)if("DecodeParms"===xi[Xi].key){for(var yr=[],jr=0;jr<ai.reverseChain.split("/").length-1;jr+=1)yr.push("null");yr.push(xi[Xi].value),xi[Xi].value="["+yr.join(" ")+"]"}}nt("<<");for(var Pr=0;Pr<xi.length;Pr++)nt("/"+xi[Pr].key+" "+xi[Pr].value);nt(">>"),0!==ai.data.length&&(nt("stream"),nt(qn(ai.data)),nt("endstream"))},Ys=oe.__private__.putPage=function(U){var xe=U.number,vt=U.data,It=U.objId,zt=U.contentsObjId;Xo(It,!0),nt("<</Type /Page"),nt("/Parent "+U.rootDictionaryObjId+" 0 R"),nt("/Resources "+U.resourceDictionaryObjId+" 0 R"),nt("/MediaBox ["+parseFloat(Jt(U.mediaBox.bottomLeftX))+" "+parseFloat(Jt(U.mediaBox.bottomLeftY))+" "+Jt(U.mediaBox.topRightX)+" "+Jt(U.mediaBox.topRightY)+"]"),null!==U.cropBox&&nt("/CropBox ["+Jt(U.cropBox.bottomLeftX)+" "+Jt(U.cropBox.bottomLeftY)+" "+Jt(U.cropBox.topRightX)+" "+Jt(U.cropBox.topRightY)+"]"),null!==U.bleedBox&&nt("/BleedBox ["+Jt(U.bleedBox.bottomLeftX)+" "+Jt(U.bleedBox.bottomLeftY)+" "+Jt(U.bleedBox.topRightX)+" "+Jt(U.bleedBox.topRightY)+"]"),null!==U.trimBox&&nt("/TrimBox ["+Jt(U.trimBox.bottomLeftX)+" "+Jt(U.trimBox.bottomLeftY)+" "+Jt(U.trimBox.topRightX)+" "+Jt(U.trimBox.topRightY)+"]"),null!==U.artBox&&nt("/ArtBox ["+Jt(U.artBox.bottomLeftX)+" "+Jt(U.artBox.bottomLeftY)+" "+Jt(U.artBox.topRightX)+" "+Jt(U.artBox.topRightY)+"]"),"number"==typeof U.userUnit&&1!==U.userUnit&&nt("/UserUnit "+U.userUnit),cr.publish("putPage",{objId:It,pageContext:Ai[xe],pageNumber:xe,page:vt}),nt("/Contents "+zt+" 0 R"),nt(">>"),nt("endobj");var hn=vt.join("\n");return Tt===gt.ADVANCED&&(hn+="\nQ"),Xo(zt,!0),ao({data:hn,filters:Eo(),objectId:zt}),nt("endobj"),It},dc=oe.__private__.putPages=function(){var U,xe,vt=[];for(U=1;U<=br;U++)Ai[U].objId=$r(),Ai[U].contentsObjId=$r();for(U=1;U<=br;U++)vt.push(Ys({number:U,data:Fe[U],objId:Ai[U].objId,contentsObjId:Ai[U].contentsObjId,mediaBox:Ai[U].mediaBox,cropBox:Ai[U].cropBox,bleedBox:Ai[U].bleedBox,trimBox:Ai[U].trimBox,artBox:Ai[U].artBox,userUnit:Ai[U].userUnit,rootDictionaryObjId:kl,resourceDictionaryObjId:Po}));Xo(kl,!0),nt("<</Type /Pages");var It="/Kids [";for(xe=0;xe<br;xe++)It+=vt[xe]+" 0 R ";nt(It+"]"),nt("/Count "+br),nt(">>"),nt("endobj"),cr.publish("postPutPages")},Wc=function(U){cr.publish("putFont",{font:U,out:nt,newObject:ds,putStream:ao}),!0!==U.isAlreadyPutted&&(U.objectNumber=ds(),nt("<<"),nt("/Type /Font"),nt("/BaseFont /"+La(U.postScriptName)),nt("/Subtype /Type1"),"string"==typeof U.encoding&&nt("/Encoding /"+U.encoding),nt("/FirstChar 32"),nt("/LastChar 255"),nt(">>"),nt("endobj"))},Pu=function(){for(var U in vr)vr.hasOwnProperty(U)&&(!1===Re||!0===Re&&Ge.hasOwnProperty(U))&&Wc(vr[U])},rl=function(U){U.objectNumber=ds();var xe=[];xe.push({key:"Type",value:"/XObject"}),xe.push({key:"Subtype",value:"/Form"}),xe.push({key:"BBox",value:"["+[Jt(U.x),Jt(U.y),Jt(U.x+U.width),Jt(U.y+U.height)].join(" ")+"]"}),xe.push({key:"Matrix",value:"["+U.matrix.toString()+"]"});var vt=U.pages[1].join("\n");ao({data:vt,additionalKeyValues:xe,objectId:U.objectNumber}),nt("endobj")},Fl=function(){for(var U in Ls)Ls.hasOwnProperty(U)&&rl(Ls[U])},Eu=function(U,xe){var vt,It=[],zt=1/(xe-1);for(vt=0;vt<1;vt+=zt)It.push(vt);It.push(1),0!=U[0].offset&&U.unshift({offset:0,color:U[0].color}),1!=U[U.length-1].offset&&U.push({offset:1,color:U[U.length-1].color});for(var qn="",ai=0,xi=0;xi<It.length;xi++){for(vt=It[xi];vt>U[ai+1].offset;)ai++;var Fi=U[ai].offset,Xi=(vt-Fi)/(U[ai+1].offset-Fi),yr=U[ai].color,jr=U[ai+1].color;qn+=E(Math.round((1-Xi)*yr[0]+Xi*jr[0]).toString(16))+E(Math.round((1-Xi)*yr[1]+Xi*jr[1]).toString(16))+E(Math.round((1-Xi)*yr[2]+Xi*jr[2]).toString(16))}return qn.trim()},Ch=function(U,xe){xe||(xe=21);var vt=ds(),It=Eu(U.colors,xe),zt=[];zt.push({key:"FunctionType",value:"0"}),zt.push({key:"Domain",value:"[0.0 1.0]"}),zt.push({key:"Size",value:"["+xe+"]"}),zt.push({key:"BitsPerSample",value:"8"}),zt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),zt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ao({data:It,additionalKeyValues:zt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:vt}),nt("endobj"),U.objectNumber=ds(),nt("<< /ShadingType "+U.type),nt("/ColorSpace /DeviceRGB");var hn="/Coords ["+Jt(parseFloat(U.coords[0]))+" "+Jt(parseFloat(U.coords[1]))+" ";hn+=2===U.type?Jt(parseFloat(U.coords[2]))+" "+Jt(parseFloat(U.coords[3])):Jt(parseFloat(U.coords[2]))+" "+Jt(parseFloat(U.coords[3]))+" "+Jt(parseFloat(U.coords[4]))+" "+Jt(parseFloat(U.coords[5])),nt(hn+="]"),U.matrix&&nt("/Matrix ["+U.matrix.toString()+"]"),nt("/Function "+vt+" 0 R"),nt("/Extend [true true]"),nt(">>"),nt("endobj")},Sh=function(U,xe){var vt=$r(),It=ds();xe.push({resourcesOid:vt,objectOid:It}),U.objectNumber=It;var zt=[];zt.push({key:"Type",value:"/Pattern"}),zt.push({key:"PatternType",value:"1"}),zt.push({key:"PaintType",value:"1"}),zt.push({key:"TilingType",value:"1"}),zt.push({key:"BBox",value:"["+U.boundingBox.map(Jt).join(" ")+"]"}),zt.push({key:"XStep",value:Jt(U.xStep)}),zt.push({key:"YStep",value:Jt(U.yStep)}),zt.push({key:"Resources",value:vt+" 0 R"}),U.matrix&&zt.push({key:"Matrix",value:"["+U.matrix.toString()+"]"}),ao({data:U.stream,additionalKeyValues:zt,objectId:U.objectNumber}),nt("endobj")},fc=function(U){var xe;for(xe in Ji)Ji.hasOwnProperty(xe)&&(Ji[xe]instanceof Co?Ch(Ji[xe]):Ji[xe]instanceof $o&&Sh(Ji[xe],U))},Ah=function(U){for(var xe in U.objectNumber=ds(),nt("<<"),U)switch(xe){case"opacity":nt("/ca "+vn(U[xe]));break;case"stroke-opacity":nt("/CA "+vn(U[xe]))}nt(">>"),nt("endobj")},Ed=function(){var U;for(U in Br)Br.hasOwnProperty(U)&&Ah(Br[U])},Du=function(){for(var U in nt("/XObject <<"),Ls)Ls.hasOwnProperty(U)&&Ls[U].objectNumber>=0&&nt("/"+U+" "+Ls[U].objectNumber+" 0 R");cr.publish("putXobjectDict"),nt(">>")},Dd=function(){js.oid=ds(),nt("<<"),nt("/Filter /Standard"),nt("/V "+js.v),nt("/R "+js.r),nt("/U <"+js.toHexString(js.U)+">"),nt("/O <"+js.toHexString(js.O)+">"),nt("/P "+js.P),nt(">>"),nt("endobj")},xh=function(){for(var U in nt("/Font <<"),vr)vr.hasOwnProperty(U)&&(!1===Re||!0===Re&&Ge.hasOwnProperty(U))&&nt("/"+U+" "+vr[U].objectNumber+" 0 R");nt(">>")},Ra=function(){if(Object.keys(Ji).length>0){for(var U in nt("/Shading <<"),Ji)Ji.hasOwnProperty(U)&&Ji[U]instanceof Co&&Ji[U].objectNumber>=0&&nt("/"+U+" "+Ji[U].objectNumber+" 0 R");cr.publish("putShadingPatternDict"),nt(">>")}},Na=function(U){if(Object.keys(Ji).length>0){for(var xe in nt("/Pattern <<"),Ji)Ji.hasOwnProperty(xe)&&Ji[xe]instanceof oe.TilingPattern&&Ji[xe].objectNumber>=0&&Ji[xe].objectNumber<U&&nt("/"+xe+" "+Ji[xe].objectNumber+" 0 R");cr.publish("putTilingPatternDict"),nt(">>")}},Td=function(){if(Object.keys(Br).length>0){var U;for(U in nt("/ExtGState <<"),Br)Br.hasOwnProperty(U)&&Br[U].objectNumber>=0&&nt("/"+U+" "+Br[U].objectNumber+" 0 R");cr.publish("putGStateDict"),nt(">>")}},ns=function(U){Xo(U.resourcesOid,!0),nt("<<"),nt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),xh(),Ra(),Na(U.objectOid),Td(),Du(),nt(">>"),nt("endobj")},Md=function(){var U=[];Pu(),Ed(),Fl(),fc(U),cr.publish("putResources"),U.forEach(ns),ns({resourcesOid:Po,objectOid:Number.MAX_SAFE_INTEGER}),cr.publish("postPutResources")},Ld=function(){cr.publish("putAdditionalObjects");for(var U=0;U<pe.length;U++){var xe=pe[U];Xo(xe.objId,!0),nt(xe.content),nt("endobj")}cr.publish("postPutAdditionalObjects")},Od=function(U){Ar[U.fontName]=Ar[U.fontName]||{},Ar[U.fontName][U.fontStyle]=U.id},Ph=function(U,xe,vt,It,zt){var hn={id:"F"+(Object.keys(vr).length+1).toString(10),postScriptName:U,fontName:xe,fontStyle:vt,encoding:It,isStandardFont:zt||!1,metadata:{}};return cr.publish("addFont",{font:hn,instance:this}),vr[hn.id]=hn,Od(hn),hn.id},Eh=function(U){for(var xe=0,vt=Dn.length;xe<vt;xe++){var It=Ph.call(this,U[xe][0],U[xe][1],U[xe][2],Dn[xe][3],!0);!1===Re&&(Ge[It]=!0);var zt=U[xe][0].split("-");Od({id:It,fontName:zt[0],fontStyle:zt[1]||""})}cr.publish("addFonts",{fonts:vr,dictionary:Ar})},pa=function(U){return U.foo=function(){try{return U.apply(this,arguments)}catch(It){var xe=It.stack||"";~xe.indexOf(" at ")&&(xe=xe.split(" at ")[1]);var vt="Error in function "+xe.split("\n")[0].split("<")[0]+": "+It.message;if(!ii.console)throw new Error(vt);ii.console.error(vt,It),ii.alert&&alert(vt)}},U.foo.bar=U,U.foo},Gc=function(U,xe){var vt,It,zt,hn,Mn,qn,ai,xi,Fi;if(zt=(xe=xe||{}).sourceEncoding||"Unicode",Mn=xe.outputEncoding,(xe.autoencode||Mn)&&vr[Hi].metadata&&vr[Hi].metadata[zt]&&vr[Hi].metadata[zt].encoding&&(hn=vr[Hi].metadata[zt].encoding,!Mn&&vr[Hi].encoding&&(Mn=vr[Hi].encoding),!Mn&&hn.codePages&&(Mn=hn.codePages[0]),"string"==typeof Mn&&(Mn=hn[Mn]),Mn)){for(ai=!1,qn=[],vt=0,It=U.length;vt<It;vt++)(xi=Mn[U.charCodeAt(vt)])?qn.push(String.fromCharCode(xi)):qn.push(U[vt]),qn[vt].charCodeAt(0)>>8&&(ai=!0);U=qn.join("")}for(vt=U.length;void 0===ai&&0!==vt;)U.charCodeAt(vt-1)>>8&&(ai=!0),vt--;if(!ai)return U;for(qn=xe.noBOM?[]:[254,255],vt=0,It=U.length;vt<It;vt++){if((Fi=(xi=U.charCodeAt(vt))>>8)>>8)throw new Error("Character at position "+vt+" of string '"+U+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qn.push(Fi),qn.push(xi-(Fi<<8))}return String.fromCharCode.apply(void 0,qn)},lo=oe.__private__.pdfEscape=oe.pdfEscape=function(U,xe){return Gc(U,xe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tu=oe.__private__.beginPage=function(U){Fe[++br]=[],Ai[br]={objId:0,contentsObjId:0,userUnit:Number(Y),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(U[0]),topRightY:Number(U[1])}},Rl(br),Ht(Fe[mt])},$c=function(U,xe){var vt,It,zt;switch(v=xe||v,"string"==typeof U&&(vt=tt(U.toLowerCase()),Array.isArray(vt)&&(It=vt[0],zt=vt[1])),Array.isArray(U)&&(It=U[0]*Gn,zt=U[1]*Gn),isNaN(It)&&(It=L[0],zt=L[1]),(It>14400||zt>14400)&&(Ui.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),It=Math.min(14400,It),zt=Math.min(14400,zt)),L=[It,zt],v.substr(0,1)){case"l":zt>It&&(L=[zt,It]);break;case"p":It>zt&&(L=[zt,It])}Tu(L),Bl(Fh),nt(Do),0!==va&&nt(va+" J"),0!==Hu&&nt(Hu+" j"),cr.publish("addPage",{pageNumber:br})},ga=function(U){U>0&&U<=br&&(Fe.splice(U,1),Ai.splice(U,1),br--,mt>br&&(mt=br),this.setPage(mt))},Rl=function(U){U>0&&U<=br&&(mt=U)},Dh=oe.__private__.getNumberOfPages=oe.getNumberOfPages=function(){return Fe.length-1},Mu=function(U,xe,vt){var It,zt=void 0;return vt=vt||{},xe=void 0!==xe?xe:vr[Hi].fontStyle,It=(U=void 0!==U?U:vr[Hi].fontName).toLowerCase(),void 0!==Ar[It]&&void 0!==Ar[It][xe]?zt=Ar[It][xe]:void 0!==Ar[U]&&void 0!==Ar[U][xe]?zt=Ar[U][xe]:!1===vt.disableWarning&&Ui.warn("Unable to look up font label for font '"+U+"', '"+xe+"'. Refer to getFontList() for available fonts."),zt||vt.noFallback||null==(zt=Ar.times[xe])&&(zt=Ar.times.normal),zt},Th=oe.__private__.putInfo=function(){var U=ds(),xe=function(It){return It};for(var vt in null!==Ae&&(xe=js.encryptor(U,0)),nt("<<"),nt("/Producer ("+lo(xe("jsPDF "+ni.version))+")"),wi)wi.hasOwnProperty(vt)&&wi[vt]&&nt("/"+vt.substr(0,1).toUpperCase()+vt.substr(1)+" ("+lo(xe(wi[vt]))+")");nt("/CreationDate ("+lo(xe(ln))+")"),nt(">>"),nt("endobj")},Mh=oe.__private__.putCatalog=function(U){var xe=(U=U||{}).rootDictionaryObjId||kl;switch(ds(),nt("<<"),nt("/Type /Catalog"),nt("/Pages "+xe+" 0 R"),kn||(kn="fullwidth"),kn){case"fullwidth":nt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":nt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":nt("/OpenAction [3 0 R /Fit]");break;case"original":nt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var vt=""+kn;"%"===vt.substr(vt.length-1)&&(kn=parseInt(kn)/100),"number"==typeof kn&&nt("/OpenAction [3 0 R /XYZ null null "+vn(kn)+"]")}switch(Oi||(Oi="continuous"),Oi){case"continuous":nt("/PageLayout /OneColumn");break;case"single":nt("/PageLayout /SinglePage");break;case"two":case"twoleft":nt("/PageLayout /TwoColumnLeft");break;case"tworight":nt("/PageLayout /TwoColumnRight")}bi&&nt("/PageMode /"+bi),cr.publish("putCatalog"),nt(">>"),nt("endobj")},Tf=oe.__private__.putTrailer=function(){nt("trailer"),nt("<<"),nt("/Size "+(D+1)),nt("/Root "+D+" 0 R"),nt("/Info "+(D-1)+" 0 R"),null!==Ae&&nt("/Encrypt "+js.oid+" 0 R"),nt("/ID [ <"+nn+"> <"+nn+"> ]"),nt(">>")},Mf=oe.__private__.putHeader=function(){nt("%PDF-"+ft),nt("%\xba\xdf\xac\xe0")},Lu=oe.__private__.putXRef=function(){var U="0000000000";nt("xref"),nt("0 "+(D+1)),nt("0000000000 65535 f ");for(var xe=1;xe<=D;xe++)nt("function"==typeof P[xe]?(U+P[xe]()).slice(-10)+" 00000 n ":void 0!==P[xe]?(U+P[xe]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},ma=oe.__private__.buildDocument=function(){on(),Ht(N),cr.publish("buildDocument"),Mf(),dc(),Ld(),Md(),null!==Ae&&Dd(),Th(),Mh();var U=G;return Lu(),Tf(),nt("startxref"),nt(""+U),nt("%%EOF"),Ht(Fe[mt]),N.join("\n")},Ou=oe.__private__.getBlob=function(U){return new Blob([Wn(U)],{type:"application/pdf"})},Iu=oe.output=oe.__private__.output=pa(function(U,xe){switch("string"==typeof(xe=xe||{})?xe={filename:xe}:xe.filename=xe.filename||"generated.pdf",U){case void 0:return ma();case"save":oe.save(xe.filename);break;case"arraybuffer":return Wn(ma());case"blob":return Ou(ma());case"bloburi":case"bloburl":if(void 0!==ii.URL&&"function"==typeof ii.URL.createObjectURL)return ii.URL&&ii.URL.createObjectURL(Ou(ma()))||void 0;Ui.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var vt="",It=ma();try{vt=wo(It)}catch{vt=wo(unescape(encodeURIComponent(It)))}return"data:application/pdf;filename="+xe.filename+";base64,"+vt;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(ii)){var zt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",hn=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';xe.pdfObjectUrl&&(zt=xe.pdfObjectUrl,hn="");var Mn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+zt+'"'+hn+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(xe)+");<\/script></body></html>",qn=ii.open();return null!==qn&&qn.document.write(Mn),qn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(ii)){var ai='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(xe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+xe.filename+'" width="500px" height="400px" /></body></html>',xi=ii.open();if(null!==xi){xi.document.write(ai);var Fi=this;xi.document.documentElement.querySelector("#pdfViewer").onload=function(){xi.document.title=xe.filename,xi.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Fi.output("bloburl"))}}return xi}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(ii))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Xi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",xe)+'"></iframe></body></html>',yr=ii.open();if(null!==yr&&(yr.document.write(Xi),yr.document.title=xe.filename),yr||typeof safari>"u")return yr;break;case"datauri":case"dataurl":return ii.document.location.href=this.output("datauristring",xe);default:return null}}),ku=function(U){return!0===Array.isArray(Il)&&Il.indexOf(U)>-1};switch(x){case"pt":Gn=1;break;case"mm":Gn=72/25.4;break;case"cm":Gn=72/2.54;break;case"in":Gn=72;break;case"px":Gn=1==ku("px_scaling")?.75:96/72;break;case"pc":case"em":Gn=12;break;case"ex":Gn=6;break;default:if("number"!=typeof x)throw new Error("Invalid unit: "+x);Gn=x}var js=null;Nn(),en();var Id=function(U){return null!==Ae?js.encryptor(U,0):function(xe){return xe}},Lh=oe.__private__.getPageInfo=oe.getPageInfo=function(U){if(isNaN(U)||U%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ai[U].objId,pageNumber:U,pageContext:Ai[U]}},Ci=oe.__private__.getPageInfoByObjId=function(U){if(isNaN(U)||U%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var xe in Ai)if(Ai[xe].objId===U)break;return Lh(xe)},Oh=oe.__private__.getCurrentPageInfo=oe.getCurrentPageInfo=function(){return{objId:Ai[mt].objId,pageNumber:mt,pageContext:Ai[mt]}};oe.addPage=function(){return $c.apply(this,arguments),this},oe.setPage=function(){return Rl.apply(this,arguments),Ht.call(this,Fe[mt]),this},oe.insertPage=function(U){return this.addPage(),this.movePage(mt,U),this},oe.movePage=function(U,xe){var vt,It;if(U>xe){vt=Fe[U],It=Ai[U];for(var zt=U;zt>xe;zt--)Fe[zt]=Fe[zt-1],Ai[zt]=Ai[zt-1];Fe[xe]=vt,Ai[xe]=It,this.setPage(xe)}else if(U<xe){vt=Fe[U],It=Ai[U];for(var hn=U;hn<xe;hn++)Fe[hn]=Fe[hn+1],Ai[hn]=Ai[hn+1];Fe[xe]=vt,Ai[xe]=It,this.setPage(xe)}return this},oe.deletePage=function(){return ga.apply(this,arguments),this},oe.__private__.text=oe.text=function(U,xe,vt,It,zt){var hn,Mn,qn,ai,xi,Fi,Xi,yr,jr,Pr=(It=It||{}).scope||this;if("number"==typeof U&&"number"==typeof xe&&("string"==typeof vt||Array.isArray(vt))){var is=vt;vt=xe,xe=U,U=is}if(arguments[3]instanceof fi?(St("The transform parameter of text() with a Matrix value"),jr=zt):(qn=arguments[4],ai=arguments[5],"object"===ht(Xi=arguments[3])&&null!==Xi||("string"==typeof qn&&(ai=qn,qn=null),"string"==typeof Xi&&(ai=Xi,Xi=null),"number"==typeof Xi&&(qn=Xi,Xi=null),It={flags:Xi,angle:qn,align:ai})),isNaN(xe)||isNaN(vt)||null==U)throw new Error("Invalid arguments passed to jsPDF.text");if(0===U.length)return Pr;var Cs="",Ua=!1,co="number"==typeof It.lineHeightFactor?It.lineHeightFactor:gc,cl=Pr.internal.scaleFactor;function jh(wr){return wr=wr.split("\t").join(Array(It.TabLen||9).join(" ")),lo(wr,Xi)}function Gu(wr){for(var Ii,Lr=wr.concat(),rs=[],wa=Lr.length;wa--;)"string"==typeof(Ii=Lr.shift())?rs.push(Ii):Array.isArray(wr)&&(1===Ii.length||void 0===Ii[1]&&void 0===Ii[2])?rs.push(Ii[0]):rs.push([Ii[0],Ii[1],Ii[2]]);return rs}function Qc(wr,Ii){var Lr;if("string"==typeof wr)Lr=Ii(wr)[0];else if(Array.isArray(wr)){for(var rs,wa,Or=wr.concat(),Va=[],Zu=Or.length;Zu--;)"string"==typeof(rs=Or.shift())?Va.push(Ii(rs)[0]):Array.isArray(rs)&&"string"==typeof rs[0]&&(wa=Ii(rs[0],rs[1],rs[2]),Va.push([wa[0],wa[1],wa[2]]));Lr=Va}return Lr}var Jc=!1,wc=!0;if("string"==typeof U)Jc=!0;else if(Array.isArray(U)){var $u=U.concat();Mn=[];for(var eu,Us=$u.length;Us--;)("string"!=typeof(eu=$u.shift())||Array.isArray(eu)&&"string"!=typeof eu[0])&&(wc=!1);Jc=wc}if(!1===Jc)throw new Error('Type of text must be string or Array. "'+U+'" is not recognized.');"string"==typeof U&&(U=U.match(/[\r?\n]/)?U.split(/\r\n|\r|\n/g):[U]);var qu=On/Pr.internal.scaleFactor,Yu=qu*(co-1);switch(It.baseline){case"bottom":vt-=Yu;break;case"top":vt+=qu-Yu;break;case"hanging":vt+=qu-2*Yu;break;case"middle":vt+=qu/2-Yu}if((Fi=It.maxWidth||0)>0&&("string"==typeof U?U=Pr.splitTextToSize(U,Fi):"[object Array]"===Object.prototype.toString.call(U)&&(U=U.reduce(function(wr,Ii){return wr.concat(Pr.splitTextToSize(Ii,Fi))},[]))),cr.publish("preProcessText",hn={text:U,x:xe,y:vt,options:It,mutex:{pdfEscape:lo,activeFontKey:Hi,fonts:vr,activeFontSize:On}}),U=hn.text,qn=(It=hn.options).angle,jr instanceof fi||!qn||"number"!=typeof qn)qn&&qn instanceof fi&&(jr=qn);else{qn*=Math.PI/180,0===It.rotationDirection&&(qn=-qn),Tt===gt.ADVANCED&&(qn=-qn);var Vl=Math.cos(qn),Uh=Math.sin(qn);jr=new fi(Vl,Uh,-Uh,Vl,0,0)}Tt!==gt.ADVANCED||jr||(jr=xo),void 0!==(xi=It.charSpace||vc)&&(Cs+=Jt(at(xi))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(yr=It.horizontalScale)&&(Cs+=Jt(100*yr)+" Tz\n");var To=-1,Lf=void 0!==It.renderingMode?It.renderingMode:It.stroke,Vh=Pr.internal.getCurrentPageInfo().pageContext;switch(Lf){case 0:case!1:case"fill":To=0;break;case 1:case!0:case"stroke":To=1;break;case 2:case"fillThenStroke":To=2;break;case 3:case"invisible":To=3;break;case 4:case"fillAndAddForClipping":To=4;break;case 5:case"strokeAndAddPathForClipping":To=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":To=6;break;case 7:case"addToPathForClipping":To=7}var Rd=void 0!==Vh.usedRenderingMode?Vh.usedRenderingMode:-1;-1!==To?Cs+=To+" Tr\n":-1!==Rd&&(Cs+="0 Tr\n"),-1!==To&&(Vh.usedRenderingMode=To),ai=It.align||"left";var ya,tu=On*co,Xu=Pr.internal.pageSize.getWidth(),Hh=vr[Hi];xi=It.charSpace||vc,Fi=It.maxWidth||0,Xi=Object.assign({autoencode:!0,noBOM:!0},It.flags);var ul=[];if("[object Array]"===Object.prototype.toString.call(U)){var Mo;Mn=Gu(U),"left"!==ai&&(ya=Mn.map(function(wr){return Pr.getStringUnitWidth(wr,{font:Hh,charSpace:xi,fontSize:On,doKerning:!1})*On/cl}));var Lo,Hl=0;if("right"===ai){xe-=ya[0],U=[],Us=Mn.length;for(var Zo=0;Zo<Us;Zo++)0===Zo?(Lo=ja(xe),Mo=jl(vt)):(Lo=at(Hl-ya[Zo]),Mo=-tu),U.push([Mn[Zo],Lo,Mo]),Hl=ya[Zo]}else if("center"===ai){xe-=ya[0]/2,U=[],Us=Mn.length;for(var Oo=0;Oo<Us;Oo++)0===Oo?(Lo=ja(xe),Mo=jl(vt)):(Lo=at((Hl-ya[Oo])/2),Mo=-tu),U.push([Mn[Oo],Lo,Mo]),Hl=ya[Oo]}else if("left"===ai){U=[],Us=Mn.length;for(var nu=0;nu<Us;nu++)U.push(Mn[nu])}else{if("justify"!==ai)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');U=[],Us=Mn.length,Fi=0!==Fi?Fi:Xu;for(var _a=0;_a<Us;_a++)Mo=0===_a?jl(vt):-tu,Lo=0===_a?ja(xe):0,ul.push(_a<Us-1?Jt(at((Fi-ya[_a])/(Mn[_a].split(" ").length-1))):0),U.push([Mn[_a],Lo,Mo])}}var iu="boolean"==typeof It.R2L?It.R2L:Bn;!0===iu&&(U=Qc(U,function(wr,Ii,Lr){return[wr.split("").reverse().join(""),Ii,Lr]})),cr.publish("postProcessText",hn={text:U,x:xe,y:vt,options:It,mutex:{pdfEscape:lo,activeFontKey:Hi,fonts:vr,activeFontSize:On}}),U=hn.text,Ua=hn.mutex.isHex||!1;var ru=vr[Hi].encoding;"WinAnsiEncoding"!==ru&&"StandardEncoding"!==ru||(U=Qc(U,function(wr,Ii,Lr){return[jh(wr),Ii,Lr]})),Mn=Gu(U),U=[];for(var zl,ba,hl,Cc=0,Wl=1,Sc=Array.isArray(Mn[0])?Wl:Cc,Gl="",Ku=function(wr,Ii,Lr){var rs="";return Lr instanceof fi?(Lr="number"==typeof It.angle?da(Lr,new fi(1,0,0,1,wr,Ii)):da(new fi(1,0,0,1,wr,Ii),Lr),Tt===gt.ADVANCED&&(Lr=da(new fi(1,0,0,-1,0,0),Lr)),rs=Lr.join(" ")+" Tm\n"):rs=Jt(wr)+" "+Jt(Ii)+" Td\n",rs},Io=0;Io<Mn.length;Io++){switch(Gl="",Sc){case Wl:hl=(Ua?"<":"(")+Mn[Io][0]+(Ua?">":")"),zl=parseFloat(Mn[Io][1]),ba=parseFloat(Mn[Io][2]);break;case Cc:hl=(Ua?"<":"(")+Mn[Io]+(Ua?">":")"),zl=ja(xe),ba=jl(vt)}void 0!==ul&&void 0!==ul[Io]&&(Gl=ul[Io]+" Tw\n"),0===Io?U.push(Gl+Ku(zl,ba,jr)+hl):Sc===Cc?U.push(Gl+hl):Sc===Wl&&U.push(Gl+Ku(zl,ba,jr)+hl)}U=U.join(Sc===Cc?" Tj\nT* ":" Tj\n"),U+=" Tj\n";var dl="BT\n/";return dl+=Hi+" "+On+" Tf\n",dl+=Jt(On*co)+" TL\n",dl+=mc+"\n",dl+=Cs,dl+=U,nt(dl+="ET"),Ge[Hi]=!0,Pr};var qc=oe.__private__.clip=oe.clip=function(U){return nt("evenodd"===U?"W*":"W"),this};oe.clipEvenOdd=function(){return qc("evenodd")},oe.__private__.discardPath=oe.discardPath=function(){return nt("n"),this};var Ba=oe.__private__.isValidStyle=function(U){var xe=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(U)&&(xe=!0),xe};oe.__private__.setDefaultPathOperation=oe.setDefaultPathOperation=function(U){return Ba(U)&&(ae=U),this};var Yc=oe.__private__.getStyle=oe.getStyle=function(U){var xe=ae;switch(U){case"D":case"S":xe="S";break;case"F":xe="f";break;case"FD":case"DF":xe="B";break;case"f":case"f*":case"B":case"B*":xe=U}return xe},Ih=oe.close=function(){return nt("h"),this};oe.stroke=function(){return nt("S"),this},oe.fill=function(U){return xr("f",U),this},oe.fillEvenOdd=function(U){return xr("f*",U),this},oe.fillStroke=function(U){return xr("B",U),this},oe.fillStrokeEvenOdd=function(U){return xr("B*",U),this};var xr=function(U,xe){"object"===ht(xe)?Ru(xe,U):nt(U)},Fu=function(U){null===U||Tt===gt.ADVANCED&&void 0===U||(U=Yc(U),nt(U))};function kd(U,xe,vt,It,zt){var hn=new $o(xe||this.boundingBox,vt||this.xStep,It||this.yStep,this.gState,zt||this.matrix);hn.stream=this.stream;var Mn=U+"$$"+this.cloneIndex+++"$$";return qs(Mn,hn),hn}var Ru=function(U,xe){var vt=Ol[U.key],It=Ji[vt];if(It instanceof Co)nt("q"),nt(kh(xe)),It.gState&&oe.setGState(It.gState),nt(U.matrix.toString()+" cm"),nt("/"+vt+" sh"),nt("Q");else if(It instanceof $o){var zt=new fi(1,0,0,-1,0,Ul());U.matrix&&(zt=zt.multiply(U.matrix||xo),vt=kd.call(It,U.key,U.boundingBox,U.xStep,U.yStep,zt).id),nt("q"),nt("/Pattern cs"),nt("/"+vt+" scn"),It.gState&&oe.setGState(It.gState),nt(xe),nt("Q")}},kh=function(U){switch(U){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Nu=oe.moveTo=function(U,xe){return nt(Jt(at(U))+" "+Jt(Et(xe))+" m"),this},pc=oe.lineTo=function(U,xe){return nt(Jt(at(U))+" "+Jt(Et(xe))+" l"),this},Nl=oe.curveTo=function(U,xe,vt,It,zt,hn){return nt([Jt(at(U)),Jt(Et(xe)),Jt(at(vt)),Jt(Et(It)),Jt(at(zt)),Jt(Et(hn)),"c"].join(" ")),this};oe.__private__.line=oe.line=function(U,xe,vt,It,zt){if(isNaN(U)||isNaN(xe)||isNaN(vt)||isNaN(It)||!Ba(zt))throw new Error("Invalid arguments passed to jsPDF.line");return Tt===gt.COMPAT?this.lines([[vt-U,It-xe]],U,xe,[1,1],zt||"S"):this.lines([[vt-U,It-xe]],U,xe,[1,1]).stroke()},oe.__private__.lines=oe.lines=function(U,xe,vt,It,zt,hn){var Mn,qn,ai,xi,Fi,is,Cs,Ua;if("number"==typeof U&&(Ua=vt,vt=xe,xe=U,U=Ua),It=It||[1,1],hn=hn||!1,isNaN(xe)||isNaN(vt)||!Array.isArray(U)||!Array.isArray(It)||!Ba(zt)||"boolean"!=typeof hn)throw new Error("Invalid arguments passed to jsPDF.lines");for(Nu(xe,vt),Mn=It[0],qn=It[1],xi=U.length,is=xe,Cs=vt,ai=0;ai<xi;ai++)2===(Fi=U[ai]).length?pc(is=Fi[0]*Mn+is,Cs=Fi[1]*qn+Cs):Nl(Fi[0]*Mn+is,Fi[1]*qn+Cs,Fi[2]*Mn+is,Fi[3]*qn+Cs,is=Fi[4]*Mn+is,Cs=Fi[5]*qn+Cs);return hn&&Ih(),Fu(zt),this},oe.path=function(U){for(var xe=0;xe<U.length;xe++){var vt=U[xe],It=vt.c;switch(vt.op){case"m":Nu(It[0],It[1]);break;case"l":pc(It[0],It[1]);break;case"c":Nl.apply(this,It);break;case"h":Ih()}}return this},oe.__private__.rect=oe.rect=function(U,xe,vt,It,zt){if(isNaN(U)||isNaN(xe)||isNaN(vt)||isNaN(It)||!Ba(zt))throw new Error("Invalid arguments passed to jsPDF.rect");return Tt===gt.COMPAT&&(It=-It),nt([Jt(at(U)),Jt(Et(xe)),Jt(at(vt)),Jt(at(It)),"re"].join(" ")),Fu(zt),this},oe.__private__.triangle=oe.triangle=function(U,xe,vt,It,zt,hn,Mn){if(isNaN(U)||isNaN(xe)||isNaN(vt)||isNaN(It)||isNaN(zt)||isNaN(hn)||!Ba(Mn))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[vt-U,It-xe],[zt-vt,hn-It],[U-zt,xe-hn]],U,xe,[1,1],Mn,!0),this},oe.__private__.roundedRect=oe.roundedRect=function(U,xe,vt,It,zt,hn,Mn){if(isNaN(U)||isNaN(xe)||isNaN(vt)||isNaN(It)||isNaN(zt)||isNaN(hn)||!Ba(Mn))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var qn=4/3*(Math.SQRT2-1);return zt=Math.min(zt,.5*vt),hn=Math.min(hn,.5*It),this.lines([[vt-2*zt,0],[zt*qn,0,zt,hn-hn*qn,zt,hn],[0,It-2*hn],[0,hn*qn,-zt*qn,hn,-zt,hn],[2*zt-vt,0],[-zt*qn,0,-zt,-hn*qn,-zt,-hn],[0,2*hn-It],[0,-hn*qn,zt*qn,-hn,zt,-hn]],U+zt,xe,[1,1],Mn,!0),this},oe.__private__.ellipse=oe.ellipse=function(U,xe,vt,It,zt){if(isNaN(U)||isNaN(xe)||isNaN(vt)||isNaN(It)||!Ba(zt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var hn=4/3*(Math.SQRT2-1)*vt,Mn=4/3*(Math.SQRT2-1)*It;return Nu(U+vt,xe),Nl(U+vt,xe-Mn,U+hn,xe-It,U,xe-It),Nl(U-hn,xe-It,U-vt,xe-Mn,U-vt,xe),Nl(U-vt,xe+Mn,U-hn,xe+It,U,xe+It),Nl(U+hn,xe+It,U+vt,xe+Mn,U+vt,xe),Fu(zt),this},oe.__private__.circle=oe.circle=function(U,xe,vt,It){if(isNaN(U)||isNaN(xe)||isNaN(vt)||!Ba(It))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(U,xe,vt,vt,It)},oe.setFont=function(U,xe,vt){return vt&&(xe=xn(xe,vt)),Hi=Mu(U,xe,{disableWarning:!1}),this};var Fd=oe.__private__.getFont=oe.getFont=function(){return vr[Mu.apply(oe,arguments)]};oe.__private__.getFontList=oe.getFontList=function(){var U,xe,vt={};for(U in Ar)if(Ar.hasOwnProperty(U))for(xe in vt[U]=[],Ar[U])Ar[U].hasOwnProperty(xe)&&vt[U].push(xe);return vt},oe.addFont=function(U,xe,vt,It,zt){var hn=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==hn.indexOf(arguments[3])?zt=arguments[3]:arguments[3]&&-1==hn.indexOf(arguments[3])&&(vt=xn(vt,It)),Ph.call(this,U,xe,vt,zt=zt||"Identity-H")};var gc,Fh=b.lineWidth||.200025,Bu=oe.__private__.getLineWidth=oe.getLineWidth=function(){return Fh},Bl=oe.__private__.setLineWidth=oe.setLineWidth=function(U){return Fh=U,nt(Jt(at(U))+" w"),this};oe.__private__.setLineDash=ni.API.setLineDash=ni.API.setLineDashPattern=function(U,xe){if(U=U||[],xe=xe||0,isNaN(xe)||!Array.isArray(U))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return U=U.map(function(vt){return Jt(at(vt))}).join(" "),xe=Jt(at(xe)),nt("["+U+"] "+xe+" d"),this};var Xc=oe.__private__.getLineHeight=oe.getLineHeight=function(){return On*gc};oe.__private__.getLineHeight=oe.getLineHeight=function(){return On*gc};var ju=oe.__private__.setLineHeightFactor=oe.setLineHeightFactor=function(U){return"number"==typeof(U=U||1.15)&&(gc=U),this},Uu=oe.__private__.getLineHeightFactor=oe.getLineHeightFactor=function(){return gc};ju(b.lineHeight);var ja=oe.__private__.getHorizontalCoordinate=function(U){return at(U)},jl=oe.__private__.getVerticalCoordinate=function(U){return Tt===gt.ADVANCED?U:Ai[mt].mediaBox.topRightY-Ai[mt].mediaBox.bottomLeftY-at(U)},Rh=oe.__private__.getHorizontalCoordinateString=oe.getHorizontalCoordinateString=function(U){return Jt(ja(U))},sl=oe.__private__.getVerticalCoordinateString=oe.getVerticalCoordinateString=function(U){return Jt(jl(U))},Do=b.strokeColor||"0 G";oe.__private__.getStrokeColor=oe.getDrawColor=function(){return fa(Do)},oe.__private__.setStrokeColor=oe.setDrawColor=function(U,xe,vt,It){return Do=Ko({ch1:U,ch2:xe,ch3:vt,ch4:It,pdfColorType:"draw",precision:2}),nt(Do),this};var Nh=b.fillColor||"0 g";oe.__private__.getFillColor=oe.getFillColor=function(){return fa(Nh)},oe.__private__.setFillColor=oe.setFillColor=function(U,xe,vt,It){return Nh=Ko({ch1:U,ch2:xe,ch3:vt,ch4:It,pdfColorType:"fill",precision:2}),nt(Nh),this};var mc=b.textColor||"0 g",Vu=oe.__private__.getTextColor=oe.getTextColor=function(){return fa(mc)};oe.__private__.setTextColor=oe.setTextColor=function(U,xe,vt,It){return mc=Ko({ch1:U,ch2:xe,ch3:vt,ch4:It,pdfColorType:"text",precision:3}),this};var vc=b.charSpace,Bh=oe.__private__.getCharSpace=oe.getCharSpace=function(){return parseFloat(vc||0)};oe.__private__.setCharSpace=oe.setCharSpace=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return vc=U,this};var va=0;oe.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},oe.__private__.setLineCap=oe.setLineCap=function(U){var xe=oe.CapJoinStyles[U];if(void 0===xe)throw new Error("Line cap style of '"+U+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return va=xe,nt(xe+" J"),this};var Hu=0;oe.__private__.setLineJoin=oe.setLineJoin=function(U){var xe=oe.CapJoinStyles[U];if(void 0===xe)throw new Error("Line join style of '"+U+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Hu=xe,nt(xe+" j"),this},oe.__private__.setLineMiterLimit=oe.__private__.setMiterLimit=oe.setLineMiterLimit=oe.setMiterLimit=function(U){if(U=U||0,isNaN(U))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return nt(Jt(at(U))+" M"),this},oe.GState=la,oe.setGState=function(U){(U="string"==typeof U?Br[ha[U]]:Kc(null,U)).equals(oo)||(nt("/"+U.id+" gs"),oo=U)};var Kc=function(U,xe){if(!U||!ha[U]){var vt=!1;for(var It in Br)if(Br.hasOwnProperty(It)&&Br[It].equals(xe)){vt=!0;break}if(vt)xe=Br[It];else{var zt="GS"+(Object.keys(Br).length+1).toString(10);Br[zt]=xe,xe.id=zt}return U&&(ha[U]=xe.id),cr.publish("addGState",xe),xe}};oe.addGState=function(U,xe){return Kc(U,xe),this},oe.saveGraphicsState=function(){return nt("q"),so.push({key:Hi,size:On,color:mc}),this},oe.restoreGraphicsState=function(){nt("Q");var U=so.pop();return Hi=U.key,On=U.size,mc=U.color,oo=null,this},oe.setCurrentTransformationMatrix=function(U){return nt(U.toString()+" cm"),this},oe.comment=function(U){return nt("#"+U),this};var ol=function(U,xe){var vt=U||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return vt},set:function(hn){isNaN(hn)||(vt=parseFloat(hn))}});var It=xe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return It},set:function(hn){isNaN(hn)||(It=parseFloat(hn))}});var zt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return zt},set:function(hn){zt=hn.toString()}}),this},zu=function(U,xe,vt,It){ol.call(this,U,xe),this.type="rect";var zt=vt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return zt},set:function(Mn){isNaN(Mn)||(zt=parseFloat(Mn))}});var hn=It||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return hn},set:function(Mn){isNaN(Mn)||(hn=parseFloat(Mn))}}),this},yc=function(){this.page=br,this.currentPage=mt,this.pages=Fe.slice(0),this.pagesContext=Ai.slice(0),this.x=ts,this.y=Qi,this.matrix=$s,this.width=ll(mt),this.height=Ul(mt),this.outputDestination=Mt,this.id="",this.objectNumber=-1};yc.prototype.restore=function(){br=this.page,Ai=this.pagesContext,Fe=this.pages,ts=this.x,Qi=this.y,$s=this.matrix,Wu(mt=this.currentPage,this.width),Zc(mt,this.height),Mt=this.outputDestination};var _c=function(U,xe,vt,It,zt){Fa.push(new yc),br=mt=0,Fe=[],ts=U,Qi=xe,$s=zt,Tu([vt,It])},al=function(U){if(il[U])Fa.pop().restore();else{var xe=new yc,vt="Xo"+(Object.keys(Ls).length+1).toString(10);xe.id=vt,il[U]=vt,Ls[vt]=xe,cr.publish("addFormObject",xe),Fa.pop().restore()}};for(var bc in oe.beginFormObject=function(U,xe,vt,It,zt){return _c(U,xe,vt,It,zt),this},oe.endFormObject=function(U){return al(U),this},oe.doFormObject=function(U,xe){var vt=Ls[il[U]];return nt("q"),nt(xe.toString()+" cm"),nt("/"+vt.id+" Do"),nt("Q"),this},oe.getFormObject=function(U){var xe=Ls[il[U]];return{x:xe.x,y:xe.y,width:xe.width,height:xe.height,matrix:xe.matrix}},oe.save=function(U,xe){return U=U||"generated.pdf",(xe=xe||{}).returnPromise=xe.returnPromise||!1,!1===xe.returnPromise?(Qs(Ou(ma()),U),"function"==typeof Qs.unload&&ii.setTimeout&&setTimeout(Qs.unload,911),this):new Promise(function(vt,It){try{var zt=Qs(Ou(ma()),U);"function"==typeof Qs.unload&&ii.setTimeout&&setTimeout(Qs.unload,911),vt(zt)}catch(hn){It(hn.message)}})},ni.API)ni.API.hasOwnProperty(bc)&&("events"===bc&&ni.API.events.length?function(U,xe){var It,zt;for(zt=xe.length-1;-1!==zt;zt--)U.subscribe.apply(U,[xe[zt][0]].concat("function"==typeof(It=xe[zt][1])?[It]:It))}(cr,ni.API.events):oe[bc]=ni.API[bc]);var ll=oe.getPageWidth=function(U){return(Ai[U=U||mt].mediaBox.topRightX-Ai[U].mediaBox.bottomLeftX)/Gn},Wu=oe.setPageWidth=function(U,xe){Ai[U].mediaBox.topRightX=xe*Gn+Ai[U].mediaBox.bottomLeftX},Ul=oe.getPageHeight=function(U){return(Ai[U=U||mt].mediaBox.topRightY-Ai[U].mediaBox.bottomLeftY)/Gn},Zc=oe.setPageHeight=function(U,xe){Ai[U].mediaBox.topRightY=xe*Gn+Ai[U].mediaBox.bottomLeftY};return oe.internal={pdfEscape:lo,getStyle:Yc,getFont:Fd,getFontSize:Vn,getCharSpace:Bh,getTextColor:Vu,getLineHeight:Xc,getLineHeightFactor:Uu,getLineWidth:Bu,write:$n,getHorizontalCoordinate:ja,getVerticalCoordinate:jl,getCoordinateString:Rh,getVerticalCoordinateString:sl,collections:{},newObject:ds,newAdditionalObject:hc,newObjectDeferred:$r,newObjectDeferredBegin:Xo,getFilters:Eo,putStream:ao,events:cr,scaleFactor:Gn,pageSize:{getWidth:function(){return ll(mt)},setWidth:function(U){Wu(mt,U)},getHeight:function(){return Ul(mt)},setHeight:function(U){Zc(mt,U)}},encryptionOptions:Ae,encryption:js,getEncryptor:Id,output:Iu,getNumberOfPages:Dh,pages:Fe,out:nt,f2:vn,f3:lt,getPageInfo:Lh,getPageInfoByObjId:Ci,getCurrentPageInfo:Oh,getPDFVersion:rt,Point:ol,Rectangle:zu,Matrix:fi,hasHotfix:ku},Object.defineProperty(oe.internal.pageSize,"width",{get:function(){return ll(mt)},set:function(U){Wu(mt,U)},enumerable:!0,configurable:!0}),Object.defineProperty(oe.internal.pageSize,"height",{get:function(){return Ul(mt)},set:function(U){Zc(mt,U)},enumerable:!0,configurable:!0}),Eh.call(oe,Dn),Hi="F1",$c(L,v),cr.publish("initialized"),oe}Hs.prototype.lsbFirstWord=function(b){return String.fromCharCode(b>>0&255,b>>8&255,b>>16&255,b>>24&255)},Hs.prototype.toHexString=function(b){return b.split("").map(function(y){return("0"+(255&y.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Hs.prototype.hexToBytes=function(b){for(var y=[],v=0;v<b.length;v+=2)y.push(String.fromCharCode(parseInt(b.substr(v,2),16)));return y.join("")},Hs.prototype.processOwnerPassword=function(b,y){return Go(Ma(y).substr(0,5),b)},Hs.prototype.encryptor=function(b,y){var v=Ma(this.encryptionKey+String.fromCharCode(255&b,b>>8&255,b>>16&255,255&y,y>>8&255)).substr(0,10);return function(x){return Go(v,x)}},la.prototype.equals=function(b){var y,v="id,objectNumber,equals";if(!b||ht(b)!==ht(this))return!1;var x=0;for(y in this)if(!(v.indexOf(y)>=0)){if(this.hasOwnProperty(y)&&!b.hasOwnProperty(y)||this[y]!==b[y])return!1;x++}for(y in b)b.hasOwnProperty(y)&&v.indexOf(y)<0&&x--;return 0===x},ni.API={events:[]},ni.version="2.5.1";var tn=ni.API,Ei=1,vs=function(b){return b.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},qo=function(b){return b.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Xn=function(b){return b.toFixed(2)},Ms=function(b){return b.toFixed(5)};tn.__acroform__={};var lr=function(b,y){b.prototype=Object.create(y.prototype),b.prototype.constructor=b},ys=function(b){return b*Ei},zr=function(b){var y=new Qa,v=Ln.internal.getHeight(b)||0,x=Ln.internal.getWidth(b)||0;return y.BBox=[0,0,Number(Xn(x)),Number(Xn(v))],y},Jr=tn.__acroform__.setBit=function(b,y){if(b=b||0,y=y||0,isNaN(b)||isNaN(y))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return b|1<<y},ca=tn.__acroform__.clearBit=function(b,y){if(b=b||0,y=y||0,isNaN(b)||isNaN(y))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return b&~(1<<y)},xl=tn.__acroform__.getBit=function(b,y){if(isNaN(b)||isNaN(y))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(b&1<<y)?0:1},Sr=tn.__acroform__.getBitForPdf=function(b,y){if(isNaN(b)||isNaN(y))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return xl(b,y-1)},Yi=tn.__acroform__.setBitForPdf=function(b,y){if(isNaN(b)||isNaN(y))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Jr(b,y-1)},Si=tn.__acroform__.clearBitForPdf=function(b,y){if(isNaN(b)||isNaN(y))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ca(b,y-1)},eo=tn.__acroform__.calculateCoordinates=function(b,y){var v=y.internal.getHorizontalCoordinate,x=y.internal.getVerticalCoordinate,L=b[0],T=b[1],V=b[2],Y=b[3],$={};return $.lowerLeft_X=v(L)||0,$.lowerLeft_Y=x(T+Y)||0,$.upperRight_X=v(L+V)||0,$.upperRight_Y=x(T)||0,[Number(Xn($.lowerLeft_X)),Number(Xn($.lowerLeft_Y)),Number(Xn($.upperRight_X)),Number(Xn($.upperRight_Y))]},ic=function(b){if(b.appearanceStreamContent)return b.appearanceStreamContent;if(b.V||b.DV){var y=[],x=So(b,b._V||b.DV),L=b.scope.internal.getFont(b.fontName,b.fontStyle).id;y.push("/Tx BMC"),y.push("q"),y.push("BT"),y.push(b.scope.__private__.encodeColorString(b.color)),y.push("/"+L+" "+Xn(x.fontSize)+" Tf"),y.push("1 0 0 1 0 0 Tm"),y.push(x.text),y.push("ET"),y.push("Q"),y.push("EMC");var T=zr(b);return T.scope=b.scope,T.stream=y.join("\n"),T}},So=function(b,y){var v=0===b.fontSize?b.maxFontSize:b.fontSize,x={text:"",fontSize:""},L=(y=")"==(y="("==y.substr(0,1)?y.substr(1):y).substr(y.length-1)?y.substr(0,y.length-1):y).split(" ");L=L.map(b.multiline?function(lt){return lt.split("\n")}:function(lt){return[lt]});var T=v,V=Ln.internal.getHeight(b)||0;V=V<0?-V:V;var lt,Y=Ln.internal.getWidth(b)||0;Y=Y<0?-Y:Y,T++;e:for(;T>0;){y="",T--;var ae,Ae,Re=_s("3",b,T).height,Ge=b.multiline?V-T:(V-Re)/2,oe=Ge+=2,ft=0,rt=0,bt=0;if(T<=0){y="(...) Tj\n",y+="% Width of Text: "+_s(y,b,T=12).width+", FieldWidth:"+Y+"\n";break}for(var tt="",gt=0,Tt=0;Tt<L.length;Tt++)if(L.hasOwnProperty(Tt)){var Yt=!1;if(1!==L[Tt].length&&bt!==L[Tt].length-1){if((Re+2)*(gt+2)+2>V)continue e;tt+=L[Tt][bt],Yt=!0,rt=Tt,Tt--}else{tt=" "==(tt+=L[Tt][bt]+" ").substr(tt.length-1)?tt.substr(0,tt.length-1):tt;var rn=parseInt(Tt),xn=(lt=rn)+1<L.length&&_s(tt+" "+L[lt+1][0],b,T).width<=Y-4,Jt=Tt>=L.length-1;if(xn&&!Jt){tt+=" ",bt=0;continue}if(xn||Jt){if(Jt)rt=rn;else if(b.multiline&&(Re+2)*(gt+2)+2>V)continue e}else{if(!b.multiline||(Re+2)*(gt+2)+2>V)continue e;rt=rn}}for(var St="",dn=ft;dn<=rt;dn++){var vn=L[dn];if(b.multiline){if(dn===rt){St+=vn[bt]+" ",bt=(bt+1)%vn.length;continue}if(dn===ft){St+=vn[vn.length-1]+" ";continue}}St+=vn[0]+" "}switch(St=" "==St.substr(St.length-1)?St.substr(0,St.length-1):St,Ae=_s(St,b,T).width,b.textAlign){case"right":ae=Y-Ae-2;break;case"center":ae=(Y-Ae)/2;break;default:ae=2}y+=Xn(ae)+" "+Xn(oe)+" Td\n",y+="("+vs(St)+") Tj\n",y+=-Xn(ae)+" 0 Td\n",oe=-(T+2),Ae=0,ft=Yt?rt:rt+1,gt++,tt=""}break}return x.text=y,x.fontSize=T,x},_s=function(b,y,v){var x=y.scope.internal.getFont(y.fontName,y.fontStyle),L=y.scope.getStringUnitWidth(b,{font:x,fontSize:parseFloat(v),charSpace:0})*parseFloat(v);return{height:y.scope.getStringUnitWidth("3",{font:x,fontSize:parseFloat(v),charSpace:0})*parseFloat(v)*1.5,width:L}},rc={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},sc=function(b,y){var v={type:"reference",object:b};void 0===y.internal.getPageInfo(b.page).pageContext.annotations.find(function(x){return x.type===v.type&&x.object===v.object})&&y.internal.getPageInfo(b.page).pageContext.annotations.push(v)},Yo=tn.__acroform__.arrayToPdfArray=function(b,y,v){var x=function(V){return V};if(Array.isArray(b)){for(var L="[",T=0;T<b.length;T++)switch(0!==T&&(L+=" "),ht(b[T])){case"boolean":case"number":case"object":L+=b[T].toString();break;case"string":"/"!==b[T].substr(0,1)?(void 0!==y&&v&&(x=v.internal.getEncryptor(y)),L+="("+vs(x(b[T].toString()))+")"):L+=b[T].toString()}return L+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},to=function(b,y,v){var x=function(L){return L};return void 0!==y&&v&&(x=v.internal.getEncryptor(y)),(b=b||"").toString(),"("+vs(x(b))+")"},Wr=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(b){this._objId=b}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Wr.prototype.toString=function(){return this.objId+" 0 R"},Wr.prototype.putStream=function(){var b=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:b,objectId:this.objId}),this.scope.internal.out("endobj")},Wr.prototype.getKeyValueListForStream=function(){var b=[],y=Object.getOwnPropertyNames(this).filter(function(T){return"content"!=T&&"appearanceStreamContent"!=T&&"scope"!=T&&"objId"!=T&&"_"!=T.substring(0,1)});for(var v in y)if(!1===Object.getOwnPropertyDescriptor(this,y[v]).configurable){var x=y[v],L=this[x];L&&(Array.isArray(L)?b.push({key:x,value:Yo(L,this.objId,this.scope)}):L instanceof Wr?(L.scope=this.scope,b.push({key:x,value:L.objId+" 0 R"})):"function"!=typeof L&&b.push({key:x,value:L}))}return b};var Qa=function(){Wr.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var b,y=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return y},set:function(v){y=v}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(v){b=v.trim()},get:function(){return b||null}})};lr(Qa,Wr);var ac=function(){Wr.call(this);var b,y=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return y.length>0?y:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return y}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(b){var v=function(x){return x};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+vs(v(b))+")"}},set:function(v){b=v}})};lr(ac,Wr);var Z=function b(){Wr.call(this);var y=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return y},set:function(tt){if(isNaN(tt))throw new Error('Invalid value "'+tt+'" for attribute F supplied.');y=tt}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Sr(y,3))},set:function(tt){this.F=!0===Boolean(tt)?Yi(y,3):Si(y,3)}});var v=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return v},set:function(tt){if(isNaN(tt))throw new Error('Invalid value "'+tt+'" for attribute Ff supplied.');v=tt}});var x=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==x.length)return x},set:function(tt){x=void 0!==tt?tt:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!x||isNaN(x[0])?0:x[0]},set:function(tt){x[0]=tt}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!x||isNaN(x[1])?0:x[1]},set:function(tt){x[1]=tt}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!x||isNaN(x[2])?0:x[2]},set:function(tt){x[2]=tt}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!x||isNaN(x[3])?0:x[3]},set:function(tt){x[3]=tt}});var L="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return L},set:function(tt){switch(tt){case"/Btn":case"/Tx":case"/Ch":case"/Sig":L=tt;break;default:throw new Error('Invalid value "'+tt+'" for attribute FT supplied.')}}});var T=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!T||T.length<1){if(this instanceof ki)return;T="FieldObject"+b.FieldNum++}var tt=function(gt){return gt};return this.scope&&(tt=this.scope.internal.getEncryptor(this.objId)),"("+vs(tt(T))+")"},set:function(tt){T=tt.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return T},set:function(tt){T=tt}});var V="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return V},set:function(tt){V=tt}});var Y="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return Y},set:function(tt){Y=tt}});var $=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return $},set:function(tt){$=tt}});var ae=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===ae?50/Ei:ae},set:function(tt){ae=tt}});var Ae="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return Ae},set:function(tt){Ae=tt}});var Re="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!Re||this instanceof ki||this instanceof mi))return to(Re,this.objId,this.scope)},set:function(tt){tt=tt.toString(),Re=tt}});var Ge=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(Ge)return this instanceof Xt?Ge:to(Ge,this.objId,this.scope)},set:function(tt){tt=tt.toString(),Ge=this instanceof Xt?tt:"("===tt.substr(0,1)?qo(tt.substr(1,tt.length-2)):qo(tt)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xt?qo(Ge.substr(1,Ge.length-1)):Ge},set:function(tt){tt=tt.toString(),Ge=this instanceof Xt?"/"+tt:tt}});var oe=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(oe)return oe},set:function(tt){this.V=tt}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(oe)return this instanceof Xt?oe:to(oe,this.objId,this.scope)},set:function(tt){tt=tt.toString(),oe=this instanceof Xt?tt:"("===tt.substr(0,1)?qo(tt.substr(1,tt.length-2)):qo(tt)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xt?qo(oe.substr(1,oe.length-1)):oe},set:function(tt){tt=tt.toString(),oe=this instanceof Xt?"/"+tt:tt}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var ft,rt=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return rt},set:function(tt){tt=Boolean(tt),rt=tt}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(ft)return ft},set:function(tt){ft=tt}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Sr(this.Ff,1))},set:function(tt){this.Ff=!0===Boolean(tt)?Yi(this.Ff,1):Si(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Sr(this.Ff,2))},set:function(tt){this.Ff=!0===Boolean(tt)?Yi(this.Ff,2):Si(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Sr(this.Ff,3))},set:function(tt){this.Ff=!0===Boolean(tt)?Yi(this.Ff,3):Si(this.Ff,3)}});var bt=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==bt)return bt},set:function(tt){if(-1===[0,1,2].indexOf(tt))throw new Error('Invalid value "'+tt+'" for attribute Q supplied.');bt=tt}}),Object.defineProperty(this,"textAlign",{get:function(){var tt;switch(bt){case 0:default:tt="left";break;case 1:tt="center";break;case 2:tt="right"}return tt},configurable:!0,enumerable:!0,set:function(tt){switch(tt){case"right":case 2:bt=2;break;case"center":case 1:bt=1;break;default:bt=0}}})};lr(Z,Wr);var ve=function(){Z.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var b=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return b},set:function(v){b=v}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return b},set:function(v){b=v}});var y=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Yo(y,this.objId,this.scope)},set:function(v){var x,L;L=[],"string"==typeof(x=v)&&(L=function(T,V,Y){Y||(Y=1);for(var $,ae=[];$=V.exec(T);)ae.push($[Y]);return ae}(x,/\((.*?)\)/g)),y=L}}),this.getOptions=function(){return y},this.setOptions=function(v){y=v,this.sort&&y.sort()},this.addOption=function(v){v=(v=v||"").toString(),y.push(v),this.sort&&y.sort()},this.removeOption=function(v,x){for(x=x||!1,v=(v=v||"").toString();-1!==y.indexOf(v)&&(y.splice(y.indexOf(v),1),!1!==x););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Sr(this.Ff,18))},set:function(v){this.Ff=!0===Boolean(v)?Yi(this.Ff,18):Si(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Sr(this.Ff,19))},set:function(v){!0===this.combo&&(this.Ff=!0===Boolean(v)?Yi(this.Ff,19):Si(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Sr(this.Ff,20))},set:function(v){!0===Boolean(v)?(this.Ff=Yi(this.Ff,20),y.sort()):this.Ff=Si(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Sr(this.Ff,22))},set:function(v){this.Ff=!0===Boolean(v)?Yi(this.Ff,22):Si(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Sr(this.Ff,23))},set:function(v){this.Ff=!0===Boolean(v)?Yi(this.Ff,23):Si(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Sr(this.Ff,27))},set:function(v){this.Ff=!0===Boolean(v)?Yi(this.Ff,27):Si(this.Ff,27)}}),this.hasAppearanceStream=!1};lr(ve,Z);var ee=function(){ve.call(this),this.fontName="helvetica",this.combo=!1};lr(ee,ve);var Le=function(){ee.call(this),this.combo=!0};lr(Le,ee);var xt=function(){Le.call(this),this.edit=!0};lr(xt,Le);var Xt=function(){Z.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Sr(this.Ff,15))},set:function(v){this.Ff=!0===Boolean(v)?Yi(this.Ff,15):Si(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Sr(this.Ff,16))},set:function(v){this.Ff=!0===Boolean(v)?Yi(this.Ff,16):Si(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Sr(this.Ff,17))},set:function(v){this.Ff=!0===Boolean(v)?Yi(this.Ff,17):Si(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Sr(this.Ff,26))},set:function(v){this.Ff=!0===Boolean(v)?Yi(this.Ff,26):Si(this.Ff,26)}});var b,y={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var v=function(T){return T};if(this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(y).length){var x,L=[];for(x in L.push("<<"),y)L.push("/"+x+" ("+vs(v(y[x]))+")");return L.push(">>"),L.join("\n")}},set:function(v){"object"===ht(v)&&(y=v)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return y.CA||""},set:function(v){"string"==typeof v&&(y.CA=v)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return b},set:function(v){b=v}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return b.substr(1,b.length-1)},set:function(v){b="/"+v}})};lr(Xt,Z);var _n=function(){Xt.call(this),this.pushButton=!0};lr(_n,Xt);var Un=function(){Xt.call(this),this.radio=!0,this.pushButton=!1;var b=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return b},set:function(y){b=void 0!==y?y:[]}})};lr(Un,Xt);var ki=function(){var b,y;Z.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return b},set:function(L){b=L}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return y},set:function(L){y=L}});var v,x={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var L=function(Y){return Y};this.scope&&(L=this.scope.internal.getEncryptor(this.objId));var T,V=[];for(T in V.push("<<"),x)V.push("/"+T+" ("+vs(L(x[T]))+")");return V.push(">>"),V.join("\n")},set:function(L){"object"===ht(L)&&(x=L)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return x.CA||""},set:function(L){"string"==typeof L&&(x.CA=L)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return v},set:function(L){v=L}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return v.substr(1,v.length-1)},set:function(L){v="/"+L}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ln.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};lr(ki,Z),Un.prototype.setAppearance=function(b){if(!("createAppearanceStream"in b)||!("getCA"in b))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var y in this.Kids)if(this.Kids.hasOwnProperty(y)){var v=this.Kids[y];v.appearanceStreamContent=b.createAppearanceStream(v.optionName),v.caption=b.getCA()}},Un.prototype.createOption=function(b){var y=new ki;return y.Parent=this,y.optionName=b,this.Kids.push(y),er.call(this.scope,y),y};var si=function(){Xt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ln.CheckBox.createAppearanceStream()};lr(si,Xt);var mi=function(){Z.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Sr(this.Ff,13))},set:function(y){this.Ff=!0===Boolean(y)?Yi(this.Ff,13):Si(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Sr(this.Ff,21))},set:function(y){this.Ff=!0===Boolean(y)?Yi(this.Ff,21):Si(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Sr(this.Ff,23))},set:function(y){this.Ff=!0===Boolean(y)?Yi(this.Ff,23):Si(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Sr(this.Ff,24))},set:function(y){this.Ff=!0===Boolean(y)?Yi(this.Ff,24):Si(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Sr(this.Ff,25))},set:function(y){this.Ff=!0===Boolean(y)?Yi(this.Ff,25):Si(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Sr(this.Ff,26))},set:function(y){this.Ff=!0===Boolean(y)?Yi(this.Ff,26):Si(this.Ff,26)}});var b=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return b},set:function(y){b=y}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return b},set:function(y){Number.isInteger(y)&&(b=y)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};lr(mi,Z);var Zn=function(){mi.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Sr(this.Ff,14))},set:function(b){this.Ff=!0===Boolean(b)?Yi(this.Ff,14):Si(this.Ff,14)}}),this.password=!0};lr(Zn,mi);var Ln={CheckBox:{createAppearanceStream:function(){return{N:{On:Ln.CheckBox.YesNormal},D:{On:Ln.CheckBox.YesPushDown,Off:Ln.CheckBox.OffPushDown}}},YesPushDown:function(b){var y=zr(b);y.scope=b.scope;var v=[],x=b.scope.internal.getFont(b.fontName,b.fontStyle).id,L=b.scope.__private__.encodeColorString(b.color),T=So(b,b.caption);return v.push("0.749023 g"),v.push("0 0 "+Xn(Ln.internal.getWidth(b))+" "+Xn(Ln.internal.getHeight(b))+" re"),v.push("f"),v.push("BMC"),v.push("q"),v.push("0 0 1 rg"),v.push("/"+x+" "+Xn(T.fontSize)+" Tf "+L),v.push("BT"),v.push(T.text),v.push("ET"),v.push("Q"),v.push("EMC"),y.stream=v.join("\n"),y},YesNormal:function(b){var y=zr(b);y.scope=b.scope;var v=b.scope.internal.getFont(b.fontName,b.fontStyle).id,x=b.scope.__private__.encodeColorString(b.color),L=[],T=Ln.internal.getHeight(b),V=Ln.internal.getWidth(b),Y=So(b,b.caption);return L.push("1 g"),L.push("0 0 "+Xn(V)+" "+Xn(T)+" re"),L.push("f"),L.push("q"),L.push("0 0 1 rg"),L.push("0 0 "+Xn(V-1)+" "+Xn(T-1)+" re"),L.push("W"),L.push("n"),L.push("0 g"),L.push("BT"),L.push("/"+v+" "+Xn(Y.fontSize)+" Tf "+x),L.push(Y.text),L.push("ET"),L.push("Q"),y.stream=L.join("\n"),y},OffPushDown:function(b){var y=zr(b);y.scope=b.scope;var v=[];return v.push("0.749023 g"),v.push("0 0 "+Xn(Ln.internal.getWidth(b))+" "+Xn(Ln.internal.getHeight(b))+" re"),v.push("f"),y.stream=v.join("\n"),y}},RadioButton:{Circle:{createAppearanceStream:function(b){var y={D:{Off:Ln.RadioButton.Circle.OffPushDown},N:{}};return y.N[b]=Ln.RadioButton.Circle.YesNormal,y.D[b]=Ln.RadioButton.Circle.YesPushDown,y},getCA:function(){return"l"},YesNormal:function(b){var y=zr(b);y.scope=b.scope;var v=[],x=Ln.internal.getWidth(b)<=Ln.internal.getHeight(b)?Ln.internal.getWidth(b)/4:Ln.internal.getHeight(b)/4;x=Number((.9*x).toFixed(5));var T=Number((x*Ln.internal.Bezier_C).toFixed(5));return v.push("q"),v.push("1 0 0 1 "+Ms(Ln.internal.getWidth(b)/2)+" "+Ms(Ln.internal.getHeight(b)/2)+" cm"),v.push(x+" 0 m"),v.push(x+" "+T+" "+T+" "+x+" 0 "+x+" c"),v.push("-"+T+" "+x+" -"+x+" "+T+" -"+x+" 0 c"),v.push("-"+x+" -"+T+" -"+T+" -"+x+" 0 -"+x+" c"),v.push(T+" -"+x+" "+x+" -"+T+" "+x+" 0 c"),v.push("f"),v.push("Q"),y.stream=v.join("\n"),y},YesPushDown:function(b){var y=zr(b);y.scope=b.scope;var v=[],x=Ln.internal.getWidth(b)<=Ln.internal.getHeight(b)?Ln.internal.getWidth(b)/4:Ln.internal.getHeight(b)/4;x=Number((.9*x).toFixed(5));var L=Number((2*x).toFixed(5)),T=Number((L*Ln.internal.Bezier_C).toFixed(5)),V=Number((x*Ln.internal.Bezier_C).toFixed(5));return v.push("0.749023 g"),v.push("q"),v.push("1 0 0 1 "+Ms(Ln.internal.getWidth(b)/2)+" "+Ms(Ln.internal.getHeight(b)/2)+" cm"),v.push(L+" 0 m"),v.push(L+" "+T+" "+T+" "+L+" 0 "+L+" c"),v.push("-"+T+" "+L+" -"+L+" "+T+" -"+L+" 0 c"),v.push("-"+L+" -"+T+" -"+T+" -"+L+" 0 -"+L+" c"),v.push(T+" -"+L+" "+L+" -"+T+" "+L+" 0 c"),v.push("f"),v.push("Q"),v.push("0 g"),v.push("q"),v.push("1 0 0 1 "+Ms(Ln.internal.getWidth(b)/2)+" "+Ms(Ln.internal.getHeight(b)/2)+" cm"),v.push(x+" 0 m"),v.push(x+" "+V+" "+V+" "+x+" 0 "+x+" c"),v.push("-"+V+" "+x+" -"+x+" "+V+" -"+x+" 0 c"),v.push("-"+x+" -"+V+" -"+V+" -"+x+" 0 -"+x+" c"),v.push(V+" -"+x+" "+x+" -"+V+" "+x+" 0 c"),v.push("f"),v.push("Q"),y.stream=v.join("\n"),y},OffPushDown:function(b){var y=zr(b);y.scope=b.scope;var v=[],x=Ln.internal.getWidth(b)<=Ln.internal.getHeight(b)?Ln.internal.getWidth(b)/4:Ln.internal.getHeight(b)/4;x=Number((.9*x).toFixed(5));var L=Number((2*x).toFixed(5)),T=Number((L*Ln.internal.Bezier_C).toFixed(5));return v.push("0.749023 g"),v.push("q"),v.push("1 0 0 1 "+Ms(Ln.internal.getWidth(b)/2)+" "+Ms(Ln.internal.getHeight(b)/2)+" cm"),v.push(L+" 0 m"),v.push(L+" "+T+" "+T+" "+L+" 0 "+L+" c"),v.push("-"+T+" "+L+" -"+L+" "+T+" -"+L+" 0 c"),v.push("-"+L+" -"+T+" -"+T+" -"+L+" 0 -"+L+" c"),v.push(T+" -"+L+" "+L+" -"+T+" "+L+" 0 c"),v.push("f"),v.push("Q"),y.stream=v.join("\n"),y}},Cross:{createAppearanceStream:function(b){var y={D:{Off:Ln.RadioButton.Cross.OffPushDown},N:{}};return y.N[b]=Ln.RadioButton.Cross.YesNormal,y.D[b]=Ln.RadioButton.Cross.YesPushDown,y},getCA:function(){return"8"},YesNormal:function(b){var y=zr(b);y.scope=b.scope;var v=[],x=Ln.internal.calculateCross(b);return v.push("q"),v.push("1 1 "+Xn(Ln.internal.getWidth(b)-2)+" "+Xn(Ln.internal.getHeight(b)-2)+" re"),v.push("W"),v.push("n"),v.push(Xn(x.x1.x)+" "+Xn(x.x1.y)+" m"),v.push(Xn(x.x2.x)+" "+Xn(x.x2.y)+" l"),v.push(Xn(x.x4.x)+" "+Xn(x.x4.y)+" m"),v.push(Xn(x.x3.x)+" "+Xn(x.x3.y)+" l"),v.push("s"),v.push("Q"),y.stream=v.join("\n"),y},YesPushDown:function(b){var y=zr(b);y.scope=b.scope;var v=Ln.internal.calculateCross(b),x=[];return x.push("0.749023 g"),x.push("0 0 "+Xn(Ln.internal.getWidth(b))+" "+Xn(Ln.internal.getHeight(b))+" re"),x.push("f"),x.push("q"),x.push("1 1 "+Xn(Ln.internal.getWidth(b)-2)+" "+Xn(Ln.internal.getHeight(b)-2)+" re"),x.push("W"),x.push("n"),x.push(Xn(v.x1.x)+" "+Xn(v.x1.y)+" m"),x.push(Xn(v.x2.x)+" "+Xn(v.x2.y)+" l"),x.push(Xn(v.x4.x)+" "+Xn(v.x4.y)+" m"),x.push(Xn(v.x3.x)+" "+Xn(v.x3.y)+" l"),x.push("s"),x.push("Q"),y.stream=x.join("\n"),y},OffPushDown:function(b){var y=zr(b);y.scope=b.scope;var v=[];return v.push("0.749023 g"),v.push("0 0 "+Xn(Ln.internal.getWidth(b))+" "+Xn(Ln.internal.getHeight(b))+" re"),v.push("f"),y.stream=v.join("\n"),y}}},createDefaultAppearanceStream:function(b){var y=b.scope.internal.getFont(b.fontName,b.fontStyle).id,v=b.scope.__private__.encodeColorString(b.color);return"/"+y+" "+b.fontSize+" Tf "+v}};Ln.internal={Bezier_C:.551915024494,calculateCross:function(b){var y=Ln.internal.getWidth(b),v=Ln.internal.getHeight(b),x=Math.min(y,v);return{x1:{x:(y-x)/2,y:(v-x)/2+x},x2:{x:(y-x)/2+x,y:(v-x)/2},x3:{x:(y-x)/2,y:(v-x)/2},x4:{x:(y-x)/2+x,y:(v-x)/2+x}}}},Ln.internal.getWidth=function(b){var y=0;return"object"===ht(b)&&(y=ys(b.Rect[2])),y},Ln.internal.getHeight=function(b){var y=0;return"object"===ht(b)&&(y=ys(b.Rect[3])),y};var b,y,er=tn.addField=function(b){if(function(b,y){if(y.scope=b,void 0!==b.internal&&(void 0===b.internal.acroformPlugin||!1===b.internal.acroformPlugin.isInitialized)){if(Z.FieldNum=0,b.internal.acroformPlugin=JSON.parse(JSON.stringify(rc)),b.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ei=b.internal.scaleFactor,b.internal.acroformPlugin.acroFormDictionaryRoot=new ac,b.internal.acroformPlugin.acroFormDictionaryRoot.scope=b,b.internal.acroformPlugin.acroFormDictionaryRoot._eventID=b.internal.events.subscribe("postPutResources",function(){var v;(v=b).internal.events.unsubscribe(v.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete v.internal.acroformPlugin.acroFormDictionaryRoot._eventID,v.internal.acroformPlugin.printedOut=!0}),b.internal.events.subscribe("buildDocument",function(){!function(v){v.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var x=v.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var L in x)if(x.hasOwnProperty(L)){var T=x[L];T.objId=void 0,T.hasAnnotation&&sc(T,v)}}(b)}),b.internal.events.subscribe("putCatalog",function(){!function(v){if(void 0===v.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");v.internal.write("/AcroForm "+v.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(b)}),b.internal.events.subscribe("postPutPages",function(v){!function(x,L){var T=!x;for(var V in x||(L.internal.newObjectDeferredBegin(L.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),L.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),x=x||L.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(x.hasOwnProperty(V)){var Y=x[V],$=[],ae=Y.Rect;if(Y.Rect&&(Y.Rect=eo(Y.Rect,L)),L.internal.newObjectDeferredBegin(Y.objId,!0),Y.DA=Ln.createDefaultAppearanceStream(Y),"object"===ht(Y)&&"function"==typeof Y.getKeyValueListForStream&&($=Y.getKeyValueListForStream()),Y.Rect=ae,Y.hasAppearanceStream&&!Y.appearanceStreamContent){var Ae=ic(Y);$.push({key:"AP",value:"<</N "+Ae+">>"}),L.internal.acroformPlugin.xForms.push(Ae)}if(Y.appearanceStreamContent){var Re="";for(var Ge in Y.appearanceStreamContent)if(Y.appearanceStreamContent.hasOwnProperty(Ge)){var oe=Y.appearanceStreamContent[Ge];if(Re+="/"+Ge+" ",Re+="<<",Object.keys(oe).length>=1||Array.isArray(oe)){for(var V in oe)if(oe.hasOwnProperty(V)){var ft=oe[V];"function"==typeof ft&&(ft=ft.call(L,Y)),Re+="/"+V+" "+ft+" ",L.internal.acroformPlugin.xForms.indexOf(ft)>=0||L.internal.acroformPlugin.xForms.push(ft)}}else"function"==typeof(ft=oe)&&(ft=ft.call(L,Y)),Re+="/"+V+" "+ft,L.internal.acroformPlugin.xForms.indexOf(ft)>=0||L.internal.acroformPlugin.xForms.push(ft);Re+=">>"}$.push({key:"AP",value:"<<\n"+Re+">>"})}L.internal.putStream({additionalKeyValues:$,objectId:Y.objId}),L.internal.out("endobj")}T&&function(b,y){for(var v in b)if(b.hasOwnProperty(v)){var x=v,L=b[v];y.internal.newObjectDeferredBegin(L.objId,!0),"object"===ht(L)&&"function"==typeof L.putStream&&L.putStream(),delete b[x]}}(L.internal.acroformPlugin.xForms,L)}(v,b)}),b.internal.acroformPlugin.isInitialized=!0}}(this,b),!(b instanceof Z))throw new Error("Invalid argument passed to jsPDF.addField.");var y;return(y=b).scope.internal.acroformPlugin.printedOut&&(y.scope.internal.acroformPlugin.printedOut=!1,y.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),y.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(y),b.page=b.scope.internal.getCurrentPageInfo().pageNumber,this};function no(b){return b.reduce(function(y,v,x){return y[v]=x,y},{})}tn.AcroFormChoiceField=ve,tn.AcroFormListBox=ee,tn.AcroFormComboBox=Le,tn.AcroFormEditBox=xt,tn.AcroFormButton=Xt,tn.AcroFormPushButton=_n,tn.AcroFormRadioButton=Un,tn.AcroFormCheckBox=si,tn.AcroFormTextField=mi,tn.AcroFormPasswordField=Zn,tn.AcroFormAppearance=Ln,tn.AcroForm={ChoiceField:ve,ListBox:ee,ComboBox:Le,EditBox:xt,Button:Xt,PushButton:_n,RadioButton:Un,CheckBox:si,TextField:mi,PasswordField:Zn,Appearance:Ln},ni.AcroForm={ChoiceField:ve,ListBox:ee,ComboBox:Le,EditBox:xt,Button:Xt,PushButton:_n,RadioButton:Un,CheckBox:si,TextField:mi,PasswordField:Zn,Appearance:Ln},function(b){b.__addimage__={};var y="UNKNOWN",v={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},x=b.__addimage__.getImageFileTypeByImageData=function(lt,at){var kt,Et,ln,nn,mn,en=y;if("RGBA"===(at=at||y)||void 0!==lt.data&&lt.data instanceof Uint8ClampedArray&&"height"in lt&&"width"in lt)return"RGBA";if(xn(lt))for(mn in v)for(ln=v[mn],kt=0;kt<ln.length;kt+=1){for(nn=!0,Et=0;Et<ln[kt].length;Et+=1)if(void 0!==ln[kt][Et]&&ln[kt][Et]!==lt[Et]){nn=!1;break}if(!0===nn){en=mn;break}}else for(mn in v)for(ln=v[mn],kt=0;kt<ln.length;kt+=1){for(nn=!0,Et=0;Et<ln[kt].length;Et+=1)if(void 0!==ln[kt][Et]&&ln[kt][Et]!==lt.charCodeAt(Et)){nn=!1;break}if(!0===nn){en=mn;break}}return en===y&&at!==y&&(en=at),en},L=function lt(at){for(var kt=this.internal.write,Et=this.internal.putStream,ln=(0,this.internal.getFilters)();-1!==ln.indexOf("FlateEncode");)ln.splice(ln.indexOf("FlateEncode"),1);at.objectId=this.internal.newObject();var nn=[];if(nn.push({key:"Type",value:"/XObject"}),nn.push({key:"Subtype",value:"/Image"}),nn.push({key:"Width",value:at.width}),nn.push({key:"Height",value:at.height}),at.colorSpace===bt.INDEXED?nn.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(at.palette.length/3-1)+" "+("sMask"in at&&void 0!==at.sMask?at.objectId+2:at.objectId+1)+" 0 R]"}):(nn.push({key:"ColorSpace",value:"/"+at.colorSpace}),at.colorSpace===bt.DEVICE_CMYK&&nn.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),nn.push({key:"BitsPerComponent",value:at.bitsPerComponent}),"decodeParameters"in at&&void 0!==at.decodeParameters&&nn.push({key:"DecodeParms",value:"<<"+at.decodeParameters+">>"}),"transparency"in at&&Array.isArray(at.transparency)){for(var mn="",en=0,cn=at.transparency.length;en<cn;en++)mn+=at.transparency[en]+" "+at.transparency[en]+" ";nn.push({key:"Mask",value:"["+mn+"]"})}if(void 0!==at.sMask&&nn.push({key:"SMask",value:at.objectId+1+" 0 R"}),Et({data:at.data,additionalKeyValues:nn,alreadyAppliedFilters:void 0!==at.filter?["/"+at.filter]:void 0,objectId:at.objectId}),kt("endobj"),"sMask"in at&&void 0!==at.sMask){var ke={width:at.width,height:at.height,colorSpace:"DeviceGray",bitsPerComponent:at.bitsPerComponent,decodeParameters:"/Predictor "+at.predictor+" /Colors 1 /BitsPerComponent "+at.bitsPerComponent+" /Columns "+at.width,data:at.sMask};"filter"in at&&(ke.filter=at.filter),lt.call(this,ke)}if(at.colorSpace===bt.INDEXED){var mt=this.internal.newObject();Et({data:St(new Uint8Array(at.palette)),objectId:mt}),kt("endobj")}},T=function(){var lt=this.internal.collections.addImage_images;for(var at in lt)L.call(this,lt[at])},V=function(){var lt,at=this.internal.collections.addImage_images,kt=this.internal.write;for(var Et in at)kt("/I"+(lt=at[Et]).index,lt.objectId,"0","R")},Y=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",T),this.internal.events.subscribe("putXobjectDict",V))},$=function(){var lt=this.internal.collections.addImage_images;return Y.call(this),lt},ae=function(){return Object.keys(this.internal.collections.addImage_images).length},Ae=function(lt){return"function"==typeof b["process"+lt.toUpperCase()]},Re=function(lt){return"object"===ht(lt)&&1===lt.nodeType},Ge=function(lt,at){if("IMG"===lt.nodeName&&lt.hasAttribute("src")){var kt=""+lt.getAttribute("src");if(0===kt.indexOf("data:image/"))return bo(unescape(kt).split("base64,").pop());var Et=b.loadFile(kt,!0);if(void 0!==Et)return Et}if("CANVAS"===lt.nodeName){if(0===lt.width||0===lt.height)throw new Error("Given canvas must have data. Canvas width: "+lt.width+", height: "+lt.height);var ln;switch(at){case"PNG":ln="image/png";break;case"WEBP":ln="image/webp";break;default:ln="image/jpeg"}return bo(lt.toDataURL(ln,1).split("base64,").pop())}},oe=function(lt){var at=this.internal.collections.addImage_images;if(at)for(var kt in at)if(lt===at[kt].alias)return at[kt]},ft=function(lt,at,kt){return lt||at||(lt=-96,at=-96),lt<0&&(lt=-1*kt.width*72/lt/this.internal.scaleFactor),at<0&&(at=-1*kt.height*72/at/this.internal.scaleFactor),0===lt&&(lt=at*kt.width/kt.height),0===at&&(at=lt*kt.height/kt.width),[lt,at]},rt=function(lt,at,kt,Et,ln,nn){var mn=ft.call(this,kt,Et,ln),en=this.internal.getCoordinateString,cn=this.internal.getVerticalCoordinateString,gn=$.call(this);if(kt=mn[0],Et=mn[1],gn[ln.index]=ln,nn){nn*=Math.PI/180;var Nn=Math.cos(nn),ke=Math.sin(nn),mt=function(E){return E.toFixed(4)},At=[mt(Nn),mt(ke),mt(-1*ke),mt(Nn),0,0,"cm"]}this.internal.write("q"),nn?(this.internal.write([1,"0","0",1,en(lt),cn(at+Et),"cm"].join(" ")),this.internal.write(At.join(" ")),this.internal.write([en(kt),"0","0",en(Et),"0","0","cm"].join(" "))):this.internal.write([en(kt),"0","0",en(Et),en(lt),cn(at+Et),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ln.index+" Do"),this.internal.write("Q")},bt=b.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};b.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var tt=b.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},gt=b.__addimage__.sHashCode=function(lt){var at,kt,Et=0;if("string"==typeof lt)for(kt=lt.length,at=0;at<kt;at++)Et=(Et<<5)-Et+lt.charCodeAt(at),Et|=0;else if(xn(lt))for(kt=lt.byteLength/2,at=0;at<kt;at++)Et=(Et<<5)-Et+lt[at],Et|=0;return Et},Tt=b.__addimage__.validateStringAsBase64=function(lt){(lt=lt||"").toString().trim();var at=!0;return 0===lt.length&&(at=!1),lt.length%4!=0&&(at=!1),!1===/^[A-Za-z0-9+/]+$/.test(lt.substr(0,lt.length-2))&&(at=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(lt.substr(-2))&&(at=!1),at},Yt=b.__addimage__.extractImageFromDataUrl=function(lt){var at=(lt=lt||"").split("base64,"),kt=null;if(2===at.length){var Et=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(at[0]);Array.isArray(Et)&&(kt={mimeType:Et[1],charset:Et[2],data:at[1]})}return kt},rn=b.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};b.__addimage__.isArrayBuffer=function(lt){return rn()&&lt instanceof ArrayBuffer};var xn=b.__addimage__.isArrayBufferView=function(lt){return rn()&&typeof Uint32Array<"u"&&(lt instanceof Int8Array||lt instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&lt instanceof Uint8ClampedArray||lt instanceof Int16Array||lt instanceof Uint16Array||lt instanceof Int32Array||lt instanceof Uint32Array||lt instanceof Float32Array||lt instanceof Float64Array)},Jt=b.__addimage__.binaryStringToUint8Array=function(lt){for(var at=lt.length,kt=new Uint8Array(at),Et=0;Et<at;Et++)kt[Et]=lt.charCodeAt(Et);return kt},St=b.__addimage__.arrayBufferToBinaryString=function(lt){for(var at="",kt=xn(lt)?lt:new Uint8Array(lt),Et=0;Et<kt.length;Et+=8192)at+=String.fromCharCode.apply(null,kt.subarray(Et,Et+8192));return at};b.addImage=function(){var lt,at,kt,Et,ln,nn,mn,en,cn;if("number"==typeof arguments[1]?(at=y,kt=arguments[1],Et=arguments[2],ln=arguments[3],nn=arguments[4],mn=arguments[5],en=arguments[6],cn=arguments[7]):(at=arguments[1],kt=arguments[2],Et=arguments[3],ln=arguments[4],nn=arguments[5],mn=arguments[6],en=arguments[7],cn=arguments[8]),"object"===ht(lt=arguments[0])&&!Re(lt)&&"imageData"in lt){var gn=lt;lt=gn.imageData,at=gn.format||at||y,kt=gn.x||kt||0,Et=gn.y||Et||0,ln=gn.w||gn.width||ln,nn=gn.h||gn.height||nn,mn=gn.alias||mn,en=gn.compression||en,cn=gn.rotation||gn.angle||cn}var Nn=this.internal.getFilters();if(void 0===en&&-1!==Nn.indexOf("FlateEncode")&&(en="SLOW"),isNaN(kt)||isNaN(Et))throw new Error("Invalid coordinates passed to jsPDF.addImage");Y.call(this);var ke=dn.call(this,lt,at,mn,en);return rt.call(this,kt,Et,ln,nn,ke,cn),this};var dn=function(lt,at,kt,Et){var ln,nn,mn,cn;if("string"==typeof lt&&x(lt)===y){lt=unescape(lt);var en=vn(lt,!1);(""!==en||void 0!==(en=b.loadFile(lt,!0)))&&(lt=en)}if(Re(lt)&&(lt=Ge(lt,at)),at=x(lt,at),!Ae(at))throw new Error("addImage does not support files of type '"+at+"', please ensure that a plugin for '"+at+"' support is added.");if((null==(mn=kt)||0===mn.length)&&(kt="string"==typeof(cn=lt)||xn(cn)?gt(cn):xn(cn.data)?gt(cn.data):null),(ln=oe.call(this,kt))||(rn()&&(lt instanceof Uint8Array||"RGBA"===at||(nn=lt,lt=Jt(lt))),ln=this["process"+at.toUpperCase()](lt,ae.call(this),kt,function(cn){return cn&&"string"==typeof cn&&(cn=cn.toUpperCase()),cn in b.image_compression?cn:tt.NONE}(Et),nn)),!ln)throw new Error("An unknown error occurred whilst processing the image.");return ln},vn=b.__addimage__.convertBase64ToBinaryString=function(lt,at){var kt;at="boolean"!=typeof at||at;var Et,ln="";if("string"==typeof lt){Et=null!==(kt=Yt(lt))?kt.data:lt;try{ln=bo(Et)}catch(nn){if(at)throw Tt(Et)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+nn.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ln};b.getImageProperties=function(lt){var at,kt,Et="";if(Re(lt)&&(lt=Ge(lt)),"string"==typeof lt&&x(lt)===y&&(""===(Et=vn(lt,!1))&&(Et=b.loadFile(lt)||""),lt=Et),kt=x(lt),!Ae(kt))throw new Error("addImage does not support files of type '"+kt+"', please ensure that a plugin for '"+kt+"' support is added.");if(!rn()||lt instanceof Uint8Array||(lt=Jt(lt)),!(at=this["process"+kt.toUpperCase()](lt)))throw new Error("An unknown error occurred whilst processing the image");return at.fileType=kt,at}}(ni.API),b=ni.API,y=function(v){if(void 0!==v&&""!=v)return!0},ni.API.events.push(["addPage",function(v){this.internal.getPageInfo(v.pageNumber).pageContext.annotations=[]}]),b.events.push(["putPage",function(v){for(var x,L,T,V=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,$=this.internal.getPageInfoByObjId(v.objId),ae=v.pageContext.annotations,Ae=!1,Re=0;Re<ae.length&&!Ae;Re++)switch((x=ae[Re]).type){case"link":(y(x.options.url)||y(x.options.pageNumber))&&(Ae=!0);break;case"reference":case"text":case"freetext":Ae=!0}if(0!=Ae){this.internal.write("/Annots [");for(var Ge=0;Ge<ae.length;Ge++){x=ae[Ge];var oe=this.internal.pdfEscape,ft=this.internal.getEncryptor(v.objId);switch(x.type){case"reference":this.internal.write(" "+x.object.objId+" 0 R ");break;case"text":var rt=this.internal.newAdditionalObject(),bt=this.internal.newAdditionalObject(),tt=this.internal.getEncryptor(rt.objId),gt=x.title||"Note";T="<</Type /Annot /Subtype /Text "+(L="/Rect ["+V(x.bounds.x)+" "+Y(x.bounds.y+x.bounds.h)+" "+V(x.bounds.x+x.bounds.w)+" "+Y(x.bounds.y)+"] ")+"/Contents ("+oe(tt(x.contents))+")",T+=" /Popup "+bt.objId+" 0 R",T+=" /P "+$.objId+" 0 R",T+=" /T ("+oe(tt(gt))+") >>",rt.content=T;var Tt=rt.objId+" 0 R";T="<</Type /Annot /Subtype /Popup "+(L="/Rect ["+V(x.bounds.x+30)+" "+Y(x.bounds.y+x.bounds.h)+" "+V(x.bounds.x+x.bounds.w+30)+" "+Y(x.bounds.y)+"] ")+" /Parent "+Tt,x.open&&(T+=" /Open true"),bt.content=T+=" >>",this.internal.write(rt.objId,"0 R",bt.objId,"0 R");break;case"freetext":L="/Rect ["+V(x.bounds.x)+" "+Y(x.bounds.y)+" "+V(x.bounds.x+x.bounds.w)+" "+Y(x.bounds.y+x.bounds.h)+"] ";var Yt=x.color||"#000000";T="<</Type /Annot /Subtype /FreeText "+L+"/Contents ("+oe(ft(x.contents))+")",T+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Yt+")",T+=" /Border [0 0 0]",this.internal.write(T+=" >>");break;case"link":if(x.options.name){var rn=this.annotations._nameMap[x.options.name];x.options.pageNumber=rn.page,x.options.top=rn.y}else x.options.top||(x.options.top=0);if(L="/Rect ["+x.finalBounds.x+" "+x.finalBounds.y+" "+x.finalBounds.w+" "+x.finalBounds.h+"] ",T="",x.options.url)T="<</Type /Annot /Subtype /Link "+L+"/Border [0 0 0] /A <</S /URI /URI ("+oe(ft(x.options.url))+") >>";else if(x.options.pageNumber)switch(T="<</Type /Annot /Subtype /Link "+L+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(x.options.pageNumber).objId+" 0 R",x.options.magFactor=x.options.magFactor||"XYZ",x.options.magFactor){case"Fit":T+=" /Fit]";break;case"FitH":T+=" /FitH "+x.options.top+"]";break;case"FitV":x.options.left=x.options.left||0,T+=" /FitV "+x.options.left+"]";break;default:var xn=Y(x.options.top);x.options.left=x.options.left||0,void 0===x.options.zoom&&(x.options.zoom=0),T+=" /XYZ "+x.options.left+" "+xn+" "+x.options.zoom+"]"}""!=T&&this.internal.write(T+=" >>")}}this.internal.write("]")}}]),b.createAnnotation=function(v){var x=this.internal.getCurrentPageInfo();switch(v.type){case"link":this.link(v.bounds.x,v.bounds.y,v.bounds.w,v.bounds.h,v);break;case"text":case"freetext":x.pageContext.annotations.push(v)}},b.link=function(v,x,L,T,V){var Y=this.internal.getCurrentPageInfo(),$=this.internal.getCoordinateString,ae=this.internal.getVerticalCoordinateString;Y.pageContext.annotations.push({finalBounds:{x:$(v),y:ae(x),w:$(v+L),h:ae(x+T)},options:V,type:"link"})},b.textWithLink=function(v,x,L,T){var V,Y,$=this.getTextWidth(v),ae=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==T.maxWidth){var Ae=this.splitTextToSize(v,Y=T.maxWidth).length;V=Math.ceil(ae*Ae)}else Y=$,V=ae;return this.text(v,x,L,T),"center"===T.align&&(x-=$/2),"right"===T.align&&(x-=$),this.link(x,(L+=.2*ae)-ae,Y,V,T),$},b.getTextWidth=function(v){var x=this.internal.getFontSize();return this.getStringUnitWidth(v)*x/this.internal.scaleFactor},function(b){var y={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},v={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},x={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},L=[1570,1571,1573,1575];b.__arabicParser__={};var T=b.__arabicParser__.isInArabicSubstitutionA=function(rt){return void 0!==y[rt.charCodeAt(0)]},V=b.__arabicParser__.isArabicLetter=function(rt){return"string"==typeof rt&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(rt)},Y=b.__arabicParser__.isArabicEndLetter=function(rt){return V(rt)&&T(rt)&&y[rt.charCodeAt(0)].length<=2},$=b.__arabicParser__.isArabicAlfLetter=function(rt){return V(rt)&&L.indexOf(rt.charCodeAt(0))>=0};b.__arabicParser__.arabicLetterHasIsolatedForm=function(rt){return V(rt)&&T(rt)&&y[rt.charCodeAt(0)].length>=1};var ae=b.__arabicParser__.arabicLetterHasFinalForm=function(rt){return V(rt)&&T(rt)&&y[rt.charCodeAt(0)].length>=2};b.__arabicParser__.arabicLetterHasInitialForm=function(rt){return V(rt)&&T(rt)&&y[rt.charCodeAt(0)].length>=3};var Ae=b.__arabicParser__.arabicLetterHasMedialForm=function(rt){return V(rt)&&T(rt)&&4==y[rt.charCodeAt(0)].length},Re=b.__arabicParser__.resolveLigatures=function(rt){var bt=0,tt=v,gt="",Tt=0;for(bt=0;bt<rt.length;bt+=1)void 0!==tt[rt.charCodeAt(bt)]?(Tt++,"number"==typeof(tt=tt[rt.charCodeAt(bt)])&&(gt+=String.fromCharCode(tt),tt=v,Tt=0),bt===rt.length-1&&(tt=v,gt+=rt.charAt(bt-(Tt-1)),bt-=Tt-1,Tt=0)):(tt=v,gt+=rt.charAt(bt-Tt),bt-=Tt,Tt=0);return gt};b.__arabicParser__.isArabicDiacritic=function(rt){return void 0!==rt&&void 0!==x[rt.charCodeAt(0)]};var Ge=b.__arabicParser__.getCorrectForm=function(rt,bt,tt){return V(rt)?!1===T(rt)?-1:!ae(rt)||!V(bt)&&!V(tt)||!V(tt)&&Y(bt)||Y(rt)&&!V(bt)||Y(rt)&&$(bt)||Y(rt)&&Y(bt)?0:Ae(rt)&&V(bt)&&!Y(bt)&&V(tt)&&ae(tt)?3:Y(rt)||!V(tt)?1:2:-1},oe=function(rt){var bt=0,tt=0,gt=0,Tt="",Yt="",rn="",xn=(rt=rt||"").split("\\s+"),Jt=[];for(bt=0;bt<xn.length;bt+=1){for(Jt.push(""),tt=0;tt<xn[bt].length;tt+=1)Yt=xn[bt][tt-1],rn=xn[bt][tt+1],V(Tt=xn[bt][tt])?(gt=Ge(Tt,Yt,rn),Jt[bt]+=-1!==gt?String.fromCharCode(y[Tt.charCodeAt(0)][gt]):Tt):Jt[bt]+=Tt;Jt[bt]=Re(Jt[bt])}return Jt.join(" ")},ft=b.__arabicParser__.processArabic=b.processArabic=function(){var rt,bt="string"==typeof arguments[0]?arguments[0]:arguments[0].text,tt=[];if(Array.isArray(bt)){var gt=0;for(tt=[],gt=0;gt<bt.length;gt+=1)Array.isArray(bt[gt])?tt.push([oe(bt[gt][0]),bt[gt][1],bt[gt][2]]):tt.push([oe(bt[gt])]);rt=tt}else rt=oe(bt);return"string"==typeof arguments[0]?rt:(arguments[0].text=rt,arguments[0])};b.events.push(["preProcessText",ft])}(ni.API),ni.API.autoPrint=function(b){var y;return"javascript"===((b=b||{}).variant=b.variant||"non-conform",b.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){y=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+y+" 0 R")})),this},function(b){var y=function(){var v=void 0;Object.defineProperty(this,"pdf",{get:function(){return v},set:function(Y){v=Y}});var x=150;Object.defineProperty(this,"width",{get:function(){return x},set:function(Y){x=isNaN(Y)||!1===Number.isInteger(Y)||Y<0?150:Y,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=x+1)}});var L=300;Object.defineProperty(this,"height",{get:function(){return L},set:function(Y){L=isNaN(Y)||!1===Number.isInteger(Y)||Y<0?300:Y,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=L+1)}});var T=[];Object.defineProperty(this,"childNodes",{get:function(){return T},set:function(Y){T=Y}});var V={};Object.defineProperty(this,"style",{get:function(){return V},set:function(Y){V=Y}}),Object.defineProperty(this,"parentNode",{})};y.prototype.getContext=function(v,x){var L;if("2d"!==(v=v||"2d"))return null;for(L in x)this.pdf.context2d.hasOwnProperty(L)&&(this.pdf.context2d[L]=x[L]);return this.pdf.context2d._canvas=this,this.pdf.context2d},y.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},b.events.push(["initialized",function(){this.canvas=new y,this.canvas.pdf=this}])}(ni.API),function(b){var y={left:0,top:0,bottom:0,right:0},v=!1,x=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},y),this.internal.__cell__.margins.width=this.getPageWidth(),L.call(this))},L=function(){this.internal.__cell__.lastCell=new T,this.internal.__cell__.pages=1},T=function(){var $=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return $},set:function(rt){$=rt}});var ae=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ae},set:function(rt){ae=rt}});var Ae=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return Ae},set:function(rt){Ae=rt}});var Re=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return Re},set:function(rt){Re=rt}});var Ge=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return Ge},set:function(rt){Ge=rt}});var oe=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return oe},set:function(rt){oe=rt}});var ft=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return ft},set:function(rt){ft=rt}}),this};T.prototype.clone=function(){return new T(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},T.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},b.setHeaderFunction=function($){return x.call(this),this.internal.__cell__.headerFunction="function"==typeof $?$:void 0,this},b.getTextDimensions=function($,ae){x.call(this);var Ae=(ae=ae||{}).fontSize||this.getFontSize(),Re=ae.font||this.getFont(),Ge=ae.scaleFactor||this.internal.scaleFactor,oe=0,ft=0,rt=0,bt=this;if(!Array.isArray($)&&"string"!=typeof $){if("number"!=typeof $)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");$=String($)}var tt=ae.maxWidth;tt>0?"string"==typeof $?$=this.splitTextToSize($,tt):"[object Array]"===Object.prototype.toString.call($)&&($=$.reduce(function(Tt,Yt){return Tt.concat(bt.splitTextToSize(Yt,tt))},[])):$=Array.isArray($)?$:[$];for(var gt=0;gt<$.length;gt++)oe<(rt=this.getStringUnitWidth($[gt],{font:Re})*Ae)&&(oe=rt);return 0!==oe&&(ft=$.length),{w:oe/=Ge,h:Math.max((ft*Ae*this.getLineHeightFactor()-Ae*(this.getLineHeightFactor()-1))/Ge,0)}},b.cellAddPage=function(){x.call(this),this.addPage();var $=this.internal.__cell__.margins||y;return this.internal.__cell__.lastCell=new T($.left,$.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var V=b.cell=function(){var $;$=arguments[0]instanceof T?arguments[0]:new T(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),x.call(this);var ae=this.internal.__cell__.lastCell,Ae=this.internal.__cell__.padding,Re=this.internal.__cell__.margins||y,Ge=this.internal.__cell__.tableHeaderRow,oe=this.internal.__cell__.printHeaders;return void 0!==ae.lineNumber&&(ae.lineNumber===$.lineNumber?($.x=(ae.x||0)+(ae.width||0),$.y=ae.y||0):ae.y+ae.height+$.height+Re.bottom>this.getPageHeight()?(this.cellAddPage(),$.y=Re.top,oe&&Ge&&(this.printHeaderRow($.lineNumber,!0),$.y+=Ge[0].height)):$.y=ae.y+ae.height||$.y),void 0!==$.text[0]&&(this.rect($.x,$.y,$.width,$.height,!0===v?"FD":void 0),"right"===$.align?this.text($.text,$.x+$.width-Ae,$.y+Ae,{align:"right",baseline:"top"}):"center"===$.align?this.text($.text,$.x+$.width/2,$.y+Ae,{align:"center",baseline:"top",maxWidth:$.width-Ae-Ae}):this.text($.text,$.x+Ae,$.y+Ae,{align:"left",baseline:"top",maxWidth:$.width-Ae-Ae})),this.internal.__cell__.lastCell=$,this};b.table=function($,ae,Ae,Re,Ge){if(x.call(this),!Ae)throw new Error("No data for PDF table.");var oe,ft,rt,bt,tt=[],gt=[],Tt=[],Yt={},rn={},xn=[],Jt=[],St=(Ge=Ge||{}).autoSize||!1,dn=!1!==Ge.printHeaders,vn=Ge.css&&void 0!==Ge.css["font-size"]?16*Ge.css["font-size"]:Ge.fontSize||12,lt=Ge.margins||Object.assign({width:this.getPageWidth()},y),at="number"==typeof Ge.padding?Ge.padding:3,kt=Ge.headerBackgroundColor||"#c8c8c8",Et=Ge.headerTextColor||"#000";if(L.call(this),this.internal.__cell__.printHeaders=dn,this.internal.__cell__.margins=lt,this.internal.__cell__.table_font_size=vn,this.internal.__cell__.padding=at,this.internal.__cell__.headerBackgroundColor=kt,this.internal.__cell__.headerTextColor=Et,this.setFontSize(vn),null==Re)gt=tt=Object.keys(Ae[0]),Tt=tt.map(function(){return"left"});else if(Array.isArray(Re)&&"object"===ht(Re[0]))for(tt=Re.map(function(gn){return gn.name}),gt=Re.map(function(gn){return gn.prompt||gn.name||""}),Tt=Re.map(function(gn){return gn.align||"left"}),oe=0;oe<Re.length;oe+=1)rn[Re[oe].name]=Re[oe].width*(19.049976/25.4);else Array.isArray(Re)&&"string"==typeof Re[0]&&(gt=tt=Re,Tt=tt.map(function(){return"left"}));if(St||Array.isArray(Re)&&"string"==typeof Re[0])for(oe=0;oe<tt.length;oe+=1){for(Yt[bt=tt[oe]]=Ae.map(function(gn){return gn[bt]}),this.setFont(void 0,"bold"),xn.push(this.getTextDimensions(gt[oe],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),ft=Yt[bt],this.setFont(void 0,"normal"),rt=0;rt<ft.length;rt+=1)xn.push(this.getTextDimensions(ft[rt],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);rn[bt]=Math.max.apply(null,xn)+at+at,xn=[]}if(dn){var ln={};for(oe=0;oe<tt.length;oe+=1)ln[tt[oe]]={},ln[tt[oe]].text=gt[oe],ln[tt[oe]].align=Tt[oe];var nn=Y.call(this,ln,rn);Jt=tt.map(function(gn){return new T($,ae,rn[gn],nn,ln[gn].text,void 0,ln[gn].align)}),this.setTableHeaderRow(Jt),this.printHeaderRow(1,!1)}var mn=Re.reduce(function(gn,Nn){return gn[Nn.name]=Nn.align,gn},{});for(oe=0;oe<Ae.length;oe+=1){"rowStart"in Ge&&Ge.rowStart instanceof Function&&Ge.rowStart({row:oe,data:Ae[oe]},this);var en=Y.call(this,Ae[oe],rn);for(rt=0;rt<tt.length;rt+=1){var cn=Ae[oe][tt[rt]];"cellStart"in Ge&&Ge.cellStart instanceof Function&&Ge.cellStart({row:oe,col:rt,data:cn},this),V.call(this,new T($,ae,rn[tt[rt]],en,cn,oe+2,mn[tt[rt]]))}}return this.internal.__cell__.table_x=$,this.internal.__cell__.table_y=ae,this};var Y=function($,ae){var Ae=this.internal.__cell__.padding,Re=this.internal.__cell__.table_font_size,Ge=this.internal.scaleFactor;return Object.keys($).map(function(oe){var ft=$[oe];return this.splitTextToSize(ft.hasOwnProperty("text")?ft.text:ft,ae[oe]-Ae-Ae)},this).map(function(oe){return this.getLineHeightFactor()*oe.length*Re/Ge+Ae+Ae},this).reduce(function(oe,ft){return Math.max(oe,ft)},0)};b.setTableHeaderRow=function($){x.call(this),this.internal.__cell__.tableHeaderRow=$},b.printHeaderRow=function($,ae){if(x.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var Ae;if(v=!0,"function"==typeof this.internal.__cell__.headerFunction){var Re=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new T(Re[0],Re[1],Re[2],Re[3],void 0,-1)}this.setFont(void 0,"bold");for(var Ge=[],oe=0;oe<this.internal.__cell__.tableHeaderRow.length;oe+=1){Ae=this.internal.__cell__.tableHeaderRow[oe].clone(),ae&&(Ae.y=this.internal.__cell__.margins.top||0,Ge.push(Ae)),Ae.lineNumber=$;var ft=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),V.call(this,Ae),this.setTextColor(ft)}Ge.length>0&&this.setTableHeaderRow(Ge),this.setFont(void 0,"normal"),v=!1}}(ni.API);var Mr={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},bs=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],es=no(bs),Bs=[100,200,300,400,500,600,700,800,900],zs=no(Bs);function Ws(b){var T,y=b.family.replace(/"|'/g,"").toLowerCase(),v=Mr[T=(T=b.style)||"normal"]?T:"normal",x=function(T){return T?"number"==typeof T?T>=100&&T<=900&&T%100==0?T:400:/^\d00$/.test(T)?parseInt(T):"bold"===T?700:400:400}(b.weight),L=function(T){return"number"==typeof es[T=T||"normal"]?T:"normal"}(b.stretch);return{family:y,style:v,weight:x,stretch:L,src:b.src||[],ref:b.ref||{name:y,style:[L,v,x].join(" ")}}}function Pl(b,y,v,x){var L;for(L=v;L>=0&&L<y.length;L+=x)if(b[y[L]])return b[y[L]];for(L=v;L>=0&&L<y.length;L-=x)if(b[y[L]])return b[y[L]]}var Oa={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},io={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Ia(b){return[b.stretch,b.style,b.weight,b.family].join(" ")}function Gs(b){return b.trimLeft()}function ro(b,y){for(var v=0;v<b.length;){if(b.charAt(v)===y)return[b.substring(0,v),b.substring(v+1)];v+=1}return null}function lc(b){var y=b.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===y?null:[y[0],b.substring(y[0].length)]}var ua,Vc,Su,Hc=["times"];(function(b){var y,v,x,L,T,V,Y,$,ae,Ae=function(ke){return this.isStrokeTransparent=(ke=ke||{}).isStrokeTransparent||!1,this.strokeOpacity=ke.strokeOpacity||1,this.strokeStyle=ke.strokeStyle||"#000000",this.fillStyle=ke.fillStyle||"#000000",this.isFillTransparent=ke.isFillTransparent||!1,this.fillOpacity=ke.fillOpacity||1,this.font=ke.font||"10px sans-serif",this.textBaseline=ke.textBaseline||"alphabetic",this.textAlign=ke.textAlign||"left",this.lineWidth=ke.lineWidth||1,this.lineJoin=ke.lineJoin||"miter",this.lineCap=ke.lineCap||"butt",this.path=ke.path||[],this.transform=void 0!==ke.transform?ke.transform.clone():new $,this.globalCompositeOperation=ke.globalCompositeOperation||"normal",this.globalAlpha=ke.globalAlpha||1,this.clip_path=ke.clip_path||[],this.currentPoint=ke.currentPoint||new V,this.miterLimit=ke.miterLimit||10,this.lastPoint=ke.lastPoint||new V,this.lineDashOffset=ke.lineDashOffset||0,this.lineDash=ke.lineDash||[],this.margin=ke.margin||[0,0,0,0],this.prevPageLastElemOffset=ke.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof ke.ignoreClearRect||ke.ignoreClearRect,this};b.events.push(["initialized",function(){this.context2d=new Re(this),y=this.internal.f2,v=this.internal.getCoordinateString,x=this.internal.getVerticalCoordinateString,L=this.internal.getHorizontalCoordinate,T=this.internal.getVerticalCoordinate,V=this.internal.Point,Y=this.internal.Rectangle,$=this.internal.Matrix,ae=new Ae}]);var Re=function(ke){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var mt=ke;Object.defineProperty(this,"pdf",{get:function(){return mt}});var At=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return At},set:function(Ht){At=Boolean(Ht)}});var E=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return E},set:function(Ht){E=Boolean(Ht)}});var D=0;Object.defineProperty(this,"posX",{get:function(){return D},set:function(Ht){isNaN(Ht)||(D=Ht)}});var P=0;Object.defineProperty(this,"posY",{get:function(){return P},set:function(Ht){isNaN(Ht)||(P=Ht)}}),Object.defineProperty(this,"margin",{get:function(){return ae.margin},set:function(Ht){var nt;"number"==typeof Ht?nt=[Ht,Ht,Ht,Ht]:((nt=new Array(4))[0]=Ht[0],nt[1]=Ht.length>=2?Ht[1]:nt[0],nt[2]=Ht.length>=3?Ht[2]:nt[0],nt[3]=Ht.length>=4?Ht[3]:nt[1]),ae.margin=nt}});var N=!1;Object.defineProperty(this,"autoPaging",{get:function(){return N},set:function(Ht){N=Ht}});var G=0;Object.defineProperty(this,"lastBreak",{get:function(){return G},set:function(Ht){G=Ht}});var pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return pe},set:function(Ht){pe=Ht}}),Object.defineProperty(this,"ctx",{get:function(){return ae},set:function(Ht){Ht instanceof Ae&&(ae=Ht)}}),Object.defineProperty(this,"path",{get:function(){return ae.path},set:function(Ht){ae.path=Ht}});var Fe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Fe},set:function(Ht){Fe=Ht}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ht){var nt;nt=Ge(Ht),this.ctx.fillStyle=nt.style,this.ctx.isFillTransparent=0===nt.a,this.ctx.fillOpacity=nt.a,this.pdf.setFillColor(nt.r,nt.g,nt.b,{a:nt.a}),this.pdf.setTextColor(nt.r,nt.g,nt.b,{a:nt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ht){var nt=Ge(Ht);this.ctx.strokeStyle=nt.style,this.ctx.isStrokeTransparent=0===nt.a,this.ctx.strokeOpacity=nt.a,0===nt.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(nt.r,nt.g,nt.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ht){-1!==["butt","round","square"].indexOf(Ht)&&(this.ctx.lineCap=Ht,this.pdf.setLineCap(Ht))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ht){isNaN(Ht)||(this.ctx.lineWidth=Ht,this.pdf.setLineWidth(Ht))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ht){-1!==["bevel","round","miter"].indexOf(Ht)&&(this.ctx.lineJoin=Ht,this.pdf.setLineJoin(Ht))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ht){isNaN(Ht)||(this.ctx.miterLimit=Ht,this.pdf.setMiterLimit(Ht))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ht){this.ctx.textBaseline=Ht}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ht){-1!==["right","end","center","left","start"].indexOf(Ht)&&(this.ctx.textAlign=Ht)}});var et=null,on=null;Object.defineProperty(this,"fontFaces",{get:function(){return on},set:function(Ht){et=null,on=Ht}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ht){var nt;if(this.ctx.font=Ht,null!==(nt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ht))){var $n=nt[1],Wn=nt[3],Dn=nt[4],On=nt[6],kn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Dn)[2];Dn=Math.floor("px"===kn?parseFloat(Dn)*this.pdf.internal.scaleFactor:"em"===kn?parseFloat(Dn)*this.pdf.getFontSize():parseFloat(Dn)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Dn);var Vn=function(wi){var Hi,Gn,ts=[],Qi=wi.trim();if(""===Qi)return Hc;if(Qi in io)return[io[Qi]];for(;""!==Qi;){switch(Gn=null,Hi=(Qi=Gs(Qi)).charAt(0)){case'"':case"'":Gn=ro(Qi.substring(1),Hi);break;default:Gn=lc(Qi)}if(null===Gn||(ts.push(Gn[0]),""!==(Qi=Gs(Gn[1]))&&","!==Qi.charAt(0)))return Hc;Qi=Qi.replace(/^,/,"")}return ts}(On);if(this.fontFaces){var Bn=function Cu(b,y,v){for(var x=(v=v||{}).defaultFontFamily||"times",L=Object.assign({},Oa,v.genericFontFamilies||{}),T=null,V=null,Y=0;Y<y.length;++Y)if(L[(T=Ws(y[Y])).family]&&(T.family=L[T.family]),b.hasOwnProperty(T.family)){V=b[T.family];break}if(!(V=V||b[x]))throw new Error("Could not find a font-family for the rule '"+Ia(T)+"' and default family '"+x+"'.");if(V=function($,ae){if(ae[$])return ae[$];var Ae=es[$],Ge=Pl(ae,bs,Ae,Ae<=es.normal?-1:1);if(!Ge)throw new Error("Could not find a matching font-stretch value for "+$);return Ge}(T.stretch,V),V=function($,ae){if(ae[$])return ae[$];for(var Ae=Mr[$],Re=0;Re<Ae.length;++Re)if(ae[Ae[Re]])return ae[Ae[Re]];throw new Error("Could not find a matching font-style for "+$)}(T.style,V),!(V=function($,ae){if(ae[$])return ae[$];if(400===$&&ae[500])return ae[500];if(500===$&&ae[400])return ae[400];var Re=Pl(ae,Bs,zs[$],$<400?-1:1);if(!Re)throw new Error("Could not find a matching font-weight for value "+$);return Re}(T.weight,V)))throw new Error("Failed to resolve a font for the rule '"+Ia(T)+"'.");return V}(function Mt(Ht,nt){if(null===et){var $n=(Wn=Ht.getFontList(),Dn=[],Object.keys(Wn).forEach(function(On){Wn[On].forEach(function(kn){var Vn=null;switch(kn){case"bold":Vn={family:On,weight:"bold"};break;case"italic":Vn={family:On,style:"italic"};break;case"bolditalic":Vn={family:On,weight:"bold",style:"italic"};break;case"":case"normal":Vn={family:On}}null!==Vn&&(Vn.ref={name:On,style:kn},Dn.push(Vn))})}),Dn);et=function(Wn){for(var Dn={},On=0;On<Wn.length;++On){var kn=Ws(Wn[On]),Vn=kn.family,Bn=kn.stretch,bi=kn.style,Di=kn.weight;Dn[Vn]=Dn[Vn]||{},Dn[Vn][Bn]=Dn[Vn][Bn]||{},Dn[Vn][Bn][bi]=Dn[Vn][Bn][bi]||{},Dn[Vn][Bn][bi][Di]=kn}return Dn}($n.concat(nt))}var Wn,Dn;return et}(this.pdf,this.fontFaces),Vn.map(function(wi){return{family:wi,stretch:"normal",weight:Wn,style:$n}}));this.pdf.setFont(Bn.ref.name,Bn.ref.style)}else{var bi="";("bold"===Wn||parseInt(Wn,10)>=700||"bold"===$n)&&(bi="bold"),"italic"===$n&&(bi+="italic"),0===bi.length&&(bi="normal");for(var Di="",Oi={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Vi=0;Vi<Vn.length;Vi++){if(void 0!==this.pdf.internal.getFont(Vn[Vi],bi,{noFallback:!0,disableWarning:!0})){Di=Vn[Vi];break}if("bolditalic"===bi&&void 0!==this.pdf.internal.getFont(Vn[Vi],"bold",{noFallback:!0,disableWarning:!0}))Di=Vn[Vi],bi="bold";else if(void 0!==this.pdf.internal.getFont(Vn[Vi],"normal",{noFallback:!0,disableWarning:!0})){Di=Vn[Vi],bi="normal";break}}if(""===Di)for(var mr=0;mr<Vn.length;mr++)if(Oi[Vn[mr]]){Di=Oi[Vn[mr]];break}this.pdf.setFont(Di=""===Di?"Times":Di,bi)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ht){this.ctx.globalCompositeOperation=Ht}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ht){this.ctx.globalAlpha=Ht}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ht){this.ctx.lineDashOffset=Ht,Nn.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ht){this.ctx.lineDash=Ht,Nn.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ht){this.ctx.ignoreClearRect=Boolean(Ht)}})};Re.prototype.setLineDash=function(ke){this.lineDash=ke},Re.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},Re.prototype.fill=function(){Yt.call(this,"fill",!1)},Re.prototype.stroke=function(){Yt.call(this,"stroke",!1)},Re.prototype.beginPath=function(){this.path=[{type:"begin"}]},Re.prototype.moveTo=function(ke,mt){if(isNaN(ke)||isNaN(mt))throw Ui.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var At=this.ctx.transform.applyToPoint(new V(ke,mt));this.path.push({type:"mt",x:At.x,y:At.y}),this.ctx.lastPoint=new V(ke,mt)},Re.prototype.closePath=function(){var ke=new V(0,0),mt=0;for(mt=this.path.length-1;-1!==mt;mt--)if("begin"===this.path[mt].type&&"object"===ht(this.path[mt+1])&&"number"==typeof this.path[mt+1].x){ke=new V(this.path[mt+1].x,this.path[mt+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new V(ke.x,ke.y)},Re.prototype.lineTo=function(ke,mt){if(isNaN(ke)||isNaN(mt))throw Ui.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var At=this.ctx.transform.applyToPoint(new V(ke,mt));this.path.push({type:"lt",x:At.x,y:At.y}),this.ctx.lastPoint=new V(At.x,At.y)},Re.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Yt.call(this,null,!0)},Re.prototype.quadraticCurveTo=function(ke,mt,At,E){if(isNaN(At)||isNaN(E)||isNaN(ke)||isNaN(mt))throw Ui.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var D=this.ctx.transform.applyToPoint(new V(At,E)),P=this.ctx.transform.applyToPoint(new V(ke,mt));this.path.push({type:"qct",x1:P.x,y1:P.y,x:D.x,y:D.y}),this.ctx.lastPoint=new V(D.x,D.y)},Re.prototype.bezierCurveTo=function(ke,mt,At,E,D,P){if(isNaN(D)||isNaN(P)||isNaN(ke)||isNaN(mt)||isNaN(At)||isNaN(E))throw Ui.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var N=this.ctx.transform.applyToPoint(new V(D,P)),G=this.ctx.transform.applyToPoint(new V(ke,mt)),pe=this.ctx.transform.applyToPoint(new V(At,E));this.path.push({type:"bct",x1:G.x,y1:G.y,x2:pe.x,y2:pe.y,x:N.x,y:N.y}),this.ctx.lastPoint=new V(N.x,N.y)},Re.prototype.arc=function(ke,mt,At,E,D,P){if(isNaN(ke)||isNaN(mt)||isNaN(At)||isNaN(E)||isNaN(D))throw Ui.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(P=Boolean(P),!this.ctx.transform.isIdentity){var N=this.ctx.transform.applyToPoint(new V(ke,mt));ke=N.x,mt=N.y;var G=this.ctx.transform.applyToPoint(new V(0,At)),pe=this.ctx.transform.applyToPoint(new V(0,0));At=Math.sqrt(Math.pow(G.x-pe.x,2)+Math.pow(G.y-pe.y,2))}Math.abs(D-E)>=2*Math.PI&&(E=0,D=2*Math.PI),this.path.push({type:"arc",x:ke,y:mt,radius:At,startAngle:E,endAngle:D,counterclockwise:P})},Re.prototype.arcTo=function(ke,mt,At,E,D){throw new Error("arcTo not implemented.")},Re.prototype.rect=function(ke,mt,At,E){if(isNaN(ke)||isNaN(mt)||isNaN(At)||isNaN(E))throw Ui.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(ke,mt),this.lineTo(ke+At,mt),this.lineTo(ke+At,mt+E),this.lineTo(ke,mt+E),this.lineTo(ke,mt),this.lineTo(ke+At,mt),this.lineTo(ke,mt)},Re.prototype.fillRect=function(ke,mt,At,E){if(isNaN(ke)||isNaN(mt)||isNaN(At)||isNaN(E))throw Ui.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!oe.call(this)){var D={};"butt"!==this.lineCap&&(D.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(D.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(ke,mt,At,E),this.fill(),D.hasOwnProperty("lineCap")&&(this.lineCap=D.lineCap),D.hasOwnProperty("lineJoin")&&(this.lineJoin=D.lineJoin)}},Re.prototype.strokeRect=function(ke,mt,At,E){if(isNaN(ke)||isNaN(mt)||isNaN(At)||isNaN(E))throw Ui.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");ft.call(this)||(this.beginPath(),this.rect(ke,mt,At,E),this.stroke())},Re.prototype.clearRect=function(ke,mt,At,E){if(isNaN(ke)||isNaN(mt)||isNaN(At)||isNaN(E))throw Ui.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(ke,mt,At,E))},Re.prototype.save=function(ke){ke="boolean"!=typeof ke||ke;for(var mt=this.pdf.internal.getCurrentPageInfo().pageNumber,At=0;At<this.pdf.internal.getNumberOfPages();At++)this.pdf.setPage(At+1),this.pdf.internal.out("q");if(this.pdf.setPage(mt),ke){this.ctx.fontSize=this.pdf.internal.getFontSize();var E=new Ae(this.ctx);this.ctxStack.push(this.ctx),this.ctx=E}},Re.prototype.restore=function(ke){ke="boolean"!=typeof ke||ke;for(var mt=this.pdf.internal.getCurrentPageInfo().pageNumber,At=0;At<this.pdf.internal.getNumberOfPages();At++)this.pdf.setPage(At+1),this.pdf.internal.out("Q");this.pdf.setPage(mt),ke&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},Re.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var Ge=function(ke){var mt,At,E,D;if(!0===ke.isCanvasGradient&&(ke=ke.getColor()),!ke)return{r:0,g:0,b:0,a:0,style:ke};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(ke))mt=0,At=0,E=0,D=0;else{var P=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(ke);if(null!==P)mt=parseInt(P[1]),At=parseInt(P[2]),E=parseInt(P[3]),D=1;else if(null!==(P=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(ke)))mt=parseInt(P[1]),At=parseInt(P[2]),E=parseInt(P[3]),D=parseFloat(P[4]);else{if(D=1,"string"==typeof ke&&"#"!==ke.charAt(0)){var N=new Vo(ke);ke=N.ok?N.toHex():"#000000"}4===ke.length?(mt=ke.substring(1,2),mt+=mt,At=ke.substring(2,3),At+=At,E=ke.substring(3,4),E+=E):(mt=ke.substring(1,3),At=ke.substring(3,5),E=ke.substring(5,7)),mt=parseInt(mt,16),At=parseInt(At,16),E=parseInt(E,16)}}return{r:mt,g:At,b:E,a:D,style:ke}},oe=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},ft=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};Re.prototype.fillText=function(ke,mt,At,E){if(isNaN(mt)||isNaN(At)||"string"!=typeof ke)throw Ui.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(E=isNaN(E)?void 0:E,!oe.call(this)){var D=en(this.ctx.transform.rotation),P=this.ctx.transform.scaleX;at.call(this,{text:ke,x:mt,y:At,scale:P,angle:D,align:this.textAlign,maxWidth:E})}},Re.prototype.strokeText=function(ke,mt,At,E){if(isNaN(mt)||isNaN(At)||"string"!=typeof ke)throw Ui.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!ft.call(this)){E=isNaN(E)?void 0:E;var D=en(this.ctx.transform.rotation),P=this.ctx.transform.scaleX;at.call(this,{text:ke,x:mt,y:At,scale:P,renderingMode:"stroke",angle:D,align:this.textAlign,maxWidth:E})}},Re.prototype.measureText=function(ke){if("string"!=typeof ke)throw Ui.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var mt=this.pdf,At=this.pdf.internal.scaleFactor,E=mt.internal.getFontSize(),D=mt.getStringUnitWidth(ke)*E/mt.internal.scaleFactor,P=function(N){var G=(N=N||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return G}}),this};return new P({width:D*=Math.round(96*At/72*1e4)/1e4})},Re.prototype.scale=function(ke,mt){if(isNaN(ke)||isNaN(mt))throw Ui.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var At=new $(ke,0,0,mt,0,0);this.ctx.transform=this.ctx.transform.multiply(At)},Re.prototype.rotate=function(ke){if(isNaN(ke))throw Ui.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var mt=new $(Math.cos(ke),Math.sin(ke),-Math.sin(ke),Math.cos(ke),0,0);this.ctx.transform=this.ctx.transform.multiply(mt)},Re.prototype.translate=function(ke,mt){if(isNaN(ke)||isNaN(mt))throw Ui.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var At=new $(1,0,0,1,ke,mt);this.ctx.transform=this.ctx.transform.multiply(At)},Re.prototype.transform=function(ke,mt,At,E,D,P){if(isNaN(ke)||isNaN(mt)||isNaN(At)||isNaN(E)||isNaN(D)||isNaN(P))throw Ui.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var N=new $(ke,mt,At,E,D,P);this.ctx.transform=this.ctx.transform.multiply(N)},Re.prototype.setTransform=function(ke,mt,At,E,D,P){ke=isNaN(ke)?1:ke,mt=isNaN(mt)?0:mt,At=isNaN(At)?0:At,E=isNaN(E)?1:E,D=isNaN(D)?0:D,P=isNaN(P)?0:P,this.ctx.transform=new $(ke,mt,At,E,D,P)};var rt=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};Re.prototype.drawImage=function(ke,mt,At,E,D,P,N,G,pe){var Fe=this.pdf.getImageProperties(ke),et=1,Mt=1,on=1,Ht=1;void 0!==E&&void 0!==G&&(on=G/E,Ht=pe/D,et=Fe.width/E*G/E,Mt=Fe.height/D*pe/D),void 0===P&&(P=mt,N=At,mt=0,At=0),void 0!==E&&void 0===G&&(G=E,pe=D),void 0===E&&void 0===G&&(G=Fe.width,pe=Fe.height);for(var nt,$n=this.ctx.transform.decompose(),Wn=en($n.rotate.shx),Dn=new $,On=(Dn=(Dn=(Dn=Dn.multiply($n.translate)).multiply($n.skew)).multiply($n.scale)).applyToRectangle(new Y(P-mt*on,N-At*Ht,E*et,D*Mt)),kn=bt.call(this,On),Vn=[],Bn=0;Bn<kn.length;Bn+=1)-1===Vn.indexOf(kn[Bn])&&Vn.push(kn[Bn]);if(Tt(Vn),this.autoPaging)for(var bi=Vn[0],Di=Vn[Vn.length-1],Oi=bi;Oi<Di+1;Oi++){this.pdf.setPage(Oi);var Vi=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],mr=1===Oi?this.posY+this.margin[0]:this.margin[0],Hi=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Gn=1===Oi?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Oi-2)*Hi;if(0!==this.ctx.clip_path.length){var ts=this.path;nt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=gt(nt,this.posX+this.margin[3],-Gn+mr+this.ctx.prevPageLastElemOffset),rn.call(this,"fill",!0),this.path=ts}var Qi=JSON.parse(JSON.stringify(On));Qi=gt([Qi],this.posX+this.margin[3],-Gn+mr+this.ctx.prevPageLastElemOffset)[0];var $s=(Oi>bi||Oi<Di)&&rt.call(this);$s&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vi,Hi,null).clip().discardPath()),this.pdf.addImage(ke,"JPEG",Qi.x,Qi.y,Qi.w,Qi.h,null,null,Wn),$s&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(ke,"JPEG",On.x,On.y,On.w,On.h,null,null,Wn)};var bt=function(ke,mt,At){var E=[];mt=mt||this.pdf.internal.pageSize.width,At=At||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var D=this.posY+this.ctx.prevPageLastElemOffset;switch(ke.type){default:case"mt":case"lt":E.push(Math.floor((ke.y+D)/At)+1);break;case"arc":E.push(Math.floor((ke.y+D-ke.radius)/At)+1),E.push(Math.floor((ke.y+D+ke.radius)/At)+1);break;case"qct":var P=cn(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ke.x1,ke.y1,ke.x,ke.y);E.push(Math.floor((P.y+D)/At)+1),E.push(Math.floor((P.y+P.h+D)/At)+1);break;case"bct":var N=gn(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ke.x1,ke.y1,ke.x2,ke.y2,ke.x,ke.y);E.push(Math.floor((N.y+D)/At)+1),E.push(Math.floor((N.y+N.h+D)/At)+1);break;case"rect":E.push(Math.floor((ke.y+D)/At)+1),E.push(Math.floor((ke.y+ke.h+D)/At)+1)}for(var G=0;G<E.length;G+=1)for(;this.pdf.internal.getNumberOfPages()<E[G];)tt.call(this);return E},tt=function(){var ke=this.fillStyle,mt=this.strokeStyle,At=this.font,E=this.lineCap,D=this.lineWidth,P=this.lineJoin;this.pdf.addPage(),this.fillStyle=ke,this.strokeStyle=mt,this.font=At,this.lineCap=E,this.lineWidth=D,this.lineJoin=P},gt=function(ke,mt,At){for(var E=0;E<ke.length;E++)switch(ke[E].type){case"bct":ke[E].x2+=mt,ke[E].y2+=At;case"qct":ke[E].x1+=mt,ke[E].y1+=At;default:ke[E].x+=mt,ke[E].y+=At}return ke},Tt=function(ke){return ke.sort(function(mt,At){return mt-At})},Yt=function(ke,mt){for(var At,E,D=this.fillStyle,P=this.strokeStyle,N=this.lineCap,G=this.lineWidth,pe=Math.abs(G*this.ctx.transform.scaleX),Fe=this.lineJoin,et=JSON.parse(JSON.stringify(this.path)),Mt=JSON.parse(JSON.stringify(this.path)),on=[],Ht=0;Ht<Mt.length;Ht++)if(void 0!==Mt[Ht].x)for(var nt=bt.call(this,Mt[Ht]),$n=0;$n<nt.length;$n+=1)-1===on.indexOf(nt[$n])&&on.push(nt[$n]);for(var Wn=0;Wn<on.length;Wn++)for(;this.pdf.internal.getNumberOfPages()<on[Wn];)tt.call(this);if(Tt(on),this.autoPaging)for(var Dn=on[0],On=on[on.length-1],kn=Dn;kn<On+1;kn++){this.pdf.setPage(kn),this.fillStyle=D,this.strokeStyle=P,this.lineCap=N,this.lineWidth=pe,this.lineJoin=Fe;var Vn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Bn=1===kn?this.posY+this.margin[0]:this.margin[0],Di=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Oi=1===kn?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(kn-2)*Di;if(0!==this.ctx.clip_path.length){var Vi=this.path;At=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=gt(At,this.posX+this.margin[3],-Oi+Bn+this.ctx.prevPageLastElemOffset),rn.call(this,ke,!0),this.path=Vi}if(E=JSON.parse(JSON.stringify(et)),this.path=gt(E,this.posX+this.margin[3],-Oi+Bn+this.ctx.prevPageLastElemOffset),!1===mt||0===kn){var mr=(kn>Dn||kn<On)&&rt.call(this);mr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vn,Di,null).clip().discardPath()),rn.call(this,ke,mt),mr&&this.pdf.restoreGraphicsState()}this.lineWidth=G}else this.lineWidth=pe,rn.call(this,ke,mt),this.lineWidth=G;this.path=et},rn=function(ke,mt){if(("stroke"!==ke||mt||!ft.call(this))&&("stroke"===ke||mt||!oe.call(this))){for(var At,E,D=[],P=this.path,N=0;N<P.length;N++){var G=P[N];switch(G.type){case"begin":D.push({begin:!0});break;case"close":D.push({close:!0});break;case"mt":D.push({start:G,deltas:[],abs:[]});break;case"lt":var pe=D.length;if(P[N-1]&&!isNaN(P[N-1].x)&&(At=[G.x-P[N-1].x,G.y-P[N-1].y],pe>0))for(;pe>=0;pe--)if(!0!==D[pe-1].close&&!0!==D[pe-1].begin){D[pe-1].deltas.push(At),D[pe-1].abs.push(G);break}break;case"bct":D[D.length-1].deltas.push(At=[G.x1-P[N-1].x,G.y1-P[N-1].y,G.x2-P[N-1].x,G.y2-P[N-1].y,G.x-P[N-1].x,G.y-P[N-1].y]);break;case"qct":D[D.length-1].deltas.push(At=[P[N-1].x+2/3*(G.x1-P[N-1].x)-P[N-1].x,P[N-1].y+2/3*(G.y1-P[N-1].y)-P[N-1].y,G.x+2/3*(G.x1-G.x)-P[N-1].x,G.y+2/3*(G.y1-G.y)-P[N-1].y,G.x-P[N-1].x,G.y-P[N-1].y]);break;case"arc":D.push({deltas:[],abs:[],arc:!0}),Array.isArray(D[D.length-1].abs)&&D[D.length-1].abs.push(G)}}E=mt?null:"stroke"===ke?"stroke":"fill";for(var $n=!1,Wn=0;Wn<D.length;Wn++)if(D[Wn].arc)for(var Dn=D[Wn].abs,On=0;On<Dn.length;On++){var kn=Dn[On];"arc"===kn.type?St.call(this,kn.x,kn.y,kn.radius,kn.startAngle,kn.endAngle,kn.counterclockwise,void 0,mt,!$n):kt.call(this,kn.x,kn.y),$n=!0}else!0===D[Wn].close?(this.pdf.internal.out("h"),$n=!1):!0!==D[Wn].begin&&(Et.call(this,D[Wn].deltas,D[Wn].start.x,D[Wn].start.y),$n=!0);E&&dn.call(this,E),mt&&vn.call(this)}},xn=function(ke){var mt=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,At=mt*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return ke-At;case"top":return ke+mt-At;case"hanging":return ke+mt-2*At;case"middle":return ke+mt/2-At;default:return ke}},Jt=function(ke){return ke+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};Re.prototype.createLinearGradient=function(){var ke=function(){};return ke.colorStops=[],ke.addColorStop=function(mt,At){this.colorStops.push([mt,At])},ke.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},ke.isCanvasGradient=!0,ke},Re.prototype.createPattern=function(){return this.createLinearGradient()},Re.prototype.createRadialGradient=function(){return this.createLinearGradient()};var St=function(ke,mt,At,E,D,P,N,G,pe){for(var Fe=nn.call(this,At,E,D,P),et=0;et<Fe.length;et++){var Mt=Fe[et];0===et&&(pe?lt.call(this,Mt.x1+ke,Mt.y1+mt):kt.call(this,Mt.x1+ke,Mt.y1+mt)),ln.call(this,ke,mt,Mt.x2,Mt.y2,Mt.x3,Mt.y3,Mt.x4,Mt.y4)}G?vn.call(this):dn.call(this,N)},dn=function(ke){switch(ke){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},vn=function(){this.pdf.clip(),this.pdf.discardPath()},lt=function(ke,mt){this.pdf.internal.out(v(ke)+" "+x(mt)+" m")},at=function(ke){var mt;switch(ke.align){case"right":case"end":mt="right";break;case"center":mt="center";break;default:mt="left"}var At=this.pdf.getTextDimensions(ke.text),E=xn.call(this,ke.y),D=Jt.call(this,E)-At.h,P=this.ctx.transform.applyToPoint(new V(ke.x,E)),N=this.ctx.transform.decompose(),G=new $;G=(G=(G=G.multiply(N.translate)).multiply(N.skew)).multiply(N.scale);for(var pe,Fe,et,Mt=this.ctx.transform.applyToRectangle(new Y(ke.x,E,At.w,At.h)),on=G.applyToRectangle(new Y(ke.x,D,At.w,At.h)),Ht=bt.call(this,on),nt=[],$n=0;$n<Ht.length;$n+=1)-1===nt.indexOf(Ht[$n])&&nt.push(Ht[$n]);if(Tt(nt),this.autoPaging)for(var Wn=nt[0],Dn=nt[nt.length-1],On=Wn;On<Dn+1;On++){this.pdf.setPage(On);var kn=1===On?this.posY+this.margin[0]:this.margin[0],Bn=this.pdf.internal.pageSize.height-this.margin[2],bi=Bn-this.margin[0],Di=this.pdf.internal.pageSize.width-this.margin[1],Oi=Di-this.margin[3],Vi=1===On?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(On-2)*bi;if(0!==this.ctx.clip_path.length){var mr=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=gt(pe,this.posX+this.margin[3],-1*Vi+kn),rn.call(this,"fill",!0),this.path=mr}var wi=gt([JSON.parse(JSON.stringify(on))],this.posX+this.margin[3],-Vi+kn+this.ctx.prevPageLastElemOffset)[0];ke.scale>=.01&&(Fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Fe*ke.scale),this.lineWidth=(et=this.lineWidth)*ke.scale);var Hi="text"!==this.autoPaging;if(Hi||wi.y+wi.h<=Bn){if(Hi||wi.y>=kn&&wi.x<=Di){var Gn=Hi?ke.text:this.pdf.splitTextToSize(ke.text,ke.maxWidth||Di-wi.x)[0],ts=gt([JSON.parse(JSON.stringify(Mt))],this.posX+this.margin[3],-Vi+kn+this.ctx.prevPageLastElemOffset)[0],Qi=Hi&&(On>Wn||On<Dn)&&rt.call(this);Qi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oi,bi,null).clip().discardPath()),this.pdf.text(Gn,ts.x,ts.y,{angle:ke.angle,align:mt,renderingMode:ke.renderingMode}),Qi&&this.pdf.restoreGraphicsState()}}else wi.y<Bn&&(this.ctx.prevPageLastElemOffset+=Bn-wi.y);ke.scale>=.01&&(this.pdf.setFontSize(Fe),this.lineWidth=et)}else ke.scale>=.01&&(Fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Fe*ke.scale),this.lineWidth=(et=this.lineWidth)*ke.scale),this.pdf.text(ke.text,P.x+this.posX,P.y+this.posY,{angle:ke.angle,align:mt,renderingMode:ke.renderingMode,maxWidth:ke.maxWidth}),ke.scale>=.01&&(this.pdf.setFontSize(Fe),this.lineWidth=et)},kt=function(ke,mt,At,E){E=E||0,this.pdf.internal.out(v(ke+(At=At||0))+" "+x(mt+E)+" l")},Et=function(ke,mt,At){return this.pdf.lines(ke,mt,At,null,null)},ln=function(ke,mt,At,E,D,P,N,G){this.pdf.internal.out([y(L(At+ke)),y(T(E+mt)),y(L(D+ke)),y(T(P+mt)),y(L(N+ke)),y(T(G+mt)),"c"].join(" "))},nn=function(ke,mt,At,E){for(var D=2*Math.PI,P=Math.PI/2;mt>At;)mt-=D;var N=Math.abs(At-mt);N<D&&E&&(N=D-N);for(var G=[],pe=E?-1:1,Fe=mt;N>1e-5;){var et=Fe+pe*Math.min(N,P);G.push(mn.call(this,ke,Fe,et)),N-=Math.abs(et-Fe),Fe=et}return G},mn=function(ke,mt,At){var E=(At-mt)/2,D=ke*Math.cos(E),P=ke*Math.sin(E),N=D,G=-P,pe=N*N+G*G,Fe=pe+N*D+G*P,et=4/3*(Math.sqrt(2*pe*Fe)-Fe)/(N*P-G*D),Mt=N-et*G,on=G+et*N,Ht=Mt,nt=-on,$n=E+mt,Wn=Math.cos($n),Dn=Math.sin($n);return{x1:ke*Math.cos(mt),y1:ke*Math.sin(mt),x2:Mt*Wn-on*Dn,y2:Mt*Dn+on*Wn,x3:Ht*Wn-nt*Dn,y3:Ht*Dn+nt*Wn,x4:ke*Math.cos(At),y4:ke*Math.sin(At)}},en=function(ke){return 180*ke/Math.PI},cn=function(ke,mt,At,E,D,P){var N=ke+.5*(At-ke),G=mt+.5*(E-mt),pe=D+.5*(At-D),Fe=P+.5*(E-P),et=Math.min(ke,D,N,pe),Mt=Math.max(ke,D,N,pe),on=Math.min(mt,P,G,Fe),Ht=Math.max(mt,P,G,Fe);return new Y(et,on,Mt-et,Ht-on)},gn=function(ke,mt,At,E,D,P,N,G){var pe,Fe,et,Mt,on,Ht,nt,$n,Wn,Dn,On,kn,Vn,Bn,bi=At-ke,Di=E-mt,Oi=D-At,Vi=P-E,mr=N-D,wi=G-P;for(Fe=0;Fe<41;Fe++)Wn=(nt=(et=ke+(pe=Fe/40)*bi)+pe*((on=At+pe*Oi)-et))+pe*(on+pe*(D+pe*mr-on)-nt),Dn=($n=(Mt=mt+pe*Di)+pe*((Ht=E+pe*Vi)-Mt))+pe*(Ht+pe*(P+pe*wi-Ht)-$n),0==Fe?(On=Wn,kn=Dn,Vn=Wn,Bn=Dn):(On=Math.min(On,Wn),kn=Math.min(kn,Dn),Vn=Math.max(Vn,Wn),Bn=Math.max(Bn,Dn));return new Y(Math.round(On),Math.round(kn),Math.round(Vn-On),Math.round(Bn-kn))},Nn=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var At=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==At&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=At)}}})(ni.API),function(b){var y=function(T){var V,Y,$,ae,Ae,Re,Ge,oe,ft,rt;for(/[^\x00-\xFF]/.test(T),Y=[],$=0,ae=(T+=V="\0\0\0\0".slice(T.length%4||4)).length;ae>$;$+=4)0!==(Ae=(T.charCodeAt($)<<24)+(T.charCodeAt($+1)<<16)+(T.charCodeAt($+2)<<8)+T.charCodeAt($+3))?(Re=(Ae=((Ae=((Ae=((Ae=(Ae-(rt=Ae%85))/85)-(ft=Ae%85))/85)-(oe=Ae%85))/85)-(Ge=Ae%85))/85)%85,Y.push(Re+33,Ge+33,oe+33,ft+33,rt+33)):Y.push(122);return function(bt,tt){for(var gt=tt;gt>0;gt--)bt.pop()}(Y,V.length),String.fromCharCode.apply(String,Y)+"~>"},v=function(T){var V,Y,$,ae,Ae,Re=String,Ge="length",ft="charCodeAt",rt="slice",bt="replace";for(T[rt](-2),T=T[rt](0,-2)[bt](/\s/g,"")[bt]("z","!!!!!"),$=[],ae=0,Ae=(T+=V="uuuuu"[rt](T[Ge]%5||5))[Ge];Ae>ae;ae+=5)Y=52200625*(T[ft](ae)-33)+614125*(T[ft](ae+1)-33)+7225*(T[ft](ae+2)-33)+85*(T[ft](ae+3)-33)+(T[ft](ae+4)-33),$.push(255&Y>>24,255&Y>>16,255&Y>>8,255&Y);return function(tt,gt){for(var Tt=gt;Tt>0;Tt--)tt.pop()}($,V[Ge]),Re.fromCharCode.apply(Re,$)},x=function(T){var V=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(T=T.replace(/\s/g,"")).indexOf(">")&&(T=T.substr(0,T.indexOf(">"))),T.length%2&&(T+="0"),!1===V.test(T))return"";for(var Y="",$=0;$<T.length;$+=2)Y+=String.fromCharCode("0x"+(T[$]+T[$+1]));return Y},L=function(T){for(var V=new Uint8Array(T.length),Y=T.length;Y--;)V[Y]=T.charCodeAt(Y);return(V=Ea(V)).reduce(function($,ae){return $+String.fromCharCode(ae)},"")};b.processDataByFilters=function(T,V){var Y=0,$=T||"",ae=[];for("string"==typeof(V=V||[])&&(V=[V]),Y=0;Y<V.length;Y+=1)switch(V[Y]){case"ASCII85Decode":case"/ASCII85Decode":$=v($),ae.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":$=y($),ae.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":$=x($),ae.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":$=$.split("").map(function(Ae){return("0"+Ae.charCodeAt().toString(16)).slice(-2)}).join("")+">",ae.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":$=L($),ae.push("/FlateDecode");break;default:throw new Error('The filter: "'+V[Y]+'" is not implemented')}return{data:$,reverseChain:ae.reverse().join(" ")}}}(ni.API),function(b){b.loadFile=function(y,v,x){return function(L,T,V){T=!1!==T,V="function"==typeof V?V:function(){};var Y=void 0;try{Y=function($,ae,Ae){var Re=new XMLHttpRequest,Ge=0,oe=function(ft){var rt=ft.length,bt=[],tt=String.fromCharCode;for(Ge=0;Ge<rt;Ge+=1)bt.push(tt(255&ft.charCodeAt(Ge)));return bt.join("")};if(Re.open("GET",$,!ae),Re.overrideMimeType("text/plain; charset=x-user-defined"),!1===ae&&(Re.onload=function(){Ae(200===Re.status?oe(this.responseText):void 0)}),Re.send(null),ae&&200===Re.status)return oe(Re.responseText)}(L,T,V)}catch{}return Y}(y,v,x)},b.loadImageFile=b.loadFile}(ni.API),function(b){function y(){return(ii.html2canvas?Promise.resolve(ii.html2canvas):ge.e(159).then(ge.t.bind(ge,4159,23))).catch(function(V){return Promise.reject(new Error("Could not load html2canvas: "+V))}).then(function(V){return V.default?V.default:V})}function v(){return(ii.DOMPurify?Promise.resolve(ii.DOMPurify):ge.e(735).then(ge.t.bind(ge,2735,23))).catch(function(V){return Promise.reject(new Error("Could not load dompurify: "+V))}).then(function(V){return V.default?V.default:V})}var x=function(V){var Y=ht(V);return"undefined"===Y?"undefined":"string"===Y||V instanceof String?"string":"number"===Y||V instanceof Number?"number":"function"===Y||V instanceof Function?"function":V&&V.constructor===Array?"array":V&&1===V.nodeType?"element":"object"===Y?"object":"unknown"},L=function(V,Y){var $=document.createElement(V);for(var ae in Y.className&&($.className=Y.className),Y.innerHTML&&Y.dompurify&&($.innerHTML=Y.dompurify.sanitize(Y.innerHTML)),Y.style)$.style[ae]=Y.style[ae];return $},T=function V(Y){var $=Object.assign(V.convert(Promise.resolve()),JSON.parse(JSON.stringify(V.template))),ae=V.convert(Promise.resolve(),$);return(ae=ae.setProgress(1,V,1,[V])).set(Y)};(T.prototype=Object.create(Promise.prototype)).constructor=T,T.convert=function(V,Y){return V.__proto__=Y||T.prototype,V},T.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},T.prototype.from=function(V,Y){return this.then(function(){switch(Y=Y||function($){switch(x($)){case"string":return"string";case"element":return"canvas"===$.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(V)){case"string":return this.then(v).then(function($){return this.set({src:L("div",{innerHTML:V,dompurify:$})})});case"element":return this.set({src:V});case"canvas":return this.set({canvas:V});case"img":return this.set({img:V});default:return this.error("Unknown source type.")}})},T.prototype.to=function(V){switch(V){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},T.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var V={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},Y=function $(ae,Ae){for(var Re=3===ae.nodeType?document.createTextNode(ae.nodeValue):ae.cloneNode(!1),Ge=ae.firstChild;Ge;Ge=Ge.nextSibling)!0!==Ae&&1===Ge.nodeType&&"SCRIPT"===Ge.nodeName||Re.appendChild($(Ge,Ae));return 1===ae.nodeType&&("CANVAS"===ae.nodeName?(Re.width=ae.width,Re.height=ae.height,Re.getContext("2d").drawImage(ae,0,0)):"TEXTAREA"!==ae.nodeName&&"SELECT"!==ae.nodeName||(Re.value=ae.value),Re.addEventListener("load",function(){Re.scrollTop=ae.scrollTop,Re.scrollLeft=ae.scrollLeft},!0)),Re}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===Y.tagName&&(V.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=L("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=L("div",{className:"html2pdf__container",style:V}),this.prop.container.appendChild(Y),this.prop.container.firstChild.appendChild(L("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},T.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(y).then(function(Y){var $=Object.assign({},this.opt.html2canvas);return delete $.onrendered,Y(this.prop.container,$)}).then(function(Y){(this.opt.html2canvas.onrendered||function(){})(Y),this.prop.canvas=Y,document.body.removeChild(this.prop.overlay)})},T.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(y).then(function(Y){var $=this.opt.jsPDF,ae=this.opt.fontFaces,Ae="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,Re=Object.assign({async:!0,allowTaint:!0,scale:Ae,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete Re.onrendered,$.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,$.context2d.posX=this.opt.x,$.context2d.posY=this.opt.y,$.context2d.margin=this.opt.margin,$.context2d.fontFaces=ae,ae)for(var Ge=0;Ge<ae.length;++Ge){var oe=ae[Ge],ft=oe.src.find(function(rt){return"truetype"===rt.format});ft&&$.addFont(ft.url,oe.ref.name,oe.ref.style)}return Re.windowHeight=Re.windowHeight||0,Re.windowHeight=0==Re.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):Re.windowHeight,$.context2d.save(!0),Y(this.prop.container,Re)}).then(function(Y){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(Y),this.prop.canvas=Y,document.body.removeChild(this.prop.overlay)})},T.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var V=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=V})},T.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},T.prototype.output=function(V,Y,$){return"img"===($=$||"pdf").toLowerCase()||"image"===$.toLowerCase()?this.outputImg(V,Y):this.outputPdf(V,Y)},T.prototype.outputPdf=function(V,Y){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(V,Y)})},T.prototype.outputImg=function(V){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(V){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+V+'" is not supported.'}})},T.prototype.save=function(V){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(V?{filename:V}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},T.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},T.prototype.set=function(V){if("object"!==x(V))return this;var Y=Object.keys(V||{}).map(function($){if($ in T.template.prop)return function(){this.prop[$]=V[$]};switch($){case"margin":return this.setMargin.bind(this,V.margin);case"jsPDF":return function(){return this.opt.jsPDF=V.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,V.pageSize);default:return function(){this.opt[$]=V[$]}}},this);return this.then(function(){return this.thenList(Y)})},T.prototype.get=function(V,Y){return this.then(function(){var $=V in T.template.prop?this.prop[V]:this.opt[V];return Y?Y($):$})},T.prototype.setMargin=function(V){return this.then(function(){switch(x(V)){case"number":V=[V,V,V,V];case"array":if(2===V.length&&(V=[V[0],V[1],V[0],V[1]]),4===V.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=V}).then(this.setPageSize)},T.prototype.setPageSize=function(V){function Y($,ae){return Math.floor($*ae/72*96)}return this.then(function(){(V=V||ni.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(V.inner={width:V.width-this.opt.margin[1]-this.opt.margin[3],height:V.height-this.opt.margin[0]-this.opt.margin[2]},V.inner.px={width:Y(V.inner.width,V.k),height:Y(V.inner.height,V.k)},V.inner.ratio=V.inner.height/V.inner.width),this.prop.pageSize=V})},T.prototype.setProgress=function(V,Y,$,ae){return null!=V&&(this.progress.val=V),null!=Y&&(this.progress.state=Y),null!=$&&(this.progress.n=$),null!=ae&&(this.progress.stack=ae),this.progress.ratio=this.progress.val/this.progress.state,this},T.prototype.updateProgress=function(V,Y,$,ae){return this.setProgress(V?this.progress.val+V:null,Y||null,$?this.progress.n+$:null,ae?this.progress.stack.concat(ae):null)},T.prototype.then=function(V,Y){var $=this;return this.thenCore(V,Y,function(ae,Ae){return $.updateProgress(null,null,1,[ae]),Promise.prototype.then.call(this,function(Re){return $.updateProgress(null,ae),Re}).then(ae,Ae).then(function(Re){return $.updateProgress(1),Re})})},T.prototype.thenCore=function(V,Y,$){$=$||Promise.prototype.then,V&&(V=V.bind(this)),Y&&(Y=Y.bind(this));var ae=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:T.convert(Object.assign({},this),Promise.prototype),Ae=$.call(ae,V,Y);return T.convert(Ae,this.__proto__)},T.prototype.thenExternal=function(V,Y){return Promise.prototype.then.call(this,V,Y)},T.prototype.thenList=function(V){var Y=this;return V.forEach(function($){Y=Y.thenCore($)}),Y},T.prototype.catch=function(V){V&&(V=V.bind(this));var Y=Promise.prototype.catch.call(this,V);return T.convert(Y,this)},T.prototype.catchExternal=function(V){return Promise.prototype.catch.call(this,V)},T.prototype.error=function(V){return this.then(function(){throw new Error(V)})},T.prototype.using=T.prototype.set,T.prototype.saveAs=T.prototype.save,T.prototype.export=T.prototype.output,T.prototype.run=T.prototype.then,ni.getPageSize=function(V,Y,$){if("object"===ht(V)){var ae=V;V=ae.orientation,Y=ae.unit||Y,$=ae.format||$}Y=Y||"mm",$=$||"a4",V=(""+(V||"P")).toLowerCase();var Ae,Re=(""+$).toLowerCase(),Ge={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(Y){case"pt":Ae=1;break;case"mm":Ae=72/25.4;break;case"cm":Ae=72/2.54;break;case"in":Ae=72;break;case"px":Ae=.75;break;case"pc":case"em":Ae=12;break;case"ex":Ae=6;break;default:throw"Invalid unit: "+Y}var oe,ft=0,rt=0;if(Ge.hasOwnProperty(Re))ft=Ge[Re][1]/Ae,rt=Ge[Re][0]/Ae;else try{ft=$[1],rt=$[0]}catch{throw new Error("Invalid format: "+$)}if("p"===V||"portrait"===V)V="p",rt>ft&&(oe=rt,rt=ft,ft=oe);else{if("l"!==V&&"landscape"!==V)throw"Invalid orientation: "+V;V="l",ft>rt&&(oe=rt,rt=ft,ft=oe)}return{width:rt,height:ft,unit:Y,k:Ae,orientation:V}},b.html=function(V,Y){(Y=Y||{}).callback=Y.callback||function(){},Y.html2canvas=Y.html2canvas||{},Y.html2canvas.canvas=Y.html2canvas.canvas||this.canvas,Y.jsPDF=Y.jsPDF||this,Y.fontFaces=Y.fontFaces?Y.fontFaces.map(Ws):null;var $=new T(Y);return Y.worker?$:$.from(V).doCallback()}}(ni.API),ni.API.addJS=function(b){return Su=b,this.internal.events.subscribe("postPutResources",function(){ua=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ua+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Vc=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Su+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==ua&&void 0!==Vc&&this.internal.out("/Names <</JavaScript "+ua+" 0 R>>")}),this},function(b){var y;b.events.push(["postPutResources",function(){var v=this,x=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var L=v.outline.render().split(/\r\n/),T=0;T<L.length;T++){var V=L[T],Y=x.exec(V);null!=Y&&v.internal.newObjectDeferredBegin(Y[1],!1),v.internal.write(V)}if(this.outline.createNamedDestinations){var ae=this.internal.pages.length,Ae=[];for(T=0;T<ae;T++){var Re=v.internal.newObject();Ae.push(Re);var Ge=v.internal.getPageInfo(T+1);v.internal.write("<< /D["+Ge.objId+" 0 R /XYZ null null null]>> endobj")}var oe=v.internal.newObject();for(v.internal.write("<< /Names [ "),T=0;T<Ae.length;T++)v.internal.write("(page_"+(T+1)+")"+Ae[T]+" 0 R");v.internal.write(" ] >>","endobj"),y=v.internal.newObject(),v.internal.write("<< /Dests "+oe+" 0 R"),v.internal.write(">>","endobj")}}]),b.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+y+" 0 R"))}]),b.events.push(["initialized",function(){var v=this;v.outline={createNamedDestinations:!1,root:{children:[]}},v.outline.add=function(x,L,T){var V={title:L,options:T,children:[]};return null==x&&(x=this.root),x.children.push(V),V},v.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=v,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},v.outline.genIds_r=function(x){x.id=v.internal.newObjectDeferred();for(var L=0;L<x.children.length;L++)this.genIds_r(x.children[L])},v.outline.renderRoot=function(x){this.objStart(x),this.line("/Type /Outlines"),x.children.length>0&&(this.line("/First "+this.makeRef(x.children[0])),this.line("/Last "+this.makeRef(x.children[x.children.length-1]))),this.line("/Count "+this.count_r({count:0},x)),this.objEnd()},v.outline.renderItems=function(x){for(var L=this.ctx.pdf.internal.getVerticalCoordinateString,T=0;T<x.children.length;T++){var V=x.children[T];this.objStart(V),this.line("/Title "+this.makeString(V.title)),this.line("/Parent "+this.makeRef(x)),T>0&&this.line("/Prev "+this.makeRef(x.children[T-1])),T<x.children.length-1&&this.line("/Next "+this.makeRef(x.children[T+1])),V.children.length>0&&(this.line("/First "+this.makeRef(V.children[0])),this.line("/Last "+this.makeRef(V.children[V.children.length-1])));var Y=this.count=this.count_r({count:0},V);if(Y>0&&this.line("/Count "+Y),V.options&&V.options.pageNumber){var $=v.internal.getPageInfo(V.options.pageNumber);this.line("/Dest ["+$.objId+" 0 R /XYZ 0 "+L(0)+" 0]")}this.objEnd()}for(var ae=0;ae<x.children.length;ae++)this.renderItems(x.children[ae])},v.outline.line=function(x){this.ctx.val+=x+"\r\n"},v.outline.makeRef=function(x){return x.id+" 0 R"},v.outline.makeString=function(x){return"("+v.internal.pdfEscape(x)+")"},v.outline.objStart=function(x){this.ctx.val+="\r\n"+x.id+" 0 obj\r\n<<\r\n"},v.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},v.outline.count_r=function(x,L){for(var T=0;T<L.children.length;T++)x.count++,this.count_r(x,L.children[T]);return x.count}}])}(ni.API),function(b){var y=[192,193,194,195,196,197,198,199];b.processJPEG=function(v,x,L,T,V,Y){var $,ae=this.decode.DCT_DECODE,Ae=null;if("string"==typeof v||this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v)){switch(v=this.__addimage__.isArrayBuffer(v=V||v)?new Uint8Array(v):v,($=function(Re){for(var Ge,oe=256*Re.charCodeAt(4)+Re.charCodeAt(5),ft=Re.length,rt={width:0,height:0,numcomponents:1},bt=4;bt<ft;bt+=2){if(-1!==y.indexOf(Re.charCodeAt((bt+=oe)+1))){Ge=256*Re.charCodeAt(bt+5)+Re.charCodeAt(bt+6),rt={width:256*Re.charCodeAt(bt+7)+Re.charCodeAt(bt+8),height:Ge,numcomponents:Re.charCodeAt(bt+9)};break}oe=256*Re.charCodeAt(bt+2)+Re.charCodeAt(bt+3)}return rt}(v=this.__addimage__.isArrayBufferView(v)?this.__addimage__.arrayBufferToBinaryString(v):v)).numcomponents){case 1:Y=this.color_spaces.DEVICE_GRAY;break;case 4:Y=this.color_spaces.DEVICE_CMYK;break;case 3:Y=this.color_spaces.DEVICE_RGB}Ae={data:v,width:$.width,height:$.height,colorSpace:Y,bitsPerComponent:8,filter:ae,index:x,alias:L}}return Ae}}(ni.API);var Ao,Ja,ka,X,K,Ce=function(){var b,y,v;function x(T){var V,$,ae,Ae,Re,Ge,oe,ft,rt,bt,tt,gt,Tt;for(this.data=T,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},Re=null;;){switch(V=this.readUInt32(),ft=function(){var Yt,rn;for(rn=[],Yt=0;Yt<4;++Yt)rn.push(String.fromCharCode(this.data[this.pos++]));return rn}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(V);break;case"fcTL":Re&&this.animation.frames.push(Re),this.pos+=4,Re={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},Ae=this.readUInt16(),ae=this.readUInt16()||100,Re.delay=1e3*Ae/ae,Re.disposeOp=this.data[this.pos++],Re.blendOp=this.data[this.pos++],Re.data=[];break;case"IDAT":case"fdAT":for("fdAT"===ft&&(this.pos+=4,V-=4),T=Re?.data||this.imgData,tt=0;0<=V?tt<V:tt>V;0<=V?++tt:--tt)T.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if($=this.palette.length/3,this.transparency.indexed=this.read(V),this.transparency.indexed.length>$)throw new Error("More transparent colors than palette size");if((rt=$-this.transparency.indexed.length)>0)for(gt=0;0<=rt?gt<rt:gt>rt;0<=rt?++gt:--gt)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(V)[0];break;case 2:this.transparency.rgb=this.read(V)}break;case"tEXt":Ge=(bt=this.read(V)).indexOf(0),oe=String.fromCharCode.apply(String,bt.slice(0,Ge)),this.text[oe]=String.fromCharCode.apply(String,bt.slice(Ge+1));break;case"IEND":return Re&&this.animation.frames.push(Re),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(Tt=this.colorType)||6===Tt,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=V}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}x.prototype.read=function(T){var V,Y;for(Y=[],V=0;0<=T?V<T:V>T;0<=T?++V:--V)Y.push(this.data[this.pos++]);return Y},x.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},x.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},x.prototype.decodePixels=function(T){var V=this.pixelBitlength/8,Y=new Uint8Array(this.width*this.height*V),$=0,ae=this;if(null==T&&(T=this.imgData),0===T.length)return new Uint8Array(0);function Ae(Re,Ge,oe,ft){var rt,bt,tt,gt,Tt,Yt,rn,xn,St,dn,vn,lt,at,kt,Et,ln,nn,mn,en,cn,gn=Math.ceil((ae.width-Re)/oe),Nn=Math.ceil((ae.height-Ge)/ft),ke=ae.width==gn&&ae.height==Nn;for(at=V*gn,vn=ke?Y:new Uint8Array(at*Nn),Yt=T.length,lt=0,bt=0;lt<Nn&&$<Yt;){switch(T[$++]){case 0:for(gt=ln=0;ln<at;gt=ln+=1)vn[bt++]=T[$++];break;case 1:for(gt=nn=0;nn<at;gt=nn+=1)rt=T[$++],Tt=gt<V?0:vn[bt-V],vn[bt++]=(rt+Tt)%256;break;case 2:for(gt=mn=0;mn<at;gt=mn+=1)rt=T[$++],tt=(gt-gt%V)/V,vn[bt++]=((kt=lt&&vn[(lt-1)*at+tt*V+gt%V])+rt)%256;break;case 3:for(gt=en=0;en<at;gt=en+=1)rt=T[$++],tt=(gt-gt%V)/V,Tt=gt<V?0:vn[bt-V],kt=lt&&vn[(lt-1)*at+tt*V+gt%V],vn[bt++]=(rt+Math.floor((Tt+kt)/2))%256;break;case 4:for(gt=cn=0;cn<at;gt=cn+=1)rt=T[$++],tt=(gt-gt%V)/V,0===lt?kt=Et=0:(kt=vn[(lt-1)*at+tt*V+gt%V],Et=tt&&vn[(lt-1)*at+(tt-1)*V+gt%V]),rn=(Tt=gt<V?0:vn[bt-V])+kt-Et,xn=Math.abs(rn-Tt),St=Math.abs(rn-kt),dn=Math.abs(rn-Et),vn[bt++]=(rt+(xn<=St&&xn<=dn?Tt:St<=dn?kt:Et))%256;break;default:throw new Error("Invalid filter algorithm: "+T[$-1])}if(!ke){var mt=((Ge+lt*ft)*ae.width+Re)*V,At=lt*at;for(gt=0;gt<gn;gt+=1){for(var E=0;E<V;E+=1)Y[mt++]=vn[At++];mt+=(oe-1)*V}}lt++}}return T=qa(T),1==ae.interlaceMethod?(Ae(0,0,8,8),Ae(4,0,8,8),Ae(0,4,4,8),Ae(2,0,4,4),Ae(0,2,2,4),Ae(1,0,2,2),Ae(0,1,1,2)):Ae(0,0,1,1),Y},x.prototype.decodePalette=function(){var T,V,Y,$,ae,Ae,Re,Ge,oe;for(Y=this.palette,Ae=this.transparency.indexed||[],ae=new Uint8Array((Ae.length||0)+Y.length),$=0,T=0,V=Re=0,Ge=Y.length;Re<Ge;V=Re+=3)ae[$++]=Y[V],ae[$++]=Y[V+1],ae[$++]=Y[V+2],ae[$++]=null!=(oe=Ae[T++])?oe:255;return ae},x.prototype.copyToImageData=function(T,V){var Y,$,ae,Ae,Re,Ge,oe,ft,rt,bt,tt;if($=this.colors,rt=null,Y=this.hasAlphaChannel,this.palette.length&&(rt=null!=(tt=this._decodedPalette)?tt:this._decodedPalette=this.decodePalette(),$=4,Y=!0),ft=(ae=T.data||T).length,Re=rt||V,Ae=Ge=0,1===$)for(;Ae<ft;)oe=rt?4*V[Ae/4]:Ge,bt=Re[oe++],ae[Ae++]=bt,ae[Ae++]=bt,ae[Ae++]=bt,ae[Ae++]=Y?Re[oe++]:255,Ge=oe;else for(;Ae<ft;)oe=rt?4*V[Ae/4]:Ge,ae[Ae++]=Re[oe++],ae[Ae++]=Re[oe++],ae[Ae++]=Re[oe++],ae[Ae++]=Y?Re[oe++]:255,Ge=oe},x.prototype.decode=function(){var T;return T=new Uint8Array(this.width*this.height*4),this.copyToImageData(T,this.decodePixels()),T};var L=function(){if("[object Window]"===Object.prototype.toString.call(ii)){try{y=ii.document.createElement("canvas"),v=y.getContext("2d")}catch{return!1}return!0}return!1};return L(),b=function(T){var V;if(!0===L())return v.width=T.width,v.height=T.height,v.clearRect(0,0,T.width,T.height),v.putImageData(T,0,0),(V=new Image).src=y.toDataURL(),V;throw new Error("This method requires a Browser with Canvas-capability.")},x.prototype.decodeFrames=function(T){var V,Y,$,ae,Ae,Re,Ge,oe;if(this.animation){for(oe=[],Y=Ae=0,Re=(Ge=this.animation.frames).length;Ae<Re;Y=++Ae)$=T.createImageData((V=Ge[Y]).width,V.height),ae=this.decodePixels(new Uint8Array(V.data)),this.copyToImageData($,ae),V.imageData=$,oe.push(V.image=b($));return oe}},x.prototype.renderFrame=function(T,V){var Y,$,ae;return Y=($=this.animation.frames)[V],ae=$[V-1],0===V&&T.clearRect(0,0,this.width,this.height),1===ae?.disposeOp?T.clearRect(ae.xOffset,ae.yOffset,ae.width,ae.height):2===ae?.disposeOp&&T.putImageData(ae.imageData,ae.xOffset,ae.yOffset),0===Y.blendOp&&T.clearRect(Y.xOffset,Y.yOffset,Y.width,Y.height),T.drawImage(Y.image,Y.xOffset,Y.yOffset)},x.prototype.animate=function(T){var V,Y,$,ae,Ae,Re,Ge=this;return Y=0,ae=(Re=this.animation).numFrames,$=Re.frames,Ae=Re.numPlays,(V=function(){var oe,ft;if(oe=Y++%ae,ft=$[oe],Ge.renderFrame(T,oe),ae>1&&Y/ae<Ae)return Ge.animation._timeout=setTimeout(V,ft.delay)})()},x.prototype.stopAnimation=function(){var T;return clearTimeout(null!=(T=this.animation)?T._timeout:void 0)},x.prototype.render=function(T){var V,Y;return T._png&&T._png.stopAnimation(),T._png=this,T.width=this.width,T.height=this.height,V=T.getContext("2d"),this.animation?(this.decodeFrames(V),this.animate(V)):(Y=V.createImageData(this.width,this.height),this.copyToImageData(Y,this.decodePixels()),V.putImageData(Y,0,0))},x}();function _t(b){var y=0;if(71!==b[y++]||73!==b[y++]||70!==b[y++]||56!==b[y++]||56!=(b[y++]+1&253)||97!==b[y++])throw new Error("Invalid GIF 87a/89a header.");var v=b[y++]|b[y++]<<8,x=b[y++]|b[y++]<<8,L=b[y++],V=1<<1+(7&L);y++,y++;var Y=null,$=null;L>>7&&(Y=y,$=V,y+=3*V);var ae=!0,Ae=[],Re=0,Ge=null,oe=0,ft=null;for(this.width=v,this.height=x;ae&&y<b.length;)switch(b[y++]){case 33:switch(b[y++]){case 255:if(11!==b[y]||78==b[y+1]&&69==b[y+2]&&84==b[y+3]&&83==b[y+4]&&67==b[y+5]&&65==b[y+6]&&80==b[y+7]&&69==b[y+8]&&50==b[y+9]&&46==b[y+10]&&48==b[y+11]&&3==b[y+12]&&1==b[y+13]&&0==b[y+16])y+=14,ft=b[y++]|b[y++]<<8,y++;else for(y+=12;;){if(!((lt=b[y++])>=0))throw Error("Invalid block size");if(0===lt)break;y+=lt}break;case 249:if(4!==b[y++]||0!==b[y+4])throw new Error("Invalid graphics extension block.");var rt=b[y++];Re=b[y++]|b[y++]<<8,Ge=b[y++],0==(1&rt)&&(Ge=null),oe=rt>>2&7,y++;break;case 254:for(;;){if(!((lt=b[y++])>=0))throw Error("Invalid block size");if(0===lt)break;y+=lt}break;default:throw new Error("Unknown graphic control label: 0x"+b[y-1].toString(16))}break;case 44:var bt=b[y++]|b[y++]<<8,tt=b[y++]|b[y++]<<8,gt=b[y++]|b[y++]<<8,Tt=b[y++]|b[y++]<<8,Yt=b[y++],rn=Yt>>6&1,xn=1<<1+(7&Yt),Jt=Y,St=$,dn=!1;Yt>>7&&(dn=!0,Jt=y,St=xn,y+=3*xn);var vn=y;for(y++;;){var lt;if(!((lt=b[y++])>=0))throw Error("Invalid block size");if(0===lt)break;y+=lt}Ae.push({x:bt,y:tt,width:gt,height:Tt,has_local_palette:dn,palette_offset:Jt,palette_size:St,data_offset:vn,data_length:y-vn,transparent_index:Ge,interlaced:!!rn,delay:Re,disposal:oe});break;case 59:ae=!1;break;default:throw new Error("Unknown gif block: 0x"+b[y-1].toString(16))}this.numFrames=function(){return Ae.length},this.loopCount=function(){return ft},this.frameInfo=function(at){if(at<0||at>=Ae.length)throw new Error("Frame index out of range.");return Ae[at]},this.decodeAndBlitFrameBGRA=function(at,kt){var Et=this.frameInfo(at),ln=Et.width*Et.height,nn=new Uint8Array(ln);un(b,Et.data_offset,nn,ln);var mn=Et.palette_offset,en=Et.transparent_index;null===en&&(en=256);var cn=Et.width,gn=v-cn,Nn=cn,ke=4*(Et.y*v+Et.x),mt=4*((Et.y+Et.height)*v+Et.x),At=ke,E=4*gn;!0===Et.interlaced&&(E+=4*v*7);for(var D=8,P=0,N=nn.length;P<N;++P){var G=nn[P];if(0===Nn&&(Nn=cn,(At+=E)>=mt&&(E=4*gn+4*v*(D-1),At=ke+(cn+gn)*(D<<1),D>>=1)),G===en)At+=4;else{var pe=b[mn+3*G],Fe=b[mn+3*G+1];kt[At++]=b[mn+3*G+2],kt[At++]=Fe,kt[At++]=pe,kt[At++]=255}--Nn}},this.decodeAndBlitFrameRGBA=function(at,kt){var Et=this.frameInfo(at),ln=Et.width*Et.height,nn=new Uint8Array(ln);un(b,Et.data_offset,nn,ln);var mn=Et.palette_offset,en=Et.transparent_index;null===en&&(en=256);var cn=Et.width,gn=v-cn,Nn=cn,ke=4*(Et.y*v+Et.x),mt=4*((Et.y+Et.height)*v+Et.x),At=ke,E=4*gn;!0===Et.interlaced&&(E+=4*v*7);for(var D=8,P=0,N=nn.length;P<N;++P){var G=nn[P];if(0===Nn&&(Nn=cn,(At+=E)>=mt&&(E=4*gn+4*v*(D-1),At=ke+(cn+gn)*(D<<1),D>>=1)),G===en)At+=4;else{var Fe=b[mn+3*G+1],et=b[mn+3*G+2];kt[At++]=b[mn+3*G],kt[At++]=Fe,kt[At++]=et,kt[At++]=255}--Nn}}}function un(b,y,v,x){for(var L=b[y++],T=1<<L,V=T+1,Y=V+1,$=L+1,ae=(1<<$)-1,Ae=0,Re=0,Ge=0,oe=b[y++],ft=new Int32Array(4096),rt=null;;){for(;Ae<16&&0!==oe;)Re|=b[y++]<<Ae,Ae+=8,1===oe?oe=b[y++]:--oe;if(Ae<$)break;var bt=Re&ae;if(Re>>=$,Ae-=$,bt!==T){if(bt===V)break;for(var tt=bt<Y?bt:rt,gt=0,Tt=tt;Tt>T;)Tt=ft[Tt]>>8,++gt;var Yt=Tt;if(Ge+gt+(tt!==bt?1:0)>x)return void Ui.log("Warning, gif stream longer than expected.");v[Ge++]=Yt;var rn=Ge+=gt;for(tt!==bt&&(v[Ge++]=Yt),Tt=tt;gt--;)v[--rn]=255&(Tt=ft[Tt]),Tt>>=8;null!==rt&&Y<4096&&(ft[Y++]=rt<<8|Yt,Y>=ae+1&&$<12&&(++$,ae=ae<<1|1)),rt=bt}else Y=V+1,ae=(1<<($=L+1))-1,rt=null}return Ge!==x&&Ui.log("Warning, gif stream shorter than expected."),v}function zn(b){var y,v,x,L,T,V=Math.floor,Y=new Array(64),$=new Array(64),ae=new Array(64),Ae=new Array(64),Re=new Array(65535),Ge=new Array(65535),oe=new Array(64),ft=new Array(64),rt=[],bt=0,tt=7,gt=new Array(64),Tt=new Array(64),Yt=new Array(64),rn=new Array(256),xn=new Array(2048),Jt=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],St=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],dn=[0,1,2,3,4,5,6,7,8,9,10,11],vn=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],lt=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],at=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],kt=[0,1,2,3,4,5,6,7,8,9,10,11],Et=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ln=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function nn(ke,mt){for(var At=0,E=0,D=new Array,P=1;P<=16;P++){for(var N=1;N<=ke[P];N++)D[mt[E]]=[],D[mt[E]][0]=At,D[mt[E]][1]=P,E++,At++;At*=2}return D}function mn(ke){for(var mt=ke[0],At=ke[1]-1;At>=0;)mt&1<<At&&(bt|=1<<tt),At--,--tt<0&&(255==bt?(en(255),en(0)):en(bt),tt=7,bt=0)}function en(ke){rt.push(ke)}function cn(ke){en(ke>>8&255),en(255&ke)}function gn(ke,mt,At,E,D){for(var P,N=D[0],G=D[240],pe=function(Dn,On){var kn,Vn,Bn,bi,Di,Oi,Vi,mr,wi,Hi,Gn=0;for(wi=0;wi<8;++wi){var ts=(kn=Dn[Gn])+(mr=Dn[Gn+7]),Qi=kn-mr,$s=(Vn=Dn[Gn+1])+(Vi=Dn[Gn+6]),vr=Vn-Vi,Ar=(Bn=Dn[Gn+2])+(Oi=Dn[Gn+5]),so=Bn-Oi,Ji=(bi=Dn[Gn+3])+(Di=Dn[Gn+4]),Ol=bi-Di,Br=ts+Ji,ha=ts-Ji,oo=$s+Ar,br=$s-Ar;Dn[Gn]=Br+oo,Dn[Gn+4]=Br-oo;var Ai=.707106781*(br+ha);Dn[Gn+2]=ha+Ai,Dn[Gn+6]=ha-Ai;var cr=.382683433*((Br=Ol+so)-(br=vr+Qi)),Il=.5411961*Br+cr,Ls=1.306562965*br+cr,il=.707106781*(oo=so+vr),Fa=Qi+il,fi=Qi-il;Dn[Gn+5]=fi+Il,Dn[Gn+3]=fi-Il,Dn[Gn+1]=Fa+Ls,Dn[Gn+7]=Fa-Ls,Gn+=8}for(Gn=0,wi=0;wi<8;++wi){var da=(kn=Dn[Gn])+(mr=Dn[Gn+56]),xo=kn-mr,qs=(Vn=Dn[Gn+8])+(Vi=Dn[Gn+48]),ds=Vn-Vi,$r=(Bn=Dn[Gn+16])+(Oi=Dn[Gn+40]),Xo=Bn-Oi,hc=(bi=Dn[Gn+24])+(Di=Dn[Gn+32]),kl=bi-Di,Po=da+hc,fa=da-hc,Ko=qs+$r,Eo=qs-$r;Dn[Gn]=Po+Ko,Dn[Gn+32]=Po-Ko;var ao=.707106781*(Eo+fa);Dn[Gn+16]=fa+ao,Dn[Gn+48]=fa-ao;var Ys=.382683433*((Po=kl+Xo)-(Eo=ds+xo)),dc=.5411961*Po+Ys,Wc=1.306562965*Eo+Ys,Pu=.707106781*(Ko=Xo+ds),rl=xo+Pu,Fl=xo-Pu;Dn[Gn+40]=Fl+dc,Dn[Gn+24]=Fl-dc,Dn[Gn+8]=rl+Wc,Dn[Gn+56]=rl-Wc,Gn++}for(wi=0;wi<64;++wi)oe[wi]=(Hi=Dn[wi]*On[wi])>0?Hi+.5|0:Hi-.5|0;return oe}(ke,mt),Fe=0;Fe<64;++Fe)ft[Jt[Fe]]=pe[Fe];var et=ft[0]-At;At=ft[0],0==et?mn(E[0]):(mn(E[Ge[P=32767+et]]),mn(Re[P]));for(var Mt=63;Mt>0&&0==ft[Mt];)Mt--;if(0==Mt)return mn(N),At;for(var on,Ht=1;Ht<=Mt;){for(var nt=Ht;0==ft[Ht]&&Ht<=Mt;)++Ht;var $n=Ht-nt;if($n>=16){on=$n>>4;for(var Wn=1;Wn<=on;++Wn)mn(G);$n&=15}mn(D[($n<<4)+Ge[P=32767+ft[Ht]]]),mn(Re[P]),Ht++}return 63!=Mt&&mn(N),At}function Nn(ke){ke=Math.min(Math.max(ke,1),100),T!=ke&&(function(mt){for(var At=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],E=0;E<64;E++){var D=V((At[E]*mt+50)/100);D=Math.min(Math.max(D,1),255),Y[Jt[E]]=D}for(var P=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],N=0;N<64;N++){var G=V((P[N]*mt+50)/100);G=Math.min(Math.max(G,1),255),$[Jt[N]]=G}for(var pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Fe=0,et=0;et<8;et++)for(var Mt=0;Mt<8;Mt++)ae[Fe]=1/(Y[Jt[Fe]]*pe[et]*pe[Mt]*8),Ae[Fe]=1/($[Jt[Fe]]*pe[et]*pe[Mt]*8),Fe++}(ke<50?Math.floor(5e3/ke):Math.floor(200-2*ke)),T=ke)}this.encode=function(ke,mt){var Vn,Bn;mt&&Nn(mt),rt=new Array,bt=0,tt=7,cn(65496),cn(65504),cn(16),en(74),en(70),en(73),en(70),en(0),en(1),en(1),en(0),cn(1),cn(1),en(0),en(0),function(){cn(65499),cn(132),en(0);for(var Vn=0;Vn<64;Vn++)en(Y[Vn]);en(1);for(var Bn=0;Bn<64;Bn++)en($[Bn])}(),Vn=ke.width,Bn=ke.height,cn(65472),cn(17),en(8),cn(Bn),cn(Vn),en(3),en(1),en(17),en(0),en(2),en(17),en(1),en(3),en(17),en(1),function(){cn(65476),cn(418),en(0);for(var Vn=0;Vn<16;Vn++)en(St[Vn+1]);for(var Bn=0;Bn<=11;Bn++)en(dn[Bn]);en(16);for(var bi=0;bi<16;bi++)en(vn[bi+1]);for(var Di=0;Di<=161;Di++)en(lt[Di]);en(1);for(var Oi=0;Oi<16;Oi++)en(at[Oi+1]);for(var Vi=0;Vi<=11;Vi++)en(kt[Vi]);en(17);for(var mr=0;mr<16;mr++)en(Et[mr+1]);for(var wi=0;wi<=161;wi++)en(ln[wi])}(),cn(65498),cn(12),en(3),en(1),en(0),en(2),en(17),en(3),en(17),en(0),en(63),en(0);var At=0,E=0,D=0;bt=0,tt=7,this.encode.displayName="_encode_";for(var P,N,G,pe,Fe,et,Mt,on,Ht,nt=ke.data,Wn=ke.height,Dn=4*ke.width,On=0;On<Wn;){for(P=0;P<Dn;){for(Fe=Dn*On+P,Mt=-1,on=0,Ht=0;Ht<64;Ht++)et=Fe+(on=Ht>>3)*Dn+(Mt=4*(7&Ht)),On+on>=Wn&&(et-=Dn*(On+1+on-Wn)),P+Mt>=Dn&&(et-=P+Mt-Dn+4),N=nt[et++],G=nt[et++],pe=nt[et++],gt[Ht]=(xn[N]+xn[G+256>>0]+xn[pe+512>>0]>>16)-128,Tt[Ht]=(xn[N+768>>0]+xn[G+1024>>0]+xn[pe+1280>>0]>>16)-128,Yt[Ht]=(xn[N+1280>>0]+xn[G+1536>>0]+xn[pe+1792>>0]>>16)-128;At=gn(gt,ae,At,y,x),E=gn(Tt,Ae,E,v,L),D=gn(Yt,Ae,D,v,L),P+=32}On+=8}if(tt>=0){var kn=[];kn[1]=tt+1,kn[0]=(1<<tt+1)-1,mn(kn)}return cn(65497),new Uint8Array(rt)},b=b||50,function(){for(var ke=String.fromCharCode,mt=0;mt<256;mt++)rn[mt]=ke(mt)}(),y=nn(St,dn),v=nn(at,kt),x=nn(vn,lt),L=nn(Et,ln),function(){for(var ke=1,mt=2,At=1;At<=15;At++){for(var E=ke;E<mt;E++)Ge[32767+E]=At,Re[32767+E]=[],Re[32767+E][1]=At,Re[32767+E][0]=E;for(var D=-(mt-1);D<=-ke;D++)Ge[32767+D]=At,Re[32767+D]=[],Re[32767+D][1]=At,Re[32767+D][0]=mt-1+D;ke<<=1,mt<<=1}}(),function(){for(var ke=0;ke<256;ke++)xn[ke]=19595*ke,xn[ke+256>>0]=38470*ke,xn[ke+512>>0]=7471*ke+32768,xn[ke+768>>0]=-11059*ke,xn[ke+1024>>0]=-21709*ke,xn[ke+1280>>0]=32768*ke+8421375,xn[ke+1536>>0]=-27439*ke,xn[ke+1792>>0]=-5329*ke}(),Nn(b)}function Bi(b,y){if(this.pos=0,this.buffer=b,this.datav=new DataView(b.buffer),this.is_with_alpha=!!y,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function hs(b){function y(St){if(!St)throw Error("assert :P")}function v(St,dn,vn){for(var lt=0;4>lt;lt++)if(St[dn+lt]!=vn.charCodeAt(lt))return!0;return!1}function x(St,dn,vn,lt,at){for(var kt=0;kt<at;kt++)St[dn+kt]=vn[lt+kt]}function L(St,dn,vn,lt){for(var at=0;at<lt;at++)St[dn+at]=vn}function T(St){return new Int32Array(St)}function V(St,dn){for(var vn=[],lt=0;lt<St;lt++)vn.push(new dn);return vn}function Y(St,dn){var vn=[];return function lt(at,kt,Et){for(var ln=Et[kt],nn=0;nn<ln&&(at.push(Et.length>kt+1?[]:new dn),!(Et.length<kt+1));nn++)lt(at[nn],kt+1,Et)}(vn,0,St),vn}var $=function(){var St=this;function dn(S,M){for(var q=1<<M-1>>>0;S&q;)q>>>=1;return q?(S&q-1)+q:S}function vn(S,M,q,se,Se){y(!(se%q));do{S[M+(se-=q)]=Se}while(0<se)}function lt(S,M,q,se,Se){if(y(2328>=Se),512>=Se)var Me=T(512);else if(null==(Me=T(Se)))return 0;return function(Oe,He,qe,ut,Ft,Zt){var Qt,jt,An=He,an=1<<qe,Rt=T(16),Ut=T(16);for(y(0!=Ft),y(null!=ut),y(null!=Oe),y(0<qe),jt=0;jt<Ft;++jt){if(15<ut[jt])return 0;++Rt[ut[jt]]}if(Rt[0]==Ft)return 0;for(Ut[1]=0,Qt=1;15>Qt;++Qt){if(Rt[Qt]>1<<Qt)return 0;Ut[Qt+1]=Ut[Qt]+Rt[Qt]}for(jt=0;jt<Ft;++jt)Qt=ut[jt],0<ut[jt]&&(Zt[Ut[Qt]++]=jt);if(1==Ut[15])return(ut=new at).g=0,ut.value=Zt[0],vn(Oe,An,1,an,ut),an;var Cn,En=-1,Sn=an-1,Yn=0,jn=1,ci=1,wn=1<<qe;for(jt=0,Qt=1,Ft=2;Qt<=qe;++Qt,Ft<<=1){if(jn+=ci<<=1,0>(ci-=Rt[Qt]))return 0;for(;0<Rt[Qt];--Rt[Qt])(ut=new at).g=Qt,ut.value=Zt[jt++],vn(Oe,An+Yn,Ft,wn,ut),Yn=dn(Yn,Qt)}for(Qt=qe+1,Ft=2;15>=Qt;++Qt,Ft<<=1){if(jn+=ci<<=1,0>(ci-=Rt[Qt]))return 0;for(;0<Rt[Qt];--Rt[Qt]){if(ut=new at,(Yn&Sn)!=En){for(An+=wn,Cn=1<<(En=Qt)-qe;15>En&&!(0>=(Cn-=Rt[En]));)++En,Cn<<=1;an+=wn=1<<(Cn=En-qe),Oe[He+(En=Yn&Sn)].g=Cn+qe,Oe[He+En].value=An-He-En}ut.g=Qt-qe,ut.value=Zt[jt++],vn(Oe,An+(Yn>>qe),Ft,wn,ut),Yn=dn(Yn,Qt)}}return jn!=2*Ut[15]-1?0:an}(S,M,q,se,Se,Me)}function at(){this.value=this.g=0}function kt(){this.value=this.g=0}function Et(){this.G=V(5,at),this.H=T(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=V(Us,kt)}function ln(S,M,q,se){y(null!=S),y(null!=M),y(2147483648>se),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=M,S.pa=q,S.Jd=M,S.Yc=q+se,S.Zc=4<=se?q+se-4+1:q,P(S)}function nn(S,M){for(var q=0;0<M--;)q|=G(S,128)<<M;return q}function mn(S,M){var q=nn(S,M);return N(S)?-q:q}function en(S,M,q,se){var Se,Me=0;for(y(null!=S),y(null!=M),y(4294967288>se),S.Sb=se,S.Ra=0,S.u=0,S.h=0,4<se&&(se=4),Se=0;Se<se;++Se)Me+=M[q+Se]<<8*Se;S.Ra=Me,S.bb=se,S.oa=M,S.pa=q}function cn(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<Vl-8>>>0,++S.bb,S.u-=8;At(S)&&(S.h=1,S.u=0)}function gn(S,M){if(y(0<=M),!S.h&&M<=Yu){var q=mt(S)&qu[M];return S.u+=M,cn(S),q}return S.h=1,S.u=0}function Nn(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ke(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function mt(S){return S.Ra>>>(S.u&Vl-1)>>>0}function At(S){return y(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>Vl}function E(S,M){S.u=M,S.h=At(S)}function D(S){S.u>=Uh&&(y(S.u>=Uh),cn(S))}function P(S){y(null!=S&&null!=S.oa),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(y(null!=S&&null!=S.oa),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function N(S){return nn(S,1)}function G(S,M){var q=S.Ca;0>S.b&&P(S);var se=S.b,Se=q*M>>>8,Me=(S.I>>>se>Se)+0;for(Me?(q-=Se,S.I-=Se+1<<se>>>0):q=Se+1,se=q,Se=0;256<=se;)Se+=8,se>>=8;return S.b-=se=7^Se+To[se],S.Ca=(q<<se)-1,Me}function pe(S,M,q){S[M+0]=q>>24&255,S[M+1]=q>>16&255,S[M+2]=q>>8&255,S[M+3]=q>>0&255}function Fe(S,M){return S[M+0]<<0|S[M+1]<<8}function et(S,M){return Fe(S,M)|S[M+2]<<16}function Mt(S,M){return Fe(S,M)|Fe(S,M+2)<<16}function on(S,M){var q=1<<M;return y(null!=S),y(0<M),S.X=T(q),null==S.X?0:(S.Mb=32-M,S.Xa=M,1)}function Ht(S,M){y(null!=S),y(null!=M),y(S.Xa==M.Xa),x(M.X,0,S.X,0,1<<M.Xa)}function nt(){this.X=[],this.Xa=this.Mb=0}function $n(S,M,q,se){y(null!=q),y(null!=se);var Se=q[0],Me=se[0];return 0==Se&&(Se=(S*Me+M/2)/M),0==Me&&(Me=(M*Se+S/2)/S),0>=Se||0>=Me?0:(q[0]=Se,se[0]=Me,1)}function Wn(S,M){return S+(1<<M)-1>>>M}function Dn(S,M){return((4278255360&S)+(4278255360&M)>>>0&4278255360)+((16711935&S)+(16711935&M)>>>0&16711935)>>>0}function On(S,M){St[M]=function(q,se,Se,Me,Oe,He,qe){var ut;for(ut=0;ut<Oe;++ut){var Ft=St[S](He[qe+ut-1],Se,Me+ut);He[qe+ut]=Dn(q[se+ut],Ft)}}}function kn(){this.ud=this.hd=this.jd=0}function Vn(S,M){return((4278124286&(S^M))>>>1)+(S&M)>>>0}function Bn(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function bi(S,M){return Bn(S+(S-M+.5>>1))}function Di(S,M,q){return Math.abs(M-q)-Math.abs(S-q)}function Oi(S,M,q,se,Se,Me,Oe){for(se=Me[Oe-1],q=0;q<Se;++q)Me[Oe+q]=se=Dn(S[M+q],se)}function Vi(S,M,q,se,Se){var Me;for(Me=0;Me<q;++Me){var Oe=S[M+Me],He=Oe>>8&255,qe=16711935&(qe=(qe=16711935&Oe)+((He<<16)+He));se[Se+Me]=(4278255360&Oe)+qe>>>0}}function mr(S,M){M.jd=S>>0&255,M.hd=S>>8&255,M.ud=S>>16&255}function wi(S,M,q,se,Se,Me){var Oe;for(Oe=0;Oe<se;++Oe){var He=M[q+Oe],qe=He>>>8,ut=He,Ft=255&(Ft=(Ft=He>>>16)+((S.jd<<24>>24)*(qe<<24>>24)>>>5));ut=255&(ut=(ut+=(S.hd<<24>>24)*(qe<<24>>24)>>>5)+((S.ud<<24>>24)*(Ft<<24>>24)>>>5)),Se[Me+Oe]=(4278255360&He)+(Ft<<16)+ut}}function Hi(S,M,q,se,Se){St[M]=function(Me,Oe,He,qe,ut,Ft,Zt,Qt,jt){for(qe=Zt;qe<Qt;++qe)for(Zt=0;Zt<jt;++Zt)ut[Ft++]=Se(He[se(Me[Oe++])])},St[S]=function(Me,Oe,He,qe,ut,Ft,Zt){var Qt=8>>Me.b,jt=Me.Ea,An=Me.K[0],an=Me.w;if(8>Qt)for(Me=(1<<Me.b)-1,an=(1<<Qt)-1;Oe<He;++Oe){var Rt,Ut=0;for(Rt=0;Rt<jt;++Rt)Rt&Me||(Ut=se(qe[ut++])),Ft[Zt++]=Se(An[Ut&an]),Ut>>=Qt}else St["VP8LMapColor"+q](qe,ut,An,an,Ft,Zt,Oe,He,jt)}}function Gn(S,M,q,se,Se){for(q=M+q;M<q;){var Me=S[M++];se[Se++]=Me>>16&255,se[Se++]=Me>>8&255,se[Se++]=Me>>0&255}}function ts(S,M,q,se,Se){for(q=M+q;M<q;){var Me=S[M++];se[Se++]=Me>>16&255,se[Se++]=Me>>8&255,se[Se++]=Me>>0&255,se[Se++]=Me>>24&255}}function Qi(S,M,q,se,Se){for(q=M+q;M<q;){var Me=(Oe=S[M++])>>16&240|Oe>>12&15,Oe=Oe>>0&240|Oe>>28&15;se[Se++]=Me,se[Se++]=Oe}}function $s(S,M,q,se,Se){for(q=M+q;M<q;){var Me=(Oe=S[M++])>>16&248|Oe>>13&7,Oe=Oe>>5&224|Oe>>3&31;se[Se++]=Me,se[Se++]=Oe}}function vr(S,M,q,se,Se){for(q=M+q;M<q;){var Me=S[M++];se[Se++]=Me>>0&255,se[Se++]=Me>>8&255,se[Se++]=Me>>16&255}}function Ar(S,M,q,se,Se,Me){if(0==Me)for(q=M+q;M<q;)pe(se,((Me=S[M++])[0]>>24|Me[1]>>8&65280|Me[2]<<8&16711680|Me[3]<<24)>>>0),Se+=32;else x(se,Se,S,M,q)}function so(S,M){St[M][0]=St[S+"0"],St[M][1]=St[S+"1"],St[M][2]=St[S+"2"],St[M][3]=St[S+"3"],St[M][4]=St[S+"4"],St[M][5]=St[S+"5"],St[M][6]=St[S+"6"],St[M][7]=St[S+"7"],St[M][8]=St[S+"8"],St[M][9]=St[S+"9"],St[M][10]=St[S+"10"],St[M][11]=St[S+"11"],St[M][12]=St[S+"12"],St[M][13]=St[S+"13"],St[M][14]=St[S+"0"],St[M][15]=St[S+"0"]}function Ji(S){return S==Rf||S==Yh||S==Ud||S==ea}function Ol(){this.eb=[],this.size=this.A=this.fb=0}function Br(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ha(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ol,this.f.kb=new Br,this.sd=null}function oo(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function br(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ai(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function cr(S,M){var q=S.T,se=M.ba.f.RGBA,Se=se.eb,Me=se.fb+S.ka*se.A,Oe=uo[M.ba.S],He=S.y,qe=S.O,ut=S.f,Ft=S.N,Zt=S.ea,Qt=S.W,jt=M.cc,An=M.dc,an=M.Mc,Rt=M.Nc,Ut=S.ka,Cn=S.ka+S.T,En=S.U,Sn=En+1>>1;for(0==Ut?Oe(He,qe,null,null,ut,Ft,Zt,Qt,ut,Ft,Zt,Qt,Se,Me,null,null,En):(Oe(M.ec,M.fc,He,qe,jt,An,an,Rt,ut,Ft,Zt,Qt,Se,Me-se.A,Se,Me,En),++q);Ut+2<Cn;Ut+=2)Oe(He,(qe+=2*S.fa)-S.fa,He,qe,jt=ut,An=Ft,an=Zt,Rt=Qt,ut,Ft+=S.Rc,Zt,Qt+=S.Rc,Se,(Me+=2*se.A)-se.A,Se,Me,En);return qe+=S.fa,S.j+Cn<S.o?(x(M.ec,M.fc,He,qe,En),x(M.cc,M.dc,ut,Ft,Sn),x(M.Mc,M.Nc,Zt,Qt,Sn),q--):1&Cn||Oe(He,qe,null,null,ut,Ft,Zt,Qt,ut,Ft,Zt,Qt,Se,Me+se.A,null,null,En),q}function Il(S,M,q){var se=S.F,Se=[S.J];if(null!=se){var Me=S.U,Oe=M.ba.S,He=Oe==qh||Oe==Ud;M=M.ba.f.RGBA;var qe=[0],ut=S.ka;qe[0]=S.T,S.Kb&&(0==ut?--qe[0]:(--ut,Se[0]-=S.width),S.j+S.ka+S.T==S.o&&(qe[0]=S.o-S.j-ut));var Ft=M.eb;S=Zu(se,Se[0],S.width,Me,qe,Ft,(ut=M.fb+ut*M.A)+(He?0:3),M.A),y(q==qe),S&&Ji(Oe)&&Or(Ft,ut,He,Me,qe,M.A)}return 0}function Ls(S){var M=S.ma,q=M.ba.S,se=11>q,Se=q==$h||q==Jo||q==qh||q==jd||12==q||Ji(q);if(M.memory=null,M.Ib=null,M.Jb=null,M.Nd=null,!wc(M.Oa,S,Se?11:12))return 0;if(Se&&Ji(q)&&Mn(),S.da)alert("todo:use_scaling");else{if(se){if(M.Ib=Ai,S.Kb){if(M.memory=T(S.U+2*(q=S.U+1>>1)),null==M.memory)return 0;M.ec=M.memory,M.fc=0,M.cc=M.ec,M.dc=M.fc+S.U,M.Mc=M.cc,M.Nc=M.dc+q,M.Ib=cr,Mn()}}else alert("todo:EmitYUV");Se&&(M.Jb=Il,se&&zt())}if(se&&!qd){for(S=0;256>S;++S)Gf[S]=89858*(S-128)+nh>>th,qf[S]=-22014*(S-128)+nh,Yd[S]=-45773*(S-128),$f[S]=113618*(S-128)+nh>>th;for(S=ih;S<Wf;++S)Kh[S-ih]=co(M=76283*(S-16)+nh>>th,255),Zh[S-ih]=co(M+8>>4,15);qd=1}return 1}function il(S){var M=S.ma,q=S.U,se=S.T;return y(!(1&S.ka)),0>=q||0>=se?0:(q=M.Ib(S,M),null!=M.Jb&&M.Jb(S,M,q),M.Dc+=q,1)}function Fa(S){S.ma.memory=null}function fi(S,M,q,se){return 47!=gn(S,8)?0:(M[0]=gn(S,14)+1,q[0]=gn(S,14)+1,se[0]=gn(S,1),0!=gn(S,3)?0:!S.h)}function da(S,M){if(4>S)return S+1;var q=S-2>>1;return(2+(1&S)<<q)+gn(M,q)+1}function xo(S,M){return 120<M?M-120:1<=(q=((q=Qu[M-1])>>4)*S+(8-(15&q)))?q:1;var q}function qs(S,M,q){var se=mt(q),Se=S[M+=255&se].g-8;return 0<Se&&(E(q,q.u+8),se=mt(q),M+=S[M].value,M+=se&(1<<Se)-1),E(q,q.u+S[M].g),S[M].value}function ds(S,M,q){return q.g+=S.g,q.value+=S.value<<M>>>0,y(8>=q.g),S.g}function $r(S,M,q){var se=S.xc;return y((M=0==se?0:S.vc[S.md*(q>>se)+(M>>se)])<S.Wb),S.Ya[M]}function Xo(S,M,q,se){var Se=S.ab,Me=S.c*M,Oe=S.C;M=Oe+M;var He=q,qe=se;for(se=S.Ta,q=S.Ua;0<Se--;){var ut=S.gc[Se],Ft=Oe,Zt=M,Qt=He,jt=qe,An=(qe=se,He=q,ut.Ea);switch(y(Ft<Zt),y(Zt<=ut.nc),ut.hc){case 2:Rd(Qt,jt,(Zt-Ft)*An,qe,He);break;case 0:var an=Ft,Rt=Zt,Ut=qe,Cn=He,En=(wn=ut).Ea;0==an&&(Lf(Qt,jt,null,null,1,Ut,Cn),Oi(Qt,jt+1,0,0,En-1,Ut,Cn+1),jt+=En,Cn+=En,++an);for(var Sn=1<<wn.b,Yn=Sn-1,jn=Wn(En,wn.b),ci=wn.K,wn=wn.w+(an>>wn.b)*jn;an<Rt;){var tr=ci,or=wn,Ki=1;for(Vh(Qt,jt,Ut,Cn-En,1,Ut,Cn);Ki<En;){var zi=(Ki&~Yn)+Sn;zi>En&&(zi=En),(0,ul[tr[or++]>>8&15])(Qt,jt+ +Ki,Ut,Cn+Ki-En,zi-Ki,Ut,Cn+Ki),Ki=zi}jt+=En,Cn+=En,++an&Yn||(wn+=jn)}Zt!=ut.nc&&x(qe,He-An,qe,He+(Zt-Ft-1)*An,An);break;case 1:for(An=Qt,Rt=jt,En=(Qt=ut.Ea)-(Cn=Qt&~(Ut=(jt=1<<ut.b)-1)),an=Wn(Qt,ut.b),Sn=ut.K,ut=ut.w+(Ft>>ut.b)*an;Ft<Zt;){for(Yn=Sn,jn=ut,ci=new kn,wn=Rt+Cn,tr=Rt+Qt;Rt<wn;)mr(Yn[jn++],ci),Mo(ci,An,Rt,jt,qe,He),Rt+=jt,He+=jt;Rt<tr&&(mr(Yn[jn++],ci),Mo(ci,An,Rt,En,qe,He),Rt+=En,He+=En),++Ft&Ut||(ut+=an)}break;case 3:if(Qt==qe&&jt==He&&0<ut.b){for(Rt=qe,Qt=An=He+(Zt-Ft)*An-(Cn=(Zt-Ft)*Wn(ut.Ea,ut.b)),jt=qe,Ut=He,an=[],Cn=(En=Cn)-1;0<=Cn;--Cn)an[Cn]=jt[Ut+Cn];for(Cn=En-1;0<=Cn;--Cn)Rt[Qt+Cn]=an[Cn];ya(ut,Ft,Zt,qe,An,qe,He)}else ya(ut,Ft,Zt,Qt,jt,qe,He)}He=se,qe=q}qe!=q&&x(se,q,He,qe,Me)}function hc(S,M){var q=S.V,se=S.Ba+S.c*S.C,Se=M-S.C;if(y(M<=S.l.o),y(16>=Se),0<Se){var Me=S.l,Oe=S.Ta,He=S.Ua,qe=Me.width;if(Xo(S,Se,q,se),Se=He=[He],y((q=S.C)<(se=M)),y(Me.v<Me.va),se>Me.o&&(se=Me.o),q<Me.j){var ut=Me.j-q;q=Me.j,Se[0]+=ut*qe}if(q>=se?q=0:(Se[0]+=4*Me.v,Me.ka=q-Me.j,Me.U=Me.va-Me.v,Me.T=se-q,q=1),q){if(He=He[0],11>(q=S.ca).S){var Ft=q.f.RGBA,Zt=(se=q.S,Se=Me.U,Me=Me.T,ut=Ft.eb,Ft.A),Qt=Me;for(Ft=Ft.fb+S.Ma*Ft.A;0<Qt--;){var jt=Oe,An=He,an=Se,Rt=ut,Ut=Ft;switch(se){case Gh:Lo(jt,An,an,Rt,Ut);break;case $h:Hl(jt,An,an,Rt,Ut);break;case Rf:Hl(jt,An,an,Rt,Ut),Or(Rt,Ut,0,an,1,0);break;case Ac:nu(jt,An,an,Rt,Ut);break;case Jo:Ar(jt,An,an,Rt,Ut,1);break;case Yh:Ar(jt,An,an,Rt,Ut,1),Or(Rt,Ut,0,an,1,0);break;case qh:Ar(jt,An,an,Rt,Ut,0);break;case Ud:Ar(jt,An,an,Rt,Ut,0),Or(Rt,Ut,1,an,1,0);break;case jd:Zo(jt,An,an,Rt,Ut);break;case ea:Zo(jt,An,an,Rt,Ut),Va(Rt,Ut,an,1,0);break;case Bp:Oo(jt,An,an,Rt,Ut);break;default:y(0)}He+=qe,Ft+=Zt}S.Ma+=Me}else alert("todo:EmitRescaledRowsYUVA");y(S.Ma<=q.height)}}S.C=M,y(S.C<=S.i)}function kl(S){var M;if(0<S.ua)return 0;for(M=0;M<S.Wb;++M){var q=S.Ya[M].G,se=S.Ya[M].H;if(0<q[1][se[1]+0].g||0<q[2][se[2]+0].g||0<q[3][se[3]+0].g)return 0}return 1}function Po(S,M,q,se,Se,Me){if(0!=S.Z){var Oe=S.qd,He=S.rd;for(y(null!=pl[S.Z]);M<q;++M)pl[S.Z](Oe,He,se,Se,se,Se,Me),Oe=se,He=Se,Se+=Me;S.qd=Oe,S.rd=He}}function fa(S,M){var q=S.l.ma,se=0==q.Z||1==q.Z?S.l.j:S.C;if(se=S.C<se?se:S.C,y(M<=S.l.o),M>se){var Se=S.l.width,Me=q.ca,Oe=q.tb+Se*se,He=S.V,qe=S.Ba+S.c*se,ut=S.gc;y(1==S.ab),y(3==ut[0].hc),Xu(ut[0],se,M,He,qe,Me,Oe),Po(q,se,M,Me,Oe,Se)}S.C=S.Ma=M}function Ko(S,M,q,se,Se,Me,Oe){var He=S.$/se,qe=S.$%se,ut=S.m,Ft=S.s,Zt=q+S.$,Qt=Zt;Se=q+se*Se;var jt=q+se*Me,An=280+Ft.ua,an=S.Pb?He:16777216,Rt=0<Ft.ua?Ft.Wa:null,Ut=Ft.wc,Cn=Zt<jt?$r(Ft,qe,He):null;y(S.C<Me),y(jt<=Se);var En=!1;e:for(;;){for(;En||Zt<jt;){var Sn=0;if(He>=an){var Yn=Zt-q;y((an=S).Pb),an.wd=an.m,an.xd=Yn,0<an.s.ua&&Ht(an.s.Wa,an.s.vb),an=He+Vp}if(qe&Ut||(Cn=$r(Ft,qe,He)),y(null!=Cn),Cn.Qb&&(M[Zt]=Cn.qb,En=!0),!En)if(D(ut),Cn.jc){Yn=M;var jn=Zt,ci=Cn.pd[mt(Sn=ut)&Us-1];y(Cn.jc),256>ci.g?(E(Sn,Sn.u+ci.g),Yn[jn]=ci.value,Sn=0):(E(Sn,Sn.u+ci.g-256),y(256<=ci.value),Sn=ci.value),0==Sn&&(En=!0)}else Sn=qs(Cn.G[0],Cn.H[0],ut);if(ut.h)break;if(En||256>Sn){if(!En)if(Cn.nd)M[Zt]=(Cn.qb|Sn<<8)>>>0;else{if(D(ut),En=qs(Cn.G[1],Cn.H[1],ut),D(ut),Yn=qs(Cn.G[2],Cn.H[2],ut),jn=qs(Cn.G[3],Cn.H[3],ut),ut.h)break;M[Zt]=(jn<<24|En<<16|Sn<<8|Yn)>>>0}if(En=!1,++Zt,++qe>=se&&(qe=0,++He,null!=Oe&&He<=Me&&!(He%16)&&Oe(S,He),null!=Rt))for(;Qt<Zt;)Sn=M[Qt++],Rt.X[(506832829*Sn&4294967295)>>>Rt.Mb]=Sn}else if(280>Sn){if(Sn=da(Sn-256,ut),Yn=qs(Cn.G[4],Cn.H[4],ut),D(ut),Yn=xo(se,Yn=da(Yn,ut)),ut.h)break;if(Zt-q<Yn||Se-Zt<Sn)break e;for(jn=0;jn<Sn;++jn)M[Zt+jn]=M[Zt+jn-Yn];for(Zt+=Sn,qe+=Sn;qe>=se;)qe-=se,++He,null!=Oe&&He<=Me&&!(He%16)&&Oe(S,He);if(y(Zt<=Se),qe&Ut&&(Cn=$r(Ft,qe,He)),null!=Rt)for(;Qt<Zt;)Sn=M[Qt++],Rt.X[(506832829*Sn&4294967295)>>>Rt.Mb]=Sn}else{if(!(Sn<An))break e;for(En=Sn-280,y(null!=Rt);Qt<Zt;)Sn=M[Qt++],Rt.X[(506832829*Sn&4294967295)>>>Rt.Mb]=Sn;Sn=Zt,y(!(En>>>(Yn=Rt).Xa)),M[Sn]=Yn.X[En],En=!0}En||y(ut.h==At(ut))}if(S.Pb&&ut.h&&Zt<Se)y(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&Ht(S.s.vb,S.s.Wa);else{if(ut.h)break e;Oe?.(S,He>Me?Me:He),S.a=0,S.$=Zt-q}return 1}return S.a=3,0}function Eo(S){y(null!=S),S.vc=null,S.yc=null,S.Ya=null;var M=S.Wa;null!=M&&(M.X=null),S.vb=null,y(null!=S)}function ao(){var S=new al;return null==S?null:(S.a=0,S.xb=Uf,so("Predictor","VP8LPredictors"),so("Predictor","VP8LPredictors_C"),so("PredictorAdd","VP8LPredictorsAdd"),so("PredictorAdd","VP8LPredictorsAdd_C"),Rd=Vi,Mo=wi,Lo=Gn,Hl=ts,Zo=Qi,Oo=$s,nu=vr,St.VP8LMapColor32b=tu,St.VP8LMapColor8b=Hh,S)}function Ys(S,M,q,se,Se){var Me=1,Oe=[S],He=[M],qe=se.m,ut=se.s,Ft=null,Zt=0;e:for(;;){if(q)for(;Me&&gn(qe,1);){var Qt=Oe,jt=He,An=se,an=1,Rt=An.m,Ut=An.gc[An.ab],Cn=gn(Rt,2);if(An.Oc&1<<Cn)Me=0;else{switch(An.Oc|=1<<Cn,Ut.hc=Cn,Ut.Ea=Qt[0],Ut.nc=jt[0],Ut.K=[null],++An.ab,y(4>=An.ab),Cn){case 0:case 1:Ut.b=gn(Rt,3)+2,an=Ys(Wn(Ut.Ea,Ut.b),Wn(Ut.nc,Ut.b),0,An,Ut.K),Ut.K=Ut.K[0];break;case 3:var En,Sn=gn(Rt,8)+1,Yn=16<Sn?0:4<Sn?1:2<Sn?2:3;if(Qt[0]=Wn(Ut.Ea,Yn),Ut.b=Yn,En=an=Ys(Sn,1,0,An,Ut.K)){var jn,ci=Sn,wn=Ut,tr=1<<(8>>wn.b),or=T(tr);if(null==or)En=0;else{var Ki=wn.K[0],zi=wn.w;for(or[0]=wn.K[0][0],jn=1;jn<1*ci;++jn)or[jn]=Dn(Ki[zi+jn],or[jn-1]);for(;jn<4*tr;++jn)or[jn]=0;wn.K[0]=null,wn.K[0]=or,En=1}}an=En;break;case 2:break;default:y(0)}Me=an}}if(Oe=Oe[0],He=He[0],Me&&gn(qe,1)&&!(Me=1<=(Zt=gn(qe,4))&&11>=Zt)){se.a=3;break e}var _r;if(_r=Me)t:{var ur,Ti,qr,ho=se,ss=Oe,Fo=He,ar=Zt,fo=q,fs=ho.m,Ss=ho.s,ps=[null],Os=1,ta=0,gl=Up[ar];n:for(;;){if(fo&&gn(fs,1)){var Is=gn(fs,3)+2,ql=Wn(ss,Is),Pc=Wn(Fo,Is),Ec=ql*Pc;if(!Ys(ql,Pc,0,ho,ps))break n;for(ps=ps[0],Ss.xc=Is,ur=0;ur<Ec;++ur){var Dc=ps[ur]>>8&65535;ps[ur]=Dc,Dc>=Os&&(Os=Dc+1)}}if(fs.h)break n;for(Ti=0;5>Ti;++Ti){var Ur=Nf[Ti];!Ti&&0<ar&&(Ur+=1<<ar),ta<Ur&&(ta=Ur)}var Yl=V(Os*gl,at),Xf=Os,Zd=V(Xf,Et);if(null==Zd)var Tc=null;else y(65536>=Xf),Tc=Zd;var sh=T(ta);if(null==Tc||null==sh||null==Yl){ho.a=1;break n}var oh=Yl;for(ur=qr=0;ur<Os;++ur){var Sa=Tc[ur],cu=Sa.G,uu=Sa.H,Kf=0,Qh=1,Qd=0;for(Ti=0;5>Ti;++Ti){Ur=Nf[Ti],cu[Ti]=oh,uu[Ti]=qr,!Ti&&0<ar&&(Ur+=1<<ar);r:{var Jh,ed=Ur,ah=ho,Mc=sh,Mm=oh,Jd=qr,ef=0,Lc=ah.m,hu=gn(Lc,1);if(L(Mc,0,0,ed),hu){var Zf=gn(Lc,1)+1,Qf=gn(Lc,1),lh=gn(Lc,0==Qf?1:8);Mc[lh]=1,2==Zf&&(Mc[lh=gn(Lc,8)]=1);var po=1}else{var tf=T(19),Jf=gn(Lc,4)+4;if(19<Jf){ah.a=3;var du=0;break r}for(Jh=0;Jh<Jf;++Jh)tf[jp[Jh]]=gn(Lc,3);var Aa=void 0,Oc=void 0,nf=ah,rf=tf,sf=ed,af=Mc,ep=0,xa=nf.m,ch=8,td=V(128,at);i:for(;lt(td,0,7,rf,19);){if(gn(xa,1)){var lf=2+2*gn(xa,3);if((Aa=2+gn(xa,lf))>sf)break i}else Aa=sf;for(Oc=0;Oc<sf&&Aa--;){D(xa);var nd=td[0+(127&mt(xa))];E(xa,xa.u+nd.g);var uh=nd.value;if(16>uh)af[Oc++]=uh,0!=uh&&(ch=uh);else{var $p=16==uh,tp=uh-16,qp=Hd[tp],np=gn(xa,Vd[tp])+qp;if(Oc+np>sf)break i;for(var ip=$p?ch:0;0<np--;)af[Oc++]=ip}}ep=1;break i}ep||(nf.a=3),po=ep}(po=po&&!Lc.h)&&(ef=lt(Mm,Jd,8,Mc,ed)),po&&0!=ef?du=ef:(ah.a=3,du=0)}if(0==du)break n;if(Qh&&1==Bf[Ti]&&(Qh=0==oh[qr].g),Kf+=oh[qr].g,qr+=du,3>=Ti){var id,cf=sh[0];for(id=1;id<Ur;++id)sh[id]>cf&&(cf=sh[id]);Qd+=cf}}if(Sa.nd=Qh,Sa.Qb=0,Qh&&(Sa.qb=(cu[3][uu[3]+0].value<<24|cu[1][uu[1]+0].value<<16|cu[2][uu[2]+0].value)>>>0,0==Kf&&256>cu[0][uu[0]+0].value&&(Sa.Qb=1,Sa.qb+=cu[0][uu[0]+0].value<<8)),Sa.jc=!Sa.Qb&&6>Qd,Sa.jc){var uf,Ha=Sa;for(uf=0;uf<Us;++uf){var ml=uf,Xl=Ha.pd[ml],fu=Ha.G[0][Ha.H[0]+ml];256<=fu.value?(Xl.g=fu.g+256,Xl.value=fu.value):(Xl.g=0,Xl.value=0,ml>>=ds(fu,8,Xl),ml>>=ds(Ha.G[1][Ha.H[1]+ml],16,Xl),ml>>=ds(Ha.G[2][Ha.H[2]+ml],0,Xl),ds(Ha.G[3][Ha.H[3]+ml],24,Xl))}}}Ss.vc=ps,Ss.Wb=Os,Ss.Ya=Tc,Ss.yc=Yl,_r=1;break t}_r=0}if(!(Me=_r)){se.a=3;break e}if(0<Zt){if(ut.ua=1<<Zt,!on(ut.Wa,Zt)){se.a=1,Me=0;break e}}else ut.ua=0;var rp=se,Yp=Oe,Lm=He,sp=rp.s,op=sp.xc;if(rp.c=Yp,rp.i=Lm,sp.md=Wn(Yp,op),sp.wc=0==op?-1:(1<<op)-1,q){se.xb=Wp;break e}if(null==(Ft=T(Oe*He))){se.a=1,Me=0;break e}Me=(Me=Ko(se,Ft,0,Oe,He,He,null))&&!qe.h;break e}return Me?(null!=Se?Se[0]=Ft:(y(null==Ft),y(q)),se.$=0,q||Eo(ut)):Eo(ut),Me}function dc(S,M){var q=S.c*S.i,se=q+M+16*M;return y(S.c<=M),S.V=T(se),null==S.V?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+q+M,1)}function Wc(S,M){var q=S.C,se=M-q,Se=S.V,Me=S.Ba+S.c*q;for(y(M<=S.l.o);0<se;){var Oe=16<se?16:se,He=S.l.ma,qe=S.l.width,ut=qe*Oe,Ft=He.ca,Zt=He.tb+qe*q,Qt=S.Ta,jt=S.Ua;Xo(S,Oe,Se,Me),Of(Qt,jt,Ft,Zt,ut),Po(He,q,q+Oe,Ft,Zt,qe),se-=Oe,Se+=Oe*S.c,q+=Oe}y(q==M),S.C=S.Ma=M}function Pu(){this.ub=this.yd=this.td=this.Rb=0}function rl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Fl(){this.Fb=this.Bb=this.Cb=0,this.Zb=T(4),this.Lb=T(4)}function Eu(){var S;this.Yb=(function M(q,se,Se){for(var Me=Se[se],Oe=0;Oe<Me&&(q.push(Se.length>se+1?[]:0),!(Se.length<se+1));Oe++)M(q[Oe],se+1,Se)}(S=[],0,[3,11]),S)}function Ch(){this.jb=T(3),this.Wc=Y([4,8],Eu),this.Xc=Y([4,17],Eu)}function Sh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new T(4),this.od=new T(4)}function fc(){this.ld=this.La=this.dd=this.tc=0}function Ah(){this.Na=this.la=0}function Ed(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Du(){this.ad=T(384),this.Za=0,this.Ob=T(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Dd(){this.uc=this.M=this.Nb=0,this.wa=Array(new fc),this.Y=0,this.ya=Array(new Du),this.aa=0,this.l=new Na}function xh(){this.y=T(16),this.f=T(8),this.ea=T(8)}function Ra(){this.cb=this.a=0,this.sc="",this.m=new Nn,this.Od=new Pu,this.Kc=new rl,this.ed=new Sh,this.Qa=new Fl,this.Ic=this.$c=this.Aa=0,this.D=new Dd,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=V(8,Nn),this.ia=0,this.pb=V(4,Ed),this.Pa=new Ch,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new xh),this.Hd=0,this.rb=Array(new Ah),this.sb=0,this.wa=Array(new fc),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Du),this.L=this.aa=0,this.gd=Y([4,2],fc),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Na(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Td(){var S=new Ra;return null!=S&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,su||(su=Od)),S}function ns(S,M,q){return 0==S.a&&(S.a=M,S.sc=q,S.cb=0),0}function Md(S,M,q){return 3<=q&&157==S[M+0]&&1==S[M+1]&&42==S[M+2]}function Ld(S,M){if(null==S)return 0;if(S.a=0,S.sc="OK",null==M)return ns(S,2,"null VP8Io passed to VP8GetHeaders()");var q=M.data,se=M.w,Se=M.ha;if(4>Se)return ns(S,7,"Truncated header.");var Me=q[se+0]|q[se+1]<<8|q[se+2]<<16,Oe=S.Od;if(Oe.Rb=!(1&Me),Oe.td=Me>>1&7,Oe.yd=Me>>4&1,Oe.ub=Me>>5,3<Oe.td)return ns(S,3,"Incorrect keyframe parameters.");if(!Oe.yd)return ns(S,4,"Frame not displayable.");se+=3,Se-=3;var He=S.Kc;if(Oe.Rb){if(7>Se)return ns(S,7,"cannot parse picture header");if(!Md(q,se,Se))return ns(S,3,"Bad code word");He.c=16383&(q[se+4]<<8|q[se+3]),He.Td=q[se+4]>>6,He.i=16383&(q[se+6]<<8|q[se+5]),He.Ud=q[se+6]>>6,se+=7,Se-=7,S.za=He.c+15>>4,S.Ub=He.i+15>>4,M.width=He.c,M.height=He.i,M.Da=0,M.j=0,M.v=0,M.va=M.width,M.o=M.height,M.da=0,M.ib=M.width,M.hb=M.height,M.U=M.width,M.T=M.height,L((Me=S.Pa).jb,0,255,Me.jb.length),y(null!=(Me=S.Qa)),Me.Cb=0,Me.Bb=0,Me.Fb=1,L(Me.Zb,0,0,Me.Zb.length),L(Me.Lb,0,0,Me.Lb)}if(Oe.ub>Se)return ns(S,7,"bad partition length");ln(Me=S.m,q,se,Oe.ub),se+=Oe.ub,Se-=Oe.ub,Oe.Rb&&(He.Ld=N(Me),He.Kd=N(Me)),He=S.Qa;var qe,ut=S.Pa;if(y(null!=Me),y(null!=He),He.Cb=N(Me),He.Cb){if(He.Bb=N(Me),N(Me)){for(He.Fb=N(Me),qe=0;4>qe;++qe)He.Zb[qe]=N(Me)?mn(Me,7):0;for(qe=0;4>qe;++qe)He.Lb[qe]=N(Me)?mn(Me,6):0}if(He.Bb)for(qe=0;3>qe;++qe)ut.jb[qe]=N(Me)?nn(Me,8):255}else He.Bb=0;if(Me.Ka)return ns(S,3,"cannot parse segment header");if((He=S.ed).zd=N(Me),He.Tb=nn(Me,6),He.wb=nn(Me,3),He.Pc=N(Me),He.Pc&&N(Me)){for(ut=0;4>ut;++ut)N(Me)&&(He.vd[ut]=mn(Me,6));for(ut=0;4>ut;++ut)N(Me)&&(He.od[ut]=mn(Me,6))}if(S.L=0==He.Tb?0:He.zd?1:2,Me.Ka)return ns(S,3,"cannot parse filter header");var Ft=Se;if(Se=qe=se,se=qe+Ft,He=Ft,S.Xb=(1<<nn(S.m,2))-1,Ft<3*(ut=S.Xb))q=7;else{for(qe+=3*ut,He-=3*ut,Ft=0;Ft<ut;++Ft){var Zt=q[Se+0]|q[Se+1]<<8|q[Se+2]<<16;Zt>He&&(Zt=He),ln(S.Jc[+Ft],q,qe,Zt),qe+=Zt,He-=Zt,Se+=3}ln(S.Jc[+ut],q,qe,He),q=qe<se?0:5}if(0!=q)return ns(S,q,"cannot parse partitions");for(q=nn(qe=S.m,7),Se=N(qe)?mn(qe,4):0,se=N(qe)?mn(qe,4):0,He=N(qe)?mn(qe,4):0,ut=N(qe)?mn(qe,4):0,qe=N(qe)?mn(qe,4):0,Ft=S.Qa,Zt=0;4>Zt;++Zt){if(Ft.Cb){var Qt=Ft.Zb[Zt];Ft.Fb||(Qt+=q)}else{if(0<Zt){S.pb[Zt]=S.pb[0];continue}Qt=q}var jt=S.pb[Zt];jt.Sc[0]=Ju[co(Qt+Se,127)],jt.Sc[1]=eh[co(Qt+0,127)],jt.Eb[0]=2*Ju[co(Qt+se,127)],jt.Eb[1]=101581*eh[co(Qt+He,127)]>>16,8>jt.Eb[1]&&(jt.Eb[1]=8),jt.Qc[0]=Ju[co(Qt+ut,117)],jt.Qc[1]=eh[co(Qt+qe,127)],jt.lc=Qt+qe}if(!Oe.Rb)return ns(S,4,"Not a key frame.");for(N(Me),Oe=S.Pa,q=0;4>q;++q){for(Se=0;8>Se;++Se)for(se=0;3>se;++se)for(He=0;11>He;++He)ut=G(Me,zd[q][Se][se][He])?nn(Me,8):jf[q][Se][se][He],Oe.Wc[q][Se].Yb[se][He]=ut;for(Se=0;17>Se;++Se)Oe.Xc[q][Se]=Oe.Wc[q][zp[Se]]}return S.kc=N(Me),S.kc&&(S.Bd=nn(Me,8)),S.cb=1}function Od(S,M,q,se,Se,Me,Oe){var He=M[Se].Yb[q];for(q=0;16>Se;++Se){if(!G(S,He[q+0]))return Se;for(;!G(S,He[q+1]);)if(He=M[++Se].Yb[0],q=0,16==Se)return 16;var qe=M[Se+1].Yb;if(G(S,He[q+2])){var ut=S,Ft=0;if(G(ut,(Qt=He)[(Zt=q)+3]))if(G(ut,Qt[Zt+6])){for(He=0,Zt=2*(Ft=G(ut,Qt[Zt+8]))+(Qt=G(ut,Qt[Zt+9+Ft])),Ft=0,Qt=Tm[Zt];Qt[He];++He)Ft+=Ft+G(ut,Qt[He]);Ft+=3+(8<<Zt)}else G(ut,Qt[Zt+7])?(Ft=7+2*G(ut,165),Ft+=G(ut,145)):Ft=5+G(ut,159);else Ft=G(ut,Qt[Zt+4])?3+G(ut,Qt[Zt+5]):2;He=qe[2]}else Ft=1,He=qe[1];qe=Oe+ou[Se],0>(ut=S).b&&P(ut);var Zt,Qt=ut.b,jt=(Zt=ut.Ca>>1)-(ut.I>>Qt)>>31;--ut.b,ut.Ca+=jt,ut.Ca|=1,ut.I-=(Zt+1&jt)<<Qt,Me[qe]=((Ft^jt)-jt)*se[(0<Se)+0]}return 16}function Ph(S){var M=S.rb[S.sb-1];M.la=0,M.Na=0,L(S.zc,0,0,S.zc.length),S.ja=0}function pa(S,M,q,se,Se){S[M+q+32*se]=-256&(Se=S[M+q+32*se]+(Se>>3))?0>Se?0:255:Se}function Gc(S,M,q,se,Se,Me){pa(S,M,0,q,se+Se),pa(S,M,1,q,se+Me),pa(S,M,2,q,se-Me),pa(S,M,3,q,se-Se)}function lo(S){return(20091*S>>16)+S}function Tu(S,M,q,se){var Se,Me=0,Oe=T(16);for(Se=0;4>Se;++Se){var He=S[M+0]+S[M+8],qe=S[M+0]-S[M+8],ut=(35468*S[M+4]>>16)-lo(S[M+12]),Ft=lo(S[M+4])+(35468*S[M+12]>>16);Oe[Me+0]=He+Ft,Oe[Me+1]=qe+ut,Oe[Me+2]=qe-ut,Oe[Me+3]=He-Ft,Me+=4,M++}for(Se=Me=0;4>Se;++Se)He=(S=Oe[Me+0]+4)+Oe[Me+8],qe=S-Oe[Me+8],ut=(35468*Oe[Me+4]>>16)-lo(Oe[Me+12]),pa(q,se,0,0,He+(Ft=lo(Oe[Me+4])+(35468*Oe[Me+12]>>16))),pa(q,se,1,0,qe+ut),pa(q,se,2,0,qe-ut),pa(q,se,3,0,He-Ft),Me++,se+=32}function $c(S,M,q,se){var Se=S[M+0]+4,Me=35468*S[M+4]>>16,Oe=lo(S[M+4]),He=35468*S[M+1]>>16;Gc(q,se,0,Se+Oe,S=lo(S[M+1]),He),Gc(q,se,1,Se+Me,S,He),Gc(q,se,2,Se-Me,S,He),Gc(q,se,3,Se-Oe,S,He)}function ga(S,M,q,se,Se){Tu(S,M,q,se),Se&&Tu(S,M+16,q,se+4)}function Rl(S,M,q,se){iu(S,M+0,q,se,1),iu(S,M+32,q,se+128,1)}function Dh(S,M,q,se){var Se;for(S=S[M+0]+4,Se=0;4>Se;++Se)for(M=0;4>M;++M)pa(q,se,M,Se,S)}function Mu(S,M,q,se){S[M+0]&&ba(S,M+0,q,se),S[M+16]&&ba(S,M+16,q,se+4),S[M+32]&&ba(S,M+32,q,se+128),S[M+48]&&ba(S,M+48,q,se+128+4)}function Th(S,M,q,se){var Se,Me=T(16);for(Se=0;4>Se;++Se){var Oe=S[M+0+Se]+S[M+12+Se],He=S[M+4+Se]+S[M+8+Se],qe=S[M+4+Se]-S[M+8+Se],ut=S[M+0+Se]-S[M+12+Se];Me[0+Se]=Oe+He,Me[8+Se]=Oe-He,Me[4+Se]=ut+qe,Me[12+Se]=ut-qe}for(Se=0;4>Se;++Se)Oe=(S=Me[0+4*Se]+3)+Me[3+4*Se],qe=Me[1+4*Se]-Me[2+4*Se],ut=S-Me[3+4*Se],q[se+0]=Oe+(He=Me[1+4*Se]+Me[2+4*Se])>>3,q[se+16]=ut+qe>>3,q[se+32]=Oe-He>>3,q[se+48]=ut-qe>>3,se+=64}function Mh(S,M,q){var se,Se=M-32,Me=ko,Oe=255-S[Se-1];for(se=0;se<q;++se){var He,qe=Me,ut=Oe+S[M-1];for(He=0;He<q;++He)S[M+He]=qe[ut+S[Se+He]];M+=32}}function Tf(S,M){Mh(S,M,4)}function Mf(S,M){Mh(S,M,8)}function Lu(S,M){Mh(S,M,16)}function ma(S,M){var q;for(q=0;16>q;++q)x(S,M+32*q,S,M-32,16)}function Ou(S,M){var q;for(q=16;0<q;--q)L(S,M,S[M-1],16),M+=32}function Iu(S,M,q){var se;for(se=0;16>se;++se)L(M,q+32*se,S,16)}function ku(S,M){var q,se=16;for(q=0;16>q;++q)se+=S[M-1+32*q]+S[M+q-32];Iu(se>>5,S,M)}function js(S,M){var q,se=8;for(q=0;16>q;++q)se+=S[M-1+32*q];Iu(se>>4,S,M)}function Id(S,M){var q,se=8;for(q=0;16>q;++q)se+=S[M+q-32];Iu(se>>4,S,M)}function Lh(S,M){Iu(128,S,M)}function Ci(S,M,q){return S+2*M+q+2>>2}function Oh(S,M){var q,se=M-32;for(se=new Uint8Array([Ci(S[se-1],S[se+0],S[se+1]),Ci(S[se+0],S[se+1],S[se+2]),Ci(S[se+1],S[se+2],S[se+3]),Ci(S[se+2],S[se+3],S[se+4])]),q=0;4>q;++q)x(S,M+32*q,se,0,se.length)}function qc(S,M){var q=S[M-1],se=S[M-1+32],Se=S[M-1+64],Me=S[M-1+96];pe(S,M+0,16843009*Ci(S[M-1-32],q,se)),pe(S,M+32,16843009*Ci(q,se,Se)),pe(S,M+64,16843009*Ci(se,Se,Me)),pe(S,M+96,16843009*Ci(Se,Me,Me))}function Ba(S,M){var q,se=4;for(q=0;4>q;++q)se+=S[M+q-32]+S[M-1+32*q];for(se>>=3,q=0;4>q;++q)L(S,M+32*q,se,4)}function Yc(S,M){var q=S[M-1+0],se=S[M-1+32],Se=S[M-1+64],Me=S[M-1-32],Oe=S[M+0-32],He=S[M+1-32],qe=S[M+2-32],ut=S[M+3-32];S[M+0+96]=Ci(se,Se,S[M-1+96]),S[M+1+96]=S[M+0+64]=Ci(q,se,Se),S[M+2+96]=S[M+1+64]=S[M+0+32]=Ci(Me,q,se),S[M+3+96]=S[M+2+64]=S[M+1+32]=S[M+0+0]=Ci(Oe,Me,q),S[M+3+64]=S[M+2+32]=S[M+1+0]=Ci(He,Oe,Me),S[M+3+32]=S[M+2+0]=Ci(qe,He,Oe),S[M+3+0]=Ci(ut,qe,He)}function Ih(S,M){var q=S[M+1-32],se=S[M+2-32],Se=S[M+3-32],Me=S[M+4-32],Oe=S[M+5-32],He=S[M+6-32],qe=S[M+7-32];S[M+0+0]=Ci(S[M+0-32],q,se),S[M+1+0]=S[M+0+32]=Ci(q,se,Se),S[M+2+0]=S[M+1+32]=S[M+0+64]=Ci(se,Se,Me),S[M+3+0]=S[M+2+32]=S[M+1+64]=S[M+0+96]=Ci(Se,Me,Oe),S[M+3+32]=S[M+2+64]=S[M+1+96]=Ci(Me,Oe,He),S[M+3+64]=S[M+2+96]=Ci(Oe,He,qe),S[M+3+96]=Ci(He,qe,qe)}function xr(S,M){var q=S[M-1+0],se=S[M-1+32],Se=S[M-1+64],Me=S[M-1-32],Oe=S[M+0-32],He=S[M+1-32],qe=S[M+2-32],ut=S[M+3-32];S[M+0+0]=S[M+1+64]=Me+Oe+1>>1,S[M+1+0]=S[M+2+64]=Oe+He+1>>1,S[M+2+0]=S[M+3+64]=He+qe+1>>1,S[M+3+0]=qe+ut+1>>1,S[M+0+96]=Ci(Se,se,q),S[M+0+64]=Ci(se,q,Me),S[M+0+32]=S[M+1+96]=Ci(q,Me,Oe),S[M+1+32]=S[M+2+96]=Ci(Me,Oe,He),S[M+2+32]=S[M+3+96]=Ci(Oe,He,qe),S[M+3+32]=Ci(He,qe,ut)}function Fu(S,M){var q=S[M+0-32],se=S[M+1-32],Se=S[M+2-32],Me=S[M+3-32],Oe=S[M+4-32],He=S[M+5-32],qe=S[M+6-32],ut=S[M+7-32];S[M+0+0]=q+se+1>>1,S[M+1+0]=S[M+0+64]=se+Se+1>>1,S[M+2+0]=S[M+1+64]=Se+Me+1>>1,S[M+3+0]=S[M+2+64]=Me+Oe+1>>1,S[M+0+32]=Ci(q,se,Se),S[M+1+32]=S[M+0+96]=Ci(se,Se,Me),S[M+2+32]=S[M+1+96]=Ci(Se,Me,Oe),S[M+3+32]=S[M+2+96]=Ci(Me,Oe,He),S[M+3+64]=Ci(Oe,He,qe),S[M+3+96]=Ci(He,qe,ut)}function kd(S,M){var q=S[M-1+0],se=S[M-1+32],Se=S[M-1+64],Me=S[M-1+96];S[M+0+0]=q+se+1>>1,S[M+2+0]=S[M+0+32]=se+Se+1>>1,S[M+2+32]=S[M+0+64]=Se+Me+1>>1,S[M+1+0]=Ci(q,se,Se),S[M+3+0]=S[M+1+32]=Ci(se,Se,Me),S[M+3+32]=S[M+1+64]=Ci(Se,Me,Me),S[M+3+64]=S[M+2+64]=S[M+0+96]=S[M+1+96]=S[M+2+96]=S[M+3+96]=Me}function Ru(S,M){var q=S[M-1+0],se=S[M-1+32],Se=S[M-1+64],Me=S[M-1+96],Oe=S[M-1-32],He=S[M+0-32],qe=S[M+1-32],ut=S[M+2-32];S[M+0+0]=S[M+2+32]=q+Oe+1>>1,S[M+0+32]=S[M+2+64]=se+q+1>>1,S[M+0+64]=S[M+2+96]=Se+se+1>>1,S[M+0+96]=Me+Se+1>>1,S[M+3+0]=Ci(He,qe,ut),S[M+2+0]=Ci(Oe,He,qe),S[M+1+0]=S[M+3+32]=Ci(q,Oe,He),S[M+1+32]=S[M+3+64]=Ci(se,q,Oe),S[M+1+64]=S[M+3+96]=Ci(Se,se,q),S[M+1+96]=Ci(Me,Se,se)}function kh(S,M){var q;for(q=0;8>q;++q)x(S,M+32*q,S,M-32,8)}function Nu(S,M){var q;for(q=0;8>q;++q)L(S,M,S[M-1],8),M+=32}function pc(S,M,q){var se;for(se=0;8>se;++se)L(M,q+32*se,S,8)}function Nl(S,M){var q,se=8;for(q=0;8>q;++q)se+=S[M+q-32]+S[M-1+32*q];pc(se>>4,S,M)}function Fd(S,M){var q,se=4;for(q=0;8>q;++q)se+=S[M+q-32];pc(se>>3,S,M)}function gc(S,M){var q,se=4;for(q=0;8>q;++q)se+=S[M-1+32*q];pc(se>>3,S,M)}function Fh(S,M){pc(128,S,M)}function Bu(S,M,q){var se=S[M-q],Se=S[M+0],Me=3*(Se-se)+zh[1020+S[M-2*q]-S[M+q]],Oe=Wh[112+(Me+4>>3)];S[M-q]=ko[255+se+Wh[112+(Me+3>>3)]],S[M+0]=ko[255+Se-Oe]}function Bl(S,M,q,se){return Qo[255+S[M-2*q]-S[M-q]]>se||Qo[255+S[M+q]-S[M+0]]>se}function Xc(S,M,q,se){return 4*Qo[255+S[M-q]-S[M+0]]+Qo[255+S[M-2*q]-S[M+q]]<=se}function ju(S,M,q,se,Se){var Me=S[M-3*q],Oe=S[M-2*q],He=S[M-q],qe=S[M+0],ut=S[M+q],Ft=S[M+2*q];return 4*Qo[255+He-qe]+Qo[255+Oe-ut]>se?0:Qo[255+S[M-4*q]-Me]<=Se&&Qo[255+Me-Oe]<=Se&&Qo[255+Oe-He]<=Se&&Qo[255+S[M+3*q]-Ft]<=Se&&Qo[255+Ft-ut]<=Se&&Qo[255+ut-qe]<=Se}function Uu(S,M,q,se){var Se=2*se+1;for(se=0;16>se;++se)Xc(S,M+se,q,Se)&&Bu(S,M+se,q)}function ja(S,M,q,se){var Se=2*se+1;for(se=0;16>se;++se)Xc(S,M+se*q,1,Se)&&Bu(S,M+se*q,1)}function jl(S,M,q,se){var Se;for(Se=3;0<Se;--Se)Uu(S,M+=4*q,q,se)}function Rh(S,M,q,se){var Se;for(Se=3;0<Se;--Se)ja(S,M+=4,q,se)}function sl(S,M,q,se,Se,Me,Oe,He){for(Me=2*Me+1;0<Se--;){if(ju(S,M,q,Me,Oe))if(Bl(S,M,q,He))Bu(S,M,q);else{var qe=S,ut=M,Ft=q,Zt=qe[ut-2*Ft],Qt=qe[ut-Ft],jt=qe[ut+0],An=qe[ut+Ft],an=qe[ut+2*Ft],Rt=27*(Cn=zh[1020+3*(jt-Qt)+zh[1020+Zt-An]])+63>>7,Ut=18*Cn+63>>7,Cn=9*Cn+63>>7;qe[ut-3*Ft]=ko[255+qe[ut-3*Ft]+Cn],qe[ut-2*Ft]=ko[255+Zt+Ut],qe[ut-Ft]=ko[255+Qt+Rt],qe[ut+0]=ko[255+jt-Rt],qe[ut+Ft]=ko[255+An-Ut],qe[ut+2*Ft]=ko[255+an-Cn]}M+=se}}function Do(S,M,q,se,Se,Me,Oe,He){for(Me=2*Me+1;0<Se--;){if(ju(S,M,q,Me,Oe))if(Bl(S,M,q,He))Bu(S,M,q);else{var qe=S,ut=M,Ft=q,Zt=qe[ut-Ft],Qt=qe[ut+0],jt=qe[ut+Ft],An=Wh[112+(4+(an=3*(Qt-Zt))>>3)],an=Wh[112+(an+3>>3)],Rt=An+1>>1;qe[ut-2*Ft]=ko[255+qe[ut-2*Ft]+Rt],qe[ut-Ft]=ko[255+Zt+an],qe[ut+0]=ko[255+Qt-An],qe[ut+Ft]=ko[255+jt-Rt]}M+=se}}function Nh(S,M,q,se,Se,Me){sl(S,M,q,1,16,se,Se,Me)}function mc(S,M,q,se,Se,Me){sl(S,M,1,q,16,se,Se,Me)}function Vu(S,M,q,se,Se,Me){var Oe;for(Oe=3;0<Oe;--Oe)Do(S,M+=4*q,q,1,16,se,Se,Me)}function vc(S,M,q,se,Se,Me){var Oe;for(Oe=3;0<Oe;--Oe)Do(S,M+=4,1,q,16,se,Se,Me)}function Bh(S,M,q,se,Se,Me,Oe,He){sl(S,M,Se,1,8,Me,Oe,He),sl(q,se,Se,1,8,Me,Oe,He)}function va(S,M,q,se,Se,Me,Oe,He){sl(S,M,1,Se,8,Me,Oe,He),sl(q,se,1,Se,8,Me,Oe,He)}function Hu(S,M,q,se,Se,Me,Oe,He){Do(S,M+4*Se,Se,1,8,Me,Oe,He),Do(q,se+4*Se,Se,1,8,Me,Oe,He)}function Kc(S,M,q,se,Se,Me,Oe,He){Do(S,M+4,1,Se,8,Me,Oe,He),Do(q,se+4,1,Se,8,Me,Oe,He)}function ol(){this.ba=new ha,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new br,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function zu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function yc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function _c(){this.ua=0,this.Wa=new nt,this.vb=new nt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Et,this.yc=new at}function al(){this.xb=this.a=0,this.l=new Na,this.ca=new ha,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ke,this.Pb=0,this.wd=new ke,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new _c,this.ab=0,this.gc=V(4,yc),this.Oc=0}function bc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Na,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ll(S,M,q,se,Se,Me,Oe){for(S=null==S?0:S[M+0],M=0;M<Oe;++M)Se[Me+M]=S+q[se+M]&255,S=Se[Me+M]}function Wu(S,M,q,se,Se,Me,Oe){var He;if(null==S)ll(null,null,q,se,Se,Me,Oe);else for(He=0;He<Oe;++He)Se[Me+He]=S[M+He]+q[se+He]&255}function Ul(S,M,q,se,Se,Me,Oe){if(null==S)ll(null,null,q,se,Se,Me,Oe);else{var He,qe=S[M+0],ut=qe,Ft=qe;for(He=0;He<Oe;++He)ut=Ft+(qe=S[M+He])-ut,Ft=q[se+He]+(-256&ut?0>ut?0:255:ut)&255,ut=qe,Se[Me+He]=Ft}}function Zc(S,M,q,se){var Se=M.width,Me=M.o;if(y(null!=S&&null!=M),0>q||0>=se||q+se>Me)return null;if(!S.Cc){if(null==S.ga){var Oe;if(S.ga=new bc,(Oe=null==S.ga)||(Oe=M.width*M.o,y(0==S.Gb.length),S.Gb=T(Oe),S.Uc=0,null==S.Gb?Oe=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,Oe=1),Oe=!Oe),!Oe){var He=S.Fa,qe=S.P,ut=S.qc,Ft=S.mb,Zt=S.nb,Qt=qe+1,jt=ut-1,An=(Oe=S.ga).l;if(y(null!=He&&null!=Ft&&null!=M),pl[0]=null,pl[1]=ll,pl[2]=Wu,pl[3]=Ul,Oe.ca=Ft,Oe.tb=Zt,Oe.c=M.width,Oe.i=M.height,y(0<Oe.c&&0<Oe.i),1>=ut)M=0;else if(Oe.$a=He[qe+0]>>0&3,Oe.Z=He[qe+0]>>2&3,Oe.Lc=He[qe+0]>>4&3,qe=He[qe+0]>>6&3,0>Oe.$a||1<Oe.$a||4<=Oe.Z||1<Oe.Lc||qe)M=0;else if(An.put=il,An.ac=Ls,An.bc=Fa,An.ma=Oe,An.width=M.width,An.height=M.height,An.Da=M.Da,An.v=M.v,An.va=M.va,An.j=M.j,An.o=M.o,Oe.$a)e:{y(1==Oe.$a),M=ao();t:for(;;){if(null==M){M=0;break e}if(y(null!=Oe),Oe.mc=M,M.c=Oe.c,M.i=Oe.i,M.l=Oe.l,M.l.ma=Oe,M.l.width=Oe.c,M.l.height=Oe.i,M.a=0,en(M.m,He,Qt,jt),!Ys(Oe.c,Oe.i,1,M,null)||(1==M.ab&&3==M.gc[0].hc&&kl(M.s)?(Oe.ic=1,He=M.c*M.i,M.Ta=null,M.Ua=0,M.V=T(He),M.Ba=0,null==M.V?(M.a=1,M=0):M=1):(Oe.ic=0,M=dc(M,Oe.c)),!M))break t;M=1;break e}Oe.mc=null,M=0}else M=jt>=Oe.c*Oe.i;Oe=!M}if(Oe)return null;1!=S.ga.Lc?S.Ga=0:se=Me-q}y(null!=S.ga),y(q+se<=Me);e:{if(M=(He=S.ga).c,Me=He.l.o,0==He.$a){if(Qt=S.rc,jt=S.Vc,An=S.Fa,ut=S.mb,Ft=S.nb+q*M,y((qe=S.P+1+q*M)<=S.P+S.qc),0!=He.Z)for(y(null!=pl[He.Z]),Oe=0;Oe<se;++Oe)pl[He.Z](Qt,jt,An,qe,ut,Ft,M),Qt=ut,jt=Ft,Ft+=M,qe+=M;else for(Oe=0;Oe<se;++Oe)x(ut,Ft,An,qe,M),Qt=ut,jt=Ft,Ft+=M,qe+=M;S.rc=Qt,S.Vc=jt}else{if(y(null!=He.mc),M=q+se,y(null!=(Oe=He.mc)),y(M<=Oe.i),Oe.C>=M)M=1;else if(He.ic||zt(),He.ic){He=Oe.V,Qt=Oe.Ba;var an=Oe.i,Rt=(An=1,qe=Oe.$/(jt=Oe.c),ut=Oe.$%jt,Ft=Oe.m,Zt=Oe.s,Oe.$),Ut=jt*an,Cn=jt*M,En=Zt.wc,Sn=Rt<Cn?$r(Zt,ut,qe):null;y(Rt<=Ut),y(M<=an),y(kl(Zt));t:for(;;){for(;!Ft.h&&Rt<Cn;){if(ut&En||(Sn=$r(Zt,ut,qe)),y(null!=Sn),D(Ft),256>(an=qs(Sn.G[0],Sn.H[0],Ft)))He[Qt+Rt]=an,++Rt,++ut>=jt&&(ut=0,++qe<=M&&!(qe%16)&&fa(Oe,qe));else{if(!(280>an)){An=0;break t}an=da(an-256,Ft);var Yn,jn=qs(Sn.G[4],Sn.H[4],Ft);if(D(Ft),!(Rt>=(jn=xo(jt,jn=da(jn,Ft)))&&Ut-Rt>=an)){An=0;break t}for(Yn=0;Yn<an;++Yn)He[Qt+Rt+Yn]=He[Qt+Rt+Yn-jn];for(Rt+=an,ut+=an;ut>=jt;)ut-=jt,++qe<=M&&!(qe%16)&&fa(Oe,qe);Rt<Cn&&ut&En&&(Sn=$r(Zt,ut,qe))}y(Ft.h==At(Ft))}fa(Oe,qe>M?M:qe);break t}!An||Ft.h&&Rt<Ut?(An=0,Oe.a=Ft.h?5:3):Oe.$=Rt,M=An}else M=Ko(Oe,Oe.V,Oe.Ba,Oe.c,Oe.i,M,Wc);if(!M){se=0;break e}}q+se>=Me&&(S.Cc=1),se=1}if(!se)return null;if(S.Cc&&(null!=(se=S.ga)&&(se.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+q*Se}function U(S,M,q,se,Se,Me){for(;0<Se--;){var Oe,He=S,qe=M+(q?1:0),ut=S,Ft=M+(q?0:3);for(Oe=0;Oe<se;++Oe){var Zt=ut[Ft+4*Oe];255!=Zt&&(He[qe+4*Oe+0]=He[qe+4*Oe+0]*(Zt*=32897)>>23,He[qe+4*Oe+1]=He[qe+4*Oe+1]*Zt>>23,He[qe+4*Oe+2]=He[qe+4*Oe+2]*Zt>>23)}M+=Me}}function xe(S,M,q,se,Se){for(;0<se--;){var Me;for(Me=0;Me<q;++Me){var Oe=S[M+2*Me+0],He=15&(ut=S[M+2*Me+1]),qe=4369*He,ut=(240&ut|ut>>4)*qe>>16;S[M+2*Me+0]=(240&Oe|Oe>>4)*qe>>16&240|(15&Oe|Oe<<4)*qe>>16>>4&15,S[M+2*Me+1]=240&ut|He}M+=Se}}function vt(S,M,q,se,Se,Me,Oe,He){var qe,ut,Ft=255;for(ut=0;ut<Se;++ut){for(qe=0;qe<se;++qe){var Zt=S[M+qe];Me[Oe+4*qe]=Zt,Ft&=Zt}M+=q,Oe+=He}return 255!=Ft}function It(S,M,q,se,Se){var Me;for(Me=0;Me<Se;++Me)q[se+Me]=S[M+Me]>>8}function zt(){Or=U,Va=xe,Zu=vt,Of=It}function hn(S,M,q){St[S]=function(se,Se,Me,Oe,He,qe,ut,Ft,Zt,Qt,jt,An,an,Rt,Ut,Cn,En){var Sn,Yn=En-1>>1,jn=He[qe+0]|ut[Ft+0]<<16,ci=Zt[Qt+0]|jt[An+0]<<16;y(null!=se);var wn=3*jn+ci+131074>>2;for(M(se[Se+0],255&wn,wn>>16,an,Rt),null!=Me&&M(Me[Oe+0],255&(wn=3*ci+jn+131074>>2),wn>>16,Ut,Cn),Sn=1;Sn<=Yn;++Sn){var tr=He[qe+Sn]|ut[Ft+Sn]<<16,or=Zt[Qt+Sn]|jt[An+Sn]<<16,Ki=jn+tr+ci+or+524296,zi=Ki+2*(tr+ci)>>3;wn=zi+jn>>1,jn=(Ki=Ki+2*(jn+or)>>3)+tr>>1,M(se[Se+2*Sn-1],255&wn,wn>>16,an,Rt+(2*Sn-1)*q),M(se[Se+2*Sn-0],255&jn,jn>>16,an,Rt+(2*Sn-0)*q),null!=Me&&(jn=zi+or>>1,M(Me[Oe+2*Sn-1],255&(wn=Ki+ci>>1),wn>>16,Ut,Cn+(2*Sn-1)*q),M(Me[Oe+2*Sn+0],255&jn,jn>>16,Ut,Cn+(2*Sn+0)*q)),jn=tr,ci=or}1&En||(M(se[Se+En-1],255&(wn=3*jn+ci+131074>>2),wn>>16,an,Rt+(En-1)*q),null!=Me&&M(Me[Oe+En-1],255&(wn=3*ci+jn+131074>>2),wn>>16,Ut,Cn+(En-1)*q))}}function Mn(){uo[Gh]=Vf,uo[$h]=Hf,uo[Ac]=Wd,uo[Jo]=zf,uo[qh]=Gd,uo[jd]=$d,uo[Bp]=xc,uo[Rf]=Hf,uo[Yh]=zf,uo[Ud]=Gd,uo[ea]=$d}function qn(S){return S&~Gp?0>S?0:255:S>>rh}function ai(S,M){return qn((19077*S>>8)+(26149*M>>8)-14234)}function xi(S,M,q){return qn((19077*S>>8)-(6419*M>>8)-(13320*q>>8)+8708)}function Fi(S,M){return qn((19077*S>>8)+(33050*M>>8)-17685)}function Xi(S,M,q,se,Se){se[Se+0]=ai(S,q),se[Se+1]=xi(S,M,q),se[Se+2]=Fi(S,M)}function yr(S,M,q,se,Se){se[Se+0]=Fi(S,M),se[Se+1]=xi(S,M,q),se[Se+2]=ai(S,q)}function jr(S,M,q,se,Se){var Me=xi(S,M,q);M=Me<<3&224|Fi(S,M)>>3,se[Se+0]=248&ai(S,q)|Me>>5,se[Se+1]=M}function Pr(S,M,q,se,Se){var Me=240&Fi(S,M)|15;se[Se+0]=240&ai(S,q)|xi(S,M,q)>>4,se[Se+1]=Me}function is(S,M,q,se,Se){se[Se+0]=255,Xi(S,M,q,se,Se+1)}function Cs(S,M,q,se,Se){yr(S,M,q,se,Se),se[Se+3]=255}function Ua(S,M,q,se,Se){Xi(S,M,q,se,Se),se[Se+3]=255}function co(S,M){return 0>S?0:S>M?M:S}function cl(S,M,q){St[S]=function(se,Se,Me,Oe,He,qe,ut,Ft,Zt){for(var Qt=Ft+(-2&Zt)*q;Ft!=Qt;)M(se[Se+0],Me[Oe+0],He[qe+0],ut,Ft),M(se[Se+1],Me[Oe+0],He[qe+0],ut,Ft+q),Se+=2,++Oe,++qe,Ft+=2*q;1&Zt&&M(se[Se+0],Me[Oe+0],He[qe+0],ut,Ft)}}function jh(S,M,q){return 0==q?0==S?0==M?6:5:0==M?4:0:q}function Gu(S,M,q,se,Se){switch(S>>>30){case 3:iu(M,q,se,Se,0);break;case 2:ru(M,q,se,Se);break;case 1:ba(M,q,se,Se)}}function Qc(S,M){var q,se,Se=M.M,Me=M.Nb,Oe=S.oc,He=S.pc+40,qe=S.oc,ut=S.pc+584,Ft=S.oc,Zt=S.pc+600;for(q=0;16>q;++q)Oe[He+32*q-1]=129;for(q=0;8>q;++q)qe[ut+32*q-1]=129,Ft[Zt+32*q-1]=129;for(0<Se?Oe[He-1-32]=qe[ut-1-32]=Ft[Zt-1-32]=129:(L(Oe,He-32-1,127,21),L(qe,ut-32-1,127,9),L(Ft,Zt-32-1,127,9)),se=0;se<S.za;++se){var Qt=M.ya[M.aa+se];if(0<se){for(q=-1;16>q;++q)x(Oe,He+32*q-4,Oe,He+32*q+12,4);for(q=-1;8>q;++q)x(qe,ut+32*q-4,qe,ut+32*q+4,4),x(Ft,Zt+32*q-4,Ft,Zt+32*q+4,4)}var jt=S.Gd,An=S.Hd+se,an=Qt.ad,Rt=Qt.Hc;if(0<Se&&(x(Oe,He-32,jt[An].y,0,16),x(qe,ut-32,jt[An].f,0,8),x(Ft,Zt-32,jt[An].ea,0,8)),Qt.Za){var Ut=Oe,Cn=He-32+16;for(0<Se&&(se>=S.za-1?L(Ut,Cn,jt[An].y[15],4):x(Ut,Cn,jt[An+1].y,0,4)),q=0;4>q;q++)Ut[Cn+128+q]=Ut[Cn+256+q]=Ut[Cn+384+q]=Ut[Cn+0+q];for(q=0;16>q;++q,Rt<<=2)Ca[Qt.Ob[q]](Ut=Oe,Cn=He+Xd[q]),Gu(Rt,an,16*+q,Ut,Cn)}else if(Ut=jh(se,Se,Qt.Ob[0]),$l[Ut](Oe,He),0!=Rt)for(q=0;16>q;++q,Rt<<=2)Gu(Rt,an,16*+q,Oe,He+Xd[q]);for(q=Qt.Gc,Ut=jh(se,Se,Qt.Dd),fl[Ut](qe,ut),fl[Ut](Ft,Zt),Rt=an,Ut=qe,Cn=ut,255&(Qt=q>>0)&&(170&Qt?zl(Rt,256,Ut,Cn):hl(Rt,256,Ut,Cn)),Qt=Ft,Rt=Zt,255&(q>>=8)&&(170&q?zl(an,320,Qt,Rt):hl(an,320,Qt,Rt)),Se<S.Ub-1&&(x(jt[An].y,0,Oe,He+480,16),x(jt[An].f,0,qe,ut+224,8),x(jt[An].ea,0,Ft,Zt+224,8)),jt=S.sa,An=S.ta+16*se+16*Me*S.R,an=S.qa,Qt=S.ra+8*se+(q=8*Me*S.B),Rt=S.Ha,Ut=S.Ia+8*se+q,q=0;16>q;++q)x(jt,An+q*S.R,Oe,He+32*q,16);for(q=0;8>q;++q)x(an,Qt+q*S.B,qe,ut+32*q,8),x(Rt,Ut+q*S.B,Ft,Zt+32*q,8)}}function Jc(S,M,q,se,Se,Me,Oe,He,qe){var ut=[0],Ft=[0],Zt=0,Qt=null!=qe?qe.kd:0,jt=qe??new zu;if(null==S||12>q)return 7;jt.data=S,jt.w=M,jt.ha=q,M=[M],q=[q],jt.gb=[jt.gb];e:{var An=M,an=q,Rt=jt.gb;if(y(null!=S),y(null!=an),y(null!=Rt),Rt[0]=0,12<=an[0]&&!v(S,An[0],"RIFF")){if(v(S,An[0]+8,"WEBP")){Rt=3;break e}var Ut=Mt(S,An[0]+4);if(12>Ut||4294967286<Ut){Rt=3;break e}if(Qt&&Ut>an[0]-8){Rt=7;break e}Rt[0]=Ut,An[0]+=12,an[0]-=12}Rt=0}if(0!=Rt)return Rt;for(Ut=0<jt.gb[0],q=q[0];;){e:{var Cn=S;an=M,Rt=q;var En=ut,Sn=Ft,Yn=An=[0];if((wn=Zt=[Zt])[0]=0,8>Rt[0])Rt=7;else{if(!v(Cn,an[0],"VP8X")){if(10!=Mt(Cn,an[0]+4)){Rt=3;break e}if(18>Rt[0]){Rt=7;break e}var jn=Mt(Cn,an[0]+8),ci=1+et(Cn,an[0]+12);if(2147483648<=ci*(Cn=1+et(Cn,an[0]+15))){Rt=3;break e}null!=Yn&&(Yn[0]=jn),null!=En&&(En[0]=ci),null!=Sn&&(Sn[0]=Cn),an[0]+=18,Rt[0]-=18,wn[0]=1}Rt=0}}if(Zt=Zt[0],0!=Rt)return Rt;if(an=!!(2&(An=An[0])),!Ut&&Zt)return 3;if(null!=Me&&(Me[0]=!!(16&An)),null!=Oe&&(Oe[0]=an),null!=He&&(He[0]=0),Oe=ut[0],An=Ft[0],Zt&&an&&null==qe){Rt=0;break}if(4>q){Rt=7;break}if(Ut&&Zt||!Ut&&!Zt&&!v(S,M[0],"ALPH")){q=[q],jt.na=[jt.na],jt.P=[jt.P],jt.Sa=[jt.Sa];e:{Rt=M,Ut=q;var wn=jt.gb;En=jt.na,Sn=jt.P,Yn=jt.Sa,ci=22,y(null!=(jn=S)),y(null!=Ut),Cn=Rt[0];var tr=Ut[0];for(y(null!=En),y(null!=Yn),En[0]=null,Sn[0]=null,Yn[0]=0;;){if(Rt[0]=Cn,Ut[0]=tr,8>tr){Rt=7;break e}var or=Mt(jn,Cn+4);if(4294967286<or){Rt=3;break e}var Ki=8+or+1&-2;if(ci+=Ki,0<wn&&ci>wn){Rt=3;break e}if(!v(jn,Cn,"VP8 ")||!v(jn,Cn,"VP8L")){Rt=0;break e}if(tr[0]<Ki){Rt=7;break e}v(jn,Cn,"ALPH")||(En[0]=jn,Sn[0]=Cn+8,Yn[0]=or),Cn+=Ki,tr-=Ki}}if(q=q[0],jt.na=jt.na[0],jt.P=jt.P[0],jt.Sa=jt.Sa[0],0!=Rt)break}q=[q],jt.Ja=[jt.Ja],jt.xa=[jt.xa];e:if(wn=S,Rt=M,Ut=q,En=jt.gb[0],Sn=jt.Ja,Yn=jt.xa,jn=Rt[0],Cn=!v(wn,jn,"VP8 "),ci=!v(wn,jn,"VP8L"),y(null!=wn),y(null!=Ut),y(null!=Sn),y(null!=Yn),8>Ut[0])Rt=7;else{if(Cn||ci){if(wn=Mt(wn,jn+4),12<=En&&wn>En-12){Rt=3;break e}if(Qt&&wn>Ut[0]-8){Rt=7;break e}Sn[0]=wn,Rt[0]+=8,Ut[0]-=8,Yn[0]=ci}else Yn[0]=5<=Ut[0]&&47==wn[jn+0]&&!(wn[jn+4]>>5),Sn[0]=Ut[0];Rt=0}if(q=q[0],jt.Ja=jt.Ja[0],jt.xa=jt.xa[0],M=M[0],0!=Rt)break;if(4294967286<jt.Ja)return 3;if(null==He||an||(He[0]=jt.xa?2:1),Oe=[Oe],An=[An],jt.xa){if(5>q){Rt=7;break}He=Oe,Qt=An,an=Me,null==S||5>q?S=0:5<=q&&47==S[M+0]&&!(S[M+4]>>5)?(Ut=[0],wn=[0],En=[0],en(Sn=new ke,S,M,q),fi(Sn,Ut,wn,En)?(null!=He&&(He[0]=Ut[0]),null!=Qt&&(Qt[0]=wn[0]),null!=an&&(an[0]=En[0]),S=1):S=0):S=0}else{if(10>q){Rt=7;break}He=An,null==S||10>q||!Md(S,M+3,q-3)?S=0:(Qt=S[M+0]|S[M+1]<<8|S[M+2]<<16,an=16383&(S[M+7]<<8|S[M+6]),S=16383&(S[M+9]<<8|S[M+8]),1&Qt||3<(Qt>>1&7)||!(Qt>>4&1)||Qt>>5>=jt.Ja||!an||!S?S=0:(Oe&&(Oe[0]=an),He&&(He[0]=S),S=1))}if(!S||(Oe=Oe[0],An=An[0],Zt&&(ut[0]!=Oe||Ft[0]!=An)))return 3;null!=qe&&(qe[0]=jt,qe.offset=M-qe.w,y(4294967286>M-qe.w),y(qe.offset==qe.ha-q));break}return 0==Rt||7==Rt&&Zt&&null==qe?(null!=Me&&(Me[0]|=null!=jt.na&&0<jt.na.length),null!=se&&(se[0]=Oe),null!=Se&&(Se[0]=An),0):Rt}function wc(S,M,q){var se=M.width,Se=M.height,Me=0,Oe=0,He=se,qe=Se;if(M.Da=null!=S&&0<S.Da,M.Da&&(He=S.cd,qe=S.bd,Me=S.v,Oe=S.j,11>q||(Me&=-2,Oe&=-2),0>Me||0>Oe||0>=He||0>=qe||Me+He>se||Oe+qe>Se))return 0;if(M.v=Me,M.j=Oe,M.va=Me+He,M.o=Oe+qe,M.U=He,M.T=qe,M.da=null!=S&&0<S.da,M.da){if(!$n(He,qe,q=[S.ib],Me=[S.hb]))return 0;M.ib=q[0],M.hb=Me[0]}return M.ob=null!=S&&S.ob,M.Kb=null==S||!S.Sd,M.da&&(M.ob=M.ib<3*se/4&&M.hb<3*Se/4,M.Kb=0),1}function $u(S){if(null==S)return 2;if(11>S.S){var M=S.f.RGBA;M.fb+=(S.height-1)*M.A,M.A=-M.A}else(M=S.f.kb).O+=((S=S.height)-1)*M.fa,M.fa=-M.fa,M.N+=(S-1>>1)*M.Ab,M.Ab=-M.Ab,M.W+=(S-1>>1)*M.Db,M.Db=-M.Db,null!=M.F&&(M.J+=(S-1)*M.lb,M.lb=-M.lb);return 0}function eu(S,M,q,se){if(null==se||0>=S||0>=M)return 2;if(null!=q){if(q.Da){var Se=q.cd,Me=q.bd,Oe=-2&q.v,He=-2&q.j;if(0>Oe||0>He||0>=Se||0>=Me||Oe+Se>S||He+Me>M)return 2;S=Se,M=Me}if(q.da){if(!$n(S,M,Se=[q.ib],Me=[q.hb]))return 2;S=Se[0],M=Me[0]}}se.width=S,se.height=M;e:{var qe=se.width,ut=se.height;if(S=se.S,0>=qe||0>=ut||!(S>=Gh&&13>S))S=2;else{if(0>=se.Rd&&null==se.sd){Oe=Me=Se=M=0;var Ft=(He=qe*lu[S])*ut;if(11>S||(Me=(ut+1)/2*(M=(qe+1)/2),12==S&&(Oe=(Se=qe)*ut)),null==(ut=T(Ft+2*Me+Oe))){S=1;break e}se.sd=ut,11>S?((qe=se.f.RGBA).eb=ut,qe.fb=0,qe.A=He,qe.size=Ft):((qe=se.f.kb).y=ut,qe.O=0,qe.fa=He,qe.Fd=Ft,qe.f=ut,qe.N=0+Ft,qe.Ab=M,qe.Cd=Me,qe.ea=ut,qe.W=0+Ft+Me,qe.Db=M,qe.Ed=Me,12==S&&(qe.F=ut,qe.J=0+Ft+2*Me),qe.Tc=Oe,qe.lb=Se)}if(M=1,Me=se.width,Oe=se.height,(Se=se.S)>=Gh&&13>Se)if(11>Se)S=se.f.RGBA,M&=(He=Math.abs(S.A))*(Oe-1)+Me<=S.size,M&=He>=Me*lu[Se],M&=null!=S.eb;else{S=se.f.kb,He=(Me+1)/2,Ft=(Oe+1)/2,qe=Math.abs(S.fa),ut=Math.abs(S.Ab);var Zt=Math.abs(S.Db),Qt=Math.abs(S.lb);M&=qe*(Oe-1)+Me<=S.Fd,M&=ut*(Ft-1)+He<=S.Cd,M=(M&=Zt*(Ft-1)+He<=S.Ed)&qe>=Me&ut>=He&Zt>=He,M&=null!=S.y,M&=null!=S.f,M&=null!=S.ea,12==Se&&(M&=Qt>=Me,M&=Qt*(Oe-1)+Me<=S.Tc,M&=null!=S.F)}else M=0;S=M?0:2}}return 0!=S||null!=q&&q.fd&&(S=$u(se)),S}var Us=64,qu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Yu=24,Vl=32,Uh=8,To=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];On("Predictor0","PredictorAdd0"),St.Predictor0=function(){return 4278190080},St.Predictor1=function(S){return S},St.Predictor2=function(S,M,q){return M[q+0]},St.Predictor3=function(S,M,q){return M[q+1]},St.Predictor4=function(S,M,q){return M[q-1]},St.Predictor5=function(S,M,q){return Vn(Vn(S,M[q+1]),M[q+0])},St.Predictor6=function(S,M,q){return Vn(S,M[q-1])},St.Predictor7=function(S,M,q){return Vn(S,M[q+0])},St.Predictor8=function(S,M,q){return Vn(M[q-1],M[q+0])},St.Predictor9=function(S,M,q){return Vn(M[q+0],M[q+1])},St.Predictor10=function(S,M,q){return Vn(Vn(S,M[q-1]),Vn(M[q+0],M[q+1]))},St.Predictor11=function(S,M,q){var se=M[q+0];return 0>=Di(se>>24&255,S>>24&255,(M=M[q-1])>>24&255)+Di(se>>16&255,S>>16&255,M>>16&255)+Di(se>>8&255,S>>8&255,M>>8&255)+Di(255&se,255&S,255&M)?se:S},St.Predictor12=function(S,M,q){var se=M[q+0];return(Bn((S>>24&255)+(se>>24&255)-((M=M[q-1])>>24&255))<<24|Bn((S>>16&255)+(se>>16&255)-(M>>16&255))<<16|Bn((S>>8&255)+(se>>8&255)-(M>>8&255))<<8|Bn((255&S)+(255&se)-(255&M)))>>>0},St.Predictor13=function(S,M,q){var se=M[q-1];return(bi((S=Vn(S,M[q+0]))>>24&255,se>>24&255)<<24|bi(S>>16&255,se>>16&255)<<16|bi(S>>8&255,se>>8&255)<<8|bi(S>>0&255,se>>0&255))>>>0};var Lf=St.PredictorAdd0;St.PredictorAdd1=Oi,On("Predictor2","PredictorAdd2"),On("Predictor3","PredictorAdd3"),On("Predictor4","PredictorAdd4"),On("Predictor5","PredictorAdd5"),On("Predictor6","PredictorAdd6"),On("Predictor7","PredictorAdd7"),On("Predictor8","PredictorAdd8"),On("Predictor9","PredictorAdd9"),On("Predictor10","PredictorAdd10"),On("Predictor11","PredictorAdd11"),On("Predictor12","PredictorAdd12"),On("Predictor13","PredictorAdd13");var Vh=St.PredictorAdd2;Hi("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),Hi("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var Rd,ya=St.ColorIndexInverseTransform,tu=St.MapARGB,Xu=St.VP8LColorIndexInverseTransformAlpha,Hh=St.MapAlpha,ul=St.VP8LPredictorsAdd=[];ul.length=16,(St.VP8LPredictors=[]).length=16,(St.VP8LPredictorsAdd_C=[]).length=16,(St.VP8LPredictors_C=[]).length=16;var Mo,Lo,Hl,Zo,Oo,nu,_a,iu,ru,zl,ba,hl,Cc,Wl,Sc,Gl,Ku,Io,dl,wr,Ii,Lr,rs,wa,Or,Va,Zu,Of,If=T(511),Nd=T(2041),kf=T(225),Bd=T(767),Ff=0,zh=Nd,Wh=kf,ko=Bd,Qo=If,Gh=0,$h=1,Ac=2,Jo=3,qh=4,jd=5,Bp=6,Rf=7,Yh=8,Ud=9,ea=10,Vd=[2,3,7],Hd=[3,3,11],Nf=[280,256,256,256,40],Bf=[0,1,1,1,0],jp=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Qu=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Up=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Vp=8,Ju=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],eh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],su=null,Tm=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ou=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Xh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],jf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Hp=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],zd=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],zp=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],$l=[],Ca=[],fl=[],Wp=1,Uf=2,pl=[],uo=[];hn("UpsampleRgbLinePair",Xi,3),hn("UpsampleBgrLinePair",yr,3),hn("UpsampleRgbaLinePair",Ua,4),hn("UpsampleBgraLinePair",Cs,4),hn("UpsampleArgbLinePair",is,4),hn("UpsampleRgba4444LinePair",Pr,2),hn("UpsampleRgb565LinePair",jr,2);var Vf=St.UpsampleRgbLinePair,Wd=St.UpsampleBgrLinePair,Hf=St.UpsampleRgbaLinePair,zf=St.UpsampleBgraLinePair,Gd=St.UpsampleArgbLinePair,$d=St.UpsampleRgba4444LinePair,xc=St.UpsampleRgb565LinePair,th=16,nh=1<<th-1,ih=-227,Wf=482,rh=6,Gp=(256<<rh)-1,qd=0,Gf=T(256),$f=T(256),Yd=T(256),qf=T(256),Kh=T(Wf-ih),Zh=T(Wf-ih);cl("YuvToRgbRow",Xi,3),cl("YuvToBgrRow",yr,3),cl("YuvToRgbaRow",Ua,4),cl("YuvToBgraRow",Cs,4),cl("YuvToArgbRow",is,4),cl("YuvToRgba4444Row",Pr,2),cl("YuvToRgb565Row",jr,2);var Xd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],au=[0,2,8],Yf=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(S,M,q,se,Se){var Me=$h,Oe=new ol,He=new ha;Oe.ba=He,He.S=Me,He.width=[He.width],He.height=[He.height];var qe=He.width,ut=He.height,Ft=new oo;if(null==Ft||null==S)var Zt=2;else y(null!=Ft),Zt=Jc(S,M,q,Ft.width,Ft.height,Ft.Pd,Ft.Qd,Ft.format,null);if(0!=Zt?qe=0:(null!=qe&&(qe[0]=Ft.width[0]),null!=ut&&(ut[0]=Ft.height[0]),qe=1),qe){He.width=He.width[0],He.height=He.height[0],null!=se&&(se[0]=He.width),null!=Se&&(Se[0]=He.height);e:{if(se=new Na,(Se=new zu).data=S,Se.w=M,Se.ha=q,Se.kd=1,M=[0],y(null!=Se),(0==(S=Jc(Se.data,Se.w,Se.ha,null,null,null,M,null,Se))||7==S)&&M[0]&&(S=4),0==(M=S)){if(y(null!=Oe),se.data=Se.data,se.w=Se.w+Se.offset,se.ha=Se.ha-Se.offset,se.put=il,se.ac=Ls,se.bc=Fa,se.ma=Oe,Se.xa){if(null==(S=ao())){Oe=1;break e}if(function(Qt,jt){var An=[0],an=[0],Rt=[0];t:for(;;){if(null==Qt)return 0;if(null==jt)return Qt.a=2,0;if(Qt.l=jt,Qt.a=0,en(Qt.m,jt.data,jt.w,jt.ha),!fi(Qt.m,An,an,Rt)){Qt.a=3;break t}if(Qt.xb=Uf,jt.width=An[0],jt.height=an[0],!Ys(An[0],an[0],1,Qt,null))break t;return 1}return y(0!=Qt.a),0}(S,se)){if(se=0==(M=eu(se.width,se.height,Oe.Oa,Oe.ba))){t:{se=S;n:for(;;){if(null==se){se=0;break t}if(y(null!=se.s.yc),y(null!=se.s.Ya),y(0<se.s.Wb),y(null!=(q=se.l)),y(null!=(Se=q.ma)),0!=se.xb){if(se.ca=Se.ba,se.tb=Se.tb,y(null!=se.ca),!wc(Se.Oa,q,Jo)){se.a=2;break n}if(!dc(se,q.width)||q.da)break n;if((q.da||Ji(se.ca.S))&&zt(),11>se.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=se.ca.f.kb.F&&zt()),se.Pb&&0<se.s.ua&&null==se.s.vb.X&&!on(se.s.vb,se.s.Wa.Xa)){se.a=1;break n}se.xb=0}if(!Ko(se,se.V,se.Ba,se.c,se.i,q.o,hc))break n;Se.Dc=se.Ma,se=1;break t}y(0!=se.a),se=0}se=!se}se&&(M=S.a)}else M=S.a}else{if(null==(S=new Td)){Oe=1;break e}if(S.Fa=Se.na,S.P=Se.P,S.qc=Se.Sa,Ld(S,se)){if(0==(M=eu(se.width,se.height,Oe.Oa,Oe.ba))){if(S.Aa=0,q=Oe.Oa,y(null!=(Se=S)),null!=q){if(0<(qe=0>(qe=q.Md)?0:100<qe?255:255*qe/100)){for(ut=Ft=0;4>ut;++ut)12>(Zt=Se.pb[ut]).lc&&(Zt.ia=qe*Yf[0>Zt.lc?0:Zt.lc]>>3),Ft|=Zt.ia;Ft&&(alert("todo:VP8InitRandom"),Se.ia=1)}Se.Ga=q.Id,100<Se.Ga?Se.Ga=100:0>Se.Ga&&(Se.Ga=0)}(function Eh(S,M){if(null==S)return 0;if(null==M)return ns(S,2,"NULL VP8Io parameter in VP8Decode().");if(!S.cb&&!Ld(S,M))return 0;if(y(S.cb),null==M.ac||M.ac(M)){M.ob&&(S.L=0);var q=au[S.L];if(2==S.L?(S.yb=0,S.zb=0):(S.yb=M.v-q>>4,S.zb=M.j-q>>4,0>S.yb&&(S.yb=0),0>S.zb&&(S.zb=0)),S.Va=M.o+15+q>>4,S.Hb=M.va+15+q>>4,S.Hb>S.za&&(S.Hb=S.za),S.Va>S.Ub&&(S.Va=S.Ub),0<S.L){var se=S.ed;for(q=0;4>q;++q){var Se;if(S.Qa.Cb){var Me=S.Qa.Lb[q];S.Qa.Fb||(Me+=se.Tb)}else Me=se.Tb;for(Se=0;1>=Se;++Se){var Oe=S.gd[q][Se],He=Me;if(se.Pc&&(He+=se.vd[0],Se&&(He+=se.od[0])),0<(He=0>He?0:63<He?63:He)){var qe=He;0<se.wb&&(qe=4<se.wb?qe>>2:qe>>1)>9-se.wb&&(qe=9-se.wb),1>qe&&(qe=1),Oe.dd=qe,Oe.tc=2*He+qe,Oe.ld=40<=He?2:15<=He?1:0}else Oe.tc=0;Oe.La=Se}}}q=0}else ns(S,6,"Frame setup failed"),q=S.a;if(q=0==q){if(q){S.$c=0,0<S.Aa||(S.Ic=1);e:{se=4*(qe=S.za);var ut=32*qe,Ft=qe+1,Zt=0<S.L?qe*(0<S.Aa?2:1):0,Qt=(2==S.Aa?2:1)*qe;if((Oe=se+832+(Se=3*(16*(q=S.Ic)+au[S.L])/2*ut)+(Me=null!=S.Fa&&0<S.Fa.length?S.Kc.c*S.Kc.i:0))!=Oe)q=0;else{if(Oe>S.Vb){if(S.Vb=0,S.Ec=T(Oe),S.Fc=0,null==S.Ec){q=ns(S,1,"no memory during frame initialization.");break e}S.Vb=Oe}He=S.Fc,S.Ac=Oe=S.Ec,S.Bc=He,He+=se,S.Gd=V(ut,xh),S.Hd=0,S.rb=V(Ft+1,Ah),S.sb=1,S.wa=Zt?V(Zt,fc):null,S.Y=0,S.D.Nb=0,S.D.wa=S.wa,S.D.Y=S.Y,0<S.Aa&&(S.D.Y+=qe),y(!0),S.oc=Oe,S.pc=He,He+=832,S.ya=V(Qt,Du),S.aa=0,S.D.ya=S.ya,S.D.aa=S.aa,2==S.Aa&&(S.D.aa+=qe),S.R=16*qe,S.B=8*qe,qe=(ut=au[S.L])*S.R,ut=ut/2*S.B,S.sa=Oe,S.ta=He+qe,S.qa=S.sa,S.ra=S.ta+16*q*S.R+ut,S.Ha=S.qa,S.Ia=S.ra+8*q*S.B+ut,S.$c=0,He+=Se,S.mb=Me?Oe:null,S.nb=Me?He:null,y(He+Me<=S.Fc+S.Vb),Ph(S),L(S.Ac,S.Bc,0,se),q=1}}if(q){if(M.ka=0,M.y=S.sa,M.O=S.ta,M.f=S.qa,M.N=S.ra,M.ea=S.Ha,M.Vd=S.Ia,M.fa=S.R,M.Rc=S.B,M.F=null,M.J=0,!Ff){for(q=-255;255>=q;++q)If[255+q]=0>q?-q:q;for(q=-1020;1020>=q;++q)Nd[1020+q]=-128>q?-128:127<q?127:q;for(q=-112;112>=q;++q)kf[112+q]=-16>q?-16:15<q?15:q;for(q=-255;510>=q;++q)Bd[255+q]=0>q?0:255<q?255:q;Ff=1}_a=Th,iu=ga,zl=Rl,ba=Dh,hl=Mu,ru=$c,Cc=Nh,Wl=mc,Sc=Bh,Gl=va,Ku=Vu,Io=vc,dl=Hu,wr=Kc,Ii=Uu,Lr=ja,rs=jl,wa=Rh,Ca[0]=Ba,Ca[1]=Tf,Ca[2]=Oh,Ca[3]=qc,Ca[4]=Yc,Ca[5]=xr,Ca[6]=Ih,Ca[7]=Fu,Ca[8]=Ru,Ca[9]=kd,$l[0]=ku,$l[1]=Lu,$l[2]=ma,$l[3]=Ou,$l[4]=js,$l[5]=Id,$l[6]=Lh,fl[0]=Nl,fl[1]=Mf,fl[2]=kh,fl[3]=Nu,fl[4]=gc,fl[5]=Fd,fl[6]=Fh,q=1}else q=0}q&&(q=function(jt,An){for(jt.M=0;jt.M<jt.Va;++jt.M){var an,Rt=jt.Jc[jt.M&jt.Xb],Ut=jt.m,Cn=jt;for(an=0;an<Cn.za;++an){var En=Ut,Sn=Cn,Yn=Sn.Ac,jn=Sn.Bc+4*an,ci=Sn.zc,wn=Sn.ya[Sn.aa+an];if(wn.$b=Sn.Qa.Bb?G(En,Sn.Pa.jb[0])?2+G(En,Sn.Pa.jb[2]):G(En,Sn.Pa.jb[1]):0,Sn.kc&&(wn.Ad=G(En,Sn.Bd)),wn.Za=!G(En,145)+0,wn.Za){var tr=wn.Ob,or=0;for(Sn=0;4>Sn;++Sn){var Ki,zi=ci[0+Sn];for(Ki=0;4>Ki;++Ki){for(var _r=Xh[G(En,(zi=Hp[Yn[jn+Ki]][zi])[0])];0<_r;)_r=Xh[2*_r+G(En,zi[_r])];Yn[jn+Ki]=zi=-_r}x(tr,or,Yn,jn,4),or+=4,ci[0+Sn]=zi}}else zi=G(En,156)?G(En,128)?1:3:G(En,163)?2:0,wn.Ob[0]=zi,L(Yn,jn,zi,4),L(ci,0,zi,4);wn.Dd=G(En,142)?G(En,114)?G(En,183)?1:3:2:0}if(Cn.m.Ka)return ns(jt,7,"Premature end-of-partition0 encountered.");for(;jt.ja<jt.za;++jt.ja){if(Cn=Rt,En=(Ut=jt).rb[Ut.sb-1],Yn=Ut.rb[Ut.sb+Ut.ja],an=Ut.ya[Ut.aa+Ut.ja],jn=Ut.kc?an.Ad:0)En.la=Yn.la=0,an.Za||(En.Na=Yn.Na=0),an.Hc=0,an.Gc=0,an.ia=0;else{var ur,Ti;if(En=Yn,Yn=Cn,jn=Ut.Pa.Xc,wn=Ut.pb[(ci=Ut.ya[Ut.aa+Ut.ja]).$b],or=Ut.rb[Ut.sb-1],zi=Ki=0,L(Sn=ci.ad,tr=0,0,384),ci.Za)var qr=0,ho=jn[3];else{_r=T(16);var ss=En.Na+or.Na;if(ss=su(Yn,jn[1],ss,wn.Eb,0,_r,0),En.Na=or.Na=(0<ss)+0,1<ss)_a(_r,0,Sn,tr);else{var Fo=_r[0]+3>>3;for(_r=0;256>_r;_r+=16)Sn[tr+_r]=Fo}qr=1,ho=jn[0]}var ar=15&En.la,fo=15&or.la;for(_r=0;4>_r;++_r){var fs=1&fo;for(Fo=Ti=0;4>Fo;++Fo)ar=ar>>1|(fs=(ss=su(Yn,ho,ss=fs+(1&ar),wn.Sc,qr,Sn,tr))>qr)<<7,Ti=Ti<<2|(3<ss?3:1<ss?2:0!=Sn[tr+0]),tr+=16;ar>>=4,fo=fo>>1|fs<<7,Ki=(Ki<<8|Ti)>>>0}for(ho=ar,qr=fo>>4,ur=0;4>ur;ur+=2){for(Ti=0,ar=En.la>>4+ur,fo=or.la>>4+ur,_r=0;2>_r;++_r){for(fs=1&fo,Fo=0;2>Fo;++Fo)ar=ar>>1|(fs=0<(ss=su(Yn,jn[2],ss=fs+(1&ar),wn.Qc,0,Sn,tr)))<<3,Ti=Ti<<2|(3<ss?3:1<ss?2:0!=Sn[tr+0]),tr+=16;ar>>=2,fo=fo>>1|fs<<5}zi|=Ti<<4*ur,ho|=ar<<4<<ur,qr|=(240&fo)<<ur}En.la=ho,or.la=qr,ci.Hc=Ki,ci.Gc=zi,ci.ia=43690&zi?0:wn.ia,jn=!(Ki|zi)}if(0<Ut.L&&(Ut.wa[Ut.Y+Ut.ja]=Ut.gd[an.$b][an.Za],Ut.wa[Ut.Y+Ut.ja].La|=!jn),Cn.Ka)return ns(jt,7,"Premature end-of-file encountered.")}if(Ph(jt),Ut=An,Cn=1,an=(Rt=jt).D,En=0<Rt.L&&Rt.M>=Rt.zb&&Rt.M<=Rt.Va,0==Rt.Aa)e:{if(an.M=Rt.M,an.uc=En,Qc(Rt,an),Cn=1,an=(Ti=Rt.D).Nb,En=(zi=au[Rt.L])*Rt.R,jn=Rt.sa,ci=Rt.ta-En+(_r=16*an*Rt.R),wn=Rt.qa,Sn=Rt.ra-(Yn=zi/2*Rt.B)+(Fo=8*an*Rt.B),tr=Rt.Ha,or=Rt.Ia-Yn+Fo,fo=0==(ar=Ti.M),Ki=ar>=Rt.Va-1,2==Rt.Aa&&Qc(Rt,Ti),Ti.uc)for(fs=(ss=Rt).D.M,y(ss.D.uc),Ti=ss.yb;Ti<ss.Hb;++Ti){ho=fs;var Ss=(ps=(Ur=ss).D).Nb,ps=ps.wa[ps.Y+(qr=Ti)],Os=Ur.sa,ta=Ur.ta+16*Ss*(ur=Ur.R)+16*qr,gl=ps.dd,Is=ps.tc;if(0!=Is)if(y(3<=Is),1==Ur.L)0<qr&&Lr(Os,ta,ur,Is+4),ps.La&&wa(Os,ta,ur,Is),0<ho&&Ii(Os,ta,ur,Is+4),ps.La&&rs(Os,ta,ur,Is);else{var ql=Ur.B,Pc=Ur.qa,Ec=Ur.ra+8*Ss*ql+8*qr,Dc=Ur.Ha,Ur=Ur.Ia+8*Ss*ql+8*qr;Ss=ps.ld,0<qr&&(Wl(Os,ta,ur,Is+4,gl,Ss),Gl(Pc,Ec,Dc,Ur,ql,Is+4,gl,Ss)),ps.La&&(Io(Os,ta,ur,Is,gl,Ss),wr(Pc,Ec,Dc,Ur,ql,Is,gl,Ss)),0<ho&&(Cc(Os,ta,ur,Is+4,gl,Ss),Sc(Pc,Ec,Dc,Ur,ql,Is+4,gl,Ss)),ps.La&&(Ku(Os,ta,ur,Is,gl,Ss),dl(Pc,Ec,Dc,Ur,ql,Is,gl,Ss))}}if(Rt.ia&&alert("todo:DitherRow"),null!=Ut.put){if(Ti=16*ar,ar=16*(ar+1),fo?(Ut.y=Rt.sa,Ut.O=Rt.ta+_r,Ut.f=Rt.qa,Ut.N=Rt.ra+Fo,Ut.ea=Rt.Ha,Ut.W=Rt.Ia+Fo):(Ti-=zi,Ut.y=jn,Ut.O=ci,Ut.f=wn,Ut.N=Sn,Ut.ea=tr,Ut.W=or),Ki||(ar-=zi),ar>Ut.o&&(ar=Ut.o),Ut.F=null,Ut.J=null,null!=Rt.Fa&&0<Rt.Fa.length&&Ti<ar&&(Ut.J=Zc(Rt,Ut,Ti,ar-Ti),Ut.F=Rt.mb,null==Ut.F&&0==Ut.F.length)){Cn=ns(Rt,3,"Could not decode alpha data.");break e}Ti<Ut.j&&(zi=Ut.j-Ti,Ti=Ut.j,y(!(1&zi)),Ut.O+=Rt.R*zi,Ut.N+=Rt.B*(zi>>1),Ut.W+=Rt.B*(zi>>1),null!=Ut.F&&(Ut.J+=Ut.width*zi)),Ti<ar&&(Ut.O+=Ut.v,Ut.N+=Ut.v>>1,Ut.W+=Ut.v>>1,null!=Ut.F&&(Ut.J+=Ut.v),Ut.ka=Ti-Ut.j,Ut.U=Ut.va-Ut.v,Ut.T=ar-Ti,Cn=Ut.put(Ut))}an+1!=Rt.Ic||Ki||(x(Rt.sa,Rt.ta-En,jn,ci+16*Rt.R,En),x(Rt.qa,Rt.ra-Yn,wn,Sn+8*Rt.B,Yn),x(Rt.Ha,Rt.Ia-Yn,tr,or+8*Rt.B,Yn))}if(!Cn)return ns(jt,6,"Output aborted.")}return 1}(S,M)),null!=M.bc&&M.bc(M),q&=1}return q?(S.cb=0,q):0})(S,se)||(M=S.a)}}else M=S.a}0==M&&null!=Oe.Oa&&Oe.Oa.fd&&(M=$u(Oe.ba))}Oe=M}Me=0!=Oe?null:11>Me?He.f.RGBA.eb:He.f.kb.y}else Me=null;return Me};var lu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function ae(St,dn){for(var vn="",lt=0;lt<4;lt++)vn+=String.fromCharCode(St[dn++]);return vn}function Ae(St,dn){return(St[dn+0]<<0|St[dn+1]<<8|St[dn+2]<<16)>>>0}function Re(St,dn){return(St[dn+0]<<0|St[dn+1]<<8|St[dn+2]<<16|St[dn+3]<<24)>>>0}new $;var Ge=[0],oe=[0],ft=[],rt=new $,bt=b,tt=function(St,dn){var vn={},lt=0,at=!1,kt=0,Et=0;if(vn.frames=[],!function(mt,At,E,D){for(var P=0;P<4;P++)if(mt[At+P]!="RIFF".charCodeAt(P))return!0;return!1}(St,dn)){var ln,nn;for(Re(St,dn+=4),dn+=8;dn<St.length;){var mn=ae(St,dn),en=Re(St,dn+=4);dn+=4;var cn=en+(1&en);switch(mn){case"VP8 ":case"VP8L":void 0===vn.frames[lt]&&(vn.frames[lt]={}),(ke=vn.frames[lt]).src_off=at?Et:dn-8,ke.src_size=kt+en+8,lt++,at&&(at=!1,kt=0,Et=0);break;case"VP8X":(ke=vn.header={}).feature_flags=St[dn];var gn=dn+4;ke.canvas_width=1+Ae(St,gn),ke.canvas_height=1+Ae(St,gn+=3),gn+=3;break;case"ALPH":at=!0,kt=cn+8,Et=dn-8;break;case"ANIM":(ke=vn.header).bgcolor=Re(St,dn),ke.loop_count=(ln=St)[(nn=gn=dn+4)+0]<<0|ln[nn+1]<<8,gn+=2;break;case"ANMF":var Nn,ke;(ke=vn.frames[lt]={}).offset_x=2*Ae(St,dn),ke.offset_y=2*Ae(St,dn+=3),ke.width=1+Ae(St,dn+=3),ke.height=1+Ae(St,dn+=3),ke.duration=Ae(St,dn+=3),dn+=3,Nn=St[dn++],ke.dispose=1&Nn,ke.blend=Nn>>1&1}"ANMF"!=mn&&(dn+=cn)}return vn}}(bt,0);tt.response=bt,tt.rgbaoutput=!0,tt.dataurl=!1;var gt=tt.header?tt.header:null,Tt=tt.frames?tt.frames:null;if(gt){gt.loop_counter=gt.loop_count,Ge=[gt.canvas_height],oe=[gt.canvas_width];for(var Yt=0;Yt<Tt.length&&0!=Tt[Yt].blend;Yt++);}var rn=Tt[0],xn=rt.WebPDecodeRGBA(bt,rn.src_off,rn.src_size,oe,Ge);rn.rgba=xn,rn.imgwidth=oe[0],rn.imgheight=Ge[0];for(var Jt=0;Jt<oe[0]*Ge[0]*4;Jt++)ft[Jt]=xn[Jt];return this.width=oe,this.height=Ge,this.data=ft,this}(function(b){var v=function(Ge,oe,ft,rt){var bt=4,tt=V;switch(rt){case b.image_compression.FAST:bt=1,tt=T;break;case b.image_compression.MEDIUM:bt=6,tt=Y;break;case b.image_compression.SLOW:bt=9,tt=$}var gt=Ea(Ge=x(Ge,oe,ft,tt),{level:bt});return b.__addimage__.arrayBufferToBinaryString(gt)},x=function(Ge,oe,ft,rt){for(var bt,tt,gt,Tt=Ge.length/oe,Yt=new Uint8Array(Ge.length+Tt),rn=Ae(),xn=0;xn<Tt;xn+=1){if(bt=Ge.subarray(gt=xn*oe,gt+oe),rt)Yt.set(rt(bt,ft,tt),gt+xn);else{for(var Jt,St=rn.length,dn=[];Jt<St;Jt+=1)dn[Jt]=rn[Jt](bt,ft,tt);var vn=Re(dn.concat());Yt.set(dn[vn],gt+xn)}tt=bt}return Yt},L=function(Ge){var oe=Array.apply([],Ge);return oe.unshift(0),oe},T=function(Ge,oe){var rt=[],bt=Ge.length;rt[0]=1;for(var tt=0;tt<bt;tt+=1)rt[tt+1]=Ge[tt]-(Ge[tt-oe]||0)+256&255;return rt},V=function(Ge,oe,ft){var bt=[],tt=Ge.length;bt[0]=2;for(var gt=0;gt<tt;gt+=1)bt[gt+1]=Ge[gt]-(ft&&ft[gt]||0)+256&255;return bt},Y=function(Ge,oe,ft){var tt=[],gt=Ge.length;tt[0]=3;for(var Tt=0;Tt<gt;Tt+=1)tt[Tt+1]=Ge[Tt]+256-((Ge[Tt-oe]||0)+(ft&&ft[Tt]||0)>>>1)&255;return tt},$=function(Ge,oe,ft){var gt,Tt=[],Yt=Ge.length;Tt[0]=4;for(var rn=0;rn<Yt;rn+=1)gt=ae(Ge[rn-oe]||0,ft&&ft[rn]||0,ft&&ft[rn-oe]||0),Tt[rn+1]=Ge[rn]-gt+256&255;return Tt},ae=function(Ge,oe,ft){if(Ge===oe&&oe===ft)return Ge;var rt=Math.abs(oe-ft),bt=Math.abs(Ge-ft),tt=Math.abs(Ge+oe-ft-ft);return rt<=bt&&rt<=tt?Ge:bt<=tt?oe:ft},Ae=function(){return[L,T,V,Y,$]},Re=function(Ge){var oe=Ge.map(function(ft){return ft.reduce(function(rt,bt){return rt+Math.abs(bt)},0)});return oe.indexOf(Math.min.apply(null,oe))};b.processPNG=function(Ge,oe,ft,rt){var bt,tt,gt,Tt,Yt,rn,xn,Jt,St,dn,vn,lt,at,kt,Et,ln=this.decode.FLATE_DECODE,nn="";if(this.__addimage__.isArrayBuffer(Ge)&&(Ge=new Uint8Array(Ge)),this.__addimage__.isArrayBufferView(Ge)){if(Ge=(gt=new Ce(Ge)).imgData,tt=gt.bits,bt=gt.colorSpace,Yt=gt.colors,-1!==[4,6].indexOf(gt.colorType)){if(8===gt.bits){St=(Jt=32==gt.pixelBitlength?new Uint32Array(gt.decodePixels().buffer):16==gt.pixelBitlength?new Uint16Array(gt.decodePixels().buffer):new Uint8Array(gt.decodePixels().buffer)).length,vn=new Uint8Array(St*gt.colors),dn=new Uint8Array(St);var mn,en=gt.pixelBitlength-gt.bits;for(kt=0,Et=0;kt<St;kt++){for(at=Jt[kt],mn=0;mn<en;)vn[Et++]=at>>>mn&255,mn+=gt.bits;dn[kt]=at>>>mn&255}}if(16===gt.bits){St=(Jt=new Uint32Array(gt.decodePixels().buffer)).length,vn=new Uint8Array(St*(32/gt.pixelBitlength)*gt.colors),dn=new Uint8Array(St*(32/gt.pixelBitlength)),lt=gt.colors>1,kt=0,Et=0;for(var cn=0;kt<St;)at=Jt[kt++],vn[Et++]=at>>>0&255,lt&&(vn[Et++]=at>>>16&255,at=Jt[kt++],vn[Et++]=at>>>0&255),dn[cn++]=at>>>16&255;tt=8}rt!==b.image_compression.NONE?(Ge=v(vn,gt.width*gt.colors,gt.colors,rt),xn=v(dn,gt.width,1,rt)):(Ge=vn,xn=dn,ln=void 0)}if(3===gt.colorType&&(bt=this.color_spaces.INDEXED,rn=gt.palette,gt.transparency.indexed)){var gn=gt.transparency.indexed,Nn=0;for(kt=0,St=gn.length;kt<St;++kt)Nn+=gn[kt];if((Nn/=255)==St-1&&-1!==gn.indexOf(0))Tt=[gn.indexOf(0)];else if(Nn!==St){for(Jt=gt.decodePixels(),dn=new Uint8Array(Jt.length),kt=0,St=Jt.length;kt<St;kt++)dn[kt]=gn[Jt[kt]];xn=v(dn,gt.width,1)}}var ke=function(mt){var At;switch(mt){case b.image_compression.FAST:At=11;break;case b.image_compression.MEDIUM:At=13;break;case b.image_compression.SLOW:At=14;break;default:At=12}return At}(rt);return ln===this.decode.FLATE_DECODE&&(nn="/Predictor "+ke+" "),nn+="/Colors "+Yt+" /BitsPerComponent "+tt+" /Columns "+gt.width,(this.__addimage__.isArrayBuffer(Ge)||this.__addimage__.isArrayBufferView(Ge))&&(Ge=this.__addimage__.arrayBufferToBinaryString(Ge)),(xn&&this.__addimage__.isArrayBuffer(xn)||this.__addimage__.isArrayBufferView(xn))&&(xn=this.__addimage__.arrayBufferToBinaryString(xn)),{alias:ft,data:Ge,index:oe,filter:ln,decodeParameters:nn,transparency:Tt,palette:rn,sMask:xn,predictor:ke,width:gt.width,height:gt.height,bitsPerComponent:tt,colorSpace:bt}}}})(ni.API),function(b){b.processGIF89A=function(y,v,x,L){var T=new _t(y),V=T.width,Y=T.height,$=[];T.decodeAndBlitFrameRGBA(0,$);var ae={data:$,width:V,height:Y},Ae=new zn(100).encode(ae,100);return b.processJPEG.call(this,Ae,v,x,L)},b.processGIF87A=b.processGIF89A}(ni.API),Bi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var b=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(b);for(var y=0;y<b;y++){var v=this.datav.getUint8(this.pos++,!0),x=this.datav.getUint8(this.pos++,!0),L=this.datav.getUint8(this.pos++,!0),T=this.datav.getUint8(this.pos++,!0);this.palette[y]={red:L,green:x,blue:v,quad:T}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Bi.prototype.parseBGR=function(){this.pos=this.offset;try{var b="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[b]()}catch(v){Ui.log("bit decode error:"+v)}},Bi.prototype.bit1=function(){var b,y=Math.ceil(this.width/8),v=y%4;for(b=this.height-1;b>=0;b--){for(var x=this.bottom_up?b:this.height-1-b,L=0;L<y;L++)for(var T=this.datav.getUint8(this.pos++,!0),V=x*this.width*4+8*L*4,Y=0;Y<8&&8*L+Y<this.width;Y++){var $=this.palette[T>>7-Y&1];this.data[V+4*Y]=$.blue,this.data[V+4*Y+1]=$.green,this.data[V+4*Y+2]=$.red,this.data[V+4*Y+3]=255}0!==v&&(this.pos+=4-v)}},Bi.prototype.bit4=function(){for(var b=Math.ceil(this.width/2),y=b%4,v=this.height-1;v>=0;v--){for(var x=this.bottom_up?v:this.height-1-v,L=0;L<b;L++){var T=this.datav.getUint8(this.pos++,!0),V=x*this.width*4+2*L*4,$=15&T,ae=this.palette[T>>4];if(this.data[V]=ae.blue,this.data[V+1]=ae.green,this.data[V+2]=ae.red,this.data[V+3]=255,2*L+1>=this.width)break;this.data[V+4]=(ae=this.palette[$]).blue,this.data[V+4+1]=ae.green,this.data[V+4+2]=ae.red,this.data[V+4+3]=255}0!==y&&(this.pos+=4-y)}},Bi.prototype.bit8=function(){for(var b=this.width%4,y=this.height-1;y>=0;y--){for(var v=this.bottom_up?y:this.height-1-y,x=0;x<this.width;x++){var L=this.datav.getUint8(this.pos++,!0),T=v*this.width*4+4*x;if(L<this.palette.length){var V=this.palette[L];this.data[T]=V.red,this.data[T+1]=V.green,this.data[T+2]=V.blue,this.data[T+3]=255}else this.data[T]=255,this.data[T+1]=255,this.data[T+2]=255,this.data[T+3]=255}0!==b&&(this.pos+=4-b)}},Bi.prototype.bit15=function(){for(var b=this.width%3,y=parseInt("11111",2),v=this.height-1;v>=0;v--){for(var x=this.bottom_up?v:this.height-1-v,L=0;L<this.width;L++){var T=this.datav.getUint16(this.pos,!0);this.pos+=2;var V=(T&y)/y*255|0,Y=(T>>5&y)/y*255|0,ae=T>>15?255:0,Ae=x*this.width*4+4*L;this.data[Ae]=(T>>10&y)/y*255|0,this.data[Ae+1]=Y,this.data[Ae+2]=V,this.data[Ae+3]=ae}this.pos+=b}},Bi.prototype.bit16=function(){for(var b=this.width%3,y=parseInt("11111",2),v=parseInt("111111",2),x=this.height-1;x>=0;x--){for(var L=this.bottom_up?x:this.height-1-x,T=0;T<this.width;T++){var V=this.datav.getUint16(this.pos,!0);this.pos+=2;var Y=(V&y)/y*255|0,$=(V>>5&v)/v*255|0,Ae=L*this.width*4+4*T;this.data[Ae]=(V>>11)/y*255|0,this.data[Ae+1]=$,this.data[Ae+2]=Y,this.data[Ae+3]=255}this.pos+=b}},Bi.prototype.bit24=function(){for(var b=this.height-1;b>=0;b--){for(var y=this.bottom_up?b:this.height-1-b,v=0;v<this.width;v++){var x=this.datav.getUint8(this.pos++,!0),L=this.datav.getUint8(this.pos++,!0),T=this.datav.getUint8(this.pos++,!0),V=y*this.width*4+4*v;this.data[V]=T,this.data[V+1]=L,this.data[V+2]=x,this.data[V+3]=255}this.pos+=this.width%4}},Bi.prototype.bit32=function(){for(var b=this.height-1;b>=0;b--)for(var y=this.bottom_up?b:this.height-1-b,v=0;v<this.width;v++){var x=this.datav.getUint8(this.pos++,!0),L=this.datav.getUint8(this.pos++,!0),T=this.datav.getUint8(this.pos++,!0),V=this.datav.getUint8(this.pos++,!0),Y=y*this.width*4+4*v;this.data[Y]=T,this.data[Y+1]=L,this.data[Y+2]=x,this.data[Y+3]=V}},Bi.prototype.getData=function(){return this.data},function(b){b.processBMP=function(y,v,x,L){var T=new Bi(y,!1),V=T.width,Y=T.height,$={data:T.getData(),width:V,height:Y},ae=new zn(100).encode($,100);return b.processJPEG.call(this,ae,v,x,L)}}(ni.API),hs.prototype.getData=function(){return this.data},function(b){b.processWEBP=function(y,v,x,L){var T=new hs(y,!1),V=T.width,Y=T.height,$={data:T.getData(),width:V,height:Y},ae=new zn(100).encode($,100);return b.processJPEG.call(this,ae,v,x,L)}}(ni.API),ni.API.processRGBA=function(b,y,v){for(var x=b.data,L=x.length,T=new Uint8Array(L/4*3),V=new Uint8Array(L/4),Y=0,$=0,ae=0;ae<L;ae+=4){var Re=x[ae+1],Ge=x[ae+2],oe=x[ae+3];T[Y++]=x[ae],T[Y++]=Re,T[Y++]=Ge,V[$++]=oe}var ft=this.__addimage__.arrayBufferToBinaryString(T);return{alpha:this.__addimage__.arrayBufferToBinaryString(V),data:ft,index:y,alias:v,colorSpace:"DeviceRGB",bitsPerComponent:8,width:b.width,height:b.height}},ni.API.setLanguage=function(b){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[b]&&(this.internal.languageSettings.languageCode=b,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ja=(Ao=ni.API).getCharWidthsArray=function(b,y){var v,x,L=(y=y||{}).font||this.internal.getFont(),T=y.fontSize||this.internal.getFontSize(),V=y.charSpace||this.internal.getCharSpace(),Y=y.widths?y.widths:L.metadata.Unicode.widths,$=Y.fof?Y.fof:1,ae=y.kerning?y.kerning:L.metadata.Unicode.kerning,Ae=ae.fof?ae.fof:1,Re=!1!==y.doKerning,Ge=0,oe=b.length,ft=0,rt=Y[0]||$,bt=[];for(v=0;v<oe;v++)x=b.charCodeAt(v),"function"==typeof L.metadata.widthOfString?bt.push((L.metadata.widthOfGlyph(L.metadata.characterToGlyph(x))+V*(1e3/T)||0)/1e3):(Ge=Re&&"object"===ht(ae[x])&&!isNaN(parseInt(ae[x][ft],10))?ae[x][ft]/Ae:0,bt.push((Y[x]||rt)/$+Ge)),ft=x;return bt},ka=Ao.getStringUnitWidth=function(b,y){var v=(y=y||{}).fontSize||this.internal.getFontSize(),x=y.font||this.internal.getFont(),L=y.charSpace||this.internal.getCharSpace();return Ao.processArabic&&(b=Ao.processArabic(b)),"function"==typeof x.metadata.widthOfString?x.metadata.widthOfString(b,v,L)/v:Ja.apply(this,arguments).reduce(function(T,V){return T+V},0)},X=function(b,y,v,x){for(var L=[],T=0,V=b.length,Y=0;T!==V&&Y+y[T]<v;)Y+=y[T],T++;L.push(b.slice(0,T));var $=T;for(Y=0;T!==V;)Y+y[T]>x&&(L.push(b.slice($,T)),Y=0,$=T),Y+=y[T],T++;return $!==T&&L.push(b.slice($,T)),L},K=function(b,y,v){v||(v={});var x,L,T,V,Y,$,Ae=[],Re=[Ae],Ge=v.textIndent||0,oe=0,ft=0,rt=b.split(" "),bt=Ja.apply(this,[" ",v])[0];if($=-1===v.lineIndent?rt[0].length+2:v.lineIndent||0){var tt=Array($).join(" "),gt=[];rt.map(function(Yt){(Yt=Yt.split(/\s*\n/)).length>1?gt=gt.concat(Yt.map(function(rn,xn){return(xn&&rn.length?"\n":"")+rn})):gt.push(Yt[0])}),rt=gt,$=ka.apply(this,[tt,v])}for(T=0,V=rt.length;T<V;T++){var Tt=0;if(x=rt[T],$&&"\n"==x[0]&&(x=x.substr(1),Tt=1),Ge+oe+(ft=(L=Ja.apply(this,[x,v])).reduce(function(Yt,rn){return Yt+rn},0))>y||Tt){if(ft>y){for(Y=X.apply(this,[x,L,y-(Ge+oe),y]),Ae.push(Y.shift()),Ae=[Y.pop()];Y.length;)Re.push([Y.shift()]);ft=L.slice(x.length-(Ae[0]?Ae[0].length:0)).reduce(function(Yt,rn){return Yt+rn},0)}else Ae=[x];Re.push(Ae),Ge=ft+$,oe=bt}else Ae.push(x),Ge+=oe+ft,oe=bt}return Re.map($?function(Yt,rn){return(rn?tt:"")+Yt.join(" ")}:function(Yt){return Yt.join(" ")})},Ao.splitTextToSize=function(b,y,v){var x,L=(v=v||{}).fontSize||this.internal.getFontSize(),T=function(Ae){if(Ae.widths&&Ae.kerning)return{widths:Ae.widths,kerning:Ae.kerning};var Re=this.internal.getFont(Ae.fontName,Ae.fontStyle);return Re.metadata.Unicode?{widths:Re.metadata.Unicode.widths||{0:1},kerning:Re.metadata.Unicode.kerning||{}}:{font:Re.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,v);x=Array.isArray(b)?b:String(b).split(/\r?\n/);var V=1*this.internal.scaleFactor*y/L;T.textIndent=v.textIndent?1*v.textIndent*this.internal.scaleFactor/L:0,T.lineIndent=v.lineIndent;var Y,$,ae=[];for(Y=0,$=x.length;Y<$;Y++)ae=ae.concat(K.apply(this,[x[Y],V,T]));return ae},function(b){b.__fontmetrics__=b.__fontmetrics__||{};for(var y="klmnopqrstuvwxyz",v={},x={},L=0;L<y.length;L++)v[y[L]]="0123456789abcdef"[L],x["0123456789abcdef"[L]]=y[L];var T=function(Re){return"0x"+parseInt(Re,10).toString(16)},V=b.__fontmetrics__.compress=function(Re){var Ge,oe,ft,rt,bt=["{"];for(var tt in Re){if(Ge=Re[tt],isNaN(parseInt(tt,10))?oe="'"+tt+"'":(tt=parseInt(tt,10),oe=(oe=T(tt).slice(2)).slice(0,-1)+x[oe.slice(-1)]),"number"==typeof Ge)Ge<0?(ft=T(Ge).slice(3),rt="-"):(ft=T(Ge).slice(2),rt=""),ft=rt+ft.slice(0,-1)+x[ft.slice(-1)];else{if("object"!==ht(Ge))throw new Error("Don't know what to do with value type "+ht(Ge)+".");ft=V(Ge)}bt.push(oe+ft)}return bt.push("}"),bt.join("")},Y=b.__fontmetrics__.uncompress=function(Re){if("string"!=typeof Re)throw new Error("Invalid argument passed to uncompress.");for(var Ge,oe,ft,rt,bt={},tt=1,gt=bt,Tt=[],Yt="",rn="",xn=Re.length-1,Jt=1;Jt<xn;Jt+=1)"'"==(rt=Re[Jt])?Ge?(ft=Ge.join(""),Ge=void 0):Ge=[]:Ge?Ge.push(rt):"{"==rt?(Tt.push([gt,ft]),gt={},ft=void 0):"}"==rt?((oe=Tt.pop())[0][oe[1]]=gt,ft=void 0,gt=oe[0]):"-"==rt?tt=-1:void 0===ft?v.hasOwnProperty(rt)?(Yt+=v[rt],ft=parseInt(Yt,16)*tt,tt=1,Yt=""):Yt+=rt:v.hasOwnProperty(rt)?(rn+=v[rt],gt[ft]=parseInt(rn,16)*tt,tt=1,ft=void 0,rn=""):rn+=rt;return bt},$={codePages:["WinAnsiEncoding"],WinAnsiEncoding:Y("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},ae={Unicode:{Courier:$,"Courier-Bold":$,"Courier-BoldOblique":$,"Courier-Oblique":$,Helvetica:$,"Helvetica-Bold":$,"Helvetica-BoldOblique":$,"Helvetica-Oblique":$,"Times-Roman":$,"Times-Bold":$,"Times-BoldItalic":$,"Times-Italic":$}},Ae={Unicode:{"Courier-Oblique":Y("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":Y("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":Y("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:Y("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":Y("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":Y("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:Y("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:Y("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":Y("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:Y("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":Y("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":Y("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":Y("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":Y("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};b.events.push(["addFont",function(Re){var Ge=Re.font,oe=Ae.Unicode[Ge.postScriptName];oe&&(Ge.metadata.Unicode={},Ge.metadata.Unicode.widths=oe.widths,Ge.metadata.Unicode.kerning=oe.kerning);var ft=ae.Unicode[Ge.postScriptName];ft&&(Ge.metadata.Unicode.encoding=ft,Ge.encoding=ft.codePages[0])}])}(ni.API),function(b){var y=function(v){for(var x=v.length,L=new Uint8Array(x),T=0;T<x;T++)L[T]=v.charCodeAt(T);return L};b.API.events.push(["addFont",function(v){var V,Y,x=void 0,L=v.font,T=v.instance;if(!L.isStandardFont){if(void 0===T)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+L.postScriptName+"').");if("string"!=typeof(x=!1===T.existsFileInVFS(L.postScriptName)?T.loadFile(L.postScriptName):T.getFileFromVFS(L.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+L.postScriptName+"').");V=L,Y=/^\x00\x01\x00\x00/.test(Y=x)?y(Y):y(bo(Y)),V.metadata=b.API.TTFFont.open(Y),V.metadata.Unicode=V.metadata.Unicode||{encoding:{},kerning:{},widths:[]},V.metadata.glyIdsUsed=[0]}}])}(ni),function(b){function y(){return(ii.canvg?Promise.resolve(ii.canvg):ge.e(489).then(ge.bind(ge,6489))).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v})}ni.API.addSvgAsImage=function(v,x,L,T,V,Y,$,ae){if(isNaN(x)||isNaN(L))throw Ui.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(T)||isNaN(V))throw Ui.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var Ae=document.createElement("canvas");Ae.width=T,Ae.height=V;var Re=Ae.getContext("2d");Re.fillStyle="#fff",Re.fillRect(0,0,Ae.width,Ae.height);var Ge={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},oe=this;return y().then(function(ft){return ft.fromString(Re,v,Ge)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(ft){return ft.render(Ge)}).then(function(){oe.addImage(Ae.toDataURL("image/jpeg",1),x,L,T,V,$,ae)})}}(),ni.API.putTotalPages=function(b){var y,v=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(y=new RegExp(b,"g"),v=this.internal.getNumberOfPages()):(y=new RegExp(this.pdfEscape16(b,this.internal.getFont()),"g"),v=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var x=1;x<=this.internal.getNumberOfPages();x++)for(var L=0;L<this.internal.pages[x].length;L++)this.internal.pages[x][L]=this.internal.pages[x][L].replace(y,v);return this},ni.API.viewerPreferences=function(b,y){var v;b=b||{},y=y||!1;var x,L,T,V={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},Y=Object.keys(V),$=[],ae=0,Ae=0,Re=0;function Ge(ft,rt){var bt,tt=!1;for(bt=0;bt<ft.length;bt+=1)ft[bt]===rt&&(tt=!0);return tt}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(V)),this.internal.viewerpreferences.isSubscribed=!1),v=this.internal.viewerpreferences.configuration,"reset"===b||!0===y){var oe=Y.length;for(Re=0;Re<oe;Re+=1)v[Y[Re]].value=v[Y[Re]].defaultValue,v[Y[Re]].explicitSet=!1}if("object"===ht(b))for(L in b)if(T=b[L],Ge(Y,L)&&void 0!==T){if("boolean"===v[L].type&&"boolean"==typeof T)v[L].value=T;else if("name"===v[L].type&&Ge(v[L].valueSet,T))v[L].value=T;else if("integer"===v[L].type&&Number.isInteger(T))v[L].value=T;else if("array"===v[L].type){for(ae=0;ae<T.length;ae+=1)if(x=!0,1===T[ae].length&&"number"==typeof T[ae][0])$.push(String(T[ae]-1));else if(T[ae].length>1){for(Ae=0;Ae<T[ae].length;Ae+=1)"number"!=typeof T[ae][Ae]&&(x=!1);!0===x&&$.push([T[ae][0]-1,T[ae][1]-1].join(" "))}v[L].value="["+$.join(" ")+"]"}else v[L].value=v[L].defaultValue;v[L].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var ft,rt=[];for(ft in v)!0===v[ft].explicitSet&&rt.push("name"===v[ft].type?"/"+ft+" /"+v[ft].value:"/"+ft+" "+v[ft].value);0!==rt.length&&this.internal.write("/ViewerPreferences\n<<\n"+rt.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=v,this},function(b){var y=function(){var x='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',L=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),T=unescape(encodeURIComponent(x)),V=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),Y=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),$=unescape(encodeURIComponent("</x:xmpmeta>")),ae=T.length+V.length+Y.length+L.length+$.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+ae+" >>"),this.internal.write("stream"),this.internal.write(L+T+V+Y+$),this.internal.write("endstream"),this.internal.write("endobj")},v=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};b.addMetadata=function(x,L){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:x,namespaceuri:L||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",v),this.internal.events.subscribe("postPutResources",y)),this}}(ni.API),function(b){var y=b.API,v=y.pdfEscape16=function(T,V){for(var Y,$=V.metadata.Unicode.widths,ae=["","0","00","000","0000"],Ae=[""],Re=0,Ge=T.length;Re<Ge;++Re){if(Y=V.metadata.characterToGlyph(T.charCodeAt(Re)),V.metadata.glyIdsUsed.push(Y),V.metadata.toUnicode[Y]=T.charCodeAt(Re),-1==$.indexOf(Y)&&($.push(Y),$.push([parseInt(V.metadata.widthOfGlyph(Y),10)])),"0"==Y)return Ae.join("");Y=Y.toString(16),Ae.push(ae[4-Y.length],Y)}return Ae.join("")},x=function(T){var V,Y,$,ae,Ae,Re,Ge;for(Ae="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",$=[],Re=0,Ge=(Y=Object.keys(T).sort(function(oe,ft){return oe-ft})).length;Re<Ge;Re++)V=Y[Re],$.length>=100&&(Ae+="\n"+$.length+" beginbfchar\n"+$.join("\n")+"\nendbfchar",$=[]),null!=T[V]&&"function"==typeof T[V].toString&&(ae=("0000"+T[V].toString(16)).slice(-4),V=("0000"+(+V).toString(16)).slice(-4),$.push("<"+V+"><"+ae+">"));return $.length&&(Ae+="\n"+$.length+" beginbfchar\n"+$.join("\n")+"\nendbfchar\n"),Ae+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};y.events.push(["putFont",function(T){!function(V){var Y=V.font,$=V.out,ae=V.newObject,Ae=V.putStream;if(Y.metadata instanceof b.API.TTFFont&&"Identity-H"===Y.encoding){for(var Re=Y.metadata.Unicode.widths,Ge=Y.metadata.subset.encode(Y.metadata.glyIdsUsed,1),oe="",ft=0;ft<Ge.length;ft++)oe+=String.fromCharCode(Ge[ft]);var rt=ae();Ae({data:oe,addLength1:!0,objectId:rt}),$("endobj");var bt=ae();Ae({data:x(Y.metadata.toUnicode),addLength1:!0,objectId:bt}),$("endobj");var tt=ae();$("<<"),$("/Type /FontDescriptor"),$("/FontName /"+La(Y.fontName)),$("/FontFile2 "+rt+" 0 R"),$("/FontBBox "+b.API.PDFObject.convert(Y.metadata.bbox)),$("/Flags "+Y.metadata.flags),$("/StemV "+Y.metadata.stemV),$("/ItalicAngle "+Y.metadata.italicAngle),$("/Ascent "+Y.metadata.ascender),$("/Descent "+Y.metadata.decender),$("/CapHeight "+Y.metadata.capHeight),$(">>"),$("endobj");var gt=ae();$("<<"),$("/Type /Font"),$("/BaseFont /"+La(Y.fontName)),$("/FontDescriptor "+tt+" 0 R"),$("/W "+b.API.PDFObject.convert(Re)),$("/CIDToGIDMap /Identity"),$("/DW 1000"),$("/Subtype /CIDFontType2"),$("/CIDSystemInfo"),$("<<"),$("/Supplement 0"),$("/Registry (Adobe)"),$("/Ordering ("+Y.encoding+")"),$(">>"),$(">>"),$("endobj"),Y.objectNumber=ae(),$("<<"),$("/Type /Font"),$("/Subtype /Type0"),$("/ToUnicode "+bt+" 0 R"),$("/BaseFont /"+La(Y.fontName)),$("/Encoding /"+Y.encoding),$("/DescendantFonts ["+gt+" 0 R]"),$(">>"),$("endobj"),Y.isAlreadyPutted=!0}}(T)}]),y.events.push(["putFont",function(T){!function(V){var Y=V.font,$=V.out,ae=V.newObject,Ae=V.putStream;if(Y.metadata instanceof b.API.TTFFont&&"WinAnsiEncoding"===Y.encoding){for(var Re=Y.metadata.rawData,Ge="",oe=0;oe<Re.length;oe++)Ge+=String.fromCharCode(Re[oe]);var ft=ae();Ae({data:Ge,addLength1:!0,objectId:ft}),$("endobj");var rt=ae();Ae({data:x(Y.metadata.toUnicode),addLength1:!0,objectId:rt}),$("endobj");var bt=ae();$("<<"),$("/Descent "+Y.metadata.decender),$("/CapHeight "+Y.metadata.capHeight),$("/StemV "+Y.metadata.stemV),$("/Type /FontDescriptor"),$("/FontFile2 "+ft+" 0 R"),$("/Flags 96"),$("/FontBBox "+b.API.PDFObject.convert(Y.metadata.bbox)),$("/FontName /"+La(Y.fontName)),$("/ItalicAngle "+Y.metadata.italicAngle),$("/Ascent "+Y.metadata.ascender),$(">>"),$("endobj"),Y.objectNumber=ae();for(var tt=0;tt<Y.metadata.hmtx.widths.length;tt++)Y.metadata.hmtx.widths[tt]=parseInt(Y.metadata.hmtx.widths[tt]*(1e3/Y.metadata.head.unitsPerEm));$("<</Subtype/TrueType/Type/Font/ToUnicode "+rt+" 0 R/BaseFont/"+La(Y.fontName)+"/FontDescriptor "+bt+" 0 R/Encoding/"+Y.encoding+" /FirstChar 29 /LastChar 255 /Widths "+b.API.PDFObject.convert(Y.metadata.hmtx.widths)+">>"),$("endobj"),Y.isAlreadyPutted=!0}}(T)}]);var L=function(T){var V,Y=T.text||"",$=T.x,ae=T.y,Ae=T.options||{},Re=T.mutex||{},Ge=Re.pdfEscape,oe=Re.activeFontKey,ft=Re.fonts,rt=oe,bt="",tt=0,gt="",Tt=ft[rt].encoding;if("Identity-H"!==ft[rt].encoding)return{text:Y,x:$,y:ae,options:Ae,mutex:Re};for(gt=Y,rt=oe,Array.isArray(Y)&&(gt=Y[0]),tt=0;tt<gt.length;tt+=1)ft[rt].metadata.hasOwnProperty("cmap")&&(V=ft[rt].metadata.cmap.unicode.codeMap[gt[tt].charCodeAt(0)]),V||gt[tt].charCodeAt(0)<256&&ft[rt].metadata.hasOwnProperty("Unicode")?bt+=gt[tt]:bt+="";var Yt="";return parseInt(rt.slice(1))<14||"WinAnsiEncoding"===Tt?Yt=Ge(bt,rt).split("").map(function(rn){return rn.charCodeAt(0).toString(16)}).join(""):"Identity-H"===Tt&&(Yt=v(bt,ft[rt])),Re.isHex=!0,{text:Yt,x:$,y:ae,options:Ae,mutex:Re}};y.events.push(["postProcessText",function(T){var V=T.text||"",Y=[],$={text:V,x:T.x,y:T.y,options:T.options,mutex:T.mutex};if(Array.isArray(V)){var ae=0;for(ae=0;ae<V.length;ae+=1)Array.isArray(V[ae])&&3===V[ae].length?Y.push([L(Object.assign({},$,{text:V[ae][0]})).text,V[ae][1],V[ae][2]]):Y.push(L(Object.assign({},$,{text:V[ae]})).text);T.text=Y}else T.text=L(Object.assign({},$,{text:V})).text}])}(ni),function(b){var y=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};b.existsFileInVFS=function(v){return y.call(this),void 0!==this.internal.vFS[v]},b.addFileToVFS=function(v,x){return y.call(this),this.internal.vFS[v]=x,this},b.getFileFromVFS=function(v){return y.call(this),void 0!==this.internal.vFS[v]?this.internal.vFS[v]:null}}(ni.API),function(b){b.__bidiEngine__=b.prototype.__bidiEngine__=function(x){var L,T,V,Y,$,ae,Ae,Re=y,Ge=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],oe=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ft={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},rt={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},bt=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],tt=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),gt=!1,Tt=0;this.__bidiEngine__={};var Yt=function(lt){var at=lt.charCodeAt(),kt=at>>8,Et=rt[kt];return void 0!==Et?Re[256*Et+(255&at)]:252===kt||253===kt?"AL":tt.test(kt)?"L":8===kt?"R":"N"},rn=function(lt){for(var at,kt=0;kt<lt.length;kt++){if("L"===(at=Yt(lt.charAt(kt))))return!1;if("R"===at)return!0}return!1},xn=function(lt,at,kt,Et){var ln,nn,mn,en,cn=at[Et];switch(cn){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":gt=!1;break;case"N":case"AN":break;case"EN":gt&&(cn="AN");break;case"AL":gt=!0,cn="R";break;case"WS":case"BN":cn="N";break;case"CS":Et<1||Et+1>=at.length||"EN"!==(ln=kt[Et-1])&&"AN"!==ln||"EN"!==(nn=at[Et+1])&&"AN"!==nn?cn="N":gt&&(nn="AN"),cn=nn===ln?nn:"N";break;case"ES":cn="EN"===(ln=Et>0?kt[Et-1]:"B")&&Et+1<at.length&&"EN"===at[Et+1]?"EN":"N";break;case"ET":if(Et>0&&"EN"===kt[Et-1]){cn="EN";break}if(gt){cn="N";break}for(mn=Et+1,en=at.length;mn<en&&"ET"===at[mn];)mn++;cn=mn<en&&"EN"===at[mn]?"EN":"N";break;case"NSM":if(V&&!Y){for(en=at.length,mn=Et+1;mn<en&&"NSM"===at[mn];)mn++;if(mn<en){var gn=lt[Et];if(ln=at[mn],(gn>=1425&&gn<=2303||64286===gn)&&("R"===ln||"AL"===ln)){cn="R";break}}}cn=Et<1||"B"===(ln=at[Et-1])?"N":kt[Et-1];break;case"B":gt=!1,L=!0,cn=Tt;break;case"S":T=!0,cn="N"}return cn},Jt=function(lt,at,kt){var Et=lt.split("");return kt&&St(Et,kt,{hiLevel:Tt}),Et.reverse(),at&&at.reverse(),Et.join("")},St=function(lt,at,kt){var Et,ln,nn,mn,en,cn=-1,gn=lt.length,Nn=0,ke=[],mt=Tt?oe:Ge,At=[];for(gt=!1,L=!1,T=!1,ln=0;ln<gn;ln++)At[ln]=Yt(lt[ln]);for(nn=0;nn<gn;nn++){if(en=Nn,ke[nn]=xn(lt,At,ke,nn),Et=240&(Nn=mt[en][ft[ke[nn]]]),at[nn]=mn=mt[Nn&=15][5],Et>0)if(16===Et){for(ln=cn;ln<nn;ln++)at[ln]=1;cn=-1}else cn=-1;if(mt[Nn][6])-1===cn&&(cn=nn);else if(cn>-1){for(ln=cn;ln<nn;ln++)at[ln]=mn;cn=-1}"B"===At[nn]&&(at[nn]=0),kt.hiLevel|=mn}T&&function(E,D,P){for(var N=0;N<P;N++)if("S"===E[N]){D[N]=Tt;for(var G=N-1;G>=0&&"WS"===E[G];G--)D[G]=Tt}}(At,at,gn)},dn=function(lt,at,kt,Et,ln){if(!(ln.hiLevel<lt)){if(1===lt&&1===Tt&&!L)return at.reverse(),void(kt&&kt.reverse());for(var nn,mn,en,cn,gn=at.length,Nn=0;Nn<gn;){if(Et[Nn]>=lt){for(en=Nn+1;en<gn&&Et[en]>=lt;)en++;for(cn=Nn,mn=en-1;cn<mn;cn++,mn--)nn=at[cn],at[cn]=at[mn],at[mn]=nn,kt&&(nn=kt[cn],kt[cn]=kt[mn],kt[mn]=nn);Nn=en}Nn++}}},vn=function(lt,at,kt){var Et=lt.split(""),ln={hiLevel:Tt};return kt||(kt=[]),St(Et,kt,ln),function(nn,mn,en){if(0!==en.hiLevel&&Ae)for(var cn,gn=0;gn<nn.length;gn++)1===mn[gn]&&(cn=bt.indexOf(nn[gn]))>=0&&(nn[gn]=bt[cn+1])}(Et,kt,ln),dn(2,Et,at,kt,ln),dn(1,Et,at,kt,ln),Et.join("")};return this.__bidiEngine__.doBidiReorder=function(lt,at,kt){if(function(ln,nn){if(nn)for(var mn=0;mn<ln.length;mn++)nn[mn]=mn;void 0===Y&&(Y=rn(ln)),void 0===ae&&(ae=rn(ln))}(lt,at),V||!$||ae)if(V&&$&&Y^ae)Tt=Y?1:0,lt=Jt(lt,at,kt);else if(!V&&$&&ae)Tt=Y?1:0,lt=vn(lt,at,kt),lt=Jt(lt,at);else if(!V||Y||$||ae){if(V&&!$&&Y^ae)lt=Jt(lt,at),Y?(Tt=0,lt=vn(lt,at,kt)):(Tt=1,lt=vn(lt,at,kt),lt=Jt(lt,at));else if(V&&Y&&!$&&ae)Tt=1,lt=vn(lt,at,kt),lt=Jt(lt,at);else if(!V&&!$&&Y^ae){var Et=Ae;Y?(Tt=1,lt=vn(lt,at,kt),Tt=0,Ae=!1,lt=vn(lt,at,kt),Ae=Et):(Tt=0,lt=vn(lt,at,kt),lt=Jt(lt,at),Tt=1,Ae=!1,lt=vn(lt,at,kt),Ae=Et,lt=Jt(lt,at))}}else Tt=0,lt=vn(lt,at,kt);else Tt=Y?1:0,lt=vn(lt,at,kt);return lt},this.__bidiEngine__.setOptions=function(lt){lt&&(V=lt.isInputVisual,$=lt.isOutputVisual,Y=lt.isInputRtl,ae=lt.isOutputRtl,Ae=lt.isSymmetricSwapping)},this.__bidiEngine__.setOptions(x),this.__bidiEngine__};var y=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],v=new b.__bidiEngine__({isInputVisual:!0});b.API.events.push(["postProcessText",function(x){var L=x.text,T=x.options||{},V=[];if(T.isInputVisual="boolean"!=typeof T.isInputVisual||T.isInputVisual,v.setOptions(T),"[object Array]"===Object.prototype.toString.call(L)){var Y=0;for(V=[],Y=0;Y<L.length;Y+=1)"[object Array]"===Object.prototype.toString.call(L[Y])?V.push([v.doBidiReorder(L[Y][0]),L[Y][1],L[Y][2]]):V.push([v.doBidiReorder(L[Y])]);x.text=V}else x.text=v.doBidiReorder(L);v.setOptions({isInputVisual:!0})}])}(ni),ni.API.TTFFont=function(){function b(y){var v;if(this.rawData=y,v=this.contents=new ws(y),this.contents.pos=4,"ttcf"===v.readString(4))throw new Error("TTCF not supported.");v.pos=0,this.parse(),this.subset=new bh(this),this.registerTTF()}return b.open=function(y){return new b(y)},b.prototype.parse=function(){return this.directory=new El(this.contents),this.head=new Sd(this),this.name=new mh(this),this.cmap=new Dl(this),this.toUnicode={},this.hhea=new zc(this),this.maxp=new vh(this),this.hmtx=new yh(this),this.post=new Au(this),this.os2=new cc(this),this.loca=new xd(this),this.glyf=new _h(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},b.prototype.registerTTF=function(){var v,x,L,T;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var V,Y,$,ae;for(ae=[],V=0,Y=($=this.bbox).length;V<Y;V++)ae.push(Math.round($[V]*this.scaleFactor));return ae}.call(this),this.stemV=0,this.post.exists?(x=255&(L=this.post.italic_angle),0!=(32768&(v=L>>16))&&(v=-(1+(65535^v))),this.italicAngle=+(v+"."+x)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(T=this.familyClass)||2===T||3===T||4===T||5===T||7===T,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},b.prototype.characterToGlyph=function(y){var v;return(null!=(v=this.cmap.unicode)?v.codeMap[y]:void 0)||0},b.prototype.widthOfGlyph=function(y){var v;return v=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(y).advance*v},b.prototype.widthOfString=function(y,v,x){var L,T,V,Y;for(V=0,T=0,Y=(y=""+y).length;0<=Y?T<Y:T>Y;T=0<=Y?++T:--T)L=y.charCodeAt(T),V+=this.widthOfGlyph(this.characterToGlyph(L))+x*(1e3/v)||0;return V*(v/1e3)},b.prototype.lineHeight=function(y,v){return null==v&&(v=!1),(this.ascender+(v?this.lineGap:0)-this.decender)/1e3*y},b}();var gr,ws=function(){function b(y){this.data=y??[],this.pos=0,this.length=this.data.length}return b.prototype.readByte=function(){return this.data[this.pos++]},b.prototype.writeByte=function(y){return this.data[this.pos++]=y},b.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},b.prototype.writeUInt32=function(y){return this.writeByte(y>>>24&255),this.writeByte(y>>16&255),this.writeByte(y>>8&255),this.writeByte(255&y)},b.prototype.readInt32=function(){var y;return(y=this.readUInt32())>=2147483648?y-4294967296:y},b.prototype.writeInt32=function(y){return y<0&&(y+=4294967296),this.writeUInt32(y)},b.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},b.prototype.writeUInt16=function(y){return this.writeByte(y>>8&255),this.writeByte(255&y)},b.prototype.readInt16=function(){var y;return(y=this.readUInt16())>=32768?y-65536:y},b.prototype.writeInt16=function(y){return y<0&&(y+=65536),this.writeUInt16(y)},b.prototype.readString=function(y){var v,x;for(x=[],v=0;0<=y?v<y:v>y;v=0<=y?++v:--v)x[v]=String.fromCharCode(this.readByte());return x.join("")},b.prototype.writeString=function(y){var v,x,L;for(L=[],v=0,x=y.length;0<=x?v<x:v>x;v=0<=x?++v:--v)L.push(this.writeByte(y.charCodeAt(v)));return L},b.prototype.readShort=function(){return this.readInt16()},b.prototype.writeShort=function(y){return this.writeInt16(y)},b.prototype.readLongLong=function(){var y,v,x,L,T,V,Y,$;return y=this.readByte(),v=this.readByte(),x=this.readByte(),L=this.readByte(),T=this.readByte(),V=this.readByte(),Y=this.readByte(),$=this.readByte(),128&y?-1*(72057594037927940*(255^y)+281474976710656*(255^v)+1099511627776*(255^x)+4294967296*(255^L)+16777216*(255^T)+65536*(255^V)+256*(255^Y)+(255^$)+1):72057594037927940*y+281474976710656*v+1099511627776*x+4294967296*L+16777216*T+65536*V+256*Y+$},b.prototype.writeLongLong=function(y){var v,x;return v=Math.floor(y/4294967296),x=4294967295&y,this.writeByte(v>>24&255),this.writeByte(v>>16&255),this.writeByte(v>>8&255),this.writeByte(255&v),this.writeByte(x>>24&255),this.writeByte(x>>16&255),this.writeByte(x>>8&255),this.writeByte(255&x)},b.prototype.readInt=function(){return this.readInt32()},b.prototype.writeInt=function(y){return this.writeInt32(y)},b.prototype.read=function(y){var v,x;for(v=[],x=0;0<=y?x<y:x>y;x=0<=y?++x:--x)v.push(this.readByte());return v},b.prototype.write=function(y){var x,L,T;for(T=[],x=0,L=y.length;x<L;x++)T.push(this.writeByte(y[x]));return T},b}(),El=function(){var b;function y(v){var x,L,T;for(this.scalarType=v.readInt(),this.tableCount=v.readShort(),this.searchRange=v.readShort(),this.entrySelector=v.readShort(),this.rangeShift=v.readShort(),this.tables={},L=0,T=this.tableCount;0<=T?L<T:L>T;L=0<=T?++L:--L)x={tag:v.readString(4),checksum:v.readInt(),offset:v.readInt(),length:v.readInt()},this.tables[x.tag]=x}return y.prototype.encode=function(v){var x,L,V,Y,$,ae,Ae,Re,Ge,oe,ft,rt;for(rt in oe=Object.keys(v).length,$=Math.log(2),Re=16*Math.floor(Math.log(oe)/$),V=Math.floor(Re/$),Ae=16*oe-Re,(L=new ws).writeInt(this.scalarType),L.writeShort(oe),L.writeShort(Re),L.writeShort(V),L.writeShort(Ae),ae=L.pos+16*oe,Y=null,ft=[],v)for(Ge=v[rt],L.writeString(rt),L.writeInt(b(Ge)),L.writeInt(ae),L.writeInt(Ge.length),ft=ft.concat(Ge),"head"===rt&&(Y=ae),ae+=Ge.length;ae%4;)ft.push(0),ae++;return L.write(ft),x=2981146554-b(L.data),L.pos=Y+8,L.writeUInt32(x),L.data},b=function(v){var x,L,T,V;for(v=Tl.call(v);v.length%4;)v.push(0);for(T=new ws(v),L=0,x=0,V=v.length;x<V;x=x+=4)L+=T.readUInt32();return 4294967295&L},y}(),Cd={}.hasOwnProperty,Gr=function(b,y){for(var v in y)Cd.call(y,v)&&(b[v]=y[v]);function x(){this.constructor=b}return x.prototype=y.prototype,b.prototype=new x,b.__super__=y.prototype,b};gr=function(){function b(y){var v;this.file=y,this.exists=!!(v=this.file.directory.tables[this.tag]),v&&(this.offset=v.offset,this.length=v.length,this.parse(this.file.contents))}return b.prototype.parse=function(){},b.prototype.encode=function(){},b.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},b}();var Sd=function(b){function y(){return y.__super__.constructor.apply(this,arguments)}return Gr(y,gr),y.prototype.tag="head",y.prototype.parse=function(v){return v.pos=this.offset,this.version=v.readInt(),this.revision=v.readInt(),this.checkSumAdjustment=v.readInt(),this.magicNumber=v.readInt(),this.flags=v.readShort(),this.unitsPerEm=v.readShort(),this.created=v.readLongLong(),this.modified=v.readLongLong(),this.xMin=v.readShort(),this.yMin=v.readShort(),this.xMax=v.readShort(),this.yMax=v.readShort(),this.macStyle=v.readShort(),this.lowestRecPPEM=v.readShort(),this.fontDirectionHint=v.readShort(),this.indexToLocFormat=v.readShort(),this.glyphDataFormat=v.readShort()},y.prototype.encode=function(v){var x;return(x=new ws).writeInt(this.version),x.writeInt(this.revision),x.writeInt(this.checkSumAdjustment),x.writeInt(this.magicNumber),x.writeShort(this.flags),x.writeShort(this.unitsPerEm),x.writeLongLong(this.created),x.writeLongLong(this.modified),x.writeShort(this.xMin),x.writeShort(this.yMin),x.writeShort(this.xMax),x.writeShort(this.yMax),x.writeShort(this.macStyle),x.writeShort(this.lowestRecPPEM),x.writeShort(this.fontDirectionHint),x.writeShort(v),x.writeShort(this.glyphDataFormat),x.data},y}(),el=function(){function b(y,v){var x,L,T,V,Y,$,ae,Ae,Re,Ge,oe,ft,rt,bt,tt,gt,Tt;switch(this.platformID=y.readUInt16(),this.encodingID=y.readShort(),this.offset=v+y.readInt(),Re=y.pos,y.pos=this.offset,this.format=y.readUInt16(),this.length=y.readUInt16(),this.language=y.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for($=0;$<256;++$)this.codeMap[$]=y.readByte();break;case 4:for(oe=y.readUInt16(),Ge=oe/2,y.pos+=6,T=function(){var Yt,rn;for(rn=[],$=Yt=0;0<=Ge?Yt<Ge:Yt>Ge;$=0<=Ge?++Yt:--Yt)rn.push(y.readUInt16());return rn}(),y.pos+=2,rt=function(){var Yt,rn;for(rn=[],$=Yt=0;0<=Ge?Yt<Ge:Yt>Ge;$=0<=Ge?++Yt:--Yt)rn.push(y.readUInt16());return rn}(),ae=function(){var Yt,rn;for(rn=[],$=Yt=0;0<=Ge?Yt<Ge:Yt>Ge;$=0<=Ge?++Yt:--Yt)rn.push(y.readUInt16());return rn}(),Ae=function(){var Yt,rn;for(rn=[],$=Yt=0;0<=Ge?Yt<Ge:Yt>Ge;$=0<=Ge?++Yt:--Yt)rn.push(y.readUInt16());return rn}(),L=(this.length-y.pos+this.offset)/2,Y=function(){var Yt,rn;for(rn=[],$=Yt=0;0<=L?Yt<L:Yt>L;$=0<=L?++Yt:--Yt)rn.push(y.readUInt16());return rn}(),$=tt=0,Tt=T.length;tt<Tt;$=++tt)for(bt=T[$],x=gt=ft=rt[$];ft<=bt?gt<=bt:gt>=bt;x=ft<=bt?++gt:--gt)0===Ae[$]?V=x+ae[$]:0!==(V=Y[Ae[$]/2+(x-ft)-(Ge-$)]||0)&&(V+=ae[$]),this.codeMap[x]=65535&V}y.pos=Re}return b.encode=function(y,v){var x,L,T,V,Y,$,ae,Ae,Re,Ge,oe,ft,rt,bt,tt,gt,Tt,rn,xn,Jt,St,dn,vn,lt,at,kt,Et,ln,nn,mn,en,cn,gn,Nn,ke,mt,At,E,D,P,N,G,pe,Fe,et;switch(Et=new ws,V=Object.keys(y).sort(function(Mt,on){return Mt-on}),v){case"macroman":for(rt=0,bt=function(){var Mt=[];for(ft=0;ft<256;++ft)Mt.push(0);return Mt}(),gt={0:0},T={},ln=0,cn=V.length;ln<cn;ln++)null==gt[G=y[L=V[ln]]]&&(gt[G]=++rt),T[L]={old:y[L],new:gt[y[L]]},bt[L]=gt[y[L]];return Et.writeUInt16(1),Et.writeUInt16(0),Et.writeUInt32(12),Et.writeUInt16(0),Et.writeUInt16(262),Et.writeUInt16(0),Et.write(bt),{charMap:T,subtable:Et.data,maxGlyphID:rt+1};case"unicode":for(at=[],Re=[],Tt=0,gt={},x={},tt=ae=null,nn=0,gn=V.length;nn<gn;nn++)null==gt[rn=y[L=V[nn]]]&&(gt[rn]=++Tt),x[L]={old:rn,new:gt[rn]},Y=gt[rn]-L,null!=tt&&Y===ae||(tt&&Re.push(tt),at.push(L),ae=Y),tt=L;for(tt&&Re.push(tt),Re.push(65535),at.push(65535),vn=2*(dn=at.length),St=2*Math.pow(Math.log(dn)/Math.LN2,2),Ge=Math.log(St/2)/Math.LN2,Jt=2*dn-St,$=[],xn=[],oe=[],ft=mn=0,Nn=at.length;mn<Nn;ft=++mn){if(Ae=Re[ft],65535===(lt=at[ft])){$.push(0),xn.push(0);break}if(lt-(kt=x[lt].new)>=32768)for($.push(0),xn.push(2*(oe.length+dn-ft)),L=en=lt;lt<=Ae?en<=Ae:en>=Ae;L=lt<=Ae?++en:--en)oe.push(x[L].new);else $.push(kt-lt),xn.push(0)}for(Et.writeUInt16(3),Et.writeUInt16(1),Et.writeUInt32(12),Et.writeUInt16(4),Et.writeUInt16(16+8*dn+2*oe.length),Et.writeUInt16(0),Et.writeUInt16(vn),Et.writeUInt16(St),Et.writeUInt16(Ge),Et.writeUInt16(Jt),P=0,ke=Re.length;P<ke;P++)Et.writeUInt16(L=Re[P]);for(Et.writeUInt16(0),N=0,mt=at.length;N<mt;N++)Et.writeUInt16(L=at[N]);for(pe=0,At=$.length;pe<At;pe++)Et.writeUInt16(Y=$[pe]);for(Fe=0,E=xn.length;Fe<E;Fe++)Et.writeUInt16(xn[Fe]);for(et=0,D=oe.length;et<D;et++)Et.writeUInt16(rt=oe[et]);return{charMap:x,subtable:Et.data,maxGlyphID:Tt+1}}},b}(),Dl=function(b){function y(){return y.__super__.constructor.apply(this,arguments)}return Gr(y,gr),y.prototype.tag="cmap",y.prototype.parse=function(v){var x,L,T;for(v.pos=this.offset,this.version=v.readUInt16(),T=v.readUInt16(),this.tables=[],this.unicode=null,L=0;0<=T?L<T:L>T;L=0<=T?++L:--L)x=new el(v,this.offset),this.tables.push(x),x.isUnicode&&null==this.unicode&&(this.unicode=x);return!0},y.encode=function(v,x){var L,T;return null==x&&(x="macroman"),L=el.encode(v,x),(T=new ws).writeUInt16(0),T.writeUInt16(1),L.table=T.data.concat(L.subtable),L},y}(),zc=function(b){function y(){return y.__super__.constructor.apply(this,arguments)}return Gr(y,gr),y.prototype.tag="hhea",y.prototype.parse=function(v){return v.pos=this.offset,this.version=v.readInt(),this.ascender=v.readShort(),this.decender=v.readShort(),this.lineGap=v.readShort(),this.advanceWidthMax=v.readShort(),this.minLeftSideBearing=v.readShort(),this.minRightSideBearing=v.readShort(),this.xMaxExtent=v.readShort(),this.caretSlopeRise=v.readShort(),this.caretSlopeRun=v.readShort(),this.caretOffset=v.readShort(),v.pos+=8,this.metricDataFormat=v.readShort(),this.numberOfMetrics=v.readUInt16()},y}(),cc=function(b){function y(){return y.__super__.constructor.apply(this,arguments)}return Gr(y,gr),y.prototype.tag="OS/2",y.prototype.parse=function(v){if(v.pos=this.offset,this.version=v.readUInt16(),this.averageCharWidth=v.readShort(),this.weightClass=v.readUInt16(),this.widthClass=v.readUInt16(),this.type=v.readShort(),this.ySubscriptXSize=v.readShort(),this.ySubscriptYSize=v.readShort(),this.ySubscriptXOffset=v.readShort(),this.ySubscriptYOffset=v.readShort(),this.ySuperscriptXSize=v.readShort(),this.ySuperscriptYSize=v.readShort(),this.ySuperscriptXOffset=v.readShort(),this.ySuperscriptYOffset=v.readShort(),this.yStrikeoutSize=v.readShort(),this.yStrikeoutPosition=v.readShort(),this.familyClass=v.readShort(),this.panose=function(){var x,L;for(L=[],x=0;x<10;++x)L.push(v.readByte());return L}(),this.charRange=function(){var x,L;for(L=[],x=0;x<4;++x)L.push(v.readInt());return L}(),this.vendorID=v.readString(4),this.selection=v.readShort(),this.firstCharIndex=v.readShort(),this.lastCharIndex=v.readShort(),this.version>0&&(this.ascent=v.readShort(),this.descent=v.readShort(),this.lineGap=v.readShort(),this.winAscent=v.readShort(),this.winDescent=v.readShort(),this.codePageRange=function(){var x,L;for(L=[],x=0;x<2;x=++x)L.push(v.readInt());return L}(),this.version>1))return this.xHeight=v.readShort(),this.capHeight=v.readShort(),this.defaultChar=v.readShort(),this.breakChar=v.readShort(),this.maxContext=v.readShort()},y}(),Au=function(b){function y(){return y.__super__.constructor.apply(this,arguments)}return Gr(y,gr),y.prototype.tag="post",y.prototype.parse=function(v){var x,L,T;switch(v.pos=this.offset,this.format=v.readInt(),this.italicAngle=v.readInt(),this.underlinePosition=v.readShort(),this.underlineThickness=v.readShort(),this.isFixedPitch=v.readInt(),this.minMemType42=v.readInt(),this.maxMemType42=v.readInt(),this.minMemType1=v.readInt(),this.maxMemType1=v.readInt(),this.format){case 65536:case 196608:break;case 131072:var V;for(L=v.readUInt16(),this.glyphNameIndex=[],V=0;0<=L?V<L:V>L;V=0<=L?++V:--V)this.glyphNameIndex.push(v.readUInt16());for(this.names=[],T=[];v.pos<this.offset+this.length;)x=v.readByte(),T.push(this.names.push(v.readString(x)));return T;case 151552:return L=v.readUInt16(),this.offsets=v.read(L);case 262144:return this.map=function(){var Y,$,ae;for(ae=[],V=Y=0,$=this.file.maxp.numGlyphs;0<=$?Y<$:Y>$;V=0<=$?++Y:--Y)ae.push(v.readUInt32());return ae}.call(this)}},y}(),Ad=function(b,y){this.raw=b,this.length=b.length,this.platformID=y.platformID,this.encodingID=y.encodingID,this.languageID=y.languageID},mh=function(b){function y(){return y.__super__.constructor.apply(this,arguments)}return Gr(y,gr),y.prototype.tag="name",y.prototype.parse=function(v){var x,L,T,V,Y,$,ae,Ae,Re,Ge,oe;for(v.pos=this.offset,v.readShort(),x=v.readShort(),$=v.readShort(),L=[],V=0;0<=x?V<x:V>x;V=0<=x?++V:--V)L.push({platformID:v.readShort(),encodingID:v.readShort(),languageID:v.readShort(),nameID:v.readShort(),length:v.readShort(),offset:this.offset+$+v.readShort()});for(ae={},V=Re=0,Ge=L.length;Re<Ge;V=++Re)v.pos=(T=L[V]).offset,Ae=v.readString(T.length),Y=new Ad(Ae,T),null==ae[oe=T.nameID]&&(ae[oe]=[]),ae[T.nameID].push(Y);this.strings=ae,this.copyright=ae[0],this.fontFamily=ae[1],this.fontSubfamily=ae[2],this.uniqueSubfamily=ae[3],this.fontName=ae[4],this.version=ae[5];try{this.postscriptName=ae[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=ae[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=ae[7],this.manufacturer=ae[8],this.designer=ae[9],this.description=ae[10],this.vendorUrl=ae[11],this.designerUrl=ae[12],this.license=ae[13],this.licenseUrl=ae[14],this.preferredFamily=ae[15],this.preferredSubfamily=ae[17],this.compatibleFull=ae[18],this.sampleText=ae[19]},y}(),vh=function(b){function y(){return y.__super__.constructor.apply(this,arguments)}return Gr(y,gr),y.prototype.tag="maxp",y.prototype.parse=function(v){return v.pos=this.offset,this.version=v.readInt(),this.numGlyphs=v.readUInt16(),this.maxPoints=v.readUInt16(),this.maxContours=v.readUInt16(),this.maxCompositePoints=v.readUInt16(),this.maxComponentContours=v.readUInt16(),this.maxZones=v.readUInt16(),this.maxTwilightPoints=v.readUInt16(),this.maxStorage=v.readUInt16(),this.maxFunctionDefs=v.readUInt16(),this.maxInstructionDefs=v.readUInt16(),this.maxStackElements=v.readUInt16(),this.maxSizeOfInstructions=v.readUInt16(),this.maxComponentElements=v.readUInt16(),this.maxComponentDepth=v.readUInt16()},y}(),yh=function(b){function y(){return y.__super__.constructor.apply(this,arguments)}return Gr(y,gr),y.prototype.tag="hmtx",y.prototype.parse=function(v){var x,L,T,Y,$,ae;for(v.pos=this.offset,this.metrics=[],x=0,$=this.file.hhea.numberOfMetrics;0<=$?x<$:x>$;x=0<=$?++x:--x)this.metrics.push({advance:v.readUInt16(),lsb:v.readInt16()});for(T=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var Ae,Re;for(Re=[],x=Ae=0;0<=T?Ae<T:Ae>T;x=0<=T?++Ae:--Ae)Re.push(v.readInt16());return Re}(),this.widths=function(){var Ae,Re,Ge,oe;for(oe=[],Ae=0,Re=(Ge=this.metrics).length;Ae<Re;Ae++)oe.push(Ge[Ae].advance);return oe}.call(this),L=this.widths[this.widths.length-1],ae=[],x=Y=0;0<=T?Y<T:Y>T;x=0<=T?++Y:--Y)ae.push(this.widths.push(L));return ae},y.prototype.forGlyph=function(v){return v in this.metrics?this.metrics[v]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[v-this.metrics.length]}},y}(),Tl=[].slice,_h=function(b){function y(){return y.__super__.constructor.apply(this,arguments)}return Gr(y,gr),y.prototype.tag="glyf",y.prototype.parse=function(){return this.cache={}},y.prototype.glyphFor=function(v){var x,L,T,V,Y,$,ae,Ae,Re,Ge;return v in this.cache?this.cache[v]:(x=this.file.contents,L=(V=this.file.loca).indexOf(v),0===(T=V.lengthOf(v))?this.cache[v]=null:(x.pos=this.offset+L,Y=($=new ws(x.read(T))).readShort(),Ae=$.readShort(),Ge=$.readShort(),ae=$.readShort(),Re=$.readShort(),this.cache[v]=-1===Y?new tl($,Ae,Ge,ae,Re):new Ml($,Y,Ae,Ge,ae,Re),this.cache[v]))},y.prototype.encode=function(v,x,L){var T,V,Y,$,ae;for(Y=[],V=[],$=0,ae=x.length;$<ae;$++)T=v[x[$]],V.push(Y.length),T&&(Y=Y.concat(T.encode(L)));return V.push(Y.length),{table:Y,offsets:V}},y}(),Ml=function(){function b(y,v,x,L,T,V){this.raw=y,this.numberOfContours=v,this.xMin=x,this.yMin=L,this.xMax=T,this.yMax=V,this.compound=!1}return b.prototype.encode=function(){return this.raw.data},b}(),tl=function(){function b(y,v,x,L,T){var V,Y;for(this.raw=y,this.xMin=v,this.yMin=x,this.xMax=L,this.yMax=T,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],V=this.raw;Y=V.readShort(),this.glyphOffsets.push(V.pos),this.glyphIDs.push(V.readUInt16()),32&Y;)V.pos+=1&Y?4:2,128&Y?V.pos+=8:64&Y?V.pos+=4:8&Y&&(V.pos+=2)}return b.prototype.encode=function(){var y,v,x;for(v=new ws(Tl.call(this.raw.data)),y=0,x=this.glyphIDs.length;y<x;++y)v.pos=this.glyphOffsets[y];return v.data},b}(),xd=function(b){function y(){return y.__super__.constructor.apply(this,arguments)}return Gr(y,gr),y.prototype.tag="loca",y.prototype.parse=function(v){var L;return v.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var T,V;for(V=[],L=0,T=this.length;L<T;L+=2)V.push(2*v.readUInt16());return V}.call(this):function(){var T,V;for(V=[],L=0,T=this.length;L<T;L+=4)V.push(v.readUInt32());return V}.call(this)},y.prototype.indexOf=function(v){return this.offsets[v]},y.prototype.lengthOf=function(v){return this.offsets[v+1]-this.offsets[v]},y.prototype.encode=function(v,x){for(var L=new Uint32Array(this.offsets.length),T=0,V=0,Y=0;Y<L.length;++Y)if(L[Y]=T,V<x.length&&x[V]==Y){++V,L[Y]=T;var ae=this.offsets[Y+1]-this.offsets[Y];ae>0&&(T+=ae)}for(var Ae=new Array(4*L.length),Re=0;Re<L.length;++Re)Ae[4*Re+3]=255&L[Re],Ae[4*Re+2]=(65280&L[Re])>>8,Ae[4*Re+1]=(16711680&L[Re])>>16,Ae[4*Re]=(4278190080&L[Re])>>24;return Ae},y}(),bh=function(){function b(y){this.font=y,this.subset={},this.unicodes={},this.next=33}return b.prototype.generateCmap=function(){var y,v,L,T;for(v in L=this.font.cmap.tables[0].codeMap,y={},T=this.subset)y[v]=L[T[v]];return y},b.prototype.glyphsFor=function(y){var v,x,L,T,V,Y,$;for(L={},V=0,Y=y.length;V<Y;V++)L[T=y[V]]=this.font.glyf.glyphFor(T);for(T in v=[],L)null!=(x=L[T])&&x.compound&&v.push.apply(v,x.glyphIDs);if(v.length>0)for(T in $=this.glyphsFor(v))L[T]=x=$[T];return L},b.prototype.encode=function(y,v){var x,L,T,V,$,ae,Ae,Re,Ge,oe,ft,rt,bt,tt;for(L in x=Dl.encode(this.generateCmap(),"unicode"),V=this.glyphsFor(y),oe={0:0},tt=x.charMap)oe[($=tt[L]).old]=$.new;for(ft in Ge=x.maxGlyphID,V)ft in oe||(oe[ft]=Ge++);return Ae=function(gt){var Tt,Yt;for(Tt in Yt={},gt)Yt[gt[Tt]]=Tt;return Yt}(oe),Re=Object.keys(Ae).sort(function(gt,Tt){return gt-Tt}),rt=function(){var gt,Tt,Yt;for(Yt=[],gt=0,Tt=Re.length;gt<Tt;gt++)Yt.push(Ae[Re[gt]]);return Yt}(),T=this.font.glyf.encode(V,rt,oe),ae=this.font.loca.encode(T.offsets,rt),bt={cmap:this.font.cmap.raw(),glyf:T.table,loca:ae,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(v)},this.font.os2.exists&&(bt["OS/2"]=this.font.os2.raw()),this.font.directory.encode(bt)},b}();ni.API.PDFObject=function(){var b;function y(){}return b=function(v,x){return(Array(x+1).join("0")+v).slice(-x)},y.convert=function(v){var L,T;if(Array.isArray(v))return"["+function(){var Y,$,ae;for(ae=[],Y=0,$=v.length;Y<$;Y++)ae.push(y.convert(v[Y]));return ae}().join(" ")+"]";if("string"==typeof v)return"/"+v;if(v?.isString)return"("+v+")";if(v instanceof Date)return"(D:"+b(v.getUTCFullYear(),4)+b(v.getUTCMonth(),2)+b(v.getUTCDate(),2)+b(v.getUTCHours(),2)+b(v.getUTCMinutes(),2)+b(v.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(v)){for(L in T=["<<"],v)T.push("/"+L+" "+y.convert(v[L]));return T.push(">>"),T.join("\n")}return""+v},y}();const uc=ni;var Ll=ge(6819),nl=(()=>(function(b){b[b.PREVIOUS=0]="PREVIOUS",b[b.NEXT=1]="NEXT"}(nl||(nl={})),nl))();const Pd=[{path:"",component:re,children:[{path:"previewDoc",component:(()=>{class b{constructor(v,x,L){this.pdfUtilityService=v,this.dialogService=x,this.router=L,this.canvas={},this.pdfSrc="",this.pageIdx=1,this.pageCount=0,this.turnPageAction=nl,this.imgData="",this.destroy$=new w.x}ngOnInit(){var v=this;return(0,me.Z)(function*(){v.pdfSrc=localStorage.getItem("pdfData"),v.canvas=new De.fabric.Canvas("canvas"),v.pdfUtilityService.today$.pipe((0,C.R)(v.destroy$)).subscribe(x=>v.canvas.add(new De.fabric.Textbox(x)))})()}ngOnDestroy(){this.destroy$.next(!1)}printPDF(v){return(0,me.Z)(function*(){const x=yield v.getPage(1),L=x.getViewport({scale:.6}),T=document.createElement("canvas"),V=T.getContext("2d");return T.height=L.height,T.width=L.width,x.render({canvasContext:V,viewport:L}).promise.then(()=>T)})()}pageInitialized(v){var x=this;return(0,me.Z)(function*(){x.pageCount=1})()}afterLoadComplete(v){var x=this;return(0,me.Z)(function*(){const L=yield x.printPDF(v);De.fabric.Image.fromURL(L.toDataURL(),T=>{x.canvas.setWidth(T.width),x.canvas.setHeight(T.height),x.canvas.setBackgroundImage(T,()=>{})}),setTimeout(()=>{De.fabric.Image.fromURL(localStorage.getItem("signData"),T=>{T.top=400,T.scaleX=.7,T.scaleY=.7,x.canvas.add(T),x.canvas.renderAll()})},1e3)})()}turnPage(v){switch(v){case nl.PREVIOUS:this.pageIdx=1===this.pageIdx?1:this.pageIdx-1;break;case nl.NEXT:this.pageIdx=this.pageIdx===this.pageCount?this.pageCount:this.pageIdx+1}}savePDF(){var v=this;return(0,me.Z)(function*(){const x=new uc;var L=v.canvas.toDataURL();x.addImage(L,"JPEG",0,0,x.internal.pageSize.width,x.internal.pageSize.height),x.save("test.pdf");const T=v.dialogService.defaultConfig;T.animationName="ok",T.displayText="\u7c3d\u7f72\u5b8c\u6210",v.dialogService.showDialog({...v.dialogService.defaultConfig}),v.dialogService.dialogConfig$.subscribe(()=>{localStorage.setItem("pdfData",""),v.router.navigateByUrl("")})})()}}return b.\u0275fac=function(v){return new(v||b)(le.Y36(B.T),le.Y36(Ll.x),le.Y36(f.F0))},b.\u0275cmp=le.Xpm({type:b,selectors:[["app-preview-doc"]],decls:17,vars:8,consts:[[1,"top"],[1,"pages"],["type","button",3,"click"],[1,"material-symbols-outlined"],["type","button"],[1,"material-symbols-outlined",3,"click"],["type","button",1,"btnSign",3,"click"],[1,"content"],["pdfContent",""],["id","canvas"],[1,"signDoc",3,"src","render-text","original-size","page","pageChange","pages-initialized","after-load-complete"],["pdfViewer",""]],template:function(v,x){1&v&&(le.TgZ(0,"section",0)(1,"div",1)(2,"button",2),le.NdJ("click",function(){return x.turnPage(x.turnPageAction.PREVIOUS)}),le.TgZ(3,"span",3),le._uU(4," chevron_left "),le.qZA()(),le.TgZ(5,"p"),le._uU(6),le.qZA(),le.TgZ(7,"button",4)(8,"span",5),le.NdJ("click",function(){return x.turnPage(x.turnPageAction.NEXT)}),le._uU(9," navigate_next "),le.qZA()()(),le.TgZ(10,"button",6),le.NdJ("click",function(){return x.savePDF()}),le._uU(11,"\u5b8c\u6210\u7c3d\u7f72"),le.qZA()(),le.TgZ(12,"section",7,8),le._UZ(14,"canvas",9),le.TgZ(15,"pdf-viewer",10,11),le.NdJ("pageChange",function(T){return x.pageIdx=T})("pages-initialized",function(T){return x.pageInitialized(T)})("after-load-complete",function(T){return x.afterLoadComplete(T)}),le.qZA()()),2&v&&(le.xp6(6),le.AsE("",x.pageIdx,"/",x.pageCount,""),le.xp6(9),le.Udp("visibility","hidden"),le.Q6J("src",x.pdfSrc)("render-text",!0)("original-size",!1)("page",x.pageIdx))},dependencies:[F],styles:[".top[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:1rem}.top[_ngcontent-%COMP%]   .pages[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:204px;height:58px;background:var(--white);border-radius:16px;margin-right:5px}.top[_ngcontent-%COMP%]   .pages[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:30px;height:30px;background:var(--primary);border-radius:12px;color:var(--white);border:0;font-size:6px}.top[_ngcontent-%COMP%]   .btnSign[_ngcontent-%COMP%]{background:linear-gradient(180deg,#35a483 0%,#077854 100%);border-radius:16px;color:var(--white);border:0;width:130px;height:58px}.content[_ngcontent-%COMP%]{margin:0 20px;position:relative;height:75vh}.content[_ngcontent-%COMP%]   .signDoc[_ngcontent-%COMP%]{z-index:-1;top:0;left:0;width:343px;height:75vh}"]}),b})()},{path:"createSign",component:Ue}]}];let xu=(()=>{class b{}return b.\u0275fac=function(v){return new(v||b)},b.\u0275mod=le.oAB({type:b}),b.\u0275inj=le.cJS({imports:[f.Bz.forChild(Pd),f.Bz]}),b})(),Nr=(()=>{class b{}return b.\u0275fac=function(v){return new(v||b)},b.\u0275mod=le.oAB({type:b}),b.\u0275inj=le.cJS({imports:[te.ez,j,f.Bz,xu]}),b})()},9614:(qt,ue,ge)=>{"use strict";var f=ge(1481),te=ge(8274),le=ge(6895),Qe=ge(457),Je=ge(9646),Te=ge(4408),m=ge(727);const c={schedule(Ne){let yt=requestAnimationFrame,ot=cancelAnimationFrame;const{delegate:Ct}=c;Ct&&(yt=Ct.requestAnimationFrame,ot=Ct.cancelAnimationFrame);const Pt=yt(Gt=>{ot=void 0,Ne(Gt)});return new m.w0(()=>ot?.(Pt))},requestAnimationFrame(...Ne){const{delegate:yt}=c;return(yt?.requestAnimationFrame||requestAnimationFrame)(...Ne)},cancelAnimationFrame(...Ne){const{delegate:yt}=c;return(yt?.cancelAnimationFrame||cancelAnimationFrame)(...Ne)},delegate:void 0};var u=ge(7565);const o=new class r extends u.v{flush(yt){this._active=!0;const ot=this._scheduled;this._scheduled=void 0;const{actions:Ct}=this;let Pt;yt=yt||Ct.shift();do{if(Pt=yt.execute(yt.state,yt.delay))break}while((yt=Ct[0])&&yt.id===ot&&Ct.shift());if(this._active=!1,Pt){for(;(yt=Ct[0])&&yt.id===ot&&Ct.shift();)yt.unsubscribe();throw Pt}}}(class d extends Te.o{constructor(yt,ot){super(yt,ot),this.scheduler=yt,this.work=ot}requestAsyncId(yt,ot,Ct=0){return null!==Ct&&Ct>0?super.requestAsyncId(yt,ot,Ct):(yt.actions.push(this),yt._scheduled||(yt._scheduled=c.requestAnimationFrame(()=>yt.flush(void 0))))}recycleAsyncId(yt,ot,Ct=0){var Pt;if(null!=Ct?Ct>0:this.delay>0)return super.recycleAsyncId(yt,ot,Ct);const{actions:Gt}=yt;null!=ot&&(null===(Pt=Gt[Gt.length-1])||void 0===Pt?void 0:Pt.id)!==ot&&(c.cancelAnimationFrame(ot),yt._scheduled=void 0)}});var s=ge(7579),h=ge(1135),l=ge(9770),p=ge(9751),w=ge(4004),_=ge(8505),C=ge(6063);class I extends s.x{constructor(yt=1/0,ot=1/0,Ct=C.l){super(),this._bufferSize=yt,this._windowTime=ot,this._timestampProvider=Ct,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ot===1/0,this._bufferSize=Math.max(1,yt),this._windowTime=Math.max(1,ot)}next(yt){const{isStopped:ot,_buffer:Ct,_infiniteTimeWindow:Pt,_timestampProvider:Gt,_windowTime:Tn}=this;ot||(Ct.push(yt),!Pt&&Ct.push(Gt.now()+Tn)),this._trimBuffer(),super.next(yt)}_subscribe(yt){this._throwIfClosed(),this._trimBuffer();const ot=this._innerSubscribe(yt),{_infiniteTimeWindow:Ct,_buffer:Pt}=this,Gt=Pt.slice();for(let Tn=0;Tn<Gt.length&&!yt.closed;Tn+=Ct?1:2)yt.next(Gt[Tn]);return this._checkFinalizedStatuses(yt),ot}_trimBuffer(){const{_bufferSize:yt,_timestampProvider:ot,_buffer:Ct,_infiniteTimeWindow:Pt}=this,Gt=(Pt?1:2)*yt;if(yt<1/0&&Gt<Ct.length&&Ct.splice(0,Ct.length-Gt),!Pt){const Tn=ot.now();let Jn=0;for(let Nt=1;Nt<Ct.length&&Ct[Nt]<=Tn;Nt+=2)Jn=Nt;Jn&&Ct.splice(0,Jn+1)}}}var k=ge(3099),ne=ge(5363),fe=ge(9300),ye=ge(3900),Pe=ge(2722);const _e=["container"],we=new te.OlP("LottieOptions");let de=(()=>{class Ne{constructor(ot,Ct){this.ngZone=ot,this.options=Ct,this.player$=function Ee(Ne,yt){const ot=Ne();return(ot instanceof Promise?(0,Qe.D)(ot).pipe((0,w.U)(Pt=>Pt.default||Pt)):(0,Je.of)(ot)).pipe((0,_.b)(Pt=>Pt.useWebWorker(yt)),function z(Ne,yt,ot){let Ct,Pt=!1;return Ne&&"object"==typeof Ne?({bufferSize:Ct=1/0,windowTime:yt=1/0,refCount:Pt=!1,scheduler:ot}=Ne):Ct=Ne??1/0,(0,k.B)({connector:()=>new I(Ct,yt,ot),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Pt})}({bufferSize:1,refCount:!0}))}(this.options.player,this.options.useWebWorker).pipe((0,ne.Q)(o))}loadAnimation(ot){return this.player$.pipe((0,w.U)(Ct=>this.createAnimationItem(Ct,ot)))}resolveOptions(ot,Ct){return Object.assign({container:Ct,renderer:"svg",loop:!0,autoplay:!0},ot)}createAnimationItem(ot,Ct){return this.ngZone.runOutsideAngular(()=>ot.loadAnimation(Ct))}}return Ne.\u0275fac=function(ot){return new(ot||Ne)(te.LFG(te.R0b),te.LFG(we))},Ne.\u0275prov=te.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),Ne})(),Ve=(()=>{class Ne{constructor(ot,Ct,Pt){this.ngZone=ot,this.platformId=Ct,this.animationLoader=Pt,this.options=null,this.containerClass=null,this.styles=null,this.animationCreated=this.getAnimationItem(),this.complete=this.awaitAnimationItemAndStartListening("complete"),this.loopComplete=this.awaitAnimationItemAndStartListening("loopComplete"),this.enterFrame=this.awaitAnimationItemAndStartListening("enterFrame"),this.segmentStart=this.awaitAnimationItemAndStartListening("segmentStart"),this.configReady=this.awaitAnimationItemAndStartListening("config_ready"),this.dataReady=this.awaitAnimationItemAndStartListening("data_ready"),this.domLoaded=this.awaitAnimationItemAndStartListening("DOMLoaded"),this.destroy=this.awaitAnimationItemAndStartListening("destroy"),this.error=this.awaitAnimationItemAndStartListening("error"),this.destroy$=new s.x,this.loadAnimation$=new s.x,this.animationItem$=new h.X(null),this.setupLoadAnimationListener()}ngOnDestroy(){this.destroy$.next(),this.destroyAnimation()}loadAnimation(ot,Ct){this.ngZone.runOutsideAngular(()=>this.loadAnimation$.next([ot,Ct]))}getAnimationItem(){return(0,l.P)(()=>this.animationItem$).pipe((0,fe.h)(ot=>null!==ot))}awaitAnimationItemAndStartListening(ot){return this.getAnimationItem().pipe((0,ye.w)(Ct=>new p.y(Pt=>{this.ngZone.runOutsideAngular(()=>{Ct.addEventListener(ot,Gt=>{this.ngZone.runOutsideAngular(()=>{Pt.next(Gt)})})})})))}setupLoadAnimationListener(){this.loadAnimation$.pipe((0,fe.h)(([Ct])=>(0,le.NF)(this.platformId)&&void 0!==Ct.options)).pipe((0,ye.w)(([Ct,Pt])=>(this.destroyAnimation(),this.animationLoader.loadAnimation(this.animationLoader.resolveOptions(Ct.options.currentValue,Pt)))),(0,Pe.R)(this.destroy$)).subscribe(Ct=>{this.ngZone.run(()=>this.animationItem$.next(Ct))})}destroyAnimation(){const ot=this.animationItem$.getValue();null!==ot&&(ot.destroy(),this.animationItem$.next(null))}}return Ne.\u0275fac=function(ot){return new(ot||Ne)(te.Y36(te.R0b),te.Y36(te.Lbi),te.Y36(de))},Ne.\u0275dir=te.lG2({type:Ne,selectors:[["","lottie",""]],inputs:{options:"options",containerClass:"containerClass",styles:"styles"},outputs:{animationCreated:"animationCreated",complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"configReady",dataReady:"dataReady",domLoaded:"domLoaded",destroy:"destroy",error:"error"}}),Ne})(),dt=(()=>{class Ne extends Ve{constructor(ot,Ct,Pt){super(ot,Ct,Pt),this.width=null,this.height=null,this.container=null}ngOnChanges(ot){super.loadAnimation(ot,this.container.nativeElement)}}return Ne.\u0275fac=function(ot){return new(ot||Ne)(te.Y36(te.R0b),te.Y36(te.Lbi),te.Y36(de))},Ne.\u0275cmp=te.Xpm({type:Ne,selectors:[["ng-lottie"]],viewQuery:function(ot,Ct){if(1&ot&&te.Gf(_e,7),2&ot){let Pt;te.iGM(Pt=te.CRH())&&(Ct.container=Pt.first)}},inputs:{width:"width",height:"height"},standalone:!0,features:[te.qOj,te.TTD,te.jDz],decls:2,vars:6,consts:[[3,"ngStyle","ngClass"],["container",""]],template:function(ot,Ct){1&ot&&te._UZ(0,"div",0,1),2&ot&&(te.Udp("width",Ct.width||"100%")("height",Ct.height||"100%"),te.Q6J("ngStyle",Ct.styles)("ngClass",Ct.containerClass))},dependencies:[le.ez,le.mk,le.PC],encapsulation:2,changeDetection:0}),Ne})(),he=(()=>{class Ne{static forRoot(ot){return{ngModule:Ne,providers:[{provide:we,useValue:ot}]}}}return Ne.\u0275fac=function(ot){return new(ot||Ne)},Ne.\u0275mod=te.oAB({type:Ne}),Ne.\u0275inj=te.cJS({imports:[dt]}),Ne})(),ie=(()=>{class Ne extends de{constructor(){super(...arguments),this.cache=new Map}ngOnDestroy(){this.cache.clear()}loadAnimation(ot){return this.player$.pipe((0,w.U)(Ct=>{const Pt=this.createAnimationItem(Ct,this.transformOptions(ot));return this.awaitConfigAndCache(ot,Pt),Pt}))}awaitConfigAndCache(ot,Ct){if(this.isAnimationConfigWithPath(ot)){if(this.cache.has(ot.path))return;Ct.addEventListener("config_ready",()=>{this.cache.set(ot.path,JSON.stringify(Ct.animationData))})}}transformOptions(ot){return this.isAnimationConfigWithPath(ot)&&this.cache.has(ot.path)?{...ot,path:void 0,animationData:JSON.parse(this.cache.get(ot.path))}:ot}isAnimationConfigWithPath(ot){return"string"==typeof ot.path}}return Ne.\u0275fac=function(){let yt;return function(Ct){return(yt||(yt=te.n5z(Ne)))(Ct||Ne)}}(),Ne.\u0275prov=te.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),Ne})(),R=(()=>{class Ne{static forRoot(){return{ngModule:Ne,providers:[{provide:de,useExisting:ie}]}}}return Ne.\u0275fac=function(ot){return new(ot||Ne)},Ne.\u0275mod=te.oAB({type:Ne}),Ne.\u0275inj=te.cJS({}),Ne})();var J=ge(1384);let re=(()=>{class Ne{constructor(){}ngOnInit(){}}return Ne.\u0275fac=function(ot){return new(ot||Ne)},Ne.\u0275cmp=te.Xpm({type:Ne,selectors:[["app-history"]],decls:2,vars:0,template:function(ot,Ct){1&ot&&(te.TgZ(0,"p"),te._uU(1,"history works!"),te.qZA())}}),Ne})();var me=ge(5861),De=ge(5226),je=ge.n(De),We=ge(6819),it=ge(688);let Be=(()=>{class Ne{constructor(ot,Ct,Pt){this.dialogService=ot,this.pdfUtilityService=Ct,this.router=Pt,this.maxFileSize=Math.pow(1024,3)}ngOnInit(){}onUpload(ot){var Ct=this;return(0,me.Z)(function*(){if(ot.target.files[0].size>Ct.maxFileSize)je().fire({title:"\u6a94\u6848\u8d85\u904e10MB\uff0c\u8acb\u91cd\u65b0\u9078\u64c7",customClass:{title:"alertTitle",confirmButton:"alertConfirmButton"}});else{const Gt=yield Ct.pdfUtilityService.readBlob(ot.target.files[0]);Ct.pdfUtilityService.setDdfData(Gt),Ct.dialogService.showDialog({...Ct.dialogService.defaultConfig}),Ct.dialogService.dialogConfig$.subscribe(()=>{Ct.router.navigateByUrl("/signDoc/previewDoc")})}})()}}return Ne.\u0275fac=function(ot){return new(ot||Ne)(te.Y36(We.x),te.Y36(it.T),te.Y36(J.F0))},Ne.\u0275cmp=te.Xpm({type:Ne,selectors:[["app-home"]],decls:28,vars:0,consts:[[1,"container"],[1,"banner"],[1,"logo"],[1,"uploadArea_pc"],[1,"version"],[1,"summary"],[1,"title"],[1,"content"],[1,"uploadArea"],["type","button",1,"gradient","uploadBtn",3,"click"],["type","file","hidden","","accept","application/pdf",3,"change"],["uploader",""],[1,"uploadNote"],[1,"peopleLayout"],[1,"people"],[1,"decorations"],[1,"floor"],[1,"leafrightTop"],[1,"leafleftBottom"],[1,"footer"]],template:function(ot,Ct){if(1&ot){const Pt=te.EpF();te.TgZ(0,"div",0)(1,"section",1),te._UZ(2,"div",2),te.qZA(),te.TgZ(3,"section",3)(4,"div",4)(5,"span"),te._uU(6,"\u514d\u8cbb\u8a66\u7528\u7248"),te.qZA()(),te.TgZ(7,"div",5)(8,"div",6),te._uU(9,"\u5c0f\u7da0\u7c3d"),te.qZA(),te.TgZ(10,"div",7),te._uU(11," \u8b77\u6a39\u3001\u6c38\u7e8c\u3001\u6e1b\u78b3\u7684\u7da0\u8272\u751f\u6d3b \u97ff\u61c9\u74b0\u4fdd\u7121\u7d19\u5316\u96fb\u5b50\u7c3d\u7f72\uff0c \u7701\u6642\u4fbf\u5229\u53c8\u74b0\u4fdd\u3002 "),te.qZA()()(),te.TgZ(12,"section",8)(13,"button",9),te.NdJ("click",function(){te.CHM(Pt);const Tn=te.MAs(16);return te.KtG(Tn.click())}),te._uU(14," \u9078\u64c7\u6a94\u6848 "),te.TgZ(15,"input",10,11),te.NdJ("change",function(Tn){return Ct.onUpload(Tn)}),te.qZA()(),te.TgZ(17,"p",12),te._uU(18,"(\u965010MB \u5167\u7684PDF)"),te.qZA()(),te.TgZ(19,"section")(20,"div",13),te._UZ(21,"div",14),te.qZA()(),te.TgZ(22,"section",15),te._UZ(23,"div",16)(24,"div",17)(25,"div",18),te.qZA(),te.TgZ(26,"section",19),te._uU(27,"\u5c0f\u7da0\u7c3d \xa9 Code: Junyu / Design: KT"),te.qZA()()}},styles:[".container[_ngcontent-%COMP%]{margin:0 55px;height:95vh;position:relative;display:flex;justify-content:center}@media (min-width: 768px) and (max-width: 1440px){.container[_ngcontent-%COMP%]{margin:2rem 8rem 0;height:95vh}}@media (min-width: 1441px){.container[_ngcontent-%COMP%]{margin:0 auto;height:100vh}}.container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:space-between;align-items:flex-end;width:100%}.container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{background-image:url(logo_lg.15f105d28b128cec.png);background-repeat:no-repeat;background-position:bottom 0px left 0px;width:100%;height:89px}@media (min-width: 768px) and (max-width: 1440px){.container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{background-image:url(logo_md.928aab0764a069bf.png)}}@media (min-width: 1441px){.container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin-left:40px;background-image:url(logo_lg.15f105d28b128cec.png)}}.container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .historyBtn[_ngcontent-%COMP%]{z-index:1;cursor:pointer;width:100%;text-align:right}@media (min-width: 1441px){.container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .historyBtn[_ngcontent-%COMP%]{margin-right:142px;border:2px solid #1c8b6a;border-radius:16px;width:136px;padding:10px;text-align:center}.container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .historyBtn[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;width:100%;color:var(--primary)}}.container[_ngcontent-%COMP%]   .uploadArea_pc[_ngcontent-%COMP%]{display:none}@media (min-width: 1441px){.container[_ngcontent-%COMP%]   .uploadArea_pc[_ngcontent-%COMP%]{display:block;position:absolute;width:90vw;height:73vh;top:6rem;background:rgba(240,240,240,.58);border-radius:34px}.container[_ngcontent-%COMP%]   .uploadArea_pc[_ngcontent-%COMP%]   .version[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:var(--white);font-size:24px;position:absolute;width:225px;height:62px;background:linear-gradient(180deg,#35a483 0%,#077854 100%);border-radius:34px 0;top:0;left:0}.container[_ngcontent-%COMP%]   .uploadArea_pc[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;justify-content:center;align-items:center;top:11rem;left:3rem}.container[_ngcontent-%COMP%]   .uploadArea_pc[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:left;color:var(--primary);font-size:50px;font-weight:700;width:100%}.container[_ngcontent-%COMP%]   .uploadArea_pc[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:278px}}.container[_ngcontent-%COMP%]   .uploadArea[_ngcontent-%COMP%]{position:absolute;top:100px;background-color:var(--white);border:2px dashed var(--grey);border-radius:26px;width:299px;height:384px;background-image:url(files_sm.818534ee84cc3062.png);background-repeat:no-repeat;background-position:top 42.5px left 82.5px;display:flex;flex-direction:column;justify-content:center;align-items:center}@media (min-width: 768px) and (max-width: 1440px){.container[_ngcontent-%COMP%]   .uploadArea[_ngcontent-%COMP%]{width:547px;height:567px;background-image:url(files_md.ec4d11052a01186d.png);background-position:top 78.5px left 161px}}@media (min-width: 1441px){.container[_ngcontent-%COMP%]   .uploadArea[_ngcontent-%COMP%]{background-image:url(files_lg.0619e4c2f7eaebaf.png);background-position:top 29.5px left 145.5px;width:417px;height:376px;top:136px;right:235px}}.container[_ngcontent-%COMP%]   .uploadArea[_ngcontent-%COMP%]   .uploadBtn[_ngcontent-%COMP%]{z-index:1;color:var(--white);width:209px;height:60px;border:0;border-radius:16px}@media (min-width: 768px) and (max-width: 1440px){.container[_ngcontent-%COMP%]   .uploadArea[_ngcontent-%COMP%]   .uploadBtn[_ngcontent-%COMP%]{margin-top:6rem;width:360px}}@media (min-width: 1441px){.container[_ngcontent-%COMP%]   .uploadArea[_ngcontent-%COMP%]   .uploadBtn[_ngcontent-%COMP%]{width:227px;margin-top:3rem;margin-bottom:1rem}}.container[_ngcontent-%COMP%]   .uploadArea[_ngcontent-%COMP%]   .uploadNote_pc[_ngcontent-%COMP%]{display:none}@media (min-width: 1441px){.container[_ngcontent-%COMP%]   .uploadArea[_ngcontent-%COMP%]   .uploadNote_pc[_ngcontent-%COMP%]{display:block;font-size:14px;margin-bottom:1rem}}.container[_ngcontent-%COMP%]   .uploadArea[_ngcontent-%COMP%]   .uploadNote[_ngcontent-%COMP%]{font-size:14px;color:var(--primary)}.container[_ngcontent-%COMP%]   .peopleLayout[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100vh;display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]   .peopleLayout[_ngcontent-%COMP%]   .people[_ngcontent-%COMP%]{position:absolute;background-image:url(people_sm.7e9e4141d3624296.png);width:362px;height:228px;top:20rem}@media (min-width: 768px) and (max-width: 1440px){.container[_ngcontent-%COMP%]   .peopleLayout[_ngcontent-%COMP%]   .people[_ngcontent-%COMP%]{background-image:url(people_md.31d322dea32e1cd1.png);width:696px;height:438px;margin:0 auto;top:28rem}}@media (min-width: 1441px){.container[_ngcontent-%COMP%]   .peopleLayout[_ngcontent-%COMP%]{top:unset;left:unset}.container[_ngcontent-%COMP%]   .peopleLayout[_ngcontent-%COMP%]   .people[_ngcontent-%COMP%]{background-image:url(people.47a95a1685fbfe7e.png);width:670px;height:460px}}@media (min-width: 1441px){.container[_ngcontent-%COMP%]   .floor[_ngcontent-%COMP%]{background-image:url(floor.ced4edc4da30ab0c.png);width:243px;height:63px;position:absolute;left:0;bottom:9rem}.container[_ngcontent-%COMP%]   .leafrightTop[_ngcontent-%COMP%]{background-image:url(leaf_right_top.447ace2569dd82ba.png);width:122px;height:255px;position:absolute;right:0;top:0}.container[_ngcontent-%COMP%]   .leafleftBottom[_ngcontent-%COMP%]{background-image:url(leaf_left_bottom.3b119bdd6ec7d110.png);width:150px;height:305px;position:absolute;left:0;bottom:0}}.container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{position:absolute;bottom:0;font-size:12px}@media (min-width: 1441px){.container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{right:1rem}}"]}),Ne})();const Ue=[{path:"home",component:Be},{path:"signDoc",loadChildren:()=>Promise.resolve().then(ge.bind(ge,7130)).then(Ne=>Ne.SignDocModule)},{path:"history",component:re},{path:"**",component:Be},{path:"**",redirectTo:"/home",pathMatch:"full"}];let ht=(()=>{class Ne{}return Ne.\u0275fac=function(ot){return new(ot||Ne)},Ne.\u0275mod=te.oAB({type:Ne}),Ne.\u0275inj=te.cJS({imports:[J.Bz.forRoot(Ue),J.Bz]}),Ne})();function $e(Ne,yt){if(1&Ne){const ot=te.EpF();te.TgZ(0,"div",1)(1,"ng-lottie",2),te.NdJ("animationCreated",function(Pt){te.CHM(ot);const Gt=te.oxw();return te.KtG(Gt.animationCreated(Pt))}),te.qZA(),te.TgZ(2,"div"),te._uU(3),te.qZA()()}if(2&Ne){const ot=te.oxw();te.xp6(1),te.Q6J("options",ot.options),te.xp6(2),te.Oqu(ot.displayText)}}let Ke=(()=>{class Ne{constructor(ot,Ct){this.router=ot,this.dialogService=Ct,this.displayText="\u4e0a\u50b3\u4e2d...",this.options={path:"/2022_F2E_w2/assets/animations/signLoading.json"}}animationCreated(ot){}ngOnInit(){}ngOnChanges(ot){const Ct=ot.dialogConfig.currentValue;Ct.isShow&&setTimeout(()=>{this.dialogService.dismissDialog()},2500),this.displayText=Ct.displayText,this.options={...this.options,path:`/2022_F2E_w2/assets/animations/${Ct.animationName}.json`}}}return Ne.\u0275fac=function(ot){return new(ot||Ne)(te.Y36(J.F0),te.Y36(We.x))},Ne.\u0275cmp=te.Xpm({type:Ne,selectors:[["app-anime"]],inputs:{dialogConfig:"dialogConfig"},features:[te.TTD],decls:1,vars:1,consts:[["class","dialog",4,"ngIf"],[1,"dialog"],["width","132px","height","132px",3,"options","animationCreated"]],template:function(ot,Ct){1&ot&&te.YNc(0,$e,4,2,"div",0),2&ot&&te.Q6J("ngIf",Ct.dialogConfig.isShow)},dependencies:[le.O5,dt],styles:[".dialog[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:99;width:100%;height:100vh;background-color:var(--background);display:flex;justify-content:center;align-items:center;flex-direction:column}"]}),Ne})(),pt=(()=>{class Ne{constructor(ot){this.dialogService=ot,this.title="2022F2E_w2",this.dialogConfig$=new h.X(this.dialogService.defaultConfig),this.dialogConfig$=this.dialogService.dialogConfig$}}return Ne.\u0275fac=function(ot){return new(ot||Ne)(te.Y36(We.x))},Ne.\u0275cmp=te.Xpm({type:Ne,selectors:[["app-root"]],decls:3,vars:3,consts:[[3,"dialogConfig"]],template:function(ot,Ct){1&ot&&(te._UZ(0,"app-anime",0),te.ALo(1,"async"),te._UZ(2,"router-outlet")),2&ot&&te.Q6J("dialogConfig",te.lcZ(1,1,Ct.dialogConfig$))},dependencies:[J.lC,Ke,le.Ov]}),Ne})();var be=ge(7130);function ze(){return ge.e(456).then(ge.t.bind(ge,4487,23))}let Xe=(()=>{class Ne{}return Ne.\u0275fac=function(ot){return new(ot||Ne)},Ne.\u0275mod=te.oAB({type:Ne,bootstrap:[pt]}),Ne.\u0275inj=te.cJS({imports:[f.b2,ht,be.SignDocModule,he.forRoot({player:ze}),R.forRoot()]}),Ne})();(0,te.G48)(),f.q6().bootstrapModule(Xe).catch(Ne=>console.error(Ne))},8621:(qt,ue,ge)=>{var m,c,d,u,r,o,f=f||{version:"5.2.4"};if(ue.fabric=f,typeof document<"u"&&typeof window<"u")f.document=document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?document:document.implementation.createHTMLDocument(""),f.window=window;else{var le=new(ge(4960).JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;f.document=le.document,f.jsdomImplForWrapper=ge(6759).implForWrapper,f.nodeCanvas=ge(6272).Canvas,f.window=le,DOMParser=f.window.DOMParser}function Je(m,c){var d=m.canvas,u=c.targetCanvas,r=u.getContext("2d");r.translate(0,u.height),r.scale(1,-1),r.drawImage(d,0,d.height-u.height,u.width,u.height,0,0,u.width,u.height)}function Te(m,c){var u=c.targetCanvas.getContext("2d"),r=c.destinationWidth,o=c.destinationHeight,i=r*o*4,s=new Uint8Array(this.imageBuffer,0,i),h=new Uint8ClampedArray(this.imageBuffer,0,i);m.readPixels(0,0,r,o,m.RGBA,m.UNSIGNED_BYTE,s);var l=new ImageData(h,r,o);u.putImageData(l,0,0)}f.isTouchSupported="ontouchstart"in f.window||"ontouchstart"in f.document||f.window&&f.window.navigator&&f.window.navigator.maxTouchPoints>0,f.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",f.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],f.DPI=96,f.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",f.commaWsp="(?:\\s+,?\\s*|,\\s*)",f.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,f.reNonWord=/[ \n\.,;!\?\-]/,f.fontPaths={},f.iMatrix=[1,0,0,1,0,0],f.svgNS="http://www.w3.org/2000/svg",f.perfLimitSizeTotal=2097152,f.maxCacheSideLimit=4096,f.minCacheSideLimit=256,f.charWidthsCache={},f.textureSize=2048,f.disableStyleCopyPaste=!1,f.enableGLFiltering=!0,f.devicePixelRatio=f.window.devicePixelRatio||f.window.webkitDevicePixelRatio||f.window.mozDevicePixelRatio||1,f.browserShadowBlurConstant=1,f.arcToSegmentsCache={},f.boundsOfCurveCache={},f.cachesBoundsOfCurve=!0,f.forceGLPutImageData=!1,f.initFilterBackend=function(){return f.enableGLFiltering&&f.isWebglSupported&&f.isWebglSupported(f.textureSize)?(console.log("max texture size: "+f.maxTextureSize),new f.WebglFilterBackend({tileSize:f.textureSize})):f.Canvas2dFilterBackend?new f.Canvas2dFilterBackend:void 0},typeof document<"u"&&typeof window<"u"&&(window.fabric=f),function(){function m(i,s){if(this.__eventListeners[i]){var h=this.__eventListeners[i];s?h[h.indexOf(s)]=!1:f.util.array.fill(h,!1)}}function d(i,s){var h=function(){s.apply(this,arguments),this.off(i,h)}.bind(this);this.on(i,h)}f.Observable={fire:function o(i,s){if(!this.__eventListeners)return this;var h=this.__eventListeners[i];if(!h)return this;for(var l=0,p=h.length;l<p;l++)h[l]&&h[l].call(this,s||{});return this.__eventListeners[i]=h.filter(function(w){return!1!==w}),this},on:function c(i,s){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var h in i)this.on(h,i[h]);else this.__eventListeners[i]||(this.__eventListeners[i]=[]),this.__eventListeners[i].push(s);return this},once:function u(i,s){if(1===arguments.length)for(var h in i)d.call(this,h,i[h]);else d.call(this,i,s);return this},off:function r(i,s){if(!this.__eventListeners)return this;if(0===arguments.length)for(i in this.__eventListeners)m.call(this,i);else if(1===arguments.length&&"object"==typeof arguments[0])for(var h in i)m.call(this,h,i[h]);else m.call(this,i,s);return this}}}(),f.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var m=0,c=arguments.length;m<c;m++)this._onObjectAdded(arguments[m]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(m,c,d){var u=this._objects;return d?u[c]=m:u.splice(c,0,m),this._onObjectAdded&&this._onObjectAdded(m),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var c,m=this._objects,d=!1,u=0,r=arguments.length;u<r;u++)-1!==(c=m.indexOf(arguments[u]))&&(d=!0,m.splice(c,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[u]));return this.renderOnAddRemove&&d&&this.requestRenderAll(),this},forEachObject:function(m,c){for(var d=this.getObjects(),u=0,r=d.length;u<r;u++)m.call(c,d[u],u,d);return this},getObjects:function(m){return typeof m>"u"?this._objects.concat():this._objects.filter(function(c){return c.type===m})},item:function(m){return this._objects[m]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(m,c){return this._objects.indexOf(m)>-1||!!c&&this._objects.some(function(d){return"function"==typeof d.contains&&d.contains(m,!0)})},complexity:function(){return this._objects.reduce(function(m,c){return m+(c.complexity?c.complexity():0)},0)}},f.CommonMethods={_setOptions:function(m){for(var c in m)this.set(c,m[c])},_initGradient:function(m,c){m&&m.colorStops&&!(m instanceof f.Gradient)&&this.set(c,new f.Gradient(m))},_initPattern:function(m,c,d){!m||!m.source||m instanceof f.Pattern?d&&d():this.set(c,new f.Pattern(m,d))},_setObject:function(m){for(var c in m)this._set(c,m[c])},set:function(m,c){return"object"==typeof m?this._setObject(m):this._set(m,c),this},_set:function(m,c){this[m]=c},toggle:function(m){var c=this.get(m);return"boolean"==typeof c&&this.set(m,!c),this},get:function(m){return this[m]}},m=ue,c=Math.sqrt,d=Math.atan2,u=Math.pow,r=Math.PI/180,o=Math.PI/2,f.util={cos:function(i){if(0===i)return 1;switch(i<0&&(i=-i),i/o){case 1:case 3:return 0;case 2:return-1}return Math.cos(i)},sin:function(i){if(0===i)return 0;var h=1;switch(i<0&&(h=-1),i/o){case 1:return h;case 2:return 0;case 3:return-h}return Math.sin(i)},removeFromArray:function(i,s){var h=i.indexOf(s);return-1!==h&&i.splice(h,1),i},getRandomInt:function(i,s){return Math.floor(Math.random()*(s-i+1))+i},degreesToRadians:function(i){return i*r},radiansToDegrees:function(i){return i/r},rotatePoint:function(i,s,h){var l=new f.Point(i.x-s.x,i.y-s.y),p=f.util.rotateVector(l,h);return new f.Point(p.x,p.y).addEquals(s)},rotateVector:function(i,s){var h=f.util.sin(s),l=f.util.cos(s);return{x:i.x*l-i.y*h,y:i.x*h+i.y*l}},createVector:function(i,s){return new f.Point(s.x-i.x,s.y-i.y)},calcAngleBetweenVectors:function(i,s){return Math.acos((i.x*s.x+i.y*s.y)/(Math.hypot(i.x,i.y)*Math.hypot(s.x,s.y)))},getHatVector:function(i){return new f.Point(i.x,i.y).multiply(1/Math.hypot(i.x,i.y))},getBisector:function(i,s,h){var l=f.util.createVector(i,s),p=f.util.createVector(i,h),w=f.util.calcAngleBetweenVectors(l,p),_=f.util.calcAngleBetweenVectors(f.util.rotateVector(l,w),p);return{vector:f.util.getHatVector(f.util.rotateVector(l,w*(0===_?1:-1)/2)),angle:w}},projectStrokeOnPoints:function(i,s,h){var l=[],p=s.strokeWidth/2,w=s.strokeUniform?new f.Point(1/s.scaleX,1/s.scaleY):new f.Point(1,1),_=function(C){var I=p/Math.hypot(C.x,C.y);return new f.Point(C.x*I*w.x,C.y*I*w.y)};return i.length<=1||i.forEach(function(C,I){var z,ne,k=new f.Point(C.x,C.y);0===I?(ne=i[I+1],z=h?_(f.util.createVector(ne,k)).addEquals(k):i[i.length-1]):I===i.length-1?(z=i[I-1],ne=h?_(f.util.createVector(z,k)).addEquals(k):i[0]):(z=i[I-1],ne=i[I+1]);var _e,we,fe=f.util.getBisector(k,z,ne),ye=fe.vector;if("miter"===s.strokeLineJoin&&(_e=-p/Math.sin(fe.angle/2),we=new f.Point(ye.x*_e*w.x,ye.y*_e*w.y),Math.hypot(we.x,we.y)/p<=s.strokeMiterLimit))return l.push(k.add(we)),void l.push(k.subtract(we));_e=-p*Math.SQRT2,we=new f.Point(ye.x*_e*w.x,ye.y*_e*w.y),l.push(k.add(we)),l.push(k.subtract(we))}),l},transformPoint:function(i,s,h){return h?new f.Point(s[0]*i.x+s[2]*i.y,s[1]*i.x+s[3]*i.y):new f.Point(s[0]*i.x+s[2]*i.y+s[4],s[1]*i.x+s[3]*i.y+s[5])},makeBoundingBoxFromPoints:function(i,s){if(s)for(var h=0;h<i.length;h++)i[h]=f.util.transformPoint(i[h],s);var l=[i[0].x,i[1].x,i[2].x,i[3].x],p=f.util.array.min(l),_=f.util.array.max(l)-p,C=[i[0].y,i[1].y,i[2].y,i[3].y],I=f.util.array.min(C);return{left:p,top:I,width:_,height:f.util.array.max(C)-I}},invertTransform:function(i){var s=1/(i[0]*i[3]-i[1]*i[2]),h=[s*i[3],-s*i[1],-s*i[2],s*i[0]],l=f.util.transformPoint({x:i[4],y:i[5]},h,!0);return h[4]=-l.x,h[5]=-l.y,h},toFixed:function(i,s){return parseFloat(Number(i).toFixed(s))},parseUnit:function(i,s){var h=/\D{0,2}$/.exec(i),l=parseFloat(i);switch(s||(s=f.Text.DEFAULT_SVG_FONT_SIZE),h[0]){case"mm":return l*f.DPI/25.4;case"cm":return l*f.DPI/2.54;case"in":return l*f.DPI;case"pt":return l*f.DPI/72;case"pc":return l*f.DPI/72*12;case"em":return l*s;default:return l}},falseFunction:function(){return!1},getKlass:function(i,s){return i=f.util.string.camelize(i.charAt(0).toUpperCase()+i.slice(1)),f.util.resolveNamespace(s)[i]},getSvgAttributes:function(i){var s=["instantiated_by_use","style","id","class"];switch(i){case"linearGradient":s=s.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":s=s.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":s=s.concat(["offset","stop-color","stop-opacity"])}return s},resolveNamespace:function(i){if(!i)return f;var l,s=i.split("."),h=s.length,p=m||f.window;for(l=0;l<h;++l)p=p[s[l]];return p},loadImage:function(i,s,h,l){if(i){var p=f.util.createImage(),w=function(){s&&s.call(h,p,!1),p=p.onload=p.onerror=null};p.onload=w,p.onerror=function(){f.log("Error loading "+p.src),s&&s.call(h,null,!0),p=p.onload=p.onerror=null},0!==i.indexOf("data")&&null!=l&&(p.crossOrigin=l),"data:image/svg"===i.substring(0,14)&&(p.onload=null,f.util.loadImageInDom(p,w)),p.src=i}else s&&s.call(h,i)},loadImageInDom:function(i,s){var h=f.document.createElement("div");h.style.width=h.style.height="1px",h.style.left=h.style.top="-100%",h.style.position="absolute",h.appendChild(i),f.document.querySelector("body").appendChild(h),i.onload=function(){s(),h.parentNode.removeChild(h),h=null}},enlivenObjects:function(i,s,h,l){var p=[],w=0,_=(i=i||[]).length;function C(){++w===_&&s&&s(p.filter(function(I){return I}))}_?i.forEach(function(I,k){I&&I.type?f.util.getKlass(I.type,h).fromObject(I,function(ne,fe){fe||(p[k]=ne),l&&l(I,ne,fe),C()}):C()}):s&&s(p)},enlivenObjectEnlivables:function(i,s,h){var l=f.Object.ENLIVEN_PROPS.filter(function(p){return!!i[p]});f.util.enlivenObjects(l.map(function(p){return i[p]}),function(p){var w={};l.forEach(function(_,C){w[_]=p[C],s&&(s[_]=p[C])}),h&&h(w)})},enlivenPatterns:function(i,s){function h(){++p===w&&s&&s(l)}var l=[],p=0,w=(i=i||[]).length;w?i.forEach(function(_,C){_&&_.source?new f.Pattern(_,function(I){l[C]=I,h()}):(l[C]=_,h())}):s&&s(l)},groupSVGElements:function(i,s,h){var l;return i&&1===i.length?(typeof h<"u"&&(i[0].sourcePath=h),i[0]):(s&&(s.width&&s.height?s.centerPoint={x:s.width/2,y:s.height/2}:(delete s.width,delete s.height)),l=new f.Group(i,s),typeof h<"u"&&(l.sourcePath=h),l)},populateWithProperties:function(i,s,h){if(h&&Array.isArray(h))for(var l=0,p=h.length;l<p;l++)h[l]in i&&(s[h[l]]=i[h[l]])},createCanvasElement:function(){return f.document.createElement("canvas")},copyCanvasElement:function(i){var s=f.util.createCanvasElement();return s.width=i.width,s.height=i.height,s.getContext("2d").drawImage(i,0,0),s},toDataURL:function(i,s,h){return i.toDataURL("image/"+s,h)},createImage:function(){return f.document.createElement("img")},multiplyTransformMatrices:function(i,s,h){return[i[0]*s[0]+i[2]*s[1],i[1]*s[0]+i[3]*s[1],i[0]*s[2]+i[2]*s[3],i[1]*s[2]+i[3]*s[3],h?0:i[0]*s[4]+i[2]*s[5]+i[4],h?0:i[1]*s[4]+i[3]*s[5]+i[5]]},qrDecompose:function(i){var s=d(i[1],i[0]),h=u(i[0],2)+u(i[1],2),l=c(h),p=(i[0]*i[3]-i[2]*i[1])/l,w=d(i[0]*i[2]+i[1]*i[3],h);return{angle:s/r,scaleX:l,scaleY:p,skewX:w/r,skewY:0,translateX:i[4],translateY:i[5]}},calcRotateMatrix:function(i){if(!i.angle)return f.iMatrix.concat();var s=f.util.degreesToRadians(i.angle),h=f.util.cos(s),l=f.util.sin(s);return[h,l,-l,h,0,0]},calcDimensionsMatrix:function(i){var s=typeof i.scaleX>"u"?1:i.scaleX,h=typeof i.scaleY>"u"?1:i.scaleY,l=[i.flipX?-s:s,0,0,i.flipY?-h:h,0,0],p=f.util.multiplyTransformMatrices,w=f.util.degreesToRadians;return i.skewX&&(l=p(l,[1,0,Math.tan(w(i.skewX)),1],!0)),i.skewY&&(l=p(l,[1,Math.tan(w(i.skewY)),0,1],!0)),l},composeMatrix:function(i){var s=[1,0,0,1,i.translateX||0,i.translateY||0],h=f.util.multiplyTransformMatrices;return i.angle&&(s=h(s,f.util.calcRotateMatrix(i))),(1!==i.scaleX||1!==i.scaleY||i.skewX||i.skewY||i.flipX||i.flipY)&&(s=h(s,f.util.calcDimensionsMatrix(i))),s},resetObjectTransform:function(i){i.scaleX=1,i.scaleY=1,i.skewX=0,i.skewY=0,i.flipX=!1,i.flipY=!1,i.rotate(0)},saveObjectTransform:function(i){return{scaleX:i.scaleX,scaleY:i.scaleY,skewX:i.skewX,skewY:i.skewY,angle:i.angle,left:i.left,flipX:i.flipX,flipY:i.flipY,top:i.top}},isTransparent:function(i,s,h,l){l>0&&(s>l?s-=l:s=0,h>l?h-=l:h=0);var w,p=!0,C=i.getImageData(s,h,2*l||1,2*l||1),I=C.data.length;for(w=3;w<I&&0!=(p=C.data[w]<=0);w+=4);return C=null,p},parsePreserveAspectRatioAttribute:function(i){var w,s="meet",p=i.split(" ");return p&&p.length&&("meet"!==(s=p.pop())&&"slice"!==s?(w=s,s="meet"):p.length&&(w=p.pop())),{meetOrSlice:s,alignX:"none"!==w?w.slice(1,4):"none",alignY:"none"!==w?w.slice(5,8):"none"}},clearFabricFontCache:function(i){(i=(i||"").toLowerCase())?f.charWidthsCache[i]&&delete f.charWidthsCache[i]:f.charWidthsCache={}},limitDimsByArea:function(i,s){var h=Math.sqrt(s*i),l=Math.floor(s/h);return{x:Math.floor(h),y:l}},capValue:function(i,s,h){return Math.max(i,Math.min(s,h))},findScaleToFit:function(i,s){return Math.min(s.width/i.width,s.height/i.height)},findScaleToCover:function(i,s){return Math.max(s.width/i.width,s.height/i.height)},matrixToSVG:function(i){return"matrix("+i.map(function(s){return f.util.toFixed(s,f.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(i,s){var h=f.util.invertTransform(s),l=f.util.multiplyTransformMatrices(h,i.calcOwnMatrix());f.util.applyTransformToObject(i,l)},addTransformToObject:function(i,s){f.util.applyTransformToObject(i,f.util.multiplyTransformMatrices(s,i.calcOwnMatrix()))},applyTransformToObject:function(i,s){var h=f.util.qrDecompose(s),l=new f.Point(h.translateX,h.translateY);i.flipX=!1,i.flipY=!1,i.set("scaleX",h.scaleX),i.set("scaleY",h.scaleY),i.skewX=h.skewX,i.skewY=h.skewY,i.angle=h.angle,i.setPositionByOrigin(l,"center","center")},sizeAfterTransform:function(i,s,h){var l=i/2,p=s/2,w=[{x:-l,y:-p},{x:l,y:-p},{x:-l,y:p},{x:l,y:p}],_=f.util.calcDimensionsMatrix(h),C=f.util.makeBoundingBoxFromPoints(w,_);return{x:C.width,y:C.height}},mergeClipPaths:function(i,s){var h=i,l=s;h.inverted&&!l.inverted&&(h=s,l=i),f.util.applyTransformToObject(l,f.util.multiplyTransformMatrices(f.util.invertTransform(h.calcTransformMatrix()),l.calcTransformMatrix()));var p=h.inverted&&l.inverted;return p&&(h.inverted=l.inverted=!1),new f.Group([h],{clipPath:l,inverted:p})},hasStyleChanged:function(i,s,h){return h=h||!1,i.fill!==s.fill||i.stroke!==s.stroke||i.strokeWidth!==s.strokeWidth||i.fontSize!==s.fontSize||i.fontFamily!==s.fontFamily||i.fontWeight!==s.fontWeight||i.fontStyle!==s.fontStyle||i.deltaY!==s.deltaY||h&&(i.overline!==s.overline||i.underline!==s.underline||i.linethrough!==s.linethrough)},stylesToArray:function(h,s){h=f.util.object.clone(h,!0);for(var l=s.split("\n"),p=-1,w={},_=[],C=0;C<l.length;C++)if(h[C])for(var I=0;I<l[C].length;I++){p++;var k=h[C][I];k&&(f.util.hasStyleChanged(w,k,!0)?_.push({start:p,end:p+1,style:k}):_[_.length-1].end++),w=k||{}}else p+=l[C].length;return _},stylesFromArray:function(i,s){if(!Array.isArray(i))return i;for(var h=s.split("\n"),l=-1,p=0,w={},_=0;_<h.length;_++)for(var C=0;C<h[_].length;C++)l++,i[p]&&i[p].start<=l&&l<i[p].end&&(w[_]=w[_]||{},w[_][C]=Object.assign({},i[p].style),l===i[p].end-1&&p++);return w}},function(){var m=Array.prototype.join,c={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},d={m:"l",M:"L"};function u(he,ie,R,H,F,j,B,J,re,me,De){var je=f.util.cos(he),We=f.util.sin(he),it=f.util.cos(ie),Be=f.util.sin(ie),Ue=R*F*it-H*j*Be+B,ht=H*F*it+R*j*Be+J;return["C",me+re*(-R*F*We-H*j*je),De+re*(-H*F*We+R*j*je),Ue+re*(R*F*Be+H*j*it),ht+re*(H*F*Be-R*j*it),Ue,ht]}function o(he,ie,R,H){var F=Math.atan2(ie,he),j=Math.atan2(H,R);return j>=F?j-F:2*Math.PI-(F-j)}function s(he,ie,R){for(var De=function r(he,ie,R,H,F,j,B){var J=Math.PI,re=B*J/180,me=f.util.sin(re),De=f.util.cos(re),je=0,We=0,it=-De*he*.5-me*ie*.5,Be=-De*ie*.5+me*he*.5,Ue=(R=Math.abs(R))*R,ht=(H=Math.abs(H))*H,Lt=Be*Be,$e=it*it,Ke=Ue*ht-Ue*Lt-ht*$e,pt=0;if(Ke<0){var be=Math.sqrt(1-Ke/(Ue*ht));R*=be,H*=be}else pt=(F===j?-1:1)*Math.sqrt(Ke/(Ue*Lt+ht*$e));var ze=pt*R*Be/H,Xe=-pt*H*it/R,Ne=De*ze-me*Xe+.5*he,yt=me*ze+De*Xe+.5*ie,ot=o(1,0,(it-ze)/R,(Be-Xe)/H),Ct=o((it-ze)/R,(Be-Xe)/H,(-it-ze)/R,(-Be-Xe)/H);0===j&&Ct>0?Ct-=2*J:1===j&&Ct<0&&(Ct+=2*J);for(var Pt=Math.ceil(Math.abs(Ct/J*2)),Gt=[],Tn=Ct/Pt,Jn=8/3*Math.sin(Tn/4)*Math.sin(Tn/4)/Math.sin(Tn/2),Nt=ot+Tn,Ye=0;Ye<Pt;Ye++)Gt[Ye]=u(ot,Nt,De,me,R,H,Ne,yt,Jn,je,We),je=Gt[Ye][5],We=Gt[Ye][6],ot=Nt,Nt+=Tn;return Gt}(R[6]-he,R[7]-ie,R[1],R[2],R[4],R[5],R[3]),je=0,We=De.length;je<We;je++)De[je][1]+=he,De[je][2]+=ie,De[je][3]+=he,De[je][4]+=ie,De[je][5]+=he,De[je][6]+=ie;return De}function l(he,ie,R,H){return Math.sqrt((R-he)*(R-he)+(H-ie)*(H-ie))}function I(he,ie,R,H,F,j,B,J){return function(re){var me=function p(he){return he*he*he}(re),De=function w(he){return 3*he*he*(1-he)}(re),je=function _(he){return 3*he*(1-he)*(1-he)}(re),We=function C(he){return(1-he)*(1-he)*(1-he)}(re);return{x:B*me+F*De+R*je+he*We,y:J*me+j*De+H*je+ie*We}}}function k(he,ie,R,H,F,j,B,J){return function(re){var me=1-re;return Math.atan2(3*me*me*(H-ie)+6*me*re*(j-H)+3*re*re*(J-j),3*me*me*(R-he)+6*me*re*(F-R)+3*re*re*(B-F))}}function ye(he,ie,R,H,F,j){return function(B){var J=function z(he){return he*he}(B),re=function ne(he){return 2*he*(1-he)}(B),me=function fe(he){return(1-he)*(1-he)}(B);return{x:F*J+R*re+he*me,y:j*J+H*re+ie*me}}}function Pe(he,ie,R,H,F,j){return function(B){var J=1-B;return Math.atan2(2*J*(H-ie)+2*B*(j-H),2*J*(R-he)+2*B*(F-R))}}function _e(he,ie,R){var F,B,H={x:ie,y:R},j=0;for(B=1;B<=100;B+=1)F=he(B/100),j+=l(H.x,H.y,F.x,F.y),H=F;return j}function Ee(he){for(var H,me,De,je,ie=0,R=he.length,F=0,j=0,B=0,J=0,re=[],We=0;We<R;We++){switch(De={x:F,y:j,command:(H=he[We])[0]},H[0]){case"M":De.length=0,B=F=H[1],J=j=H[2];break;case"L":De.length=l(F,j,H[1],H[2]),F=H[1],j=H[2];break;case"C":me=I(F,j,H[1],H[2],H[3],H[4],H[5],H[6]),je=k(F,j,H[1],H[2],H[3],H[4],H[5],H[6]),De.iterator=me,De.angleFinder=je,De.length=_e(me,F,j),F=H[5],j=H[6];break;case"Q":me=ye(F,j,H[1],H[2],H[3],H[4]),je=Pe(F,j,H[1],H[2],H[3],H[4]),De.iterator=me,De.angleFinder=je,De.length=_e(me,F,j),F=H[3],j=H[4];break;case"Z":case"z":De.destX=B,De.destY=J,De.length=l(F,j,B,J),F=B,j=J}ie+=De.length,re.push(De)}return re.push({length:ie,x:F,y:j}),re}f.util.joinPath=function(he){return he.map(function(ie){return ie.join(" ")}).join(" ")},f.util.parsePath=function Ve(he){var H,F,je,We,it,ie=[],R=[],j=f.rePathCommand,B="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",J="("+B+")"+f.commaWsp,re="([01])"+f.commaWsp+"?",De=new RegExp(J+"?"+J+"?"+J+re+re+J+"?("+B+")","g");if(!he||!he.match)return ie;for(var Ue,Be=0,ht=(it=he.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi)).length;Be<ht;Be++){We=(H=it[Be]).slice(1).trim(),R.length=0;var Lt=H.charAt(0);if(Ue=[Lt],"a"===Lt.toLowerCase())for(var $e;$e=De.exec(We);)for(var Ke=1;Ke<$e.length;Ke++)R.push($e[Ke]);else for(;je=j.exec(We);)R.push(je[0]);Ke=0;for(var pt=R.length;Ke<pt;Ke++)F=parseFloat(R[Ke]),isNaN(F)||Ue.push(F);var be=c[Lt.toLowerCase()],ze=d[Lt]||Lt;if(Ue.length-1>be)for(var Xe=1,Ne=Ue.length;Xe<Ne;Xe+=be)ie.push([Lt].concat(Ue.slice(Xe,Xe+be))),Lt=ze;else ie.push(Ue)}return ie},f.util.makePathSimpler=function h(he){var B,J,re,De,je,We,ie=0,R=0,H=he.length,F=0,j=0,me=[];for(J=0;J<H;++J){switch(re=!1,(B=he[J].slice(0))[0]){case"l":B[0]="L",B[1]+=ie,B[2]+=R;case"L":ie=B[1],R=B[2];break;case"h":B[1]+=ie;case"H":B[0]="L",B[2]=R,ie=B[1];break;case"v":B[1]+=R;case"V":B[0]="L",R=B[1],B[1]=ie,B[2]=R;break;case"m":B[0]="M",B[1]+=ie,B[2]+=R;case"M":ie=B[1],R=B[2],F=B[1],j=B[2];break;case"c":B[0]="C",B[1]+=ie,B[2]+=R,B[3]+=ie,B[4]+=R,B[5]+=ie,B[6]+=R;case"C":je=B[3],We=B[4],ie=B[5],R=B[6];break;case"s":B[0]="S",B[1]+=ie,B[2]+=R,B[3]+=ie,B[4]+=R;case"S":"C"===De?(je=2*ie-je,We=2*R-We):(je=ie,We=R),ie=B[3],R=B[4],B[0]="C",B[5]=B[3],B[6]=B[4],B[3]=B[1],B[4]=B[2],B[1]=je,B[2]=We,je=B[3],We=B[4];break;case"q":B[0]="Q",B[1]+=ie,B[2]+=R,B[3]+=ie,B[4]+=R;case"Q":je=B[1],We=B[2],ie=B[3],R=B[4];break;case"t":B[0]="T",B[1]+=ie,B[2]+=R;case"T":"Q"===De?(je=2*ie-je,We=2*R-We):(je=ie,We=R),B[0]="Q",ie=B[1],R=B[2],B[1]=je,B[2]=We,B[3]=ie,B[4]=R;break;case"a":B[0]="A",B[6]+=ie,B[7]+=R;case"A":re=!0,me=me.concat(s(ie,R,B)),ie=B[6],R=B[7];break;case"z":case"Z":ie=F,R=j}re||me.push(B),De=B[0]}return me},f.util.getSmoothPathFromPoints=function Ze(he,ie){var H,R=[],F=new f.Point(he[0].x,he[0].y),j=new f.Point(he[1].x,he[1].y),B=he.length,J=1,re=0,me=B>2;for(me&&(J=he[2].x<j.x?-1:he[2].x===j.x?0:1,re=he[2].y<j.y?-1:he[2].y===j.y?0:1),R.push(["M",F.x-J*(ie=ie||0),F.y-re*ie]),H=1;H<B;H++){if(!F.eq(j)){var De=F.midPointFrom(j);R.push(["Q",F.x,F.y,De.x,De.y])}F=he[H],H+1<he.length&&(j=he[H+1])}return me&&(J=F.x>he[H-2].x?1:F.x===he[H-2].x?0:-1,re=F.y>he[H-2].y?1:F.y===he[H-2].y?0:-1),R.push(["L",F.x+J*ie,F.y+re*ie]),R},f.util.getPathSegmentsInfo=Ee,f.util.getBoundsOfCurve=function i(he,ie,R,H,F,j,B,J){var re;if(f.cachesBoundsOfCurve&&(re=m.call(arguments),f.boundsOfCurveCache[re]))return f.boundsOfCurveCache[re];var Ue,ht,Lt,$e,Ke,pt,be,ze,me=Math.sqrt,De=Math.min,je=Math.max,We=Math.abs,it=[],Be=[[],[]];ht=6*he-12*R+6*F,Ue=-3*he+9*R-9*F+3*B,Lt=3*R-3*he;for(var Xe=0;Xe<2;++Xe)if(Xe>0&&(ht=6*ie-12*H+6*j,Ue=-3*ie+9*H-9*j+3*J,Lt=3*H-3*ie),We(Ue)<1e-12){if(We(ht)<1e-12)continue;0<($e=-Lt/ht)&&$e<1&&it.push($e)}else!((be=ht*ht-4*Lt*Ue)<0)&&(0<(Ke=(-ht+(ze=me(be)))/(2*Ue))&&Ke<1&&it.push(Ke),0<(pt=(-ht-ze)/(2*Ue))&&pt<1&&it.push(pt));for(var Pt,ot=it.length,Ct=ot;ot--;)Be[0][ot]=(Pt=1-($e=it[ot]))*Pt*Pt*he+3*Pt*Pt*$e*R+3*Pt*$e*$e*F+$e*$e*$e*B,Be[1][ot]=Pt*Pt*Pt*ie+3*Pt*Pt*$e*H+3*Pt*$e*$e*j+$e*$e*$e*J;Be[0][Ct]=he,Be[1][Ct]=ie,Be[0][Ct+1]=B,Be[1][Ct+1]=J;var Gt=[{x:De.apply(null,Be[0]),y:De.apply(null,Be[1])},{x:je.apply(null,Be[0]),y:je.apply(null,Be[1])}];return f.cachesBoundsOfCurve&&(f.boundsOfCurveCache[re]=Gt),Gt},f.util.getPointOnPath=function de(he,ie,R){R||(R=Ee(he));for(var H=0;ie-R[H].length>0&&H<R.length-2;)ie-=R[H].length,H++;var re,F=R[H],j=ie/F.length,J=he[H];switch(F.command){case"M":return{x:F.x,y:F.y,angle:0};case"Z":case"z":return(re=new f.Point(F.x,F.y).lerp(new f.Point(F.destX,F.destY),j)).angle=Math.atan2(F.destY-F.y,F.destX-F.x),re;case"L":return(re=new f.Point(F.x,F.y).lerp(new f.Point(J[1],J[2]),j)).angle=Math.atan2(J[2]-F.y,J[1]-F.x),re;case"C":case"Q":return function we(he,ie){for(var B,J,De,R=0,H=0,F=he.iterator,j={x:he.x,y:he.y},re=.01,me=he.angleFinder;H<ie&&re>1e-4;)B=F(R),De=R,(J=l(j.x,j.y,B.x,B.y))+H>ie?(R-=re,re/=2):(j=B,R+=re,H+=J);return B.angle=me(De),B}(F,ie)}},f.util.transformPath=function dt(he,ie,R){return R&&(ie=f.util.multiplyTransformMatrices(ie,[1,0,0,1,-R.x,-R.y])),he.map(function(H){for(var F=H.slice(0),j={},B=1;B<H.length-1;B+=2)j.x=H[B],j.y=H[B+1],j=f.util.transformPoint(j,ie),F[B]=j.x,F[B+1]=j.y;return F})}}(),function(){var m=Array.prototype.slice;function o(i,s,h){if(i&&0!==i.length){var l=i.length-1,p=s?i[l][s]:i[l];if(s)for(;l--;)h(i[l][s],p)&&(p=i[l][s]);else for(;l--;)h(i[l],p)&&(p=i[l]);return p}}f.util.array={fill:function r(i,s){for(var h=i.length;h--;)i[h]=s;return i},invoke:function c(i,s){for(var h=m.call(arguments,2),l=[],p=0,w=i.length;p<w;p++)l[p]=h.length?i[p][s].apply(i[p],h):i[p][s].call(i[p]);return l},min:function u(i,s){return o(i,s,function(h,l){return h<l})},max:function d(i,s){return o(i,s,function(h,l){return h>=l})}}}(),function(){function m(d,u,r){if(r)if(!f.isLikelyNode&&u instanceof Element)d=u;else if(u instanceof Array){d=[];for(var o=0,i=u.length;o<i;o++)d[o]=m({},u[o],r)}else if(u&&"object"==typeof u)for(var s in u)"canvas"===s||"group"===s?d[s]=null:u.hasOwnProperty(s)&&(d[s]=m({},u[s],r));else d=u;else for(var s in u)d[s]=u[s];return d}f.util.object={extend:m,clone:function c(d,u){return m({},d,u)}},f.util.object.extend(f.util,f.Observable)}(),function(){function r(o,i){var s=o.charCodeAt(i);if(isNaN(s))return"";if(s<55296||s>57343)return o.charAt(i);if(55296<=s&&s<=56319){if(o.length<=i+1)throw"High surrogate without following low surrogate";var h=o.charCodeAt(i+1);if(56320>h||h>57343)throw"High surrogate without following low surrogate";return o.charAt(i)+o.charAt(i+1)}if(0===i)throw"Low surrogate without preceding high surrogate";var l=o.charCodeAt(i-1);if(55296>l||l>56319)throw"Low surrogate without preceding high surrogate";return!1}f.util.string={camelize:function m(o){return o.replace(/-+(.)?/g,function(i,s){return s?s.toUpperCase():""})},capitalize:function c(o,i){return o.charAt(0).toUpperCase()+(i?o.slice(1):o.slice(1).toLowerCase())},escapeXml:function d(o){return o.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function u(o){var s,i=0,h=[];for(i=0;i<o.length;i++)!1!==(s=r(o,i))&&h.push(s);return h}}}(),function(){var m=Array.prototype.slice,c=function(){},d=function(){for(var s in{toString:1})if("toString"===s)return!1;return!0}(),u=function(s,h,l){for(var p in h)s.prototype[p]=p in s.prototype&&"function"==typeof s.prototype[p]&&(h[p]+"").indexOf("callSuper")>-1?function(w){return function(){var _=this.constructor.superclass;this.constructor.superclass=l;var C=h[w].apply(this,arguments);if(this.constructor.superclass=_,"initialize"!==w)return C}}(p):h[p],d&&(h.toString!==Object.prototype.toString&&(s.prototype.toString=h.toString),h.valueOf!==Object.prototype.valueOf&&(s.prototype.valueOf=h.valueOf))};function r(){}function o(s){for(var h=null,l=this;l.constructor.superclass;){var p=l.constructor.superclass.prototype[s];if(l[s]!==p){h=p;break}l=l.constructor.superclass.prototype}return h?arguments.length>1?h.apply(this,m.call(arguments,1)):h.call(this):console.log("tried to callSuper "+s+", method not found in prototype chain",this)}f.util.createClass=function i(){var s=null,h=m.call(arguments,0);function l(){this.initialize.apply(this,arguments)}"function"==typeof h[0]&&(s=h.shift()),l.superclass=s,l.subclasses=[],s&&(r.prototype=s.prototype,l.prototype=new r,s.subclasses.push(l));for(var p=0,w=h.length;p<w;p++)u(l,h[p],s);return l.prototype.initialize||(l.prototype.initialize=c),l.prototype.constructor=l,l.prototype.callSuper=o,l}}(),function(){var m=!!f.document.createElement("div").attachEvent,c=["touchstart","touchmove","touchend"];f.util.addListener=function(u,r,o,i){u&&u.addEventListener(r,o,!m&&i)},f.util.removeListener=function(u,r,o,i){u&&u.removeEventListener(r,o,!m&&i)},f.util.getPointer=function(u){var o=f.util.getScrollLeftTop(u.target),i=function d(u){var r=u.changedTouches;return r&&r[0]?r[0]:u}(u);return{x:i.clientX+o.left,y:i.clientY+o.top}},f.util.isTouchEvent=function(u){return c.indexOf(u.type)>-1||"touch"===u.pointerType}}(),function(){var c=f.document.createElement("div"),r=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,o=function(i){return i};"string"==typeof c.style.opacity?o=function(i,s){return i.style.opacity=s,i}:"string"==typeof c.style.filter&&(o=function(i,s){var h=i.style;return i.currentStyle&&!i.currentStyle.hasLayout&&(h.zoom=1),r.test(h.filter)?h.filter=h.filter.replace(r,s=s>=.9999?"":"alpha(opacity="+100*s+")"):h.filter+=" alpha(opacity="+100*s+")",i}),f.util.setStyle=function m(i,s){var h=i.style;if(!h)return i;if("string"==typeof s)return i.style.cssText+=";"+s,s.indexOf("opacity")>-1?o(i,s.match(/opacity:\s*(\d?\.?\d*)/)[1]):i;for(var l in s)"opacity"===l?o(i,s[l]):h.setProperty("float"===l||"cssFloat"===l?typeof h.styleFloat>"u"?"cssFloat":"styleFloat":l,s[l]);return i}}(),function(){var d,l,C,I,m=Array.prototype.slice,u=function(C){return m.call(C,0)};try{d=u(f.document.childNodes)instanceof Array}catch{}function r(C,I){var k=f.document.createElement(C);for(var z in I)"class"===z?k.className=I[z]:"for"===z?k.htmlFor=I[z]:k.setAttribute(z,I[z]);return k}function s(C){for(var I=0,k=0,z=f.document.documentElement,ne=f.document.body||{scrollLeft:0,scrollTop:0};C&&(C.parentNode||C.host)&&((C=C.parentNode||C.host)===f.document?(I=ne.scrollLeft||z.scrollLeft||0,k=ne.scrollTop||z.scrollTop||0):(I+=C.scrollLeft||0,k+=C.scrollTop||0),1!==C.nodeType||"fixed"!==C.style.position););return{left:I,top:k}}d||(u=function(C){for(var I=new Array(C.length),k=C.length;k--;)I[k]=C[k];return I}),l=f.document.defaultView&&f.document.defaultView.getComputedStyle?function(C,I){var k=f.document.defaultView.getComputedStyle(C,null);return k?k[I]:void 0}:function(C,I){var k=C.style[I];return!k&&C.currentStyle&&(k=C.currentStyle[I]),k},I="userSelect"in(C=f.document.documentElement.style)?"userSelect":"MozUserSelect"in C?"MozUserSelect":"WebkitUserSelect"in C?"WebkitUserSelect":"KhtmlUserSelect"in C?"KhtmlUserSelect":"",f.util.makeElementUnselectable=function k(ne){return typeof ne.onselectstart<"u"&&(ne.onselectstart=f.util.falseFunction),I?ne.style[I]="none":"string"==typeof ne.unselectable&&(ne.unselectable="on"),ne},f.util.makeElementSelectable=function z(ne){return typeof ne.onselectstart<"u"&&(ne.onselectstart=null),I?ne.style[I]="":"string"==typeof ne.unselectable&&(ne.unselectable=""),ne},f.util.setImageSmoothing=function _(C,I){C.imageSmoothingEnabled=C.imageSmoothingEnabled||C.webkitImageSmoothingEnabled||C.mozImageSmoothingEnabled||C.msImageSmoothingEnabled||C.oImageSmoothingEnabled,C.imageSmoothingEnabled=I},f.util.getById=function c(C){return"string"==typeof C?f.document.getElementById(C):C},f.util.toArray=u,f.util.addClass=function o(C,I){C&&-1===(" "+C.className+" ").indexOf(" "+I+" ")&&(C.className+=(C.className?" ":"")+I)},f.util.makeElement=r,f.util.wrapElement=function i(C,I,k){return"string"==typeof I&&(I=r(I,k)),C.parentNode&&C.parentNode.replaceChild(I,C),I.appendChild(C),I},f.util.getScrollLeftTop=s,f.util.getElementOffset=function h(C){var I,fe,k=C&&C.ownerDocument,z={left:0,top:0},ne={left:0,top:0},ye={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!k)return ne;for(var Pe in ye)ne[ye[Pe]]+=parseInt(l(C,Pe),10)||0;return I=k.documentElement,typeof C.getBoundingClientRect<"u"&&(z=C.getBoundingClientRect()),fe=s(C),{left:z.left+fe.left-(I.clientLeft||0)+ne.left,top:z.top+fe.top-(I.clientTop||0)+ne.top}},f.util.getNodeCanvas=function p(C){var I=f.jsdomImplForWrapper(C);return I._canvas||I._image},f.util.cleanUpJsdomNode=function w(C){if(f.isLikelyNode){var I=f.jsdomImplForWrapper(C);I&&(I._image=null,I._canvas=null,I._currentSrc=null,I._attributes=null,I._classList=null)}}}(),function(){function c(){}f.util.request=function d(u,r){r||(r={});var o=r.method?r.method.toUpperCase():"GET",i=r.onComplete||function(){},s=new f.window.XMLHttpRequest,h=r.body||r.parameters;return s.onreadystatechange=function(){4===s.readyState&&(i(s),s.onreadystatechange=c)},"GET"===o&&(h=null,"string"==typeof r.parameters&&(u=function m(u,r){return u+(/\?/.test(u)?"&":"?")+r}(u,r.parameters))),s.open(o,u,!0),("POST"===o||"PUT"===o)&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send(h),s}}(),f.log=console.log,f.warn=console.warn,function(){var m=f.util.object.extend,c=f.util.object.clone,d=[];function u(){return!1}function r(p,w,_,C){return-_*Math.cos(p/C*(Math.PI/2))+_+w}f.util.object.extend(d,{cancelAll:function(){var p=this.splice(0);return p.forEach(function(w){w.cancel()}),p},cancelByCanvas:function(p){if(!p)return[];var w=this.filter(function(_){return"object"==typeof _.target&&_.target.canvas===p});return w.forEach(function(_){_.cancel()}),w},cancelByTarget:function(p){var w=this.findAnimationsByTarget(p);return w.forEach(function(_){_.cancel()}),w},findAnimationIndex:function(p){return this.indexOf(this.findAnimation(p))},findAnimation:function(p){return this.find(function(w){return w.cancel===p})},findAnimationsByTarget:function(p){return p?this.filter(function(w){return w.target===p}):[]}});var i=f.window.requestAnimationFrame||f.window.webkitRequestAnimationFrame||f.window.mozRequestAnimationFrame||f.window.oRequestAnimationFrame||f.window.msRequestAnimationFrame||function(p){return f.window.setTimeout(p,1e3/60)},s=f.window.cancelAnimationFrame||f.window.clearTimeout;function h(){return i.apply(f.window,arguments)}f.util.animate=function o(p){p||(p={});var _,w=!1,C=function(){var I=f.runningAnimations.indexOf(_);return I>-1&&f.runningAnimations.splice(I,1)[0]};return _=m(c(p),{cancel:function(){return w=!0,C()},currentValue:"startValue"in p?p.startValue:0,completionRate:0,durationRate:0}),f.runningAnimations.push(_),h(function(I){var fe,k=I||+new Date,z=p.duration||500,ne=k+z,ye=p.onChange||u,Pe=p.abort||u,_e=p.onComplete||u,we=p.easing||r,Ee="startValue"in p&&p.startValue.length>0,de="startValue"in p?p.startValue:0,Ve="endValue"in p?p.endValue:100,Ze=p.byValue||(Ee?de.map(function(dt,he){return Ve[he]-de[he]}):Ve-de);p.onStart&&p.onStart(),function dt(he){var ie=(fe=he||+new Date)>ne?z:fe-k,R=ie/z,H=Ee?de.map(function(j,B){return we(ie,de[B],Ze[B],z)}):we(ie,de,Ze,z),F=Math.abs(Ee?(H[0]-de[0])/Ze[0]:(H-de)/Ze);if(_.currentValue=Ee?H.slice():H,_.completionRate=F,_.durationRate=R,!w){if(Pe(H,F,R))return void C();if(fe>ne)return _.currentValue=Ee?Ve.slice():Ve,_.completionRate=1,_.durationRate=1,ye(Ee?Ve.slice():Ve,1,1),_e(Ve,1,1),void C();ye(H,F,R),h(dt)}}(k)}),_.cancel},f.util.requestAnimFrame=h,f.util.cancelAnimFrame=function l(){return s.apply(f.window,arguments)},f.runningAnimations=d}(),function(){function m(d,u,r){var o="rgba("+parseInt(d[0]+r*(u[0]-d[0]),10)+","+parseInt(d[1]+r*(u[1]-d[1]),10)+","+parseInt(d[2]+r*(u[2]-d[2]),10);return(o+=","+(d&&u?parseFloat(d[3]+r*(u[3]-d[3])):1))+")"}f.util.animateColor=function c(d,u,r,o){var i=new f.Color(d).getSource(),s=new f.Color(u).getSource(),h=o.onComplete,l=o.onChange;return f.util.animate(f.util.object.extend(o=o||{},{duration:r||500,startValue:i,endValue:s,byValue:s,easing:function(p,w,_,C){return m(w,_,o.colorEasing?o.colorEasing(p,C):1-Math.cos(p/C*(Math.PI/2)))},onComplete:function(p,w,_){if(h)return h(m(s,s,0),w,_)},onChange:function(p,w,_){if(l){if(Array.isArray(p))return l(m(p,p,0),w,_);l(p,w,_)}}}))}}(),function(){function m(he,ie,R,H){return he<Math.abs(ie)?(he=ie,H=R/4):H=0===ie&&0===he?R/(2*Math.PI)*Math.asin(1):R/(2*Math.PI)*Math.asin(ie/he),{a:he,c:ie,p:R,s:H}}function c(he,ie,R){return he.a*Math.pow(2,10*(ie-=1))*Math.sin((ie*R-he.s)*(2*Math.PI)/he.p)}function Ve(he,ie,R,H){return R-Ze(H-he,0,R,H)+ie}function Ze(he,ie,R,H){return(he/=H)<1/2.75?R*(7.5625*he*he)+ie:he<2/2.75?R*(7.5625*(he-=1.5/2.75)*he+.75)+ie:he<2.5/2.75?R*(7.5625*(he-=2.25/2.75)*he+.9375)+ie:R*(7.5625*(he-=2.625/2.75)*he+.984375)+ie}f.util.ease={easeInQuad:function(he,ie,R,H){return R*(he/=H)*he+ie},easeOutQuad:function(he,ie,R,H){return-R*(he/=H)*(he-2)+ie},easeInOutQuad:function(he,ie,R,H){return(he/=H/2)<1?R/2*he*he+ie:-R/2*(--he*(he-2)-1)+ie},easeInCubic:function(he,ie,R,H){return R*(he/=H)*he*he+ie},easeOutCubic:function d(he,ie,R,H){return R*((he=he/H-1)*he*he+1)+ie},easeInOutCubic:function u(he,ie,R,H){return(he/=H/2)<1?R/2*he*he*he+ie:R/2*((he-=2)*he*he+2)+ie},easeInQuart:function r(he,ie,R,H){return R*(he/=H)*he*he*he+ie},easeOutQuart:function o(he,ie,R,H){return-R*((he=he/H-1)*he*he*he-1)+ie},easeInOutQuart:function i(he,ie,R,H){return(he/=H/2)<1?R/2*he*he*he*he+ie:-R/2*((he-=2)*he*he*he-2)+ie},easeInQuint:function s(he,ie,R,H){return R*(he/=H)*he*he*he*he+ie},easeOutQuint:function h(he,ie,R,H){return R*((he=he/H-1)*he*he*he*he+1)+ie},easeInOutQuint:function l(he,ie,R,H){return(he/=H/2)<1?R/2*he*he*he*he*he+ie:R/2*((he-=2)*he*he*he*he+2)+ie},easeInSine:function p(he,ie,R,H){return-R*Math.cos(he/H*(Math.PI/2))+R+ie},easeOutSine:function w(he,ie,R,H){return R*Math.sin(he/H*(Math.PI/2))+ie},easeInOutSine:function _(he,ie,R,H){return-R/2*(Math.cos(Math.PI*he/H)-1)+ie},easeInExpo:function C(he,ie,R,H){return 0===he?ie:R*Math.pow(2,10*(he/H-1))+ie},easeOutExpo:function I(he,ie,R,H){return he===H?ie+R:R*(1-Math.pow(2,-10*he/H))+ie},easeInOutExpo:function k(he,ie,R,H){return 0===he?ie:he===H?ie+R:(he/=H/2)<1?R/2*Math.pow(2,10*(he-1))+ie:R/2*(2-Math.pow(2,-10*--he))+ie},easeInCirc:function z(he,ie,R,H){return-R*(Math.sqrt(1-(he/=H)*he)-1)+ie},easeOutCirc:function ne(he,ie,R,H){return R*Math.sqrt(1-(he=he/H-1)*he)+ie},easeInOutCirc:function fe(he,ie,R,H){return(he/=H/2)<1?-R/2*(Math.sqrt(1-he*he)-1)+ie:R/2*(Math.sqrt(1-(he-=2)*he)+1)+ie},easeInElastic:function ye(he,ie,R,H){var j=0;return 0===he?ie:1==(he/=H)?ie+R:(j||(j=.3*H),-c(m(R,R,j,1.70158),he,H)+ie)},easeOutElastic:function Pe(he,ie,R,H){var j=0;if(0===he)return ie;if(1==(he/=H))return ie+R;j||(j=.3*H);var J=m(R,R,j,1.70158);return J.a*Math.pow(2,-10*he)*Math.sin((he*H-J.s)*(2*Math.PI)/J.p)+J.c+ie},easeInOutElastic:function _e(he,ie,R,H){var j=0;if(0===he)return ie;if(2==(he/=H/2))return ie+R;j||(j=H*(.3*1.5));var J=m(R,R,j,1.70158);return he<1?-.5*c(J,he,H)+ie:J.a*Math.pow(2,-10*(he-=1))*Math.sin((he*H-J.s)*(2*Math.PI)/J.p)*.5+J.c+ie},easeInBack:function we(he,ie,R,H,F){return void 0===F&&(F=1.70158),R*(he/=H)*he*((F+1)*he-F)+ie},easeOutBack:function Ee(he,ie,R,H,F){return void 0===F&&(F=1.70158),R*((he=he/H-1)*he*((F+1)*he+F)+1)+ie},easeInOutBack:function de(he,ie,R,H,F){return void 0===F&&(F=1.70158),(he/=H/2)<1?R/2*(he*he*((1+(F*=1.525))*he-F))+ie:R/2*((he-=2)*he*((1+(F*=1.525))*he+F)+2)+ie},easeInBounce:Ve,easeOutBounce:Ze,easeInOutBounce:function dt(he,ie,R,H){return he<H/2?.5*Ve(2*he,0,R,H)+ie:.5*Ze(2*he-H,0,R,H)+.5*R+ie}}}(),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=c.util.object.extend,u=c.util.object.clone,r=c.util.toFixed,o=c.util.parseUnit,i=c.util.multiplyTransformMatrices,w={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},_={stroke:"strokeOpacity",fill:"fillOpacity"},C="font-size",I="clip-path";function k(j){return j in w?w[j]:j}function z(j,B,J,re){var De,me=Array.isArray(B);if("fill"!==j&&"stroke"!==j||"none"!==B){if("strokeUniform"===j)return"non-scaling-stroke"===B;if("strokeDashArray"===j)B="none"===B?null:B.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===j)B=J&&J.transformMatrix?i(J.transformMatrix,c.parseTransformAttribute(B)):c.parseTransformAttribute(B);else if("visible"===j)B="none"!==B&&"hidden"!==B,J&&!1===J.visible&&(B=!1);else if("opacity"===j)B=parseFloat(B),J&&typeof J.opacity<"u"&&(B*=J.opacity);else if("textAnchor"===j)B="start"===B?"left":"end"===B?"right":"center";else if("charSpacing"===j)De=o(B,re)/re*1e3;else if("paintFirst"===j){var je=B.indexOf("fill"),We=B.indexOf("stroke");B="fill",(je>-1&&We>-1&&We<je||-1===je&&We>-1)&&(B="stroke")}else{if("href"===j||"xlink:href"===j||"font"===j)return B;if("imageSmoothing"===j)return"optimizeQuality"===B;De=me?B.map(o):o(B,re)}}else B="";return!me&&isNaN(De)?B:De}function ne(j){return new RegExp("^("+j.join("|")+")\\b","i")}function ye(j,B){var me,De,je,re=[];for(De=0,je=B.length;De<je;De++)me=j.getElementsByTagName(B[De]),re=re.concat(Array.prototype.slice.call(me));return re}function Ee(j,B){var J,re=!0;return(J=Ve(j,B.pop()))&&B.length&&(re=function de(j,B){for(var J,re=!0;j.parentNode&&1===j.parentNode.nodeType&&B.length;)re&&(J=B.pop()),re=Ve(j=j.parentNode,J);return 0===B.length}(j,B)),J&&re&&0===B.length}function Ve(j,B){var De,je,J=j.nodeName,re=j.getAttribute("class"),me=j.getAttribute("id");if(De=new RegExp("^"+J,"i"),B=B.replace(De,""),me&&B.length&&(De=new RegExp("#"+me+"(?![a-zA-Z\\-]+)","i"),B=B.replace(De,"")),re&&B.length)for(je=(re=re.split(" ")).length;je--;)De=new RegExp("\\."+re[je]+"(?![a-zA-Z\\-]+)","i"),B=B.replace(De,"");return 0===B.length}function Ze(j,B){var J;if(j.getElementById&&(J=j.getElementById(B)),J)return J;var re,me,De,je=j.getElementsByTagName("*");for(me=0,De=je.length;me<De;me++)if(B===(re=je[me]).getAttribute("id"))return re}c.svgValidTagNamesRegEx=ne(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),c.svgViewBoxElementsRegEx=ne(["symbol","image","marker","pattern","view","svg"]),c.svgInvalidAncestorsRegEx=ne(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),c.svgValidParentsRegEx=ne(["symbol","g","a","svg","clipPath","defs"]),c.cssRules={},c.gradientDefs={},c.clipPaths={},c.parseTransformAttribute=function(){function J(Xe,Ne,yt){Xe[yt]=Math.tan(c.util.degreesToRadians(Ne[0]))}var me=c.iMatrix,De=c.reNum,je=c.commaWsp,$e="(?:(?:(matrix)\\s*\\(\\s*("+De+")"+je+"("+De+")"+je+"("+De+")"+je+"("+De+")"+je+"("+De+")"+je+"("+De+")\\s*\\))|(?:(translate)\\s*\\(\\s*("+De+")(?:"+je+"("+De+"))?\\s*\\))|(?:(scale)\\s*\\(\\s*("+De+")(?:"+je+"("+De+"))?\\s*\\))|(?:(rotate)\\s*\\(\\s*("+De+")(?:"+je+"("+De+")"+je+"("+De+"))?\\s*\\))|(?:(skewX)\\s*\\(\\s*("+De+")\\s*\\))|(?:(skewY)\\s*\\(\\s*("+De+")\\s*\\)))",be=new RegExp("^\\s*(?:(?:"+$e+"(?:"+je+"*"+$e+")*)?)\\s*$"),ze=new RegExp($e,"g");return function(Xe){var Ne=me.concat(),yt=[];if(!Xe||Xe&&!be.test(Xe))return Ne;Xe.replace(ze,function(Ct){var Pt=new RegExp($e).exec(Ct).filter(function(Jn){return!!Jn}),Gt=Pt[1],Tn=Pt.slice(2).map(parseFloat);switch(Gt){case"translate":!function re(Xe,Ne){Xe[4]=Ne[0],2===Ne.length&&(Xe[5]=Ne[1])}(Ne,Tn);break;case"rotate":Tn[0]=c.util.degreesToRadians(Tn[0]),function j(Xe,Ne){var yt=c.util.cos(Ne[0]),ot=c.util.sin(Ne[0]),Ct=0,Pt=0;3===Ne.length&&(Ct=Ne[1],Pt=Ne[2]),Xe[0]=yt,Xe[1]=ot,Xe[2]=-ot,Xe[3]=yt,Xe[4]=Ct-(yt*Ct-ot*Pt),Xe[5]=Pt-(ot*Ct+yt*Pt)}(Ne,Tn);break;case"scale":!function B(Xe,Ne){var ot=2===Ne.length?Ne[1]:Ne[0];Xe[0]=Ne[0],Xe[3]=ot}(Ne,Tn);break;case"skewX":J(Ne,Tn,2);break;case"skewY":J(Ne,Tn,1);break;case"matrix":Ne=Tn}yt.push(Ne.concat()),Ne=me.concat()});for(var ot=yt[0];yt.length>1;)yt.shift(),ot=c.util.multiplyTransformMatrices(ot,yt[0]);return ot}}();var he=new RegExp("^\\s*("+c.reNum+"+)\\s*,?\\s*("+c.reNum+"+)\\s*,?\\s*("+c.reNum+"+)\\s*,?\\s*("+c.reNum+"+)\\s*$");function ie(j){if(!c.svgViewBoxElementsRegEx.test(j.nodeName))return{};var me,De,je,We,it,Be,B=j.getAttribute("viewBox"),J=1,re=1,Ue=j.getAttribute("width"),ht=j.getAttribute("height"),Lt=j.getAttribute("x")||0,$e=j.getAttribute("y")||0,Ke=j.getAttribute("preserveAspectRatio")||"",pt=!B||!(B=B.match(he)),be=!Ue||!ht||"100%"===Ue||"100%"===ht,ze=pt&&be,Xe={},Ne="",yt=0,ot=0;if(Xe.width=0,Xe.height=0,Xe.toBeParsed=ze,pt&&(Lt||$e)&&j.parentNode&&"#document"!==j.parentNode.nodeName&&(Ne=" translate("+o(Lt)+" "+o($e)+") ",it=(j.getAttribute("transform")||"")+Ne,j.setAttribute("transform",it),j.removeAttribute("x"),j.removeAttribute("y")),ze)return Xe;if(pt)return Xe.width=o(Ue),Xe.height=o(ht),Xe;if(me=-parseFloat(B[1]),De=-parseFloat(B[2]),je=parseFloat(B[3]),We=parseFloat(B[4]),Xe.minX=me,Xe.minY=De,Xe.viewBoxWidth=je,Xe.viewBoxHeight=We,be?(Xe.width=je,Xe.height=We):(Xe.width=o(Ue),Xe.height=o(ht),J=Xe.width/je,re=Xe.height/We),"none"!==(Ke=c.util.parsePreserveAspectRatioAttribute(Ke)).alignX&&("meet"===Ke.meetOrSlice&&(re=J=J>re?re:J),"slice"===Ke.meetOrSlice&&(re=J=J>re?J:re),yt=Xe.width-je*J,ot=Xe.height-We*J,"Mid"===Ke.alignX&&(yt/=2),"Mid"===Ke.alignY&&(ot/=2),"Min"===Ke.alignX&&(yt=0),"Min"===Ke.alignY&&(ot=0)),1===J&&1===re&&0===me&&0===De&&0===Lt&&0===$e)return Xe;if((Lt||$e)&&"#document"!==j.parentNode.nodeName&&(Ne=" translate("+o(Lt)+" "+o($e)+") "),it=Ne+" matrix("+J+" 0 0 "+re+" "+(me*J+yt)+" "+(De*re+ot)+") ","svg"===j.nodeName){for(Be=j.ownerDocument.createElementNS(c.svgNS,"g");j.firstChild;)Be.appendChild(j.firstChild);j.appendChild(Be)}else(Be=j).removeAttribute("x"),Be.removeAttribute("y"),it=Be.getAttribute("transform")+it;return Be.setAttribute("transform",it),Xe}function H(j,B){var re="xlink:href",De=Ze(j,B.getAttribute(re).slice(1));if(De&&De.getAttribute(re)&&H(j,De),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach(function(We){De&&!B.hasAttribute(We)&&De.hasAttribute(We)&&B.setAttribute(We,De.getAttribute(We))}),!B.children.length)for(var je=De.cloneNode(!0);je.firstChild;)B.appendChild(je.firstChild);B.removeAttribute(re)}c.parseSVGDocument=function(j,B,J,re){if(j){!function dt(j){for(var B=ye(j,["use","svg:use"]),J=0;B.length&&J<B.length;){var re=B[J],me=re.getAttribute("xlink:href")||re.getAttribute("href");if(null===me)return;var Lt,$e,Ke,pt,De=me.slice(1),je=re.getAttribute("x")||0,We=re.getAttribute("y")||0,it=Ze(j,De).cloneNode(!0),Be=(it.getAttribute("transform")||"")+" translate("+je+", "+We+")",ht=B.length,be=c.svgNS;if(ie(it),/^svg$/i.test(it.nodeName)){var ze=it.ownerDocument.createElementNS(be,"g");for($e=0,pt=(Ke=it.attributes).length;$e<pt;$e++)Lt=Ke.item($e),ze.setAttributeNS(be,Lt.nodeName,Lt.nodeValue);for(;it.firstChild;)ze.appendChild(it.firstChild);it=ze}for($e=0,pt=(Ke=re.attributes).length;$e<pt;$e++)"x"!==(Lt=Ke.item($e)).nodeName&&"y"!==Lt.nodeName&&"xlink:href"!==Lt.nodeName&&"href"!==Lt.nodeName&&("transform"===Lt.nodeName?Be=Lt.nodeValue+" "+Be:it.setAttribute(Lt.nodeName,Lt.nodeValue));it.setAttribute("transform",Be),it.setAttribute("instantiated_by_use","1"),it.removeAttribute("id"),re.parentNode.replaceChild(it,re),B.length===ht&&J++}}(j);var De,je,me=c.Object.__uid++,We=ie(j),it=c.util.toArray(j.getElementsByTagName("*"));if(We.crossOrigin=re&&re.crossOrigin,We.svgUid=me,0===it.length&&c.isLikelyNode){var Be=[];for(De=0,je=(it=j.selectNodes('//*[name(.)!="svg"]')).length;De<je;De++)Be[De]=it[De];it=Be}var Ue=it.filter(function(Lt){return ie(Lt),c.svgValidTagNamesRegEx.test(Lt.nodeName.replace("svg:",""))&&!function R(j,B){for(;j&&(j=j.parentNode);)if(j.nodeName&&B.test(j.nodeName.replace("svg:",""))&&!j.getAttribute("instantiated_by_use"))return!0;return!1}(Lt,c.svgInvalidAncestorsRegEx)});if(!Ue||Ue&&!Ue.length)return void(B&&B([],{}));var ht={};it.filter(function(Lt){return"clipPath"===Lt.nodeName.replace("svg:","")}).forEach(function(Lt){var $e=Lt.getAttribute("id");ht[$e]=c.util.toArray(Lt.getElementsByTagName("*")).filter(function(Ke){return c.svgValidTagNamesRegEx.test(Ke.nodeName.replace("svg:",""))})}),c.gradientDefs[me]=c.getGradientDefs(j),c.cssRules[me]=c.getCSSRules(j),c.clipPaths[me]=ht,c.parseElements(Ue,function(Lt,$e){B&&(B(Lt,We,$e,it),delete c.gradientDefs[me],delete c.cssRules[me],delete c.clipPaths[me])},u(We),J,re)}};var F=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+c.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+c.reNum+"))?\\s+(.*)");d(c,{parseFontDeclaration:function(j,B){var J=j.match(F);if(J){var re=J[1],me=J[3],De=J[4],je=J[5],We=J[6];re&&(B.fontStyle=re),me&&(B.fontWeight=isNaN(parseFloat(me))?me:parseFloat(me)),De&&(B.fontSize=o(De)),We&&(B.fontFamily=We),je&&(B.lineHeight="normal"===je?1:je)}},getGradientDefs:function(j){var re,J=ye(j,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),me=0,De={};for(me=J.length;me--;)(re=J[me]).getAttribute("xlink:href")&&H(j,re),De[re.getAttribute("id")]=re;return De},parseAttributes:function(j,B,J){if(j){var re,De,je,me={};typeof J>"u"&&(J=j.getAttribute("svgUid")),j.parentNode&&c.svgValidParentsRegEx.test(j.parentNode.nodeName)&&(me=c.parseAttributes(j.parentNode,B,J));var We=B.reduce(function(Ke,pt){return(re=j.getAttribute(pt))&&(Ke[pt]=re),Ke},{}),it=d(function we(j,B){var J={};for(var re in c.cssRules[B])if(Ee(j,re.split(" ")))for(var me in c.cssRules[B][re])J[me]=c.cssRules[B][re][me];return J}(j,J),c.parseStyleAttribute(j));We=d(We,it),it[I]&&j.setAttribute(I,it[I]),De=je=me.fontSize||c.Text.DEFAULT_SVG_FONT_SIZE,We[C]&&(We[C]=De=o(We[C],je));var Be,Ue,ht={};for(var Lt in We)Ue=z(Be=k(Lt),We[Lt],me,De),ht[Be]=Ue;ht&&ht.font&&c.parseFontDeclaration(ht.font,ht);var $e=d(me,ht);return c.svgValidParentsRegEx.test(j.nodeName)?$e:function fe(j){for(var B in _)if(!(typeof j[_[B]]>"u"||""===j[B])){if(typeof j[B]>"u"){if(!c.Object.prototype[B])continue;j[B]=c.Object.prototype[B]}if(0!==j[B].indexOf("url(")){var J=new c.Color(j[B]);j[B]=J.setAlpha(r(J.getAlpha()*j[_[B]],2)).toRgba()}}return j}($e)}},parseElements:function(j,B,J,re,me){new c.ElementsParser(j,B,J,re,me).parse()},parseStyleAttribute:function(j){var B={},J=j.getAttribute("style");return J&&("string"==typeof J?function Pe(j,B){var J,re;j.replace(/;\s*$/,"").split(";").forEach(function(me){var De=me.split(":");J=De[0].trim().toLowerCase(),re=De[1].trim(),B[J]=re})}(J,B):function _e(j,B){for(var me in j)typeof j[me]>"u"||(B[me.toLowerCase()]=j[me])}(J,B)),B},parsePointsAttribute:function(j){if(!j)return null;var J,re,B=[];for(J=0,re=(j=(j=j.replace(/,/g," ").trim()).split(/\s+/)).length;J<re;J+=2)B.push({x:parseFloat(j[J]),y:parseFloat(j[J+1])});return B},getCSSRules:function(j){var J,re,B=j.getElementsByTagName("style"),me={};for(J=0,re=B.length;J<re;J++){var je=B[J].textContent;""!==(je=je.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&je.split("}").filter(function(We){return We.trim()}).forEach(function(We){var it=We.split("{"),Be={},ht=it[1].trim().split(";").filter(function(pt){return pt.trim()});for(J=0,re=ht.length;J<re;J++){var Lt=ht[J].split(":"),$e=Lt[0].trim(),Ke=Lt[1].trim();Be[$e]=Ke}(We=it[0].trim()).split(",").forEach(function(pt){""!==(pt=pt.replace(/^svg/i,"").trim())&&(me[pt]?c.util.object.extend(me[pt],Be):me[pt]=c.util.object.clone(Be))})})}return me},loadSVGFromURL:function(j,B,J,re){j=j.replace(/^\n\s*/,"").trim(),new c.util.request(j,{method:"get",onComplete:function me(De){var je=De.responseXML;if(!je||!je.documentElement)return B&&B(null),!1;c.parseSVGDocument(je.documentElement,function(We,it,Be,Ue){B&&B(We,it,Be,Ue)},J,re)}})},loadSVGFromString:function(j,B,J,re){var De=(new c.window.DOMParser).parseFromString(j.trim(),"text/xml");c.parseSVGDocument(De.documentElement,function(je,We,it,Be){B(je,We,it,Be)},J,re)}})}(ue),f.ElementsParser=function(m,c,d,u,r,o){this.elements=m,this.callback=c,this.options=d,this.reviver=u,this.svgUid=d&&d.svgUid||0,this.parsingOptions=r,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=o},function(m){m.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},m.createObjects=function(){var c=this;this.elements.forEach(function(d,u){d.setAttribute("svgUid",c.svgUid),c.createObject(d,u)})},m.findTag=function(c){return f[f.util.string.capitalize(c.tagName.replace("svg:",""))]},m.createObject=function(c,d){var u=this.findTag(c);if(u&&u.fromElement)try{u.fromElement(c,this.createCallback(d,c),this.options)}catch(r){f.log(r)}else this.checkIfDone()},m.createCallback=function(c,d){var u=this;return function(r){var o;u.resolveGradient(r,d,"fill"),u.resolveGradient(r,d,"stroke"),r instanceof f.Image&&r._originalElement&&(o=r.parsePreserveAspectRatioAttribute(d)),r._removeTransformMatrix(o),u.resolveClipPath(r,d),u.reviver&&u.reviver(d,r),u.instances[c]=r,u.checkIfDone()}},m.extractPropertyDefinition=function(c,d,u){var r=c[d],o=this.regexUrl;if(o.test(r)){o.lastIndex=0;var i=o.exec(r)[1];return o.lastIndex=0,f[u][this.svgUid][i]}},m.resolveGradient=function(c,d,u){var r=this.extractPropertyDefinition(c,u,"gradientDefs");if(r){var o=d.getAttribute(u+"-opacity"),i=f.Gradient.fromElement(r,c,o,this.options);c.set(u,i)}},m.createClipPathCallback=function(c,d){return function(u){u._removeTransformMatrix(),u.fillRule=u.clipRule,d.push(u)}},m.resolveClipPath=function(c,d){var r,i,s,h,u=this.extractPropertyDefinition(c,"clipPath","clipPaths");if(u){s=[],i=f.util.invertTransform(c.calcTransformMatrix());for(var p=u[0].parentNode,w=d;w.parentNode&&w.getAttribute("clip-path")!==c.clipPath;)w=w.parentNode;w.parentNode.appendChild(p);for(var _=0;_<u.length;_++)this.findTag(r=u[_]).fromElement(r,this.createClipPathCallback(c,s),this.options);u=1===s.length?s[0]:new f.Group(s),h=f.util.multiplyTransformMatrices(i,u.calcTransformMatrix()),u.clipPath&&this.resolveClipPath(u,w);var l=f.util.qrDecompose(h);u.flipX=!1,u.flipY=!1,u.set("scaleX",l.scaleX),u.set("scaleY",l.scaleY),u.angle=l.angle,u.skewX=l.skewX,u.skewY=0,u.setPositionByOrigin({x:l.translateX,y:l.translateY},"center","center"),c.clipPath=u}else delete c.clipPath},m.checkIfDone=function(){0==--this.numElements&&(this.instances=this.instances.filter(function(c){return null!=c}),this.callback(this.instances,this.elements))}}(f.ElementsParser.prototype),function(m){"use strict";var c=m.fabric||(m.fabric={});function d(u,r){this.x=u,this.y=r}c.Point?c.warn("fabric.Point is already defined"):(c.Point=d,d.prototype={type:"point",constructor:d,add:function(u){return new d(this.x+u.x,this.y+u.y)},addEquals:function(u){return this.x+=u.x,this.y+=u.y,this},scalarAdd:function(u){return new d(this.x+u,this.y+u)},scalarAddEquals:function(u){return this.x+=u,this.y+=u,this},subtract:function(u){return new d(this.x-u.x,this.y-u.y)},subtractEquals:function(u){return this.x-=u.x,this.y-=u.y,this},scalarSubtract:function(u){return new d(this.x-u,this.y-u)},scalarSubtractEquals:function(u){return this.x-=u,this.y-=u,this},multiply:function(u){return new d(this.x*u,this.y*u)},multiplyEquals:function(u){return this.x*=u,this.y*=u,this},divide:function(u){return new d(this.x/u,this.y/u)},divideEquals:function(u){return this.x/=u,this.y/=u,this},eq:function(u){return this.x===u.x&&this.y===u.y},lt:function(u){return this.x<u.x&&this.y<u.y},lte:function(u){return this.x<=u.x&&this.y<=u.y},gt:function(u){return this.x>u.x&&this.y>u.y},gte:function(u){return this.x>=u.x&&this.y>=u.y},lerp:function(u,r){return typeof r>"u"&&(r=.5),r=Math.max(Math.min(1,r),0),new d(this.x+(u.x-this.x)*r,this.y+(u.y-this.y)*r)},distanceFrom:function(u){var r=this.x-u.x,o=this.y-u.y;return Math.sqrt(r*r+o*o)},midPointFrom:function(u){return this.lerp(u)},min:function(u){return new d(Math.min(this.x,u.x),Math.min(this.y,u.y))},max:function(u){return new d(Math.max(this.x,u.x),Math.max(this.y,u.y))},toString:function(){return this.x+","+this.y},setXY:function(u,r){return this.x=u,this.y=r,this},setX:function(u){return this.x=u,this},setY:function(u){return this.y=u,this},setFromPoint:function(u){return this.x=u.x,this.y=u.y,this},swap:function(u){var r=this.x,o=this.y;this.x=u.x,this.y=u.y,u.x=r,u.y=o},clone:function(){return new d(this.x,this.y)}})}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={});function d(u){this.status=u,this.points=[]}c.Intersection?c.warn("fabric.Intersection is already defined"):(c.Intersection=d,c.Intersection.prototype={constructor:d,appendPoint:function(u){return this.points.push(u),this},appendPoints:function(u){return this.points=this.points.concat(u),this}},c.Intersection.intersectLineLine=function(u,r,o,i){var s,h=(i.x-o.x)*(u.y-o.y)-(i.y-o.y)*(u.x-o.x),l=(r.x-u.x)*(u.y-o.y)-(r.y-u.y)*(u.x-o.x),p=(i.y-o.y)*(r.x-u.x)-(i.x-o.x)*(r.y-u.y);if(0!==p){var w=h/p,_=l/p;0<=w&&w<=1&&0<=_&&_<=1?(s=new d("Intersection")).appendPoint(new c.Point(u.x+w*(r.x-u.x),u.y+w*(r.y-u.y))):s=new d}else s=new d(0===h||0===l?"Coincident":"Parallel");return s},c.Intersection.intersectLinePolygon=function(u,r,o){var p,w,i=new d,s=o.length;for(w=0;w<s;w++)p=d.intersectLineLine(u,r,o[w],o[(w+1)%s]),i.appendPoints(p.points);return i.points.length>0&&(i.status="Intersection"),i},c.Intersection.intersectPolygonPolygon=function(u,r){var s,o=new d,i=u.length;for(s=0;s<i;s++){var p=d.intersectLinePolygon(u[s],u[(s+1)%i],r);o.appendPoints(p.points)}return o.points.length>0&&(o.status="Intersection"),o},c.Intersection.intersectPolygonRectangle=function(u,r,o){var i=r.min(o),s=r.max(o),h=new c.Point(s.x,i.y),l=new c.Point(i.x,s.y),p=d.intersectLinePolygon(i,h,u),w=d.intersectLinePolygon(h,s,u),_=d.intersectLinePolygon(s,l,u),C=d.intersectLinePolygon(l,i,u),I=new d;return I.appendPoints(p.points),I.appendPoints(w.points),I.appendPoints(_.points),I.appendPoints(C.points),I.points.length>0&&(I.status="Intersection"),I})}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={});function d(r){r?this._tryParsingColor(r):this.setSource([0,0,0,1])}function u(r,o,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?r+6*(o-r)*i:i<.5?o:i<2/3?r+(o-r)*(2/3-i)*6:r}c.Color?c.warn("fabric.Color is already defined."):(c.Color=d,c.Color.prototype={_tryParsingColor:function(r){var o;r in d.colorNameMap&&(r=d.colorNameMap[r]),"transparent"===r&&(o=[255,255,255,0]),o||(o=d.sourceFromHex(r)),o||(o=d.sourceFromRgb(r)),o||(o=d.sourceFromHsl(r)),o||(o=[0,0,0,1]),o&&this.setSource(o)},_rgbToHsl:function(r,o,i){var s,h,l,p=c.util.array.max([r/=255,o/=255,i/=255]),w=c.util.array.min([r,o,i]);if(l=(p+w)/2,p===w)s=h=0;else{var _=p-w;switch(h=l>.5?_/(2-p-w):_/(p+w),p){case r:s=(o-i)/_+(o<i?6:0);break;case o:s=(i-r)/_+2;break;case i:s=(r-o)/_+4}s/=6}return[Math.round(360*s),Math.round(100*h),Math.round(100*l)]},getSource:function(){return this._source},setSource:function(r){this._source=r},toRgb:function(){var r=this.getSource();return"rgb("+r[0]+","+r[1]+","+r[2]+")"},toRgba:function(){var r=this.getSource();return"rgba("+r[0]+","+r[1]+","+r[2]+","+r[3]+")"},toHsl:function(){var r=this.getSource(),o=this._rgbToHsl(r[0],r[1],r[2]);return"hsl("+o[0]+","+o[1]+"%,"+o[2]+"%)"},toHsla:function(){var r=this.getSource(),o=this._rgbToHsl(r[0],r[1],r[2]);return"hsla("+o[0]+","+o[1]+"%,"+o[2]+"%,"+r[3]+")"},toHex:function(){var o,i,s,r=this.getSource();return o=1===(o=r[0].toString(16)).length?"0"+o:o,i=1===(i=r[1].toString(16)).length?"0"+i:i,s=1===(s=r[2].toString(16)).length?"0"+s:s,o.toUpperCase()+i.toUpperCase()+s.toUpperCase()},toHexa:function(){var o,r=this.getSource();return o=1===(o=(o=Math.round(255*r[3])).toString(16)).length?"0"+o:o,this.toHex()+o.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(r){var o=this.getSource();return o[3]=r,this.setSource(o),this},toGrayscale:function(){var r=this.getSource(),o=parseInt((.3*r[0]+.59*r[1]+.11*r[2]).toFixed(0),10);return this.setSource([o,o,o,r[3]]),this},toBlackWhite:function(r){var o=this.getSource(),i=(.3*o[0]+.59*o[1]+.11*o[2]).toFixed(0),s=o[3];return r=r||127,i=Number(i)<Number(r)?0:255,this.setSource([i,i,i,s]),this},overlayWith:function(r){r instanceof d||(r=new d(r));var p,o=[],i=this.getAlpha(),h=this.getSource(),l=r.getSource();for(p=0;p<3;p++)o.push(Math.round(.5*h[p]+.5*l[p]));return o[3]=i,this.setSource(o),this}},c.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,c.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,c.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,c.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},c.Color.fromRgb=function(r){return d.fromSource(d.sourceFromRgb(r))},c.Color.sourceFromRgb=function(r){var o=r.match(d.reRGBa);if(o){var i=parseInt(o[1],10)/(/%$/.test(o[1])?100:1)*(/%$/.test(o[1])?255:1),s=parseInt(o[2],10)/(/%$/.test(o[2])?100:1)*(/%$/.test(o[2])?255:1),h=parseInt(o[3],10)/(/%$/.test(o[3])?100:1)*(/%$/.test(o[3])?255:1);return[parseInt(i,10),parseInt(s,10),parseInt(h,10),o[4]?parseFloat(o[4]):1]}},c.Color.fromRgba=d.fromRgb,c.Color.fromHsl=function(r){return d.fromSource(d.sourceFromHsl(r))},c.Color.sourceFromHsl=function(r){var o=r.match(d.reHSLa);if(o){var l,p,w,i=(parseFloat(o[1])%360+360)%360/360,s=parseFloat(o[2])/(/%$/.test(o[2])?100:1),h=parseFloat(o[3])/(/%$/.test(o[3])?100:1);if(0===s)l=p=w=h;else{var _=h<=.5?h*(s+1):h+s-h*s,C=2*h-_;l=u(C,_,i+1/3),p=u(C,_,i),w=u(C,_,i-1/3)}return[Math.round(255*l),Math.round(255*p),Math.round(255*w),o[4]?parseFloat(o[4]):1]}},c.Color.fromHsla=d.fromHsl,c.Color.fromHex=function(r){return d.fromSource(d.sourceFromHex(r))},c.Color.sourceFromHex=function(r){if(r.match(d.reHex)){var o=r.slice(r.indexOf("#")+1),i=3===o.length||4===o.length,s=8===o.length||4===o.length,h=i?o.charAt(0)+o.charAt(0):o.substring(0,2),l=i?o.charAt(1)+o.charAt(1):o.substring(2,4),p=i?o.charAt(2)+o.charAt(2):o.substring(4,6),w=s?i?o.charAt(3)+o.charAt(3):o.substring(6,8):"FF";return[parseInt(h,16),parseInt(l,16),parseInt(p,16),parseFloat((parseInt(w,16)/255).toFixed(2))]}},c.Color.fromSource=function(r){var o=new d;return o.setSource(r),o})}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=["e","se","s","sw","w","nw","n","ne","e"],u=["ns","nesw","ew","nwse"],r={},o="left",i="top",s="right",h="bottom",l="center",p={top:h,bottom:i,left:s,right:o,center:l},w=c.util.radiansToDegrees,_=Math.sign||function(Be){return(Be>0)-(Be<0)||+Be};function C(Be,Ue){var ht=Be.angle+w(Math.atan2(Ue.y,Ue.x))+360;return Math.round(ht%360/45)}function I(Be,Ue){var ht=Ue.transform.target,Lt=ht.canvas,$e=c.util.object.clone(Ue);$e.target=ht,Lt&&Lt.fire("object:"+Be,$e),ht.fire(Be,Ue)}function k(Be,Ue){var ht=Ue.canvas,$e=Be[ht.uniScaleKey];return ht.uniformScaling&&!$e||!ht.uniformScaling&&$e}function z(Be){return Be.originX===l&&Be.originY===l}function ne(Be,Ue,ht){var Lt=Be.lockScalingX,$e=Be.lockScalingY;return!!(Lt&&$e||!Ue&&(Lt||$e)&&ht||Lt&&"x"===Ue||$e&&"y"===Ue)}function Ee(Be,Ue,ht,Lt){return{e:Be,transform:Ue,pointer:{x:ht,y:Lt}}}function de(Be){return function(Ue,ht,Lt,$e){var Ke=ht.target,pt=Ke.getCenterPoint(),be=Ke.translateToOriginPoint(pt,ht.originX,ht.originY),ze=Be(Ue,ht,Lt,$e);return Ke.setPositionByOrigin(be,ht.originX,ht.originY),ze}}function Ve(Be,Ue){return function(ht,Lt,$e,Ke){var pt=Ue(ht,Lt,$e,Ke);return pt&&I(Be,Ee(ht,Lt,$e,Ke)),pt}}function Ze(Be,Ue,ht,Lt,$e){var Ke=Be.target,pt=Ke.controls[Be.corner],be=Ke.canvas.getZoom(),ze=Ke.padding/be,Xe=Ke.toLocalPoint(new c.Point(Lt,$e),Ue,ht);return Xe.x>=ze&&(Xe.x-=ze),Xe.x<=-ze&&(Xe.x+=ze),Xe.y>=ze&&(Xe.y-=ze),Xe.y<=ze&&(Xe.y+=ze),Xe.x-=pt.offsetX,Xe.y-=pt.offsetY,Xe}function dt(Be){return Be.flipX!==Be.flipY}function he(Be,Ue,ht,Lt,$e){if(0!==Be[Ue]){var Ke=Be._getTransformedDimensions()[Lt];Be.set(ht,$e/Ke*Be[ht])}}function ie(Be,Ue,ht,Lt){var Xe,$e=Ue.target,Ke=$e._getTransformedDimensions(0,$e.skewY),pt=Ze(Ue,Ue.originX,Ue.originY,ht,Lt),be=Math.abs(2*pt.x)-Ke.x,ze=$e.skewX;be<2?Xe=0:(Xe=w(Math.atan2(be/$e.scaleX,Ke.y/$e.scaleY)),Ue.originX===o&&Ue.originY===h&&(Xe=-Xe),Ue.originX===s&&Ue.originY===i&&(Xe=-Xe),dt($e)&&(Xe=-Xe));var Ne=ze!==Xe;if(Ne){var yt=$e._getTransformedDimensions().y;$e.set("skewX",Xe),he($e,"skewY","scaleY","y",yt)}return Ne}function R(Be,Ue,ht,Lt){var Xe,$e=Ue.target,Ke=$e._getTransformedDimensions($e.skewX,0),pt=Ze(Ue,Ue.originX,Ue.originY,ht,Lt),be=Math.abs(2*pt.y)-Ke.y,ze=$e.skewY;be<2?Xe=0:(Xe=w(Math.atan2(be/$e.scaleY,Ke.x/$e.scaleX)),Ue.originX===o&&Ue.originY===h&&(Xe=-Xe),Ue.originX===s&&Ue.originY===i&&(Xe=-Xe),dt($e)&&(Xe=-Xe));var Ne=ze!==Xe;if(Ne){var yt=$e._getTransformedDimensions().x;$e.set("skewY",Xe),he($e,"skewX","scaleX","x",yt)}return Ne}function B(Be,Ue,ht,Lt,$e){var Xe,Ne,yt,ot,Gt,Tn,Ke=Ue.target,pt=Ke.lockScalingX,be=Ke.lockScalingY,ze=($e=$e||{}).by,Ct=k(Be,Ke),Pt=ne(Ke,ze,Ct),Jn=Ue.gestureScale;if(Pt)return!1;if(Jn)Ne=Ue.scaleX*Jn,yt=Ue.scaleY*Jn;else{if(Xe=Ze(Ue,Ue.originX,Ue.originY,ht,Lt),Gt="y"!==ze?_(Xe.x):1,Tn="x"!==ze?_(Xe.y):1,Ue.signX||(Ue.signX=Gt),Ue.signY||(Ue.signY=Tn),Ke.lockScalingFlip&&(Ue.signX!==Gt||Ue.signY!==Tn))return!1;if(ot=Ke._getTransformedDimensions(),Ct&&!ze){var Nt=Math.abs(Xe.x)+Math.abs(Xe.y),Ye=Ue.original,Bt=Nt/(Math.abs(ot.x*Ye.scaleX/Ke.scaleX)+Math.abs(ot.y*Ye.scaleY/Ke.scaleY));Ne=Ye.scaleX*Bt,yt=Ye.scaleY*Bt}else Ne=Math.abs(Xe.x*Ke.scaleX/ot.x),yt=Math.abs(Xe.y*Ke.scaleY/ot.y);z(Ue)&&(Ne*=2,yt*=2),Ue.signX!==Gt&&"y"!==ze&&(Ue.originX=p[Ue.originX],Ne*=-1,Ue.signX=Gt),Ue.signY!==Tn&&"x"!==ze&&(Ue.originY=p[Ue.originY],yt*=-1,Ue.signY=Tn)}var Kt=Ke.scaleX,bn=Ke.scaleY;return ze?("x"===ze&&Ke.set("scaleX",Ne),"y"===ze&&Ke.set("scaleY",yt)):(!pt&&Ke.set("scaleX",Ne),!be&&Ke.set("scaleY",yt)),Kt!==Ke.scaleX||bn!==Ke.scaleY}r.scaleCursorStyleHandler=function fe(Be,Ue,ht){var $e=k(Be,ht),Ke="";if(0!==Ue.x&&0===Ue.y?Ke="x":0===Ue.x&&0!==Ue.y&&(Ke="y"),ne(ht,Ke,$e))return"not-allowed";var pt=C(ht,Ue);return d[pt]+"-resize"},r.skewCursorStyleHandler=function ye(Be,Ue,ht){if(0!==Ue.x&&ht.lockSkewingY||0!==Ue.y&&ht.lockSkewingX)return"not-allowed";var $e=C(ht,Ue)%4;return u[$e]+"-resize"},r.scaleSkewCursorStyleHandler=function Pe(Be,Ue,ht){return Be[ht.canvas.altActionKey]?r.skewCursorStyleHandler(Be,Ue,ht):r.scaleCursorStyleHandler(Be,Ue,ht)},r.rotationWithSnapping=Ve("rotating",de(function j(Be,Ue,ht,Lt){var $e=Ue,Ke=$e.target,pt=Ke.translateToOriginPoint(Ke.getCenterPoint(),$e.originX,$e.originY);if(Ke.lockRotation)return!1;var Ne,be=Math.atan2($e.ey-pt.y,$e.ex-pt.x),ze=Math.atan2(Lt-pt.y,ht-pt.x),Xe=w(ze-be+$e.theta);if(Ke.snapAngle>0){var yt=Ke.snapAngle,ot=Ke.snapThreshold||yt,Ct=Math.ceil(Xe/yt)*yt,Pt=Math.floor(Xe/yt)*yt;Math.abs(Xe-Pt)<ot?Xe=Pt:Math.abs(Xe-Ct)<ot&&(Xe=Ct)}return Xe<0&&(Xe=360+Xe),Ne=Ke.angle!==(Xe%=360),Ke.angle=Xe,Ne})),r.scalingEqually=Ve("scaling",de(function J(Be,Ue,ht,Lt){return B(Be,Ue,ht,Lt)})),r.scalingX=Ve("scaling",de(function re(Be,Ue,ht,Lt){return B(Be,Ue,ht,Lt,{by:"x"})})),r.scalingY=Ve("scaling",de(function me(Be,Ue,ht,Lt){return B(Be,Ue,ht,Lt,{by:"y"})})),r.scalingYOrSkewingX=function De(Be,Ue,ht,Lt){return Be[Ue.target.canvas.altActionKey]?r.skewHandlerX(Be,Ue,ht,Lt):r.scalingY(Be,Ue,ht,Lt)},r.scalingXOrSkewingY=function je(Be,Ue,ht,Lt){return Be[Ue.target.canvas.altActionKey]?r.skewHandlerY(Be,Ue,ht,Lt):r.scalingX(Be,Ue,ht,Lt)},r.changeWidth=Ve("resizing",de(function We(Be,Ue,ht,Lt){var $e=Ue.target,Ke=Ze(Ue,Ue.originX,Ue.originY,ht,Lt),pt=$e.strokeWidth/($e.strokeUniform?$e.scaleX:1),be=z(Ue)?2:1,ze=$e.width,Xe=Math.abs(Ke.x*be/$e.scaleX)-pt;return $e.set("width",Math.max(Xe,0)),ze!==Xe})),r.skewHandlerX=function H(Be,Ue,ht,Lt){var pt,$e=Ue.target,Ke=$e.skewX,be=Ue.originY;return!$e.lockSkewingX&&(0===Ke?pt=Ze(Ue,l,l,ht,Lt).x>0?o:s:(Ke>0&&(pt=be===i?o:s),Ke<0&&(pt=be===i?s:o),dt($e)&&(pt=pt===o?s:o)),Ue.originX=pt,Ve("skewing",de(ie))(Be,Ue,ht,Lt))},r.skewHandlerY=function F(Be,Ue,ht,Lt){var pt,$e=Ue.target,Ke=$e.skewY,be=Ue.originX;return!$e.lockSkewingY&&(0===Ke?pt=Ze(Ue,l,l,ht,Lt).y>0?i:h:(Ke>0&&(pt=be===o?i:h),Ke<0&&(pt=be===o?h:i),dt($e)&&(pt=pt===i?h:i)),Ue.originY=pt,Ve("skewing",de(R))(Be,Ue,ht,Lt))},r.dragHandler=function it(Be,Ue,ht,Lt){var $e=Ue.target,Ke=ht-Ue.offsetX,pt=Lt-Ue.offsetY,be=!$e.get("lockMovementX")&&$e.left!==Ke,ze=!$e.get("lockMovementY")&&$e.top!==pt;return be&&$e.set("left",Ke),ze&&$e.set("top",pt),(be||ze)&&I("moving",Ee(Be,Ue,ht,Lt)),be||ze},r.scaleOrSkewActionName=function _e(Be,Ue,ht){var Lt=Be[ht.canvas.altActionKey];return 0===Ue.x?Lt?"skewX":"scaleY":0===Ue.y?Lt?"skewY":"scaleX":void 0},r.rotationStyleHandler=function we(Be,Ue,ht){return ht.lockRotation?"not-allowed":Ue.cursorStyle},r.fireEvent=I,r.wrapWithFixedAnchor=de,r.wrapWithFireEvent=Ve,r.getLocalPoint=Ze,c.controlsUtils=r}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=c.util.degreesToRadians,u=c.controlsUtils;u.renderCircleControl=function r(i,s,h,l,p){l=l||{};var fe,w=this.sizeX||l.cornerSize||p.cornerSize,_=this.sizeY||l.cornerSize||p.cornerSize,C=typeof l.transparentCorners<"u"?l.transparentCorners:p.transparentCorners,I=C?"stroke":"fill",k=!C&&(l.cornerStrokeColor||p.cornerStrokeColor),z=s,ne=h;i.save(),i.fillStyle=l.cornerColor||p.cornerColor,i.strokeStyle=l.cornerStrokeColor||p.cornerStrokeColor,w>_?(fe=w,i.scale(1,_/w),ne=h*w/_):_>w?(fe=_,i.scale(w/_,1),z=s*_/w):fe=w,i.lineWidth=1,i.beginPath(),i.arc(z,ne,fe/2,0,2*Math.PI,!1),i[I](),k&&i.stroke(),i.restore()},u.renderSquareControl=function o(i,s,h,l,p){l=l||{};var w=this.sizeX||l.cornerSize||p.cornerSize,_=this.sizeY||l.cornerSize||p.cornerSize,C=typeof l.transparentCorners<"u"?l.transparentCorners:p.transparentCorners,I=C?"stroke":"fill",k=!C&&(l.cornerStrokeColor||p.cornerStrokeColor),z=w/2,ne=_/2;i.save(),i.fillStyle=l.cornerColor||p.cornerColor,i.strokeStyle=l.cornerStrokeColor||p.cornerStrokeColor,i.lineWidth=1,i.translate(s,h),i.rotate(d(p.angle)),i[I+"Rect"](-z,-ne,w,_),k&&i.strokeRect(-z,-ne,w,_),i.restore()}}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={});c.Control=function d(u){for(var r in u)this[r]=u[r]},c.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(u,r){return r.cursorStyle},getActionName:function(u,r){return r.actionName},getVisibility:function(u,r){var o=u._controlsVisibility;return o&&typeof o[r]<"u"?o[r]:this.visible},setVisibility:function(u){this.visible=u},positionHandler:function(u,r){return c.util.transformPoint({x:this.x*u.x+this.offsetX,y:this.y*u.y+this.offsetY},r)},calcCornerCoords:function(u,r,o,i,s){var h,l,p,w,_=s?this.touchSizeX:this.sizeX,C=s?this.touchSizeY:this.sizeY;if(_&&C&&_!==C){var I=Math.atan2(C,_),k=Math.sqrt(_*_+C*C)/2,z=I-c.util.degreesToRadians(u),ne=Math.PI/2-I-c.util.degreesToRadians(u);h=k*c.util.cos(z),l=k*c.util.sin(z),p=k*c.util.cos(ne),w=k*c.util.sin(ne)}else k=.7071067812*(_&&C?_:r),z=c.util.degreesToRadians(45-u),h=p=k*c.util.cos(z),l=w=k*c.util.sin(z);return{tl:{x:o-w,y:i-p},tr:{x:o+h,y:i-l},bl:{x:o-h,y:i+l},br:{x:o+w,y:i+p}}},render:function(u,r,o,i,s){"circle"===((i=i||{}).cornerStyle||s.cornerStyle)?c.controlsUtils.renderCircleControl.call(this,u,r,o,i,s):c.controlsUtils.renderSquareControl.call(this,u,r,o,i,s)}}}(ue),function(){function m(o,i){var l,p,w,_,s=o.getAttribute("style"),h=o.getAttribute("offset")||0;if(h=(h=parseFloat(h)/(/%$/.test(h)?100:1))<0?0:h>1?1:h,s){var C=s.split(/\s*;\s*/);for(""===C[C.length-1]&&C.pop(),_=C.length;_--;){var I=C[_].split(/\s*:\s*/),k=I[0].trim(),z=I[1].trim();"stop-color"===k?l=z:"stop-opacity"===k&&(w=z)}}return l||(l=o.getAttribute("stop-color")||"rgb(0,0,0)"),w||(w=o.getAttribute("stop-opacity")),p=(l=new f.Color(l)).getAlpha(),w=isNaN(parseFloat(w))?1:parseFloat(w),w*=p*i,{offset:h,color:l.toRgb(),opacity:w}}var u=f.util.object.clone;f.Gradient=f.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(o){o||(o={}),o.coords||(o.coords={});var i,s=this;Object.keys(o).forEach(function(h){s[h]=o[h]}),this.id?this.id+="_"+f.Object.__uid++:this.id=f.Object.__uid++,i={x1:o.coords.x1||0,y1:o.coords.y1||0,x2:o.coords.x2||0,y2:o.coords.y2||0},"radial"===this.type&&(i.r1=o.coords.r1||0,i.r2=o.coords.r2||0),this.coords=i,this.colorStops=o.colorStops.slice()},addColorStop:function(o){for(var i in o){var s=new f.Color(o[i]);this.colorStops.push({offset:parseFloat(i),color:s.toRgb(),opacity:s.getAlpha()})}return this},toObject:function(o){var i={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return f.util.populateWithProperties(this,i,o),i},toSVG:function(o,p){var h,l,w,_,s=u(this.coords,!0),C=(p=p||{},u(this.colorStops,!0)),I=s.r1>s.r2,k=this.gradientTransform?this.gradientTransform.concat():f.iMatrix.concat(),z=-this.offsetX,ne=-this.offsetY,fe=!!p.additionalTransform,ye="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(C.sort(function(de,Ve){return de.offset-Ve.offset}),"objectBoundingBox"===ye?(z/=o.width,ne/=o.height):(z+=o.width/2,ne+=o.height/2),"path"===o.type&&"percentage"!==this.gradientUnits&&(z-=o.pathOffset.x,ne-=o.pathOffset.y),k[4]-=z,k[5]-=ne,_='id="SVGID_'+this.id+'" gradientUnits="'+ye+'"',_+=' gradientTransform="'+(fe?p.additionalTransform+" ":"")+f.util.matrixToSVG(k)+'" ',"linear"===this.type?w=["<linearGradient ",_,' x1="',s.x1,'" y1="',s.y1,'" x2="',s.x2,'" y2="',s.y2,'">\n']:"radial"===this.type&&(w=["<radialGradient ",_,' cx="',I?s.x1:s.x2,'" cy="',I?s.y1:s.y2,'" r="',I?s.r1:s.r2,'" fx="',I?s.x2:s.x1,'" fy="',I?s.y2:s.y1,'">\n']),"radial"===this.type){if(I)for((C=C.concat()).reverse(),h=0,l=C.length;h<l;h++)C[h].offset=1-C[h].offset;var Pe=Math.min(s.r1,s.r2);if(Pe>0){var we=Pe/Math.max(s.r1,s.r2);for(h=0,l=C.length;h<l;h++)C[h].offset+=we*(1-C[h].offset)}}for(h=0,l=C.length;h<l;h++){var Ee=C[h];w.push("<stop ",'offset="',100*Ee.offset+"%",'" style="stop-color:',Ee.color,typeof Ee.opacity<"u"?";stop-opacity: "+Ee.opacity:";",'"/>\n')}return w.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),w.join("")},toLive:function(o){var i,h,l,s=f.util.object.clone(this.coords);if(this.type){for("linear"===this.type?i=o.createLinearGradient(s.x1,s.y1,s.x2,s.y2):"radial"===this.type&&(i=o.createRadialGradient(s.x1,s.y1,s.r1,s.x2,s.y2,s.r2)),h=0,l=this.colorStops.length;h<l;h++){var p=this.colorStops[h].color,w=this.colorStops[h].opacity,_=this.colorStops[h].offset;typeof w<"u"&&(p=new f.Color(p).setAlpha(w).toRgba()),i.addColorStop(_,p)}return i}}}),f.util.object.extend(f.Gradient,{fromElement:function(o,i,s,h){var l=parseFloat(s)/(/%$/.test(s)?100:1);l=l<0?0:l>1?1:l,isNaN(l)&&(l=1);var w,k,z,ye,p=o.getElementsByTagName("stop"),_="userSpaceOnUse"===o.getAttribute("gradientUnits")?"pixels":"percentage",C=o.getAttribute("gradientTransform")||"",I=[],ne=0,fe=0;for("linearGradient"===o.nodeName||"LINEARGRADIENT"===o.nodeName?(w="linear",k=function c(o){return{x1:o.getAttribute("x1")||0,y1:o.getAttribute("y1")||0,x2:o.getAttribute("x2")||"100%",y2:o.getAttribute("y2")||0}}(o)):(w="radial",k=function d(o){return{x1:o.getAttribute("fx")||o.getAttribute("cx")||"50%",y1:o.getAttribute("fy")||o.getAttribute("cy")||"50%",r1:0,x2:o.getAttribute("cx")||"50%",y2:o.getAttribute("cy")||"50%",r2:o.getAttribute("r")||"50%"}}(o)),z=p.length;z--;)I.push(m(p[z],l));return ye=f.parseTransformAttribute(C),function r(o,i,s,h){var l,p;Object.keys(i).forEach(function(w){"Infinity"===(l=i[w])?p=1:"-Infinity"===l?p=0:(p=parseFloat(i[w],10),"string"==typeof l&&/^(\d+\.\d+)%|(\d+)%$/.test(l)&&(p*=.01,"pixels"===h&&(("x1"===w||"x2"===w||"r2"===w)&&(p*=s.viewBoxWidth||s.width),("y1"===w||"y2"===w)&&(p*=s.viewBoxHeight||s.height)))),i[w]=p})}(0,k,h,_),"pixels"===_&&(ne=-i.left,fe=-i.top),new f.Gradient({id:o.getAttribute("id"),type:w,coords:k,colorStops:I,gradientUnits:_,gradientTransform:ye,offsetX:ne,offsetY:fe})}})}(),function(){"use strict";var m=f.util.toFixed;f.Pattern=f.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(c,d){if(c||(c={}),this.id=f.Object.__uid++,this.setOptions(c),!c.source||c.source&&"string"!=typeof c.source)d&&d(this);else{var u=this;this.source=f.util.createImage(),f.util.loadImage(c.source,function(r,o){u.source=r,d&&d(u,o)},null,this.crossOrigin)}},toObject:function(c){var u,r,d=f.Object.NUM_FRACTION_DIGITS;return"string"==typeof this.source.src?u=this.source.src:"object"==typeof this.source&&this.source.toDataURL&&(u=this.source.toDataURL()),r={type:"pattern",source:u,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:m(this.offsetX,d),offsetY:m(this.offsetY,d),patternTransform:this.patternTransform?this.patternTransform.concat():null},f.util.populateWithProperties(this,r,c),r},toSVG:function(c){var d="function"==typeof this.source?this.source():this.source,u=d.width/c.width,r=d.height/c.height,o=this.offsetX/c.width,i=this.offsetY/c.height,s="";return("repeat-x"===this.repeat||"no-repeat"===this.repeat)&&(r=1,i&&(r+=Math.abs(i))),("repeat-y"===this.repeat||"no-repeat"===this.repeat)&&(u=1,o&&(u+=Math.abs(o))),d.src?s=d.src:d.toDataURL&&(s=d.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+o+'" y="'+i+'" width="'+u+'" height="'+r+'">\n<image x="0" y="0" width="'+d.width+'" height="'+d.height+'" xlink:href="'+s+'"></image>\n</pattern>\n'},setOptions:function(c){for(var d in c)this[d]=c[d]},toLive:function(c){var d=this.source;return!d||typeof d.src<"u"&&(!d.complete||0===d.naturalWidth||0===d.naturalHeight)?"":c.createPattern(d,this.repeat)}})}(),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=c.util.toFixed;c.Shadow?c.warn("fabric.Shadow is already defined."):(c.Shadow=c.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(u){for(var r in"string"==typeof u&&(u=this._parseShadow(u)),u)this[r]=u[r];this.id=c.Object.__uid++},_parseShadow:function(u){var r=u.trim(),o=c.Shadow.reOffsetsAndBlur.exec(r)||[];return{color:(r.replace(c.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseFloat(o[1],10)||0,offsetY:parseFloat(o[2],10)||0,blur:parseFloat(o[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(u){var r=40,o=40,i=c.Object.NUM_FRACTION_DIGITS,s=c.util.rotateVector({x:this.offsetX,y:this.offsetY},c.util.degreesToRadians(-u.angle)),l=new c.Color(this.color);return u.width&&u.height&&(r=100*d((Math.abs(s.x)+this.blur)/u.width,i)+20,o=100*d((Math.abs(s.y)+this.blur)/u.height,i)+20),u.flipX&&(s.x*=-1),u.flipY&&(s.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+o+'%" height="'+(100+2*o)+'%" x="-'+r+'%" width="'+(100+2*r)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+d(this.blur?this.blur/2:0,i)+'"></feGaussianBlur>\n\t<feOffset dx="'+d(s.x,i)+'" dy="'+d(s.y,i)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+l.toRgb()+'" flood-opacity="'+l.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var u={},r=c.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(o){this[o]!==r[o]&&(u[o]=this[o])},this),u}}),c.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/)}(ue),function(){"use strict";if(f.StaticCanvas)f.warn("fabric.StaticCanvas is already defined.");else{var m=f.util.object.extend,c=f.util.getElementOffset,d=f.util.removeFromArray,u=f.util.toFixed,r=f.util.transformPoint,o=f.util.invertTransform,i=f.util.getNodeCanvas,s=f.util.createCanvasElement,h=new Error("Could not initialize `canvas` element");f.StaticCanvas=f.util.createClass(f.CommonMethods,{initialize:function(l,p){p||(p={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(l,p)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:f.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(l,p){var w=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(l),this._initOptions(p),this.interactive||this._initRetinaScaling(),p.overlayImage&&this.setOverlayImage(p.overlayImage,w),p.backgroundImage&&this.setBackgroundImage(p.backgroundImage,w),p.backgroundColor&&this.setBackgroundColor(p.backgroundColor,w),p.overlayColor&&this.setOverlayColor(p.overlayColor,w),this.calcOffset()},_isRetinaScaling:function(){return f.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,f.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var l=f.devicePixelRatio;this.__initRetinaScaling(l,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(l,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(l,p,w){p.setAttribute("width",this.width*l),p.setAttribute("height",this.height*l),w.scale(l,l)},calcOffset:function(){return this._offset=c(this.lowerCanvasEl),this},setOverlayImage:function(l,p,w){return this.__setBgOverlayImage("overlayImage",l,p,w)},setBackgroundImage:function(l,p,w){return this.__setBgOverlayImage("backgroundImage",l,p,w)},setOverlayColor:function(l,p){return this.__setBgOverlayColor("overlayColor",l,p)},setBackgroundColor:function(l,p){return this.__setBgOverlayColor("backgroundColor",l,p)},__setBgOverlayImage:function(l,p,w,_){return"string"==typeof p?f.util.loadImage(p,function(C,I){if(C){var k=new f.Image(C,_);this[l]=k,k.canvas=this}w&&w(C,I)},this,_&&_.crossOrigin):(_&&p.setOptions(_),this[l]=p,p&&(p.canvas=this),w&&w(p,!1)),this},__setBgOverlayColor:function(l,p,w){return this[l]=p,this._initGradient(p,l),this._initPattern(p,l,w),this},_createCanvasElement:function(){var l=s();if(!l||(l.style||(l.style={}),typeof l.getContext>"u"))throw h;return l},_initOptions:function(l){var p=this.lowerCanvasEl;this._setOptions(l),this.width=this.width||parseInt(p.width,10)||0,this.height=this.height||parseInt(p.height,10)||0,this.lowerCanvasEl.style&&(p.width=this.width,p.height=this.height,p.style.width=this.width+"px",p.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(l){this.lowerCanvasEl=l&&l.getContext?l:f.util.getById(l)||this._createCanvasElement(),f.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(l,p){return this.setDimensions({width:l},p)},setHeight:function(l,p){return this.setDimensions({height:l},p)},setDimensions:function(l,p){var w;for(var _ in p=p||{},l)w=l[_],p.cssOnly||(this._setBackstoreDimension(_,l[_]),w+="px",this.hasLostContext=!0),p.backstoreOnly||this._setCssDimension(_,w);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),p.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(l,p){return this.lowerCanvasEl[l]=p,this.upperCanvasEl&&(this.upperCanvasEl[l]=p),this.cacheCanvasEl&&(this.cacheCanvasEl[l]=p),this[l]=p,this},_setCssDimension:function(l,p){return this.lowerCanvasEl.style[l]=p,this.upperCanvasEl&&(this.upperCanvasEl.style[l]=p),this.wrapperEl&&(this.wrapperEl.style[l]=p),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(l){var C,I,k,p=this._activeObject,w=this.backgroundImage,_=this.overlayImage;for(this.viewportTransform=l,I=0,k=this._objects.length;I<k;I++)(C=this._objects[I]).group||C.setCoords(!0);return p&&p.setCoords(),w&&w.setCoords(!0),_&&_.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(l,p){var w=l,_=this.viewportTransform.slice(0);l=r(l,o(this.viewportTransform)),_[0]=p,_[3]=p;var C=r(l,_);return _[4]+=w.x-C.x,_[5]+=w.y-C.y,this.setViewportTransform(_)},setZoom:function(l){return this.zoomToPoint(new f.Point(0,0),l),this},absolutePan:function(l){var p=this.viewportTransform.slice(0);return p[4]=-l.x,p[5]=-l.y,this.setViewportTransform(p)},relativePan:function(l){return this.absolutePan(new f.Point(-l.x-this.viewportTransform[4],-l.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(l){this.stateful&&l.setupState(),l._set("canvas",this),l.setCoords(),this.fire("object:added",{target:l}),l.fire("added")},_onObjectRemoved:function(l){this.fire("object:removed",{target:l}),l.fire("removed"),delete l.canvas},clearContext:function(l){return l.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){return this.renderCanvas(this.contextContainer,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=f.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var l={},p=this.width,w=this.height,_=o(this.viewportTransform);return l.tl=r({x:0,y:0},_),l.br=r({x:p,y:w},_),l.tr=new f.Point(l.br.x,l.tl.y),l.bl=new f.Point(l.tl.x,l.br.y),this.vptCoords=l,l},cancelRequestedRender:function(){this.isRendering&&(f.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(l,p){var w=this.viewportTransform,_=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(l),f.util.setImageSmoothing(l,this.imageSmoothingEnabled),this.fire("before:render",{ctx:l}),this._renderBackground(l),l.save(),l.transform(w[0],w[1],w[2],w[3],w[4],w[5]),this._renderObjects(l,p),l.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(l),_&&(_.canvas=this,_.shouldCache(),_._transformDone=!0,_.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(l)),this._renderOverlay(l),this.controlsAboveOverlay&&this.interactive&&this.drawControls(l),this.fire("after:render",{ctx:l})},drawClipPathOnCanvas:function(l){var p=this.viewportTransform,w=this.clipPath;l.save(),l.transform(p[0],p[1],p[2],p[3],p[4],p[5]),l.globalCompositeOperation="destination-in",w.transform(l),l.scale(1/w.zoomX,1/w.zoomY),l.drawImage(w._cacheCanvas,-w.cacheTranslationX,-w.cacheTranslationY),l.restore()},_renderObjects:function(l,p){var w,_;for(w=0,_=p.length;w<_;++w)p[w]&&p[w].render(l)},_renderBackgroundOrOverlay:function(l,p){var w=this[p+"Color"],_=this[p+"Image"],C=this.viewportTransform,I=this[p+"Vpt"];if(w||_){if(w){l.save(),l.beginPath(),l.moveTo(0,0),l.lineTo(this.width,0),l.lineTo(this.width,this.height),l.lineTo(0,this.height),l.closePath(),l.fillStyle=w.toLive?w.toLive(l,this):w,I&&l.transform(C[0],C[1],C[2],C[3],C[4],C[5]),l.transform(1,0,0,1,w.offsetX||0,w.offsetY||0);var k=w.gradientTransform||w.patternTransform;k&&l.transform(k[0],k[1],k[2],k[3],k[4],k[5]),l.fill(),l.restore()}_&&(l.save(),I&&l.transform(C[0],C[1],C[2],C[3],C[4],C[5]),_.render(l),l.restore())}},_renderBackground:function(l){this._renderBackgroundOrOverlay(l,"background")},_renderOverlay:function(l){this._renderBackgroundOrOverlay(l,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new f.Point(this.width/2,this.height/2)},centerObjectH:function(l){return this._centerObject(l,new f.Point(this.getCenterPoint().x,l.getCenterPoint().y))},centerObjectV:function(l){return this._centerObject(l,new f.Point(l.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(l){var p=this.getCenterPoint();return this._centerObject(l,p)},viewportCenterObject:function(l){var p=this.getVpCenter();return this._centerObject(l,p)},viewportCenterObjectH:function(l){var p=this.getVpCenter();return this._centerObject(l,new f.Point(p.x,l.getCenterPoint().y)),this},viewportCenterObjectV:function(l){var p=this.getVpCenter();return this._centerObject(l,new f.Point(l.getCenterPoint().x,p.y))},getVpCenter:function(){var l=this.getCenterPoint(),p=o(this.viewportTransform);return r(l,p)},_centerObject:function(l,p){return l.setPositionByOrigin(p,"center","center"),l.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(l){return this.toDatalessObject(l)},toObject:function(l){return this._toObjectMethod("toObject",l)},toDatalessObject:function(l){return this._toObjectMethod("toDatalessObject",l)},_toObjectMethod:function(l,p){var w=this.clipPath,_={version:f.version,objects:this._toObjects(l,p)};return w&&!w.excludeFromExport&&(_.clipPath=this._toObject(this.clipPath,l,p)),m(_,this.__serializeBgOverlay(l,p)),f.util.populateWithProperties(this,_,p),_},_toObjects:function(l,p){return this._objects.filter(function(w){return!w.excludeFromExport}).map(function(w){return this._toObject(w,l,p)},this)},_toObject:function(l,p,w){var _;this.includeDefaultValues||(_=l.includeDefaultValues,l.includeDefaultValues=!1);var C=l[p](w);return this.includeDefaultValues||(l.includeDefaultValues=_),C},__serializeBgOverlay:function(l,p){var w={},_=this.backgroundImage,C=this.overlayImage,I=this.backgroundColor,k=this.overlayColor;return I&&I.toObject?I.excludeFromExport||(w.background=I.toObject(p)):I&&(w.background=I),k&&k.toObject?k.excludeFromExport||(w.overlay=k.toObject(p)):k&&(w.overlay=k),_&&!_.excludeFromExport&&(w.backgroundImage=this._toObject(_,l,p)),C&&!C.excludeFromExport&&(w.overlayImage=this._toObject(C,l,p)),w},svgViewportTransformation:!0,toSVG:function(l,p){l||(l={}),l.reviver=p;var w=[];return this._setSVGPreamble(w,l),this._setSVGHeader(w,l),this.clipPath&&w.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(w,"background"),this._setSVGBgOverlayImage(w,"backgroundImage",p),this._setSVGObjects(w,p),this.clipPath&&w.push("</g>\n"),this._setSVGBgOverlayColor(w,"overlay"),this._setSVGBgOverlayImage(w,"overlayImage",p),w.push("</svg>"),w.join("")},_setSVGPreamble:function(l,p){p.suppressPreamble||l.push('<?xml version="1.0" encoding="',p.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(l,p){var C,w=p.width||this.width,_=p.height||this.height,I='viewBox="0 0 '+this.width+" "+this.height+'" ',k=f.Object.NUM_FRACTION_DIGITS;p.viewBox?I='viewBox="'+p.viewBox.x+" "+p.viewBox.y+" "+p.viewBox.width+" "+p.viewBox.height+'" ':this.svgViewportTransformation&&(I='viewBox="'+u(-(C=this.viewportTransform)[4]/C[0],k)+" "+u(-C[5]/C[3],k)+" "+u(this.width/C[0],k)+" "+u(this.height/C[3],k)+'" '),l.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',w,'" ','height="',_,'" ',I,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",f.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(p),"</defs>\n")},createSVGClipPathMarkup:function(l){var p=this.clipPath;return p?(p.clipPathId="CLIPPATH_"+f.Object.__uid++,'<clipPath id="'+p.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(l.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var l=this;return["background","overlay"].map(function(w){var _=l[w+"Color"];if(_&&_.toLive){var C=l[w+"Vpt"],I=l.viewportTransform;return _.toSVG({width:l.width/(C?I[0]:1),height:l.height/(C?I[3]:1)},{additionalTransform:C?f.util.matrixToSVG(I):""})}}).join("")},createSVGFontFacesMarkup:function(){var w,_,C,I,k,ne,fe,ye,l="",p={},Pe=f.fontPaths,_e=[];for(this._objects.forEach(function Ee(de){_e.push(de),de._objects&&de._objects.forEach(Ee)}),fe=0,ye=_e.length;fe<ye;fe++)if(_=(w=_e[fe]).fontFamily,-1!==w.type.indexOf("text")&&!p[_]&&Pe[_]&&(p[_]=!0,w.styles))for(k in C=w.styles)for(ne in I=C[k])!p[_=I[ne].fontFamily]&&Pe[_]&&(p[_]=!0);for(var we in p)l+=["\t\t@font-face {\n","\t\t\tfont-family: '",we,"';\n","\t\t\tsrc: url('",Pe[we],"');\n","\t\t}\n"].join("");return l&&(l=['\t<style type="text/css">',"<![CDATA[\n",l,"]]>","</style>\n"].join("")),l},_setSVGObjects:function(l,p){var w,_,C,I=this._objects;for(_=0,C=I.length;_<C;_++)!(w=I[_]).excludeFromExport&&this._setSVGObject(l,w,p)},_setSVGObject:function(l,p,w){l.push(p.toSVG(w))},_setSVGBgOverlayImage:function(l,p,w){this[p]&&!this[p].excludeFromExport&&this[p].toSVG&&l.push(this[p].toSVG(w))},_setSVGBgOverlayColor:function(l,p){var w=this[p+"Color"],C=this.width,I=this.height;if(w)if(w.toLive){var k=w.repeat,z=f.util.invertTransform(this.viewportTransform),fe=this[p+"Vpt"]?f.util.matrixToSVG(z):"";l.push('<rect transform="'+fe+" translate(",C/2,",",I/2,')"',' x="',w.offsetX-C/2,'" y="',w.offsetY-I/2,'" ','width="',"repeat-y"===k||"no-repeat"===k?w.source.width:C,'" height="',"repeat-x"===k||"no-repeat"===k?w.source.height:I,'" fill="url(#SVGID_'+w.id+')"',"></rect>\n")}else l.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',w,'"',"></rect>\n")},sendToBack:function(l){if(!l)return this;var w,_,C,p=this._activeObject;if(l===p&&"activeSelection"===l.type)for(w=(C=p._objects).length;w--;)d(this._objects,_=C[w]),this._objects.unshift(_);else d(this._objects,l),this._objects.unshift(l);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(l){if(!l)return this;var w,_,C,p=this._activeObject;if(l===p&&"activeSelection"===l.type)for(C=p._objects,w=0;w<C.length;w++)d(this._objects,_=C[w]),this._objects.push(_);else d(this._objects,l),this._objects.push(l);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(l,p){if(!l)return this;var _,C,I,k,z,w=this._activeObject,ne=0;if(l===w&&"activeSelection"===l.type)for(z=w._objects,_=0;_<z.length;_++)(I=this._objects.indexOf(C=z[_]))>0+ne&&(k=I-1,d(this._objects,C),this._objects.splice(k,0,C)),ne++;else 0!==(I=this._objects.indexOf(l))&&(k=this._findNewLowerIndex(l,I,p),d(this._objects,l),this._objects.splice(k,0,l));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(l,p,w){var _,C;if(w){for(_=p,C=p-1;C>=0;--C)if(l.intersectsWithObject(this._objects[C])||l.isContainedWithinObject(this._objects[C])||this._objects[C].isContainedWithinObject(l)){_=C;break}}else _=p-1;return _},bringForward:function(l,p){if(!l)return this;var _,C,I,k,z,w=this._activeObject,ne=0;if(l===w&&"activeSelection"===l.type)for(_=(z=w._objects).length;_--;)(I=this._objects.indexOf(C=z[_]))<this._objects.length-1-ne&&(k=I+1,d(this._objects,C),this._objects.splice(k,0,C)),ne++;else(I=this._objects.indexOf(l))!==this._objects.length-1&&(k=this._findNewUpperIndex(l,I,p),d(this._objects,l),this._objects.splice(k,0,l));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(l,p,w){var _,C,I;if(w){for(_=p,C=p+1,I=this._objects.length;C<I;++C)if(l.intersectsWithObject(this._objects[C])||l.isContainedWithinObject(this._objects[C])||this._objects[C].isContainedWithinObject(l)){_=C;break}}else _=p+1;return _},moveTo:function(l,p){return d(this._objects,l),this._objects.splice(p,0,l),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(f.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(l){l.dispose&&l.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),f.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),f.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),m(f.StaticCanvas.prototype,f.Observable),m(f.StaticCanvas.prototype,f.Collection),m(f.StaticCanvas.prototype,f.DataURLExporter),m(f.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(l){var p=s();if(!p||!p.getContext)return null;var w=p.getContext("2d");return w&&"setLineDash"===l?typeof w.setLineDash<"u":null}}),f.StaticCanvas.prototype.toJSON=f.StaticCanvas.prototype.toObject,f.isLikelyNode&&(f.StaticCanvas.prototype.createPNGStream=function(){var l=i(this.lowerCanvasEl);return l&&l.createPNGStream()},f.StaticCanvas.prototype.createJPEGStream=function(l){var p=i(this.lowerCanvasEl);return p&&p.createJPEGStream(l)})}}(),f.BaseBrush=f.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(m){m.strokeStyle=this.color,m.lineWidth=this.width,m.lineCap=this.strokeLineCap,m.miterLimit=this.strokeMiterLimit,m.lineJoin=this.strokeLineJoin,m.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(m){var c=this.canvas.viewportTransform;m.save(),m.transform(c[0],c[1],c[2],c[3],c[4],c[5])},_setShadow:function(){if(this.shadow){var m=this.canvas,c=this.shadow,d=m.contextTop,u=m.getZoom();m&&m._isRetinaScaling()&&(u*=f.devicePixelRatio),d.shadowColor=c.color,d.shadowBlur=c.blur*u,d.shadowOffsetX=c.offsetX*u,d.shadowOffsetY=c.offsetY*u}},needsFullRender:function(){return new f.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function(){var m=this.canvas.contextTop;m.shadowColor="",m.shadowBlur=m.shadowOffsetX=m.shadowOffsetY=0},_isOutSideCanvas:function(m){return m.x<0||m.x>this.canvas.getWidth()||m.y<0||m.y>this.canvas.getHeight()}}),f.PencilBrush=f.util.createClass(f.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(m){this.canvas=m,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(m,c,d){var u=c.midPointFrom(d);return m.quadraticCurveTo(c.x,c.y,u.x,u.y),u},onMouseDown:function(m,c){!this.canvas._isMainEvent(c.e)||(this.drawStraightLine=c.e[this.straightLineKey],this._prepareForDrawing(m),this._captureDrawingPath(m),this._render())},onMouseMove:function(m,c){if(this.canvas._isMainEvent(c.e)&&(this.drawStraightLine=c.e[this.straightLineKey],(!0!==this.limitedToCanvasSize||!this._isOutSideCanvas(m))&&this._captureDrawingPath(m)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var d=this._points,u=d.length,r=this.canvas.contextTop;this._saveAndTransform(r),this.oldEnd&&(r.beginPath(),r.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(r,d[u-2],d[u-1],!0),r.stroke(),r.restore()}},onMouseUp:function(m){return!this.canvas._isMainEvent(m.e)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(m){var c=new f.Point(m.x,m.y);this._reset(),this._addPoint(c),this.canvas.contextTop.moveTo(c.x,c.y)},_addPoint:function(m){return!(this._points.length>1&&m.eq(this._points[this._points.length-1])||(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(m),0))},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(m){var c=new f.Point(m.x,m.y);return this._addPoint(c)},_render:function(m){var c,d,u=this._points[0],r=this._points[1];if(this._saveAndTransform(m=m||this.canvas.contextTop),m.beginPath(),2===this._points.length&&u.x===r.x&&u.y===r.y){var o=this.width/1e3;u=new f.Point(u.x,u.y),r=new f.Point(r.x,r.y),u.x-=o,r.x+=o}for(m.moveTo(u.x,u.y),c=1,d=this._points.length;c<d;c++)this._drawSegment(m,u,r),u=this._points[c],r=this._points[c+1];m.lineTo(u.x,u.y),m.stroke(),m.restore()},convertPointsToSVGPath:function(m){return f.util.getSmoothPathFromPoints(m,this.width/1e3)},_isEmptySVGPath:function(m){return"M 0 0 Q 0 0 0 0 L 0 0"===f.util.joinPath(m)},createPath:function(m){var c=new f.Path(m,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,c.shadow=new f.Shadow(this.shadow)),c},decimatePoints:function(m,c){if(m.length<=2)return m;var r,d=this.canvas.getZoom(),u=Math.pow(c/d,2),o=m.length-1,i=m[0],s=[i];for(r=1;r<o-1;r++)Math.pow(i.x-m[r].x,2)+Math.pow(i.y-m[r].y,2)>=u&&s.push(i=m[r]);return s.push(m[o]),s},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var c=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(c))this.canvas.requestRenderAll();else{var d=this.createPath(c);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:d}),this.canvas.add(d),this.canvas.requestRenderAll(),d.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:d})}}}),f.CircleBrush=f.util.createClass(f.BaseBrush,{width:10,initialize:function(m){this.canvas=m,this.points=[]},drawDot:function(m){var c=this.addPoint(m),d=this.canvas.contextTop;this._saveAndTransform(d),this.dot(d,c),d.restore()},dot:function(m,c){m.fillStyle=c.fill,m.beginPath(),m.arc(c.x,c.y,c.radius,0,2*Math.PI,!1),m.closePath(),m.fill()},onMouseDown:function(m){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(m)},_render:function(){var c,d,m=this.canvas.contextTop,u=this.points;for(this._saveAndTransform(m),c=0,d=u.length;c<d;c++)this.dot(m,u[c]);m.restore()},onMouseMove:function(m){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(m)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(m),this._render()):this.drawDot(m))},onMouseUp:function(){var c,d,m=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var u=[];for(c=0,d=this.points.length;c<d;c++){var r=this.points[c],o=new f.Circle({radius:r.radius,left:r.x,top:r.y,originX:"center",originY:"center",fill:r.fill});this.shadow&&(o.shadow=new f.Shadow(this.shadow)),u.push(o)}var i=new f.Group(u);i.canvas=this.canvas,this.canvas.fire("before:path:created",{path:i}),this.canvas.add(i),this.canvas.fire("path:created",{path:i}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=m,this.canvas.requestRenderAll()},addPoint:function(m){var c=new f.Point(m.x,m.y),d=f.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,u=new f.Color(this.color).setAlpha(f.util.getRandomInt(0,100)/100).toRgba();return c.radius=d,c.fill=u,this.points.push(c),c}}),f.SprayBrush=f.util.createClass(f.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(m){this.canvas=m,this.sprayChunks=[]},onMouseDown:function(m){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(m),this.render(this.sprayChunkPoints)},onMouseMove:function(m){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(m)||(this.addSprayChunk(m),this.render(this.sprayChunkPoints))},onMouseUp:function(){var m=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var c=[],d=0,u=this.sprayChunks.length;d<u;d++)for(var r=this.sprayChunks[d],o=0,i=r.length;o<i;o++){var s=new f.Rect({width:r[o].width,height:r[o].width,left:r[o].x+1,top:r[o].y+1,originX:"center",originY:"center",fill:this.color});c.push(s)}this.optimizeOverlapping&&(c=this._getOptimizedRects(c));var h=new f.Group(c);this.shadow&&h.set("shadow",new f.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:h}),this.canvas.add(h),this.canvas.fire("path:created",{path:h}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=m,this.canvas.requestRenderAll()},_getOptimizedRects:function(m){var d,u,r,c={};for(u=0,r=m.length;u<r;u++)c[d=m[u].left+""+m[u].top]||(c[d]=m[u]);var o=[];for(d in c)o.push(c[d]);return o},render:function(m){var d,u,c=this.canvas.contextTop;for(c.fillStyle=this.color,this._saveAndTransform(c),d=0,u=m.length;d<u;d++){var r=m[d];typeof r.opacity<"u"&&(c.globalAlpha=r.opacity),c.fillRect(r.x,r.y,r.width,r.width)}c.restore()},_render:function(){var c,d,m=this.canvas.contextTop;for(m.fillStyle=this.color,this._saveAndTransform(m),c=0,d=this.sprayChunks.length;c<d;c++)this.render(this.sprayChunks[c]);m.restore()},addSprayChunk:function(m){this.sprayChunkPoints=[];var c,d,u,o,r=this.width/2;for(o=0;o<this.density;o++){c=f.util.getRandomInt(m.x-r,m.x+r),d=f.util.getRandomInt(m.y-r,m.y+r),u=this.dotWidthVariance?f.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var i=new f.Point(c,d);i.width=u,this.randomOpacity&&(i.opacity=f.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(i)}this.sprayChunks.push(this.sprayChunkPoints)}}),f.PatternBrush=f.util.createClass(f.PencilBrush,{getPatternSrc:function(){var d=f.util.createCanvasElement(),u=d.getContext("2d");return d.width=d.height=25,u.fillStyle=this.color,u.beginPath(),u.arc(10,10,10,0,2*Math.PI,!1),u.closePath(),u.fill(),d},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(m){return m.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(m){this.callSuper("_setBrushStyles",m),m.strokeStyle=this.getPattern(m)},createPath:function(m){var c=this.callSuper("createPath",m),d=c._getLeftTopCoords().scalarAdd(c.strokeWidth/2);return c.stroke=new f.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-d.x,offsetY:-d.y}),c}}),function(){var m=f.util.getPointer,c=f.util.degreesToRadians,d=f.util.isTouchEvent;for(var u in f.Canvas=f.util.createClass(f.StaticCanvas,{initialize:function(r,o){o||(o={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(r,o),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=f.PencilBrush&&new f.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var o,i,s,r=this.getActiveObjects();if(r.length>0&&!this.preserveObjectStacking){i=[],s=[];for(var h=0,l=this._objects.length;h<l;h++)-1===r.indexOf(o=this._objects[h])?i.push(o):s.push(o);r.length>1&&(this._activeObject._objects=s),i.push.apply(i,s)}else i=this._objects;return i},renderAll:function(){return this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),this.renderCanvas(this.contextContainer,this._chooseObjectsToRender()),this},renderTopLayer:function(r){r.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(r),this.contextTopDirty=!0),r.restore()},renderTop:function(){var r=this.contextTop;return this.clearContext(r),this.renderTopLayer(r),this.fire("after:render"),this},_normalizePointer:function(r,o){var i=r.calcTransformMatrix(),s=f.util.invertTransform(i),h=this.restorePointerVpt(o);return f.util.transformPoint(h,s)},isTargetTransparent:function(r,o,i){if(r.shouldCache()&&r._cacheCanvas&&r!==this._activeObject){var s=this._normalizePointer(r,{x:o,y:i}),h=Math.max(r.cacheTranslationX+s.x*r.zoomX,0),l=Math.max(r.cacheTranslationY+s.y*r.zoomY,0);return f.util.isTransparent(r._cacheContext,Math.round(h),Math.round(l),this.targetFindTolerance)}var p=this.contextCache,w=r.selectionBackgroundColor,_=this.viewportTransform;return r.selectionBackgroundColor="",this.clearContext(p),p.save(),p.transform(_[0],_[1],_[2],_[3],_[4],_[5]),r.render(p),p.restore(),r.selectionBackgroundColor=w,f.util.isTransparent(p,o,i,this.targetFindTolerance)},_isSelectionKeyPressed:function(r){return Array.isArray(this.selectionKey)?!!this.selectionKey.find(function(i){return!0===r[i]}):r[this.selectionKey]},_shouldClearSelection:function(r,o){var i=this.getActiveObjects(),s=this._activeObject;return!o||o&&s&&i.length>1&&-1===i.indexOf(o)&&s!==o&&!this._isSelectionKeyPressed(r)||o&&!o.evented||o&&!o.selectable&&s&&s!==o},_shouldCenterTransform:function(r,o,i){var s;if(r)return"scale"===o||"scaleX"===o||"scaleY"===o||"resizing"===o?s=this.centeredScaling||r.centeredScaling:"rotate"===o&&(s=this.centeredRotation||r.centeredRotation),s?!i:i},_getOriginFromCorner:function(r,o){var i={x:r.originX,y:r.originY};return"ml"===o||"tl"===o||"bl"===o?i.x="right":("mr"===o||"tr"===o||"br"===o)&&(i.x="left"),"tl"===o||"mt"===o||"tr"===o?i.y="bottom":("bl"===o||"mb"===o||"br"===o)&&(i.y="top"),i},_getActionFromCorner:function(r,o,i,s){if(!o||!r)return"drag";var h=s.controls[o];return h.getActionName(i,h,s)},_setupCurrentTransform:function(r,o,i){if(o){var s=this.getPointer(r),h=o.__corner,l=o.controls[h],p=i&&h?l.getActionHandler(r,o,l):f.controlsUtils.dragHandler,w=this._getActionFromCorner(i,h,r,o),_=this._getOriginFromCorner(o,h),C=r[this.centeredKey],I={target:o,action:w,actionHandler:p,corner:h,scaleX:o.scaleX,scaleY:o.scaleY,skewX:o.skewX,skewY:o.skewY,offsetX:s.x-o.left,offsetY:s.y-o.top,originX:_.x,originY:_.y,ex:s.x,ey:s.y,lastX:s.x,lastY:s.y,theta:c(o.angle),width:o.width*o.scaleX,shiftKey:r.shiftKey,altKey:C,original:f.util.saveObjectTransform(o)};this._shouldCenterTransform(o,w,C)&&(I.originX="center",I.originY="center"),I.original.originX=_.x,I.original.originY=_.y,this._currentTransform=I,this._beforeTransform(r)}},setCursor:function(r){this.upperCanvasEl.style.cursor=r},_drawSelection:function(r){var o=this._groupSelector,i=new f.Point(o.ex,o.ey),s=f.util.transformPoint(i,this.viewportTransform),h=new f.Point(o.ex+o.left,o.ey+o.top),l=f.util.transformPoint(h,this.viewportTransform),p=Math.min(s.x,l.x),w=Math.min(s.y,l.y),_=Math.max(s.x,l.x),C=Math.max(s.y,l.y),I=this.selectionLineWidth/2;this.selectionColor&&(r.fillStyle=this.selectionColor,r.fillRect(p,w,_-p,C-w)),this.selectionLineWidth&&this.selectionBorderColor&&(r.lineWidth=this.selectionLineWidth,r.strokeStyle=this.selectionBorderColor,p+=I,w+=I,_-=I,C-=I,f.Object.prototype._setLineDash.call(this,r,this.selectionDashArray),r.strokeRect(p,w,_-p,C-w))},findTarget:function(r,o){if(!this.skipTargetFind){var p,w,s=this.getPointer(r,!0),h=this._activeObject,l=this.getActiveObjects(),_=d(r),C=l.length>1&&!o||1===l.length;if(this.targets=[],C&&h._findTargetCorner(s,_)||l.length>1&&!o&&h===this._searchPossibleTargets([h],s))return h;if(1===l.length&&h===this._searchPossibleTargets([h],s)){if(!this.preserveObjectStacking)return h;p=h,w=this.targets,this.targets=[]}var I=this._searchPossibleTargets(this._objects,s);return r[this.altSelectionKey]&&I&&p&&I!==p&&(I=p,this.targets=w),I}},_checkTarget:function(r,o,i){if(o&&o.visible&&o.evented&&o.containsPoint(r)){if(!this.perPixelTargetFind&&!o.perPixelTargetFind||o.isEditing)return!0;if(!this.isTargetTransparent(o,i.x,i.y))return!0}},_searchPossibleTargets:function(r,o){for(var i,h,s=r.length;s--;){var l=r[s],p=l.group?this._normalizePointer(l.group,o):o;if(this._checkTarget(p,l,o)){(i=r[s]).subTargetCheck&&i instanceof f.Group&&(h=this._searchPossibleTargets(i._objects,o))&&this.targets.push(h);break}}return i},restorePointerVpt:function(r){return f.util.transformPoint(r,f.util.invertTransform(this.viewportTransform))},getPointer:function(r,o){if(this._absolutePointer&&!o)return this._absolutePointer;if(this._pointer&&o)return this._pointer;var w,i=m(r),s=this.upperCanvasEl,h=s.getBoundingClientRect(),l=h.width||0,p=h.height||0;(!l||!p)&&("top"in h&&"bottom"in h&&(p=Math.abs(h.top-h.bottom)),"right"in h&&"left"in h&&(l=Math.abs(h.right-h.left))),this.calcOffset(),i.x=i.x-this._offset.left,i.y=i.y-this._offset.top,o||(i=this.restorePointerVpt(i));var _=this.getRetinaScaling();return 1!==_&&(i.x/=_,i.y/=_),{x:i.x*(w=0===l||0===p?{width:1,height:1}:{width:s.width/l,height:s.height/p}).width,y:i.y*w.height}},_createUpperCanvas:function(){var r=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),o=this.lowerCanvasEl,i=this.upperCanvasEl;i?i.className="":(i=this._createCanvasElement(),this.upperCanvasEl=i),f.util.addClass(i,"upper-canvas "+r),this.wrapperEl.appendChild(i),this._copyCanvasStyle(o,i),this._applyCanvasStyle(i),this.contextTop=i.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=f.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),f.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),f.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(r){var o=this.width||r.width,i=this.height||r.height;f.util.setStyle(r,{position:"absolute",width:o+"px",height:i+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),r.width=o,r.height=i,f.util.makeElementUnselectable(r)},_copyCanvasStyle:function(r,o){o.style.cssText=r.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var r=this._activeObject;return r?"activeSelection"===r.type&&r._objects?r._objects.slice(0):[r]:[]},_onObjectRemoved:function(r){r===this._activeObject&&(this.fire("before:selection:cleared",{target:r}),this._discardActiveObject(),this.fire("selection:cleared",{target:r}),r.fire("deselected")),r===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",r)},_fireSelectionEvents:function(r,o){var i=!1,s=this.getActiveObjects(),h=[],l=[];r.forEach(function(p){-1===s.indexOf(p)&&(i=!0,p.fire("deselected",{e:o,target:p}),l.push(p))}),s.forEach(function(p){-1===r.indexOf(p)&&(i=!0,p.fire("selected",{e:o,target:p}),h.push(p))}),r.length>0&&s.length>0?i&&this.fire("selection:updated",{e:o,selected:h,deselected:l}):s.length>0?this.fire("selection:created",{e:o,selected:h}):r.length>0&&this.fire("selection:cleared",{e:o,deselected:l})},setActiveObject:function(r,o){var i=this.getActiveObjects();return this._setActiveObject(r,o),this._fireSelectionEvents(i,o),this},_setActiveObject:function(r,o){return!(this._activeObject===r||!this._discardActiveObject(o,r)||r.onSelect({e:o})||(this._activeObject=r,0))},_discardActiveObject:function(r,o){var i=this._activeObject;if(i){if(i.onDeselect({e:r,object:o}))return!1;this._activeObject=null}return!0},discardActiveObject:function(r){var o=this.getActiveObjects(),i=this.getActiveObject();return o.length&&this.fire("before:selection:cleared",{target:i,e:r}),this._discardActiveObject(r),this._fireSelectionEvents(o,r),this},dispose:function(){var r=this.wrapperEl;return this.removeListeners(),r.removeChild(this.upperCanvasEl),r.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(o){f.util.cleanUpJsdomNode(this[o]),this[o]=void 0}.bind(this)),r.parentNode&&r.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,f.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(r){var o=this._activeObject;o&&o._renderControls(r)},_toObject:function(r,o,i){var s=this._realizeGroupTransformOnObject(r),h=this.callSuper("_toObject",r,o,i);return this._unwindGroupTransformOnObject(r,s),h},_realizeGroupTransformOnObject:function(r){if(r.group&&"activeSelection"===r.group.type&&this._activeObject===r.group){var i={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach(function(s){i[s]=r[s]}),f.util.addTransformToObject(r,this._activeObject.calcOwnMatrix()),i}return null},_unwindGroupTransformOnObject:function(r,o){o&&r.set(o)},_setSVGObject:function(r,o,i){var s=this._realizeGroupTransformOnObject(o);this.callSuper("_setSVGObject",r,o,i),this._unwindGroupTransformOnObject(o,s)},setViewportTransform:function(r){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),f.StaticCanvas.prototype.setViewportTransform.call(this,r)}}),f.StaticCanvas)"prototype"!==u&&(f.Canvas[u]=f.StaticCanvas[u])}(),function(){var m=f.util.addListener,c=f.util.removeListener,o={passive:!1};function i(s,h){return s.button&&s.button===h-1}f.util.object.extend(f.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(m,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(s,h){var l=this.upperCanvasEl,p=this._getEventPrefix();s(f.window,"resize",this._onResize),s(l,p+"down",this._onMouseDown),s(l,p+"move",this._onMouseMove,o),s(l,p+"out",this._onMouseOut),s(l,p+"enter",this._onMouseEnter),s(l,"wheel",this._onMouseWheel),s(l,"contextmenu",this._onContextMenu),s(l,"dblclick",this._onDoubleClick),s(l,"dragover",this._onDragOver),s(l,"dragenter",this._onDragEnter),s(l,"dragleave",this._onDragLeave),s(l,"drop",this._onDrop),this.enablePointerEvents||s(l,"touchstart",this._onTouchStart,o),typeof eventjs<"u"&&h in eventjs&&(eventjs[h](l,"gesture",this._onGesture),eventjs[h](l,"drag",this._onDrag),eventjs[h](l,"orientation",this._onOrientationChange),eventjs[h](l,"shake",this._onShake),eventjs[h](l,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(c,"remove");var s=this._getEventPrefix();c(f.document,s+"up",this._onMouseUp),c(f.document,"touchend",this._onTouchEnd,o),c(f.document,s+"move",this._onMouseMove,o),c(f.document,"touchmove",this._onMouseMove,o)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(s,h){this.__onTransformGesture&&this.__onTransformGesture(s,h)},_onDrag:function(s,h){this.__onDrag&&this.__onDrag(s,h)},_onMouseWheel:function(s){this.__onMouseWheel(s)},_onMouseOut:function(s){var h=this._hoveredTarget;this.fire("mouse:out",{target:h,e:s}),this._hoveredTarget=null,h&&h.fire("mouseout",{e:s});var l=this;this._hoveredTargets.forEach(function(p){l.fire("mouse:out",{target:h,e:s}),p&&h.fire("mouseout",{e:s})}),this._hoveredTargets=[]},_onMouseEnter:function(s){!this._currentTransform&&!this.findTarget(s)&&(this.fire("mouse:over",{target:null,e:s}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(s,h){this.__onOrientationChange&&this.__onOrientationChange(s,h)},_onShake:function(s,h){this.__onShake&&this.__onShake(s,h)},_onLongPress:function(s,h){this.__onLongPress&&this.__onLongPress(s,h)},_onDragOver:function(s){s.preventDefault();var h=this._simpleEventHandler("dragover",s);this._fireEnterLeaveEvents(h,s)},_onDrop:function(s){return this._simpleEventHandler("drop:before",s),this._simpleEventHandler("drop",s)},_onContextMenu:function(s){return this.stopContextMenu&&(s.stopPropagation(),s.preventDefault()),!1},_onDoubleClick:function(s){this._cacheTransformEventData(s),this._handleEvent(s,"dblclick"),this._resetTransformEventData(s)},getPointerId:function(s){var h=s.changedTouches;return h?h[0]&&h[0].identifier:this.enablePointerEvents?s.pointerId:-1},_isMainEvent:function(s){return!0===s.isPrimary||!1!==s.isPrimary&&("touchend"===s.type&&0===s.touches.length||!s.changedTouches||s.changedTouches[0].identifier===this.mainTouchId)},_onTouchStart:function(s){s.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(s)),this.__onMouseDown(s),this._resetTransformEventData();var h=this.upperCanvasEl,l=this._getEventPrefix();m(f.document,"touchend",this._onTouchEnd,o),m(f.document,"touchmove",this._onMouseMove,o),c(h,l+"down",this._onMouseDown)},_onMouseDown:function(s){this.__onMouseDown(s),this._resetTransformEventData();var h=this.upperCanvasEl,l=this._getEventPrefix();c(h,l+"move",this._onMouseMove,o),m(f.document,l+"up",this._onMouseUp),m(f.document,l+"move",this._onMouseMove,o)},_onTouchEnd:function(s){if(!(s.touches.length>0)){this.__onMouseUp(s),this._resetTransformEventData(),this.mainTouchId=null;var h=this._getEventPrefix();c(f.document,"touchend",this._onTouchEnd,o),c(f.document,"touchmove",this._onMouseMove,o);var l=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){m(l.upperCanvasEl,h+"down",l._onMouseDown),l._willAddMouseDown=0},400)}},_onMouseUp:function(s){this.__onMouseUp(s),this._resetTransformEventData();var h=this.upperCanvasEl,l=this._getEventPrefix();this._isMainEvent(s)&&(c(f.document,l+"up",this._onMouseUp),c(f.document,l+"move",this._onMouseMove,o),m(h,l+"move",this._onMouseMove,o))},_onMouseMove:function(s){!this.allowTouchScrolling&&s.preventDefault&&s.preventDefault(),this.__onMouseMove(s)},_onResize:function(){this.calcOffset()},_shouldRender:function(s){var h=this._activeObject;return!!(!!h!=!!s||h&&s&&h!==s)},__onMouseUp:function(s){var h,l=this._currentTransform,p=this._groupSelector,w=!1,_=!p||0===p.left&&0===p.top;if(this._cacheTransformEventData(s),h=this._target,this._handleEvent(s,"up:before"),i(s,3))this.fireRightClick&&this._handleEvent(s,"up",3,_);else{if(i(s,2))return this.fireMiddleClick&&this._handleEvent(s,"up",2,_),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(s);else if(this._isMainEvent(s)){if(l&&(this._finalizeCurrentTransform(s),w=l.actionPerformed),!_){var C=h===this._activeObject;this._maybeGroupObjects(s),w||(w=this._shouldRender(h)||!C&&h===this._activeObject)}var I,k;if(h){if(I=h._findTargetCorner(this.getPointer(s,!0),f.util.isTouchEvent(s)),h.selectable&&h!==this._activeObject&&"up"===h.activeOn)this.setActiveObject(h,s),w=!0;else{var z=h.controls[I],ne=z&&z.getMouseUpHandler(s,h,z);ne&&ne(s,l,(k=this.getPointer(s)).x,k.y)}h.isMoving=!1}if(l&&(l.target!==h||l.corner!==I)){var fe=l.target&&l.target.controls[l.corner],ye=fe&&fe.getMouseUpHandler(s,h,z);k=k||this.getPointer(s),ye&&ye(s,l,k.x,k.y)}this._setCursorFromEvent(s,h),this._handleEvent(s,"up",1,_),this._groupSelector=null,this._currentTransform=null,h&&(h.__corner=0),w?this.requestRenderAll():_||this.renderTop()}}},_simpleEventHandler:function(s,h){var l=this.findTarget(h),p=this.targets,w={e:h,target:l,subTargets:p};if(this.fire(s,w),l&&l.fire(s,w),!p)return l;for(var _=0;_<p.length;_++)p[_].fire(s,w);return l},_handleEvent:function(s,h,l,p){var w=this._target,_=this.targets||[],C={e:s,target:w,subTargets:_,button:l||1,isClick:p||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};"up"===h&&(C.currentTarget=this.findTarget(s),C.currentSubTargets=this.targets),this.fire("mouse:"+h,C),w&&w.fire("mouse"+h,C);for(var I=0;I<_.length;I++)_[I].fire("mouse"+h,C)},_finalizeCurrentTransform:function(s){var h=this._currentTransform,l=h.target,p={e:s,target:l,transform:h,action:h.action};l._scaling&&(l._scaling=!1),l.setCoords(),(h.actionPerformed||this.stateful&&l.hasStateChanged())&&this._fire("modified",p)},_onMouseDownInDrawingMode:function(s){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(s).requestRenderAll();var h=this.getPointer(s);this.freeDrawingBrush.onMouseDown(h,{e:s,pointer:h}),this._handleEvent(s,"down")},_onMouseMoveInDrawingMode:function(s){if(this._isCurrentlyDrawing){var h=this.getPointer(s);this.freeDrawingBrush.onMouseMove(h,{e:s,pointer:h})}this.setCursor(this.freeDrawingCursor),this._handleEvent(s,"move")},_onMouseUpInDrawingMode:function(s){var h=this.getPointer(s);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:s,pointer:h}),this._handleEvent(s,"up")},__onMouseDown:function(s){this._cacheTransformEventData(s),this._handleEvent(s,"down:before");var h=this._target;if(i(s,3))this.fireRightClick&&this._handleEvent(s,"down",3);else if(i(s,2))this.fireMiddleClick&&this._handleEvent(s,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(s);else if(this._isMainEvent(s)&&!this._currentTransform){this._previousPointer=l=this._pointer;var p=this._shouldRender(h),w=this._shouldGroup(s,h);if(this._shouldClearSelection(s,h)?this.discardActiveObject(s):w&&(this._handleGrouping(s,h),h=this._activeObject),this.selection&&(!h||!h.selectable&&!h.isEditing&&h!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),h){var _=h===this._activeObject;h.selectable&&"down"===h.activeOn&&this.setActiveObject(h,s);var C=h._findTargetCorner(this.getPointer(s,!0),f.util.isTouchEvent(s));if(h.__corner=C,h===this._activeObject&&(C||!w)){this._setupCurrentTransform(s,h,_);var I=h.controls[C],l=this.getPointer(s),k=I&&I.getMouseDownHandler(s,h,I);k&&k(s,this._currentTransform,l.x,l.y)}}this._handleEvent(s,"down"),(p||w)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(s){this._resetTransformEventData(),this._pointer=this.getPointer(s,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(s)||null},_beforeTransform:function(s){var h=this._currentTransform;this.stateful&&h.target.saveState(),this.fire("before:transform",{e:s,transform:h})},__onMouseMove:function(s){var h,l;if(this._handleEvent(s,"move:before"),this._cacheTransformEventData(s),this.isDrawingMode)this._onMouseMoveInDrawingMode(s);else if(this._isMainEvent(s)){var p=this._groupSelector;p?(p.left=(l=this._absolutePointer).x-p.ex,p.top=l.y-p.ey,this.renderTop()):this._currentTransform?this._transformObject(s):(h=this.findTarget(s)||null,this._setCursorFromEvent(s,h),this._fireOverOutEvents(h,s)),this._handleEvent(s,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(s,h){var l=this._hoveredTarget,p=this._hoveredTargets,w=this.targets,_=Math.max(p.length,w.length);this.fireSyntheticInOutEvents(s,h,{oldTarget:l,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var C=0;C<_;C++)this.fireSyntheticInOutEvents(w[C],h,{oldTarget:p[C],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=s,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(s,h){var l=this._draggedoverTarget,p=this._hoveredTargets,w=this.targets,_=Math.max(p.length,w.length);this.fireSyntheticInOutEvents(s,h,{oldTarget:l,evtOut:"dragleave",evtIn:"dragenter"});for(var C=0;C<_;C++)this.fireSyntheticInOutEvents(w[C],h,{oldTarget:p[C],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=s},fireSyntheticInOutEvents:function(s,h,l){var p,w,I,_=l.oldTarget,k=_!==s,z=l.canvasEvtIn,ne=l.canvasEvtOut;k&&(p={e:h,target:s,previousTarget:_},w={e:h,target:_,nextTarget:s}),I=s&&k,_&&k&&(ne&&this.fire(ne,w),_.fire(l.evtOut,w)),I&&(z&&this.fire(z,p),s.fire(l.evtIn,p))},__onMouseWheel:function(s){this._cacheTransformEventData(s),this._handleEvent(s,"wheel"),this._resetTransformEventData()},_transformObject:function(s){var h=this.getPointer(s),l=this._currentTransform;l.reset=!1,l.shiftKey=s.shiftKey,l.altKey=s[this.centeredKey],this._performTransformAction(s,l,h),l.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(s,h,l){var _=h.action,C=!1,I=h.actionHandler;I&&(C=I(s,h,l.x,l.y)),"drag"===_&&C&&(h.target.isMoving=!0,this.setCursor(h.target.moveCursor||this.moveCursor)),h.actionPerformed=h.actionPerformed||C},_fire:f.controlsUtils.fireEvent,_setCursorFromEvent:function(s,h){if(!h)return this.setCursor(this.defaultCursor),!1;var l=h.hoverCursor||this.hoverCursor,p=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,w=(!p||!p.contains(h))&&h._findTargetCorner(this.getPointer(s,!0));w?this.setCursor(this.getCornerCursor(w,h,s)):(h.subTargetCheck&&this.targets.concat().reverse().map(function(_){l=_.hoverCursor||l}),this.setCursor(l))},getCornerCursor:function(s,h,l){var p=h.controls[s];return p.cursorStyleHandler(l,p,h)}})}(),function(){var m=Math.min,c=Math.max;f.util.object.extend(f.Canvas.prototype,{_shouldGroup:function(d,u){var r=this._activeObject;return r&&this._isSelectionKeyPressed(d)&&u&&u.selectable&&this.selection&&(r!==u||"activeSelection"===r.type)&&!u.onSelect({e:d})},_handleGrouping:function(d,u){var r=this._activeObject;r.__corner||u===r&&(!(u=this.findTarget(d,!0))||!u.selectable)||(r&&"activeSelection"===r.type?this._updateActiveSelection(u,d):this._createActiveSelection(u,d))},_updateActiveSelection:function(d,u){var r=this._activeObject,o=r._objects.slice(0);r.contains(d)?(r.removeWithUpdate(d),this._hoveredTarget=d,this._hoveredTargets=this.targets.concat(),1===r.size()&&this._setActiveObject(r.item(0),u)):(r.addWithUpdate(d),this._hoveredTarget=r,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(o,u)},_createActiveSelection:function(d,u){var r=this.getActiveObjects(),o=this._createGroup(d);this._hoveredTarget=o,this._setActiveObject(o,u),this._fireSelectionEvents(r,u)},_createGroup:function(d){var u=this._objects,o=u.indexOf(this._activeObject)<u.indexOf(d)?[this._activeObject,d]:[d,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new f.ActiveSelection(o,{canvas:this})},_groupSelectedObjects:function(d){var r,u=this._collectObjects(d);1===u.length?this.setActiveObject(u[0],d):u.length>1&&(r=new f.ActiveSelection(u.reverse(),{canvas:this}),this.setActiveObject(r,d))},_collectObjects:function(d){for(var r,u=[],o=this._groupSelector.ex,i=this._groupSelector.ey,s=o+this._groupSelector.left,h=i+this._groupSelector.top,l=new f.Point(m(o,s),m(i,h)),p=new f.Point(c(o,s),c(i,h)),w=!this.selectionFullyContained,_=o===s&&i===h,C=this._objects.length;C--&&!((r=this._objects[C])&&r.selectable&&r.visible&&(w&&r.intersectsWithRect(l,p,!0)||r.isContainedWithinRect(l,p,!0)||w&&r.containsPoint(l,null,!0)||w&&r.containsPoint(p,null,!0))&&(u.push(r),_)););return u.length>1&&(u=u.filter(function(I){return!I.onSelect({e:d})})),u},_maybeGroupObjects:function(d){this.selection&&this._groupSelector&&this._groupSelectedObjects(d),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),f.util.object.extend(f.StaticCanvas.prototype,{toDataURL:function(m){m||(m={});var c=m.format||"png",d=m.quality||1,u=(m.multiplier||1)*(m.enableRetinaScaling?this.getRetinaScaling():1),r=this.toCanvasElement(u,m);return f.util.toDataURL(r,c,d)},toCanvasElement:function(m,c){var d=((c=c||{}).width||this.width)*(m=m||1),u=(c.height||this.height)*m,r=this.getZoom(),o=this.width,i=this.height,s=r*m,h=this.viewportTransform,w=this.interactive,_=[s,0,0,s,(h[4]-(c.left||0))*m,(h[5]-(c.top||0))*m],C=this.enableRetinaScaling,I=f.util.createCanvasElement(),k=this.contextTop;return I.width=d,I.height=u,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=_,this.width=d,this.height=u,this.calcViewportBoundaries(),this.renderCanvas(I.getContext("2d"),this._objects),this.viewportTransform=h,this.width=o,this.height=i,this.calcViewportBoundaries(),this.interactive=w,this.enableRetinaScaling=C,this.contextTop=k,I}}),f.util.object.extend(f.StaticCanvas.prototype,{loadFromJSON:function(m,c,d){if(m){var u="string"==typeof m?JSON.parse(m):f.util.object.clone(m),r=this,o=u.clipPath,i=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete u.clipPath,this._enlivenObjects(u.objects,function(s){r.clear(),r._setBgOverlay(u,function(){o?r._enlivenObjects([o],function(h){r.clipPath=h[0],r.__setupCanvas.call(r,u,s,i,c)}):r.__setupCanvas.call(r,u,s,i,c)})},d),this}},__setupCanvas:function(m,c,d,u){var r=this;c.forEach(function(o,i){r.insertAt(o,i)}),this.renderOnAddRemove=d,delete m.objects,delete m.backgroundImage,delete m.overlayImage,delete m.background,delete m.overlay,this._setOptions(m),this.renderAll(),u&&u()},_setBgOverlay:function(m,c){var d={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(m.backgroundImage||m.overlayImage||m.background||m.overlay){var u=function(){d.backgroundImage&&d.overlayImage&&d.backgroundColor&&d.overlayColor&&c&&c()};this.__setBgOverlay("backgroundImage",m.backgroundImage,d,u),this.__setBgOverlay("overlayImage",m.overlayImage,d,u),this.__setBgOverlay("backgroundColor",m.background,d,u),this.__setBgOverlay("overlayColor",m.overlay,d,u)}else c&&c()},__setBgOverlay:function(m,c,d,u){var r=this;if(!c)return d[m]=!0,void(u&&u());"backgroundImage"===m||"overlayImage"===m?f.util.enlivenObjects([c],function(o){r[m]=o[0],d[m]=!0,u&&u()}):this["set"+f.util.string.capitalize(m,!0)](c,function(){d[m]=!0,u&&u()})},_enlivenObjects:function(m,c,d){m&&0!==m.length?f.util.enlivenObjects(m,function(u){c&&c(u)},null,d):c&&c([])},_toDataURL:function(m,c){this.clone(function(d){c(d.toDataURL(m))})},_toDataURLWithMultiplier:function(m,c,d){this.clone(function(u){d(u.toDataURLWithMultiplier(m,c))})},clone:function(m,c){var d=JSON.stringify(this.toJSON(c));this.cloneWithoutData(function(u){u.loadFromJSON(d,function(){m&&m(u)})})},cloneWithoutData:function(m){var c=f.util.createCanvasElement();c.width=this.width,c.height=this.height;var d=new f.Canvas(c);this.backgroundImage?(d.setBackgroundImage(this.backgroundImage.src,function(){d.renderAll(),m&&m(d)}),d.backgroundImageOpacity=this.backgroundImageOpacity,d.backgroundImageStretch=this.backgroundImageStretch):m&&m(d)}}),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=c.util.object.extend,u=c.util.object.clone,r=c.util.toFixed,o=c.util.string.capitalize,i=c.util.degreesToRadians;c.Object||(c.Object=c.util.createClass(c.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:!c.isLikelyNode,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(l){l&&this.setOptions(l)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=c.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(l){var p=c.perfLimitSizeTotal,w=l.width,_=l.height,C=c.maxCacheSideLimit,I=c.minCacheSideLimit;if(w<=C&&_<=C&&w*_<=p)return w<I&&(l.width=I),_<I&&(l.height=I),l;var z=c.util.limitDimsByArea(w/_,p),ne=c.util.capValue,fe=ne(I,z.x,C),ye=ne(I,z.y,C);return w>fe&&(l.zoomX/=w/fe,l.width=fe,l.capped=!0),_>ye&&(l.zoomY/=_/ye,l.height=ye,l.capped=!0),l},_getCacheCanvasDimensions:function(){var l=this.getTotalObjectScaling(),p=this._getTransformedDimensions(0,0),w=p.x*l.scaleX/this.scaleX,_=p.y*l.scaleY/this.scaleY;return{width:w+2,height:_+2,zoomX:l.scaleX,zoomY:l.scaleY,x:w,y:_}},_updateCacheCanvas:function(){var l=this.canvas;if(this.noScaleCache&&l&&l._currentTransform){var w=l._currentTransform.action;if(this===l._currentTransform.target&&w.slice&&"scale"===w.slice(0,5))return!1}var ne,fe,_=this._cacheCanvas,C=this._limitCacheSize(this._getCacheCanvasDimensions()),I=c.minCacheSideLimit,k=C.width,z=C.height,ye=C.zoomX,Pe=C.zoomY,_e=k!==this.cacheWidth||z!==this.cacheHeight,Ee=_e||this.zoomX!==ye||this.zoomY!==Pe,de=0,Ve=0,Ze=!1;if(_e){var dt=this._cacheCanvas.width,he=this._cacheCanvas.height,ie=k>dt||z>he;Ze=ie||(k<.9*dt||z<.9*he)&&dt>I&&he>I,ie&&!C.capped&&(k>I||z>I)&&(de=.1*k,Ve=.1*z)}return this instanceof c.Text&&this.path&&(Ee=!0,Ze=!0,de+=this.getHeightOfLine(0)*this.zoomX,Ve+=this.getHeightOfLine(0)*this.zoomY),!!Ee&&(Ze?(_.width=Math.ceil(k+de),_.height=Math.ceil(z+Ve)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,_.width,_.height)),ne=C.x/2,fe=C.y/2,this.cacheTranslationX=Math.round(_.width/2-ne)+ne,this.cacheTranslationY=Math.round(_.height/2-fe)+fe,this.cacheWidth=k,this.cacheHeight=z,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(ye,Pe),this.zoomX=ye,this.zoomY=Pe,!0)},setOptions:function(l){this._setOptions(l),this._initGradient(l.fill,"fill"),this._initGradient(l.stroke,"stroke"),this._initPattern(l.fill,"fill"),this._initPattern(l.stroke,"stroke")},transform:function(l){var w=this.calcTransformMatrix(!(this.group&&!this.group._transformDone||this.group&&this.canvas&&l===this.canvas.contextTop));l.transform(w[0],w[1],w[2],w[3],w[4],w[5])},toObject:function(l){var p=c.Object.NUM_FRACTION_DIGITS,w={type:this.type,version:c.version,originX:this.originX,originY:this.originY,left:r(this.left,p),top:r(this.top,p),width:r(this.width,p),height:r(this.height,p),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:r(this.strokeWidth,p),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:r(this.strokeMiterLimit,p),scaleX:r(this.scaleX,p),scaleY:r(this.scaleY,p),angle:r(this.angle,p),flipX:this.flipX,flipY:this.flipY,opacity:r(this.opacity,p),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:r(this.skewX,p),skewY:r(this.skewY,p)};return this.clipPath&&!this.clipPath.excludeFromExport&&(w.clipPath=this.clipPath.toObject(l),w.clipPath.inverted=this.clipPath.inverted,w.clipPath.absolutePositioned=this.clipPath.absolutePositioned),c.util.populateWithProperties(this,w,l),this.includeDefaultValues||(w=this._removeDefaultValues(w)),w},toDatalessObject:function(l){return this.toObject(l)},_removeDefaultValues:function(l){var p=c.util.getKlass(l.type).prototype;return p.stateProperties.forEach(function(_){"left"===_||"top"===_||(l[_]===p[_]&&delete l[_],Array.isArray(l[_])&&Array.isArray(p[_])&&0===l[_].length&&0===p[_].length&&delete l[_])}),l},toString:function(){return"#<fabric."+o(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var l=c.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(l.scaleX),scaleY:Math.abs(l.scaleY)}},getTotalObjectScaling:function(){var l=this.getObjectScaling(),p=l.scaleX,w=l.scaleY;if(this.canvas){var _=this.canvas.getZoom(),C=this.canvas.getRetinaScaling();p*=_*C,w*=_*C}return{scaleX:p,scaleY:w}},getObjectOpacity:function(){var l=this.opacity;return this.group&&(l*=this.group.getObjectOpacity()),l},_set:function(l,p){var _=this[l]!==p,C=!1;return("scaleX"===l||"scaleY"===l)&&(p=this._constrainScale(p)),"scaleX"===l&&p<0?(this.flipX=!this.flipX,p*=-1):"scaleY"===l&&p<0?(this.flipY=!this.flipY,p*=-1):"shadow"!==l||!p||p instanceof c.Shadow?"dirty"===l&&this.group&&this.group.set("dirty",p):p=new c.Shadow(p),this[l]=p,_&&(C=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(l)>-1?(this.dirty=!0,C&&this.group.set("dirty",!0)):C&&this.stateProperties.indexOf(l)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:c.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible},render:function(l){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(l.save(),this._setupCompositeOperation(l),this.drawSelectionBackground(l),this.transform(l),this._setOpacity(l),this._setShadow(l,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(l)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(l),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),l.restore())},renderCache:function(l){l=l||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,l.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!!("stroke"===this.paintFirst&&this.hasFill()&&this.hasStroke()&&"object"==typeof this.shadow||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(l,p){if(l.save(),l.globalCompositeOperation=p.inverted?"destination-out":"destination-in",p.absolutePositioned){var w=c.util.invertTransform(this.calcTransformMatrix());l.transform(w[0],w[1],w[2],w[3],w[4],w[5])}p.transform(l),l.scale(1/p.zoomX,1/p.zoomY),l.drawImage(p._cacheCanvas,-p.cacheTranslationX,-p.cacheTranslationY),l.restore()},drawObject:function(l,p){var w=this.fill,_=this.stroke;p?(this.fill="black",this.stroke="",this._setClippingProperties(l)):this._renderBackground(l),this._render(l),this._drawClipPath(l,this.clipPath),this.fill=w,this.stroke=_},_drawClipPath:function(l,p){!p||(p.canvas=this.canvas,p.shouldCache(),p._transformDone=!0,p.renderCache({forClipping:!0}),this.drawClipPathOnCache(l,p))},drawCacheOnCanvas:function(l){l.scale(1/this.zoomX,1/this.zoomY),l.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(l){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!l&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!l){var p=this.cacheWidth/this.zoomX,w=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-p/2,-w/2,p,w)}return!0}return!1},_renderBackground:function(l){if(this.backgroundColor){var p=this._getNonTransformedDimensions();l.fillStyle=this.backgroundColor,l.fillRect(-p.x/2,-p.y/2,p.x,p.y),this._removeShadow(l)}},_setOpacity:function(l){this.group&&!this.group._transformDone?l.globalAlpha=this.getObjectOpacity():l.globalAlpha*=this.opacity},_setStrokeStyles:function(l,p){var w=p.stroke;w&&(l.lineWidth=p.strokeWidth,l.lineCap=p.strokeLineCap,l.lineDashOffset=p.strokeDashOffset,l.lineJoin=p.strokeLineJoin,l.miterLimit=p.strokeMiterLimit,w.toLive?"percentage"===w.gradientUnits||w.gradientTransform||w.patternTransform?this._applyPatternForTransformedGradient(l,w):(l.strokeStyle=w.toLive(l,this),this._applyPatternGradientTransform(l,w)):l.strokeStyle=p.stroke)},_setFillStyles:function(l,p){var w=p.fill;w&&(w.toLive?(l.fillStyle=w.toLive(l,this),this._applyPatternGradientTransform(l,p.fill)):l.fillStyle=w)},_setClippingProperties:function(l){l.globalAlpha=1,l.strokeStyle="transparent",l.fillStyle="#000000"},_setLineDash:function(l,p){!p||0===p.length||(1&p.length&&p.push.apply(p,p),l.setLineDash(p))},_renderControls:function(l,p){var C,I,k,w=this.getViewportTransform(),_=this.calcTransformMatrix();I=typeof(p=p||{}).hasBorders<"u"?p.hasBorders:this.hasBorders,k=typeof p.hasControls<"u"?p.hasControls:this.hasControls,_=c.util.multiplyTransformMatrices(w,_),C=c.util.qrDecompose(_),l.save(),l.translate(C.translateX,C.translateY),l.lineWidth=1*this.borderScaleFactor,this.group||(l.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(C.angle-=180),l.rotate(i(this.group?C.angle:this.angle)),p.forActiveSelection||this.group?I&&this.drawBordersInGroup(l,C,p):I&&this.drawBorders(l,p),k&&this.drawControls(l,p),l.restore()},_setShadow:function(l){if(this.shadow){var _,p=this.shadow,w=this.canvas,C=w&&w.viewportTransform[0]||1,I=w&&w.viewportTransform[3]||1;_=p.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),w&&w._isRetinaScaling()&&(C*=c.devicePixelRatio,I*=c.devicePixelRatio),l.shadowColor=p.color,l.shadowBlur=p.blur*c.browserShadowBlurConstant*(C+I)*(_.scaleX+_.scaleY)/4,l.shadowOffsetX=p.offsetX*C*_.scaleX,l.shadowOffsetY=p.offsetY*I*_.scaleY}},_removeShadow:function(l){!this.shadow||(l.shadowColor="",l.shadowBlur=l.shadowOffsetX=l.shadowOffsetY=0)},_applyPatternGradientTransform:function(l,p){if(!p||!p.toLive)return{offsetX:0,offsetY:0};var w=p.gradientTransform||p.patternTransform,_=-this.width/2+p.offsetX||0,C=-this.height/2+p.offsetY||0;return"percentage"===p.gradientUnits?l.transform(this.width,0,0,this.height,_,C):l.transform(1,0,0,1,_,C),w&&l.transform(w[0],w[1],w[2],w[3],w[4],w[5]),{offsetX:_,offsetY:C}},_renderPaintInOrder:function(l){"stroke"===this.paintFirst?(this._renderStroke(l),this._renderFill(l)):(this._renderFill(l),this._renderStroke(l))},_render:function(){},_renderFill:function(l){!this.fill||(l.save(),this._setFillStyles(l,this),"evenodd"===this.fillRule?l.fill("evenodd"):l.fill(),l.restore())},_renderStroke:function(l){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(l),l.save(),this.strokeUniform&&this.group){var p=this.getObjectScaling();l.scale(1/p.scaleX,1/p.scaleY)}else this.strokeUniform&&l.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(l,this.strokeDashArray),this._setStrokeStyles(l,this),l.stroke(),l.restore()}},_applyPatternForTransformedGradient:function(l,p){var C,w=this._limitCacheSize(this._getCacheCanvasDimensions()),_=c.util.createCanvasElement(),I=this.canvas.getRetinaScaling(),k=w.x/this.scaleX/I,z=w.y/this.scaleY/I;_.width=k,_.height=z,(C=_.getContext("2d")).beginPath(),C.moveTo(0,0),C.lineTo(k,0),C.lineTo(k,z),C.lineTo(0,z),C.closePath(),C.translate(k/2,z/2),C.scale(w.zoomX/this.scaleX/I,w.zoomY/this.scaleY/I),this._applyPatternGradientTransform(C,p),C.fillStyle=p.toLive(l),C.fill(),l.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),l.scale(I*this.scaleX/w.zoomX,I*this.scaleY/w.zoomY),l.strokeStyle=C.createPattern(_,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var l=c.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",l.scaleX),this.set("scaleY",l.scaleY),this.angle=l.angle,this.skewX=l.skewX,this.skewY=0}},_removeTransformMatrix:function(l){var p=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),p=c.util.transformPoint(p,this.transformMatrix)),this.transformMatrix=null,l&&(this.scaleX*=l.scaleX,this.scaleY*=l.scaleY,this.cropX=l.cropX,this.cropY=l.cropY,p.x+=l.offsetLeft,p.y+=l.offsetTop,this.width=l.width,this.height=l.height),this.setPositionByOrigin(p,"center","center")},clone:function(l,p){var w=this.toObject(p);this.constructor.fromObject?this.constructor.fromObject(w,l):c.Object._fromObject("Object",w,l)},cloneAsImage:function(l,p){var w=this.toCanvasElement(p);return l&&l(new c.Image(w)),this},toCanvasElement:function(l){l||(l={});var p=c.util,w=p.saveObjectTransform(this),_=this.group,C=this.shadow,I=Math.abs,k=(l.multiplier||1)*(l.enableRetinaScaling?c.devicePixelRatio:1);delete this.group,l.withoutTransform&&p.resetObjectTransform(this),l.withoutShadow&&(this.shadow=null);var ye,_e,Ee,z=c.util.createCanvasElement(),ne=this.getBoundingRect(!0,!0),fe=this.shadow,Pe={x:0,y:0};fe&&(_e=fe.blur,ye=fe.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),Pe.x=2*Math.round(I(fe.offsetX)+_e)*I(ye.scaleX),Pe.y=2*Math.round(I(fe.offsetY)+_e)*I(ye.scaleY)),Ee=ne.height+Pe.y,z.width=Math.ceil(ne.width+Pe.x),z.height=Math.ceil(Ee);var de=new c.StaticCanvas(z,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===l.format&&(de.backgroundColor="#fff"),this.setPositionByOrigin(new c.Point(de.width/2,de.height/2),"center","center");var Ve=this.canvas;de.add(this);var Ze=de.toCanvasElement(k||1,l);return this.shadow=C,this.set("canvas",Ve),_&&(this.group=_),this.set(w).setCoords(),de._objects=[],de.dispose(),de=null,Ze},toDataURL:function(l){return l||(l={}),c.util.toDataURL(this.toCanvasElement(l),l.format||"png",l.quality||1)},isType:function(l){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===l},complexity:function(){return 1},toJSON:function(l){return this.toObject(l)},rotate:function(l){var p=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return p&&this._setOriginToCenter(),this.set("angle",l),p&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(l,p){p=p||this.canvas.getPointer(l);var w=new c.Point(p.x,p.y),_=this._getLeftTopCoords();return this.angle&&(w=c.util.rotatePoint(w,_,i(-this.angle))),{x:w.x-_.x,y:w.y-_.y}},_setupCompositeOperation:function(l){this.globalCompositeOperation&&(l.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){c.runningAnimations&&c.runningAnimations.cancelByTarget(this)}}),c.util.createAccessors&&c.util.createAccessors(c.Object),d(c.Object.prototype,c.Observable),c.Object.NUM_FRACTION_DIGITS=2,c.Object.ENLIVEN_PROPS=["clipPath"],c.Object._fromObject=function(l,p,w,_){var C=c[l];p=u(p,!0),c.util.enlivenPatterns([p.fill,p.stroke],function(I){typeof I[0]<"u"&&(p.fill=I[0]),typeof I[1]<"u"&&(p.stroke=I[1]),c.util.enlivenObjectEnlivables(p,p,function(){var k=_?new C(p[_],p):new C(p);w&&w(k)})})},c.Object.__uid=0)}(ue),function(){var m=f.util.degreesToRadians,c={left:-.5,center:0,right:.5},d={top:-.5,center:0,bottom:.5};f.util.object.extend(f.Object.prototype,{translateToGivenOrigin:function(u,r,o,i,s){var p,w,_,h=u.x,l=u.y;return"string"==typeof r?r=c[r]:r-=.5,"string"==typeof i?i=c[i]:i-=.5,"string"==typeof o?o=d[o]:o-=.5,"string"==typeof s?s=d[s]:s-=.5,w=s-o,((p=i-r)||w)&&(_=this._getTransformedDimensions(),h=u.x+p*_.x,l=u.y+w*_.y),new f.Point(h,l)},translateToCenterPoint:function(u,r,o){var i=this.translateToGivenOrigin(u,r,o,"center","center");return this.angle?f.util.rotatePoint(i,u,m(this.angle)):i},translateToOriginPoint:function(u,r,o){var i=this.translateToGivenOrigin(u,"center","center",r,o);return this.angle?f.util.rotatePoint(i,u,m(this.angle)):i},getCenterPoint:function(){var u=new f.Point(this.left,this.top);return this.translateToCenterPoint(u,this.originX,this.originY)},getPointByOrigin:function(u,r){var o=this.getCenterPoint();return this.translateToOriginPoint(o,u,r)},toLocalPoint:function(u,r,o){var s,h,i=this.getCenterPoint();return s=typeof r<"u"&&typeof o<"u"?this.translateToGivenOrigin(i,"center","center",r,o):new f.Point(this.left,this.top),h=new f.Point(u.x,u.y),this.angle&&(h=f.util.rotatePoint(h,i,-m(this.angle))),h.subtractEquals(s)},setPositionByOrigin:function(u,r,o){var i=this.translateToCenterPoint(u,r,o),s=this.translateToOriginPoint(i,this.originX,this.originY);this.set("left",s.x),this.set("top",s.y)},adjustPosition:function(u){var h,l,r=m(this.angle),o=this.getScaledWidth(),i=f.util.cos(r)*o,s=f.util.sin(r)*o;this.left+=i*((l="string"==typeof u?c[u]:u-.5)-(h="string"==typeof this.originX?c[this.originX]:this.originX-.5)),this.top+=s*(l-h),this.setCoords(),this.originX=u},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var u=this.getCenterPoint();this.originX="center",this.originY="center",this.left=u.x,this.top=u.y},_resetOrigin:function(){var u=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=u.x,this.top=u.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){var c=f.util,d=c.degreesToRadians,u=c.multiplyTransformMatrices,r=c.transformPoint;c.object.extend(f.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(o,i){return i?o?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),o?this.aCoords:this.lineCoords)},getCoords:function(o,i){return function m(o){return[new f.Point(o.tl.x,o.tl.y),new f.Point(o.tr.x,o.tr.y),new f.Point(o.br.x,o.br.y),new f.Point(o.bl.x,o.bl.y)]}(this._getCoords(o,i))},intersectsWithRect:function(o,i,s,h){var l=this.getCoords(s,h);return"Intersection"===f.Intersection.intersectPolygonRectangle(l,o,i).status},intersectsWithObject:function(o,i,s){return"Intersection"===f.Intersection.intersectPolygonPolygon(this.getCoords(i,s),o.getCoords(i,s)).status||o.isContainedWithinObject(this,i,s)||this.isContainedWithinObject(o,i,s)},isContainedWithinObject:function(o,i,s){for(var h=this.getCoords(i,s),p=0,w=o._getImageLines(i?o.aCoords:o.lineCoords);p<4;p++)if(!o.containsPoint(h[p],w))return!1;return!0},isContainedWithinRect:function(o,i,s,h){var l=this.getBoundingRect(s,h);return l.left>=o.x&&l.left+l.width<=i.x&&l.top>=o.y&&l.top+l.height<=i.y},containsPoint:function(o,p,s,h){var l=this._getCoords(s,h),w=(p=p||this._getImageLines(l),this._findCrossPoints(o,p));return 0!==w&&w%2==1},isOnScreen:function(o){if(!this.canvas)return!1;var i=this.canvas.vptCoords.tl,s=this.canvas.vptCoords.br;return!(!this.getCoords(!0,o).some(function(l){return l.x<=s.x&&l.x>=i.x&&l.y<=s.y&&l.y>=i.y})&&!this.intersectsWithRect(i,s,!0,o))||this._containsCenterOfCanvas(i,s,o)},_containsCenterOfCanvas:function(o,i,s){return!!this.containsPoint({x:(o.x+i.x)/2,y:(o.y+i.y)/2},null,!0,s)},isPartiallyOnScreen:function(o){if(!this.canvas)return!1;var i=this.canvas.vptCoords.tl,s=this.canvas.vptCoords.br;return!!this.intersectsWithRect(i,s,!0,o)||this.getCoords(!0,o).every(function(l){return(l.x>=s.x||l.x<=i.x)&&(l.y>=s.y||l.y<=i.y)})&&this._containsCenterOfCanvas(i,s,o)},_getImageLines:function(o){return{topline:{o:o.tl,d:o.tr},rightline:{o:o.tr,d:o.br},bottomline:{o:o.br,d:o.bl},leftline:{o:o.bl,d:o.tl}}},_findCrossPoints:function(o,i){var h,l,p,w,C,_=0;for(var I in i)if(!((C=i[I]).o.y<o.y&&C.d.y<o.y||C.o.y>=o.y&&C.d.y>=o.y||(C.o.x===C.d.x&&C.o.x>=o.x?w=C.o.x:(h=(C.d.y-C.o.y)/(C.d.x-C.o.x),l=o.y-0*o.x,p=C.o.y-h*C.o.x,w=-(l-p)/(0-h)),w>=o.x&&(_+=1),2!==_)))break;return _},getBoundingRect:function(o,i){var s=this.getCoords(o,i);return c.makeBoundingBoxFromPoints(s)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(o){return Math.abs(o)<this.minScaleLimit?o<0?-this.minScaleLimit:this.minScaleLimit:0===o?1e-4:o},scale:function(o){return this._set("scaleX",o),this._set("scaleY",o),this.setCoords()},scaleToWidth:function(o,i){var s=this.getBoundingRect(i).width/this.getScaledWidth();return this.scale(o/this.width/s)},scaleToHeight:function(o,i){var s=this.getBoundingRect(i).height/this.getScaledHeight();return this.scale(o/this.height/s)},calcLineCoords:function(){var o=this.getViewportTransform(),i=this.padding,s=d(this.angle),p=c.cos(s)*i,w=c.sin(s)*i,_=p+w,C=p-w,I=this.calcACoords(),k={tl:r(I.tl,o),tr:r(I.tr,o),bl:r(I.bl,o),br:r(I.br,o)};return i&&(k.tl.x-=C,k.tl.y-=_,k.tr.x+=_,k.tr.y-=C,k.bl.x-=_,k.bl.y+=C,k.br.x+=C,k.br.y+=_),k},calcOCoords:function(){var o=this._calcRotateMatrix(),i=this._calcTranslateMatrix(),s=this.getViewportTransform(),h=u(s,i),l=u(h,o),p=(l=u(l,[1/s[0],0,0,1/s[3],0,0]),this._calculateCurrentDimensions()),w={};return this.forEachControl(function(_,C,I){w[C]=_.positionHandler(p,l,I)}),w},calcACoords:function(){var o=this._calcRotateMatrix(),i=this._calcTranslateMatrix(),s=u(i,o),h=this._getTransformedDimensions(),l=h.x/2,p=h.y/2;return{tl:r({x:-l,y:-p},s),tr:r({x:l,y:-p},s),bl:r({x:-l,y:p},s),br:r({x:l,y:p},s)}},setCoords:function(o){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),o||(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords()),this},_calcRotateMatrix:function(){return c.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var o=this.getCenterPoint();return[1,0,0,1,o.x,o.y]},transformMatrixKey:function(o){var i="_",s="";return!o&&this.group&&(s=this.group.transformMatrixKey(o)+i),s+this.top+i+this.left+i+this.scaleX+i+this.scaleY+i+this.skewX+i+this.skewY+i+this.angle+i+this.originX+i+this.originY+i+this.width+i+this.height+i+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(o){var i=this.calcOwnMatrix();if(o||!this.group)return i;var s=this.transformMatrixKey(o),h=this.matrixCache||(this.matrixCache={});return h.key===s?h.value:(this.group&&(i=u(this.group.calcTransformMatrix(!1),i)),h.key=s,h.value=i,i)},calcOwnMatrix:function(){var o=this.transformMatrixKey(!0),i=this.ownMatrixCache||(this.ownMatrixCache={});if(i.key===o)return i.value;var s=this._calcTranslateMatrix(),h={angle:this.angle,translateX:s[4],translateY:s[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return i.key=o,i.value=c.composeMatrix(h),i.value},_getNonTransformedDimensions:function(){var o=this.strokeWidth;return{x:this.width+o,y:this.height+o}},_getTransformedDimensions:function(o,i){typeof o>"u"&&(o=this.skewX),typeof i>"u"&&(i=this.skewY);var s,h,l,p=0===o&&0===i;if(this.strokeUniform?(h=this.width,l=this.height):(h=(s=this._getNonTransformedDimensions()).x,l=s.y),p)return this._finalizeDimensions(h*this.scaleX,l*this.scaleY);var w=c.sizeAfterTransform(h,l,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:o,skewY:i});return this._finalizeDimensions(w.x,w.y)},_finalizeDimensions:function(o,i){return this.strokeUniform?{x:o+this.strokeWidth,y:i+this.strokeWidth}:{x:o,y:i}},_calculateCurrentDimensions:function(){var o=this.getViewportTransform(),i=this._getTransformedDimensions();return r(i,o,!0).scalarAdd(2*this.padding)}})}(),f.util.object.extend(f.Object.prototype,{sendToBack:function(){return this.group?f.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?f.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(m){return this.group?f.StaticCanvas.prototype.sendBackwards.call(this.group,this,m):this.canvas&&this.canvas.sendBackwards(this,m),this},bringForward:function(m){return this.group?f.StaticCanvas.prototype.bringForward.call(this.group,this,m):this.canvas&&this.canvas.bringForward(this,m),this},moveTo:function(m){return this.group&&"activeSelection"!==this.group.type?f.StaticCanvas.prototype.moveTo.call(this.group,this,m):this.canvas&&this.canvas.moveTo(this,m),this}}),function(){function m(d,u){if(u){if(u.toLive)return d+": url(#SVGID_"+u.id+"); ";var r=new f.Color(u),o=d+": "+r.toRgb()+"; ",i=r.getAlpha();return 1!==i&&(o+=d+"-opacity: "+i.toString()+"; "),o}return d+": none; "}var c=f.util.toFixed;f.util.object.extend(f.Object.prototype,{getSvgStyles:function(d){var u=this.fillRule?this.fillRule:"nonzero",r=this.strokeWidth?this.strokeWidth:"0",o=this.strokeDashArray?this.strokeDashArray.join(" "):"none",i=this.strokeDashOffset?this.strokeDashOffset:"0",s=this.strokeLineCap?this.strokeLineCap:"butt",h=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",p=typeof this.opacity<"u"?this.opacity:"1",w=this.visible?"":" visibility: hidden;",_=d?"":this.getSvgFilter(),C=m("fill",this.fill);return[m("stroke",this.stroke),"stroke-width: ",r,"; ","stroke-dasharray: ",o,"; ","stroke-linecap: ",s,"; ","stroke-dashoffset: ",i,"; ","stroke-linejoin: ",h,"; ","stroke-miterlimit: ",l,"; ",C,"fill-rule: ",u,"; ","opacity: ",p,";",_,w].join("")},getSvgSpanStyles:function(d,u){var r="; ",i=d.fontFamily?"font-family: "+(-1===d.fontFamily.indexOf("'")&&-1===d.fontFamily.indexOf('"')?"'"+d.fontFamily+"'":d.fontFamily)+r:"",o=d.strokeWidth?"stroke-width: "+d.strokeWidth+r:"",s=d.fontSize?"font-size: "+d.fontSize+"px"+r:"",h=d.fontStyle?"font-style: "+d.fontStyle+r:"",l=d.fontWeight?"font-weight: "+d.fontWeight+r:"",p=d.fill?m("fill",d.fill):"",w=d.stroke?m("stroke",d.stroke):"",_=this.getSvgTextDecoration(d);return _&&(_="text-decoration: "+_+r),[w,o,i,s,h,l,_,p,d.deltaY?"baseline-shift: "+-d.deltaY+"; ":"",u?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(d){return["overline","underline","line-through"].filter(function(u){return d[u.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(d,u){var r=d?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+f.util.matrixToSVG(r)+(u||"")+'" '},_setSVGBg:function(d){if(this.backgroundColor){var u=f.Object.NUM_FRACTION_DIGITS;d.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',c(-this.width/2,u),'" y="',c(-this.height/2,u),'" width="',c(this.width,u),'" height="',c(this.height,u),'"></rect>\n')}},toSVG:function(d){return this._createBaseSVGMarkup(this._toSVG(d),{reviver:d})},toClipPathSVG:function(d){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(d),{reviver:d})},_createBaseClipPathSVGMarkup:function(d,u){var r=(u=u||{}).reviver,i=[this.getSvgTransform(!0,u.additionalTransform||""),this.getSvgCommons()].join(""),s=d.indexOf("COMMON_PARTS");return d[s]=i,r?r(d.join("")):d.join("")},_createBaseSVGMarkup:function(d,u){var I,z,r=(u=u||{}).noStyle,o=u.reviver,i=r?"":'style="'+this.getSvgStyles()+'" ',s=u.withShadow?'style="'+this.getSvgFilter()+'" ':"",h=this.clipPath,l=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",p=h&&h.absolutePositioned,w=this.stroke,_=this.fill,C=this.shadow,k=[],ne=d.indexOf("COMMON_PARTS"),fe=u.additionalTransform;return h&&(h.clipPathId="CLIPPATH_"+f.Object.__uid++,z='<clipPath id="'+h.clipPathId+'" >\n'+h.toClipPathSVG(o)+"</clipPath>\n"),p&&k.push("<g ",s,this.getSvgCommons()," >\n"),k.push("<g ",this.getSvgTransform(!1),p?"":s+this.getSvgCommons()," >\n"),I=[i,l,r?"":this.addPaintOrder()," ",fe?'transform="'+fe+'" ':""].join(""),d[ne]=I,_&&_.toLive&&k.push(_.toSVG(this)),w&&w.toLive&&k.push(w.toSVG(this)),C&&k.push(C.toSVG(this)),h&&k.push(z),k.push(d.join("")),k.push("</g>\n"),p&&k.push("</g>\n"),o?o(k.join("")):k.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var m=f.util.object.extend,c="stateProperties";function d(r,o,i){var s={};i.forEach(function(l){s[l]=r[l]}),m(r[o],s,!0)}function u(r,o,i){if(r===o)return!0;if(Array.isArray(r)){if(!Array.isArray(o)||r.length!==o.length)return!1;for(var s=0,h=r.length;s<h;s++)if(!u(r[s],o[s]))return!1;return!0}if(r&&"object"==typeof r){var p,l=Object.keys(r);if(!o||"object"!=typeof o||!i&&l.length!==Object.keys(o).length)return!1;for(s=0,h=l.length;s<h;s++)if("canvas"!==(p=l[s])&&"group"!==p&&!u(r[p],o[p]))return!1;return!0}}f.util.object.extend(f.Object.prototype,{hasStateChanged:function(r){var o="_"+(r=r||c);return Object.keys(this[o]).length<this[r].length||!u(this[o],this,!0)},saveState:function(r){var o=r&&r.propertySet||c,i="_"+o;return this[i]?(d(this,i,this[o]),r&&r.stateProperties&&d(this,i,r.stateProperties),this):this.setupState(r)},setupState:function(r){var o=(r=r||{}).propertySet||c;return r.propertySet=o,this["_"+o]={},this.saveState(r),this}})}(),function(){var m=f.util.degreesToRadians;f.util.object.extend(f.Object.prototype,{_findTargetCorner:function(c,d){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var o,i,l,u=c.x,r=c.y,s=Object.keys(this.oCoords),h=s.length-1;for(this.__corner=0;h>=0;h--)if(this.isControlVisible(l=s[h])&&(i=this._getImageLines(d?this.oCoords[l].touchCorner:this.oCoords[l].corner),0!==(o=this._findCrossPoints({x:u,y:r},i))&&o%2==1))return this.__corner=l,l;return!1},forEachControl:function(c){for(var d in this.controls)c(this.controls[d],d,this)},_setCornerCoords:function(){var c=this.oCoords;for(var d in c){var u=this.controls[d];c[d].corner=u.calcCornerCoords(this.angle,this.cornerSize,c[d].x,c[d].y,!1),c[d].touchCorner=u.calcCornerCoords(this.angle,this.touchCornerSize,c[d].x,c[d].y,!0)}},drawSelectionBackground:function(c){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;c.save();var d=this.getCenterPoint(),u=this._calculateCurrentDimensions(),r=this.canvas.viewportTransform;return c.translate(d.x,d.y),c.scale(1/r[0],1/r[3]),c.rotate(m(this.angle)),c.fillStyle=this.selectionBackgroundColor,c.fillRect(-u.x/2,-u.y/2,u.x,u.y),c.restore(),this},drawBorders:function(c,d){d=d||{};var u=this._calculateCurrentDimensions(),r=this.borderScaleFactor,o=u.x+r,i=u.y+r,s=typeof d.hasControls<"u"?d.hasControls:this.hasControls,h=!1;return c.save(),c.strokeStyle=d.borderColor||this.borderColor,this._setLineDash(c,d.borderDashArray||this.borderDashArray),c.strokeRect(-o/2,-i/2,o,i),s&&(c.beginPath(),this.forEachControl(function(l,p,w){l.withConnection&&l.getVisibility(w,p)&&(h=!0,c.moveTo(l.x*o,l.y*i),c.lineTo(l.x*o+l.offsetX,l.y*i+l.offsetY))}),h&&c.stroke()),c.restore(),this},drawBordersInGroup:function(c,d,u){u=u||{};var r=f.util.sizeAfterTransform(this.width,this.height,d),o=this.strokeWidth,i=this.strokeUniform,s=this.borderScaleFactor,h=r.x+o*(i?this.canvas.getZoom():d.scaleX)+s,l=r.y+o*(i?this.canvas.getZoom():d.scaleY)+s;return c.save(),this._setLineDash(c,u.borderDashArray||this.borderDashArray),c.strokeStyle=u.borderColor||this.borderColor,c.strokeRect(-h/2,-l/2,h,l),c.restore(),this},drawControls:function(c,d){d=d||{},c.save();var r,o,u=this.canvas.getRetinaScaling();return c.setTransform(u,0,0,u,0,0),c.strokeStyle=c.fillStyle=d.cornerColor||this.cornerColor,this.transparentCorners||(c.strokeStyle=d.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(c,d.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(r=this.group.calcTransformMatrix()),this.forEachControl(function(i,s,h){o=h.oCoords[s],i.getVisibility(h,s)&&(r&&(o=f.util.transformPoint(o,r)),i.render(c,o.x,o.y,d,h))}),c.restore(),this},isControlVisible:function(c){return this.controls[c]&&this.controls[c].getVisibility(this,c)},setControlVisible:function(c,d){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[c]=d,this},setControlsVisibility:function(c){for(var d in c||(c={}),c)this.setControlVisible(d,c[d]);return this},onDeselect:function(){},onSelect:function(){}})}(),f.util.object.extend(f.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(m,c){var d=function(){},u=(c=c||{}).onComplete||d,r=c.onChange||d,o=this;return f.util.animate({target:this,startValue:m.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(i){m.set("left",i),o.requestRenderAll(),r()},onComplete:function(){m.setCoords(),u()}})},fxCenterObjectV:function(m,c){var d=function(){},u=(c=c||{}).onComplete||d,r=c.onChange||d,o=this;return f.util.animate({target:this,startValue:m.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(i){m.set("top",i),o.requestRenderAll(),r()},onComplete:function(){m.setCoords(),u()}})},fxRemove:function(m,c){var d=function(){},u=(c=c||{}).onComplete||d,r=c.onChange||d,o=this;return f.util.animate({target:this,startValue:m.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(i){m.set("opacity",i),o.requestRenderAll(),r()},onComplete:function(){o.remove(m),u()}})}}),f.util.object.extend(f.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var c,m=[],u=[];for(c in arguments[0])m.push(c);for(var r=0,o=m.length;r<o;r++)u.push(this._animate(c=m[r],arguments[0][c],arguments[1],r!==o-1));return u}return this._animate.apply(this,arguments)},_animate:function(m,c,d,u){var o,r=this;c=c.toString(),d=d?f.util.object.clone(d):{},~m.indexOf(".")&&(o=m.split("."));var i=r.colorProperties.indexOf(m)>-1||o&&r.colorProperties.indexOf(o[1])>-1,s=o?this.get(o[0])[o[1]]:this.get(m);"from"in d||(d.from=s),i||(c=~c.indexOf("=")?s+parseFloat(c.replace("=","")):parseFloat(c));var h={target:this,startValue:d.from,endValue:c,byValue:d.by,easing:d.easing,duration:d.duration,abort:d.abort&&function(l,p,w){return d.abort.call(r,l,p,w)},onChange:function(l,p,w){o?r[o[0]][o[1]]=l:r.set(m,l),!u&&d.onChange&&d.onChange(l,p,w)},onComplete:function(l,p,w){u||(r.setCoords(),d.onComplete&&d.onComplete(l,p,w))}};return i?f.util.animateColor(h.startValue,h.endValue,h.duration,h):f.util.animate(h)}}),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=c.util.object.extend,u=c.util.object.clone,r={x1:1,x2:1,y1:1,y2:1};function o(i,s){var h=i.origin,l=i.axis1,p=i.axis2,w=i.dimension,_=s.nearest,C=s.center,I=s.farthest;return function(){switch(this.get(h)){case _:return Math.min(this.get(l),this.get(p));case C:return Math.min(this.get(l),this.get(p))+.5*this.get(w);case I:return Math.max(this.get(l),this.get(p))}}}c.Line?c.warn("fabric.Line is already defined"):(c.Line=c.util.createClass(c.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:c.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(i,s){i||(i=[0,0,0,0]),this.callSuper("initialize",s),this.set("x1",i[0]),this.set("y1",i[1]),this.set("x2",i[2]),this.set("y2",i[3]),this._setWidthHeight(s)},_setWidthHeight:function(i){i||(i={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in i?i.left:this._getLeftToOriginX(),this.top="top"in i?i.top:this._getTopToOriginY()},_set:function(i,s){return this.callSuper("_set",i,s),typeof r[i]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:o({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:o({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(i){i.beginPath();var s=this.calcLinePoints();i.moveTo(s.x1,s.y1),i.lineTo(s.x2,s.y2),i.lineWidth=this.strokeWidth;var h=i.strokeStyle;i.strokeStyle=this.stroke||i.fillStyle,this.stroke&&this._renderStroke(i),i.strokeStyle=h},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(i){return d(this.callSuper("toObject",i),this.calcLinePoints())},_getNonTransformedDimensions:function(){var i=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(i.y-=this.strokeWidth),0===this.height&&(i.x-=this.strokeWidth)),i},calcLinePoints:function(){var i=this.x1<=this.x2?-1:1,s=this.y1<=this.y2?-1:1;return{x1:i*this.width*.5,x2:i*this.width*-.5,y1:s*this.height*.5,y2:s*this.height*-.5}},_toSVG:function(){var i=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',i.x1,'" y1="',i.y1,'" x2="',i.x2,'" y2="',i.y2,'" />\n']}}),c.Line.ATTRIBUTE_NAMES=c.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),c.Line.fromElement=function(i,s,h){h=h||{};var l=c.parseAttributes(i,c.Line.ATTRIBUTE_NAMES);s(new c.Line([l.x1||0,l.y1||0,l.x2||0,l.y2||0],d(l,h)))},c.Line.fromObject=function(i,s){var l=u(i,!0);l.points=[i.x1,i.y1,i.x2,i.y2],c.Object._fromObject("Line",l,function h(p){delete p.points,s&&s(p)},"points")})}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=c.util.degreesToRadians;c.Circle?c.warn("fabric.Circle is already defined."):(c.Circle=c.util.createClass(c.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:c.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(r,o){return this.callSuper("_set",r,o),"radius"===r&&this.setRadius(o),this},toObject:function(r){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(r))},_toSVG:function(){var r,s=(this.endAngle-this.startAngle)%360;if(0===s)r=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var h=d(this.startAngle),l=d(this.endAngle),p=this.radius;r=['<path d="M '+c.util.cos(h)*p+" "+c.util.sin(h)*p," A "+p+" "+p," 0 ",+(s>180?"1":"0")+" 1"," "+c.util.cos(l)*p+" "+c.util.sin(l)*p,'" ',"COMMON_PARTS"," />\n"]}return r},_render:function(r){r.beginPath(),r.arc(0,0,this.radius,d(this.startAngle),d(this.endAngle),!1),this._renderPaintInOrder(r)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(r){return this.radius=r,this.set("width",2*r).set("height",2*r)}}),c.Circle.ATTRIBUTE_NAMES=c.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),c.Circle.fromElement=function(r,o){var i=c.parseAttributes(r,c.Circle.ATTRIBUTE_NAMES);if(!function u(r){return"radius"in r&&r.radius>=0}(i))throw new Error("value of `r` attribute is required and can not be negative");i.left=(i.left||0)-i.radius,i.top=(i.top||0)-i.radius,o(new c.Circle(i))},c.Circle.fromObject=function(r,o){c.Object._fromObject("Circle",r,o)})}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={});c.Triangle?c.warn("fabric.Triangle is already defined"):(c.Triangle=c.util.createClass(c.Object,{type:"triangle",width:100,height:100,_render:function(d){var u=this.width/2,r=this.height/2;d.beginPath(),d.moveTo(-u,r),d.lineTo(0,-r),d.lineTo(u,r),d.closePath(),this._renderPaintInOrder(d)},_toSVG:function(){var d=this.width/2,u=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-d+" "+u,"0 "+-u,d+" "+u].join(","),'" />']}}),c.Triangle.fromObject=function(d,u){return c.Object._fromObject("Triangle",d,u)})}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=2*Math.PI;c.Ellipse?c.warn("fabric.Ellipse is already defined."):(c.Ellipse=c.util.createClass(c.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:c.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(u){this.callSuper("initialize",u),this.set("rx",u&&u.rx||0),this.set("ry",u&&u.ry||0)},_set:function(u,r){switch(this.callSuper("_set",u,r),u){case"rx":this.rx=r,this.set("width",2*r);break;case"ry":this.ry=r,this.set("height",2*r)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(u){return this.callSuper("toObject",["rx","ry"].concat(u))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(u){u.beginPath(),u.save(),u.transform(1,0,0,this.ry/this.rx,0,0),u.arc(0,0,this.rx,0,d,!1),u.restore(),this._renderPaintInOrder(u)}}),c.Ellipse.ATTRIBUTE_NAMES=c.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),c.Ellipse.fromElement=function(u,r){var o=c.parseAttributes(u,c.Ellipse.ATTRIBUTE_NAMES);o.left=(o.left||0)-o.rx,o.top=(o.top||0)-o.ry,r(new c.Ellipse(o))},c.Ellipse.fromObject=function(u,r){c.Object._fromObject("Ellipse",u,r)})}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=c.util.object.extend;c.Rect?c.warn("fabric.Rect is already defined"):(c.Rect=c.util.createClass(c.Object,{stateProperties:c.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:c.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(u){this.callSuper("initialize",u),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(u){var r=this.rx?Math.min(this.rx,this.width/2):0,o=this.ry?Math.min(this.ry,this.height/2):0,i=this.width,s=this.height,h=-this.width/2,l=-this.height/2,p=0!==r||0!==o,w=.4477152502;u.beginPath(),u.moveTo(h+r,l),u.lineTo(h+i-r,l),p&&u.bezierCurveTo(h+i-w*r,l,h+i,l+w*o,h+i,l+o),u.lineTo(h+i,l+s-o),p&&u.bezierCurveTo(h+i,l+s-w*o,h+i-w*r,l+s,h+i-r,l+s),u.lineTo(h+r,l+s),p&&u.bezierCurveTo(h+w*r,l+s,h,l+s-w*o,h,l+s-o),u.lineTo(h,l+o),p&&u.bezierCurveTo(h,l+w*o,h+w*r,l,h+r,l),u.closePath(),this._renderPaintInOrder(u)},toObject:function(u){return this.callSuper("toObject",["rx","ry"].concat(u))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),c.Rect.ATTRIBUTE_NAMES=c.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),c.Rect.fromElement=function(u,r,o){if(!u)return r(null);o=o||{};var i=c.parseAttributes(u,c.Rect.ATTRIBUTE_NAMES);i.left=i.left||0,i.top=i.top||0,i.height=i.height||0,i.width=i.width||0;var s=new c.Rect(d(o?c.util.object.clone(o):{},i));s.visible=s.visible&&s.width>0&&s.height>0,r(s)},c.Rect.fromObject=function(u,r){return c.Object._fromObject("Rect",u,r)})}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=c.util.object.extend,u=c.util.array.min,r=c.util.array.max,o=c.util.toFixed,i=c.util.projectStrokeOnPoints;c.Polyline?c.warn("fabric.Polyline is already defined"):(c.Polyline=c.util.createClass(c.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:c.Object.prototype.cacheProperties.concat("points"),initialize:function(s,h){h=h||{},this.points=s||[],this.callSuper("initialize",h),this._setPositionDimensions(h)},_projectStrokeOnPoints:function(){return i(this.points,this,!0)},_setPositionDimensions:function(s){var l,h=this._calcDimensions(s),p=this.exactBoundingBox?this.strokeWidth:0;this.width=h.width-p,this.height=h.height-p,s.fromSVG||(l=this.translateToGivenOrigin({x:h.left-this.strokeWidth/2+p/2,y:h.top-this.strokeWidth/2+p/2},"left","top",this.originX,this.originY)),typeof s.left>"u"&&(this.left=s.fromSVG?h.left:l.x),typeof s.top>"u"&&(this.top=s.fromSVG?h.top:l.y),this.pathOffset={x:h.left+this.width/2+p/2,y:h.top+this.height/2+p/2}},_calcDimensions:function(){var s=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,h=u(s,"x")||0,l=u(s,"y")||0;return{left:h,top:l,width:(r(s,"x")||0)-h,height:(r(s,"y")||0)-l}},toObject:function(s){return d(this.callSuper("toObject",s),{points:this.points.concat()})},_toSVG:function(){for(var s=[],h=this.pathOffset.x,l=this.pathOffset.y,p=c.Object.NUM_FRACTION_DIGITS,w=0,_=this.points.length;w<_;w++)s.push(o(this.points[w].x-h,p),",",o(this.points[w].y-l,p)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',s.join(""),'" />\n']},commonRender:function(s){var h,l=this.points.length,p=this.pathOffset.x,w=this.pathOffset.y;if(!l||isNaN(this.points[l-1].y))return!1;s.beginPath(),s.moveTo(this.points[0].x-p,this.points[0].y-w);for(var _=0;_<l;_++)s.lineTo((h=this.points[_]).x-p,h.y-w);return!0},_render:function(s){!this.commonRender(s)||this._renderPaintInOrder(s)},complexity:function(){return this.get("points").length}}),c.Polyline.ATTRIBUTE_NAMES=c.SHARED_ATTRIBUTES.concat(),c.Polyline.fromElementGenerator=function(s){return function(h,l,p){if(!h)return l(null);p||(p={});var w=c.parsePointsAttribute(h.getAttribute("points")),_=c.parseAttributes(h,c[s].ATTRIBUTE_NAMES);_.fromSVG=!0,l(new c[s](w,d(_,p)))}},c.Polyline.fromElement=c.Polyline.fromElementGenerator("Polyline"),c.Polyline.fromObject=function(s,h){return c.Object._fromObject("Polyline",s,h,"points")})}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=c.util.projectStrokeOnPoints;c.Polygon?c.warn("fabric.Polygon is already defined"):(c.Polygon=c.util.createClass(c.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return d(this.points,this)},_render:function(u){!this.commonRender(u)||(u.closePath(),this._renderPaintInOrder(u))}}),c.Polygon.ATTRIBUTE_NAMES=c.SHARED_ATTRIBUTES.concat(),c.Polygon.fromElement=c.Polyline.fromElementGenerator("Polygon"),c.Polygon.fromObject=function(u,r){c.Object._fromObject("Polygon",u,r,"points")})}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=c.util.array.min,u=c.util.array.max,r=c.util.object.extend,o=c.util.object.clone,i=c.util.toFixed;c.Path?c.warn("fabric.Path is already defined"):(c.Path=c.util.createClass(c.Object,{type:"path",path:null,cacheProperties:c.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:c.Object.prototype.stateProperties.concat("path"),initialize:function(s,h){delete(h=o(h||{})).path,this.callSuper("initialize",h),this._setPath(s||[],h)},_setPath:function(s,h){this.path=c.util.makePathSimpler(Array.isArray(s)?s:c.util.parsePath(s)),c.Polyline.prototype._setPositionDimensions.call(this,h||{})},_renderPathCommands:function(s){var h,l=0,p=0,w=0,_=0,k=-this.pathOffset.x,z=-this.pathOffset.y;s.beginPath();for(var ne=0,fe=this.path.length;ne<fe;++ne)switch(h=this.path[ne],h[0]){case"L":s.lineTo((w=h[1])+k,(_=h[2])+z);break;case"M":l=w=h[1],p=_=h[2],s.moveTo(w+k,_+z);break;case"C":s.bezierCurveTo(h[1]+k,h[2]+z,h[3]+k,h[4]+z,(w=h[5])+k,(_=h[6])+z);break;case"Q":s.quadraticCurveTo(h[1]+k,h[2]+z,h[3]+k,h[4]+z),w=h[3],_=h[4];break;case"z":case"Z":w=l,_=p,s.closePath()}},_render:function(s){this._renderPathCommands(s),this._renderPaintInOrder(s)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(s){return r(this.callSuper("toObject",s),{path:this.path.map(function(h){return h.slice()})})},toDatalessObject:function(s){var h=this.toObject(["sourcePath"].concat(s));return h.sourcePath&&delete h.path,h},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',c.util.joinPath(this.path),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var s=c.Object.NUM_FRACTION_DIGITS;return" translate("+i(-this.pathOffset.x,s)+", "+i(-this.pathOffset.y,s)+")"},toClipPathSVG:function(s){var h=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:s,additionalTransform:h})},toSVG:function(s){var h=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:s,additionalTransform:h})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var l,I,s=[],h=[],p=0,w=0,_=0,C=0,k=0,z=this.path.length;k<z;++k){switch((l=this.path[k])[0]){case"L":_=l[1],C=l[2],I=[];break;case"M":p=_=l[1],w=C=l[2],I=[];break;case"C":I=c.util.getBoundsOfCurve(_,C,l[1],l[2],l[3],l[4],l[5],l[6]),_=l[5],C=l[6];break;case"Q":I=c.util.getBoundsOfCurve(_,C,l[1],l[2],l[1],l[2],l[3],l[4]),_=l[3],C=l[4];break;case"z":case"Z":_=p,C=w}I.forEach(function(Ee){s.push(Ee.x),h.push(Ee.y)}),s.push(_),h.push(C)}var ne=d(s)||0,fe=d(h)||0;return{left:ne,top:fe,width:(u(s)||0)-ne,height:(u(h)||0)-fe}}}),c.Path.fromObject=function(s,h){"string"==typeof s.sourcePath?c.loadSVGFromURL(s.sourcePath,function(p){var w=p[0];w.setOptions(s),s.clipPath?c.util.enlivenObjects([s.clipPath],function(_){w.clipPath=_[0],h&&h(w)}):h&&h(w)}):c.Object._fromObject("Path",s,h,"path")},c.Path.ATTRIBUTE_NAMES=c.SHARED_ATTRIBUTES.concat(["d"]),c.Path.fromElement=function(s,h,l){var p=c.parseAttributes(s,c.Path.ATTRIBUTE_NAMES);p.fromSVG=!0,h(new c.Path(p.d,r(p,l)))})}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=c.util.array.min,u=c.util.array.max;c.Group||(c.Group=c.util.createClass(c.Object,c.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(r,o,i){o=o||{},this._objects=[],i&&this.callSuper("initialize",o),this._objects=r||[];for(var s=this._objects.length;s--;)this._objects[s].group=this;if(i)this._updateObjectsACoords();else{var h=o&&o.centerPoint;void 0!==o.originX&&(this.originX=o.originX),void 0!==o.originY&&(this.originY=o.originY),h||this._calcBounds(),this._updateObjectsCoords(h),delete o.centerPoint,this.callSuper("initialize",o)}this.setCoords()},_updateObjectsACoords:function(){for(var o=this._objects.length;o--;)this._objects[o].setCoords(!0)},_updateObjectsCoords:function(o){o=o||this.getCenterPoint();for(var i=this._objects.length;i--;)this._updateObjectCoords(this._objects[i],o)},_updateObjectCoords:function(r,o){r.set({left:r.left-o.x,top:r.top-o.y}),r.group=this,r.setCoords(!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(r){var o=!!this.group;return this._restoreObjectsState(),c.util.resetObjectTransform(this),r&&(o&&c.util.removeTransformFromObject(r,this.group.calcTransformMatrix()),this._objects.push(r),r.group=this,r._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,o?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(r){return this._restoreObjectsState(),c.util.resetObjectTransform(this),this.remove(r),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(r){this.dirty=!0,r.group=this,r._set("canvas",this.canvas)},_onObjectRemoved:function(r){this.dirty=!0,delete r.group},_set:function(r,o){var i=this._objects.length;if(this.useSetOnGroup)for(;i--;)this._objects[i].setOnGroup(r,o);if("canvas"===r)for(;i--;)this._objects[i]._set(r,o);c.Object.prototype._set.call(this,r,o)},toObject:function(r){var o=this.includeDefaultValues,i=this._objects.filter(function(h){return!h.excludeFromExport}).map(function(h){var l=h.includeDefaultValues;h.includeDefaultValues=o;var p=h.toObject(r);return h.includeDefaultValues=l,p}),s=c.Object.prototype.toObject.call(this,r);return s.objects=i,s},toDatalessObject:function(r){var o,i=this.sourcePath;if(i)o=i;else{var s=this.includeDefaultValues;o=this._objects.map(function(l){var p=l.includeDefaultValues;l.includeDefaultValues=s;var w=l.toDatalessObject(r);return l.includeDefaultValues=p,w})}var h=c.Object.prototype.toDatalessObject.call(this,r);return h.objects=o,h},render:function(r){this._transformDone=!0,this.callSuper("render",r),this._transformDone=!1},shouldCache:function(){var r=c.Object.prototype.shouldCache.call(this);if(r)for(var o=0,i=this._objects.length;o<i;o++)if(this._objects[o].willDrawShadow())return this.ownCaching=!1,!1;return r},willDrawShadow:function(){if(c.Object.prototype.willDrawShadow.call(this))return!0;for(var r=0,o=this._objects.length;r<o;r++)if(this._objects[r].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(r){for(var o=0,i=this._objects.length;o<i;o++)this._objects[o].render(r);this._drawClipPath(r,this.clipPath)},isCacheDirty:function(r){if(this.callSuper("isCacheDirty",r))return!0;if(!this.statefullCache)return!1;for(var o=0,i=this._objects.length;o<i;o++)if(this._objects[o].isCacheDirty(!0)){if(this._cacheCanvas){var s=this.cacheWidth/this.zoomX,h=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-s/2,-h/2,s,h)}return!0}return!1},_restoreObjectsState:function(){var r=this.calcOwnMatrix();return this._objects.forEach(function(o){c.util.addTransformToObject(o,r),delete o.group,o.setCoords()}),this},destroy:function(){return this._objects.forEach(function(r){r.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(r){r.dispose&&r.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var r=this._objects,o=this.canvas;this._objects=[];var i=this.toObject();delete i.objects;var s=new c.ActiveSelection([]);return s.set(i),s.type="activeSelection",o.remove(this),r.forEach(function(h){h.group=s,h.dirty=!0,o.add(h)}),s.canvas=o,s._objects=r,o._activeObject=s,s.setCoords(),s}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject(function(o){o.setCoords(!0)}),this},_calcBounds:function(r){for(var s,h,l,C,o=[],i=[],p=["tr","br","bl","tl"],w=0,_=this._objects.length,I=p.length;w<_;++w){for(l=(s=this._objects[w]).calcACoords(),C=0;C<I;C++)o.push(l[h=p[C]].x),i.push(l[h].y);s.aCoords=l}this._getBounds(o,i,r)},_getBounds:function(r,o,i){var s=new c.Point(d(r),d(o)),h=new c.Point(u(r),u(o)),l=s.y||0,p=s.x||0,_=h.y-s.y||0;this.width=h.x-s.x||0,this.height=_,i||this.setPositionByOrigin({x:p,y:l},"left","top")},_toSVG:function(r){for(var o=["<g ","COMMON_PARTS"," >\n"],i=0,s=this._objects.length;i<s;i++)o.push("\t\t",this._objects[i].toSVG(r));return o.push("</g>\n"),o},getSvgStyles:function(){var o=this.visible?"":" visibility: hidden;";return[typeof this.opacity<"u"&&1!==this.opacity?"opacity: "+this.opacity+";":"",this.getSvgFilter(),o].join("")},toClipPathSVG:function(r){for(var o=[],i=0,s=this._objects.length;i<s;i++)o.push("\t",this._objects[i].toClipPathSVG(r));return this._createBaseClipPathSVGMarkup(o,{reviver:r})}}),c.Group.fromObject=function(r,o){var i=r.objects,s=c.util.object.clone(r,!0);delete s.objects,"string"!=typeof i?c.util.enlivenObjects(i,function(h){c.util.enlivenObjectEnlivables(r,s,function(){o&&o(new c.Group(h,s,!0))})}):c.loadSVGFromURL(i,function(h){var l=c.util.groupSVGElements(h,r,i),p=s.clipPath;delete s.clipPath,l.set(s),p?c.util.enlivenObjects([p],function(w){l.clipPath=w[0],o&&o(l)}):o&&o(l)})})}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={});c.ActiveSelection||(c.ActiveSelection=c.util.createClass(c.Group,{type:"activeSelection",initialize:function(d,u){u=u||{},this._objects=d||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;u.originX&&(this.originX=u.originX),u.originY&&(this.originY=u.originY),this._calcBounds(),this._updateObjectsCoords(),c.Object.prototype.initialize.call(this,u),this.setCoords()},toGroup:function(){var d=this._objects.concat();this._objects=[];var u=c.Object.prototype.toObject.call(this),r=new c.Group([]);if(delete u.type,r.set(u),d.forEach(function(i){i.canvas.remove(i),i.group=r}),r._objects=d,!this.canvas)return r;var o=this.canvas;return o.add(r),o._activeObject=r,r.setCoords(),r},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(d,u,r){d.save(),d.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",d,u),typeof(r=r||{}).hasControls>"u"&&(r.hasControls=!1),r.forActiveSelection=!0;for(var o=0,i=this._objects.length;o<i;o++)this._objects[o]._renderControls(d,r);d.restore()}}),c.ActiveSelection.fromObject=function(d,u){c.util.enlivenObjects(d.objects,function(r){delete d.objects,u&&u(new c.ActiveSelection(r,d,!0))})})}(ue),function(m){"use strict";var c=f.util.object.extend;m.fabric||(m.fabric={}),m.fabric.Image?f.warn("fabric.Image is already defined."):(f.Image=f.util.createClass(f.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:f.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:f.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(d,u){u||(u={}),this.filters=[],this.cacheKey="texture"+f.Object.__uid++,this.callSuper("initialize",u),this._initElement(d,u)},getElement:function(){return this._element||{}},setElement:function(d,u){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=d,this._originalElement=d,this._initConfig(u),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(d){var u=f.filterBackend;u&&u.evictCachesForKey&&u.evictCachesForKey(d)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(d){f.util.cleanUpJsdomNode(this[d]),this[d]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var d=this.getElement();return{width:d.naturalWidth||d.width,height:d.naturalHeight||d.height}},_stroke:function(d){if(this.stroke&&0!==this.strokeWidth){var u=this.width/2,r=this.height/2;d.beginPath(),d.moveTo(-u,-r),d.lineTo(u,-r),d.lineTo(u,r),d.lineTo(-u,r),d.lineTo(-u,-r),d.closePath()}},toObject:function(d){var u=[];this.filters.forEach(function(o){o&&u.push(o.toObject())});var r=c(this.callSuper("toObject",["cropX","cropY"].concat(d)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:u});return this.resizeFilter&&(r.resizeFilter=this.resizeFilter.toObject()),r},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var r,d=[],u=[],o=this._element,i=-this.width/2,s=-this.height/2,h="",l="";if(!o)return[];if(this.hasCrop()){var p=f.Object.__uid++;d.push('<clipPath id="imageCrop_'+p+'">\n','\t<rect x="'+i+'" y="'+s+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),h=' clip-path="url(#imageCrop_'+p+')" '}if(this.imageSmoothing||(l='" image-rendering="optimizeSpeed'),u.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',i-this.cropX,'" y="',s-this.cropY,'" width="',o.width||o.naturalWidth,'" height="',o.height||o.height,l,'"',h,"></image>\n"),this.stroke||this.strokeDashArray){var w=this.fill;this.fill=null,r=["\t<rect ",'x="',i,'" y="',s,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=w}return"fill"!==this.paintFirst?d.concat(r,u):d.concat(u,r)},getSrc:function(d){var u=d?this._element:this._originalElement;return u?u.toDataURL?u.toDataURL():this.srcFromAttribute?u.getAttribute("src"):u.src:this.src||""},setSrc:function(d,u,r){return f.util.loadImage(d,function(o,i){this.setElement(o,r),this._setWidthHeight(),u&&u(this,i)},this,r&&r.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var d=this.resizeFilter,u=this.minimumScaleTrigger,r=this.getTotalObjectScaling(),o=r.scaleX,i=r.scaleY,s=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!d||o>u&&i>u)return this._element=s,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=o,void(this._lastScaleY=i);f.filterBackend||(f.filterBackend=f.initFilterBackend());var h=f.util.createCanvasElement(),l=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,p=s.width,w=s.height;h.width=p,h.height=w,this._element=h,this._lastScaleX=d.scaleX=o,this._lastScaleY=d.scaleY=i,f.filterBackend.applyFilters([d],s,p,w,this._element,l),this._filterScalingX=h.width/this._originalElement.width,this._filterScalingY=h.height/this._originalElement.height},applyFilters:function(d){if(d=(d=d||this.filters||[]).filter(function(s){return s&&!s.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===d.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var u=this._originalElement,r=u.naturalWidth||u.width,o=u.naturalHeight||u.height;if(this._element===this._originalElement){var i=f.util.createCanvasElement();i.width=r,i.height=o,this._element=i,this._filteredEl=i}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,r,o),this._lastScaleX=1,this._lastScaleY=1;return f.filterBackend||(f.filterBackend=f.initFilterBackend()),f.filterBackend.applyFilters(d,this._originalElement,r,o,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(d){f.util.setImageSmoothing(d,this.imageSmoothing),!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(d),this._renderPaintInOrder(d)},drawCacheOnCanvas:function(d){f.util.setImageSmoothing(d,this.imageSmoothing),f.Object.prototype.drawCacheOnCanvas.call(this,d)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(d){var u=this._element;if(u){var r=this._filterScalingX,o=this._filterScalingY,i=this.width,s=this.height,h=Math.min,l=Math.max,p=l(this.cropX,0),w=l(this.cropY,0),_=u.naturalWidth||u.width,C=u.naturalHeight||u.height,I=p*r,k=w*o,z=h(i*r,_-I),ne=h(s*o,C-k),fe=-i/2,ye=-s/2,Pe=h(i,_/r-p),_e=h(s,C/o-w);u&&d.drawImage(u,I,k,z,ne,fe,ye,Pe,_e)}},_needsResize:function(){var d=this.getTotalObjectScaling();return d.scaleX!==this._lastScaleX||d.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(d,u){this.setElement(f.util.getById(d),u),f.util.addClass(this.getElement(),f.Image.CSS_CANVAS)},_initConfig:function(d){d||(d={}),this.setOptions(d),this._setWidthHeight(d)},_initFilters:function(d,u){d&&d.length?f.util.enlivenObjects(d,function(r){u&&u(r)},"fabric.Image.filters"):u&&u()},_setWidthHeight:function(d){d||(d={});var u=this.getElement();this.width=d.width||u.naturalWidth||u.width||0,this.height=d.height||u.naturalHeight||u.height||0},parsePreserveAspectRatioAttribute:function(){var w,d=f.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),u=this._element.width,r=this._element.height,o=1,i=1,s=0,h=0,l=0,p=0,_=this.width,C=this.height,I={width:_,height:C};return!d||"none"===d.alignX&&"none"===d.alignY?(o=_/u,i=C/r):("meet"===d.meetOrSlice&&(w=(_-u*(o=i=f.util.findScaleToFit(this._element,I)))/2,"Min"===d.alignX&&(s=-w),"Max"===d.alignX&&(s=w),w=(C-r*i)/2,"Min"===d.alignY&&(h=-w),"Max"===d.alignY&&(h=w)),"slice"===d.meetOrSlice&&(w=u-_/(o=i=f.util.findScaleToCover(this._element,I)),"Mid"===d.alignX&&(l=w/2),"Max"===d.alignX&&(l=w),w=r-C/i,"Mid"===d.alignY&&(p=w/2),"Max"===d.alignY&&(p=w),u=_/o,r=C/i)),{width:u,height:r,scaleX:o,scaleY:i,offsetLeft:s,offsetTop:h,cropX:l,cropY:p}}}),f.Image.CSS_CANVAS="canvas-img",f.Image.prototype.getSvgSrc=f.Image.prototype.getSrc,f.Image.fromObject=function(d,u){var r=f.util.object.clone(d);f.util.loadImage(r.src,function(o,i){i?u&&u(null,!0):f.Image.prototype._initFilters.call(r,r.filters,function(s){r.filters=s||[],f.Image.prototype._initFilters.call(r,[r.resizeFilter],function(h){r.resizeFilter=h[0],f.util.enlivenObjectEnlivables(r,r,function(){var l=new f.Image(o,r);u(l,!1)})})})},null,r.crossOrigin)},f.Image.fromURL=function(d,u,r){f.util.loadImage(d,function(o,i){u&&u(new f.Image(o,r),i)},null,r&&r.crossOrigin)},f.Image.ATTRIBUTE_NAMES=f.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),f.Image.fromElement=function(d,u,r){var o=f.parseAttributes(d,f.Image.ATTRIBUTE_NAMES);f.Image.fromURL(o["xlink:href"],u,c(r?f.util.object.clone(r):{},o))})}(ue),f.util.object.extend(f.Object.prototype,{_getAngleValueForStraighten:function(){var m=this.angle%360;return m>0?90*Math.round((m-1)/90):90*Math.round(m/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(m){var c=function(){},d=(m=m||{}).onComplete||c,u=m.onChange||c,r=this;return f.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(o){r.rotate(o),u()},onComplete:function(){r.setCoords(),d()}})}}),f.util.object.extend(f.StaticCanvas.prototype,{straightenObject:function(m){return m.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(m){return m.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){"use strict";function m(d,u){var r="precision "+u+" float;\nvoid main(){}",o=d.createShader(d.FRAGMENT_SHADER);return d.shaderSource(o,r),d.compileShader(o),!!d.getShaderParameter(o,d.COMPILE_STATUS)}function c(d){d&&d.tileSize&&(this.tileSize=d.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}f.isWebglSupported=function(d){if(f.isLikelyNode)return!1;d=d||f.WebglFilterBackend.prototype.tileSize;var u=document.createElement("canvas"),r=u.getContext("webgl")||u.getContext("experimental-webgl"),o=!1;if(r){f.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),o=f.maxTextureSize>=d;for(var i=["highp","mediump","lowp"],s=0;s<3;s++)if(m(r,i[s])){f.webGlPrecision=i[s];break}}return this.isSupported=o,o},f.WebglFilterBackend=c,c.prototype={tileSize:2048,resources:{},setupGLContext:function(d,u){this.dispose(),this.createWebGLCanvas(d,u),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(d,u)},chooseFastestCopyGLTo2DMethod:function(d,u){var o,r=typeof window.performance<"u";try{new ImageData(1,1),o=!0}catch{o=!1}var i=typeof ArrayBuffer<"u",s=typeof Uint8ClampedArray<"u";if(r&&o&&i&&s){var h=f.util.createCanvasElement(),l=new ArrayBuffer(d*u*4);if(f.forceGLPutImageData)return this.imageBuffer=l,void(this.copyGLTo2D=Te);var w,_,p={imageBuffer:l,destinationWidth:d,destinationHeight:u,targetCanvas:h};h.width=d,h.height=u,w=window.performance.now(),Je.call(p,this.gl,p),_=window.performance.now()-w,w=window.performance.now(),Te.call(p,this.gl,p),_>window.performance.now()-w?(this.imageBuffer=l,this.copyGLTo2D=Te):this.copyGLTo2D=Je}},createWebGLCanvas:function(d,u){var r=f.util.createCanvasElement();r.width=d,r.height=u;var o={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},i=r.getContext("webgl",o);i||(i=r.getContext("experimental-webgl",o)),i&&(i.clearColor(0,0,0,0),this.canvas=r,this.gl=i)},applyFilters:function(d,u,r,o,i,s){var l,h=this.gl;s&&(l=this.getCachedTexture(s,u));var p={originalWidth:u.width||u.originalWidth,originalHeight:u.height||u.originalHeight,sourceWidth:r,sourceHeight:o,destinationWidth:r,destinationHeight:o,context:h,sourceTexture:this.createTexture(h,r,o,!l&&u),targetTexture:this.createTexture(h,r,o),originalTexture:l||this.createTexture(h,r,o,!l&&u),passes:d.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:i},w=h.createFramebuffer();return h.bindFramebuffer(h.FRAMEBUFFER,w),d.forEach(function(_){_&&_.applyTo(p)}),function Qe(m){var c=m.targetCanvas,r=m.destinationWidth,o=m.destinationHeight;(c.width!==r||c.height!==o)&&(c.width=r,c.height=o)}(p),this.copyGLTo2D(h,p),h.bindTexture(h.TEXTURE_2D,null),h.deleteTexture(p.sourceTexture),h.deleteTexture(p.targetTexture),h.deleteFramebuffer(w),i.getContext("2d").setTransform(1,0,0,1,0,0),p},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(d,u,r,o){var i=d.createTexture();return d.bindTexture(d.TEXTURE_2D,i),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),o?d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,o):d.texImage2D(d.TEXTURE_2D,0,d.RGBA,u,r,0,d.RGBA,d.UNSIGNED_BYTE,null),i},getCachedTexture:function(d,u){if(this.textureCache[d])return this.textureCache[d];var r=this.createTexture(this.gl,u.width,u.height,u);return this.textureCache[d]=r,r},evictCachesForKey:function(d){this.textureCache[d]&&(this.gl.deleteTexture(this.textureCache[d]),delete this.textureCache[d])},copyGLTo2D:Je,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var d=this.gl,u={renderer:"",vendor:""};if(!d)return u;var r=d.getExtension("WEBGL_debug_renderer_info");if(r){var o=d.getParameter(r.UNMASKED_RENDERER_WEBGL),i=d.getParameter(r.UNMASKED_VENDOR_WEBGL);o&&(u.renderer=o.toLowerCase()),i&&(u.vendor=i.toLowerCase())}return this.gpuInfo=u,u}}}(),function(){"use strict";var m=function(){};function c(){}f.Canvas2dFilterBackend=c,c.prototype={evictCachesForKey:m,dispose:m,clearWebGLCaches:m,resources:{},applyFilters:function(d,u,r,o,i){var s=i.getContext("2d");s.drawImage(u,0,0,r,o);var p={sourceWidth:r,sourceHeight:o,imageData:s.getImageData(0,0,r,o),originalEl:u,originalImageData:s.getImageData(0,0,r,o),canvasEl:i,ctx:s,filterBackend:this};return d.forEach(function(w){w.applyTo(p)}),(p.imageData.width!==r||p.imageData.height!==o)&&(i.width=p.imageData.width,i.height=p.imageData.height),s.putImageData(p.imageData,0,0),p}}}(),f.Image=f.Image||{},f.Image.filters=f.Image.filters||{},f.Image.filters.BaseFilter=f.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(m){m&&this.setOptions(m)},setOptions:function(m){for(var c in m)this[c]=m[c]},createProgram:function(m,c,d){c=c||this.fragmentSource,d=d||this.vertexSource,"highp"!==f.webGlPrecision&&(c=c.replace(/precision highp float/g,"precision "+f.webGlPrecision+" float"));var u=m.createShader(m.VERTEX_SHADER);if(m.shaderSource(u,d),m.compileShader(u),!m.getShaderParameter(u,m.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+m.getShaderInfoLog(u));var r=m.createShader(m.FRAGMENT_SHADER);if(m.shaderSource(r,c),m.compileShader(r),!m.getShaderParameter(r,m.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+m.getShaderInfoLog(r));var o=m.createProgram();if(m.attachShader(o,u),m.attachShader(o,r),m.linkProgram(o),!m.getProgramParameter(o,m.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+m.getProgramInfoLog(o));var i=this.getAttributeLocations(m,o),s=this.getUniformLocations(m,o)||{};return s.uStepW=m.getUniformLocation(o,"uStepW"),s.uStepH=m.getUniformLocation(o,"uStepH"),{program:o,attributeLocations:i,uniformLocations:s}},getAttributeLocations:function(m,c){return{aPosition:m.getAttribLocation(c,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(m,c,d){var u=c.aPosition,r=m.createBuffer();m.bindBuffer(m.ARRAY_BUFFER,r),m.enableVertexAttribArray(u),m.vertexAttribPointer(u,2,m.FLOAT,!1,0,0),m.bufferData(m.ARRAY_BUFFER,d,m.STATIC_DRAW)},_setupFrameBuffer:function(m){var d,u,c=m.context;m.passes>1?(u=m.destinationHeight,(m.sourceWidth!==(d=m.destinationWidth)||m.sourceHeight!==u)&&(c.deleteTexture(m.targetTexture),m.targetTexture=m.filterBackend.createTexture(c,d,u)),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,m.targetTexture,0)):(c.bindFramebuffer(c.FRAMEBUFFER,null),c.finish())},_swapTextures:function(m){m.passes--,m.pass++;var c=m.targetTexture;m.targetTexture=m.sourceTexture,m.sourceTexture=c},isNeutralState:function(){var m=this.mainParameter,c=f.Image.filters[this.type].prototype;if(m){if(Array.isArray(c[m])){for(var d=c[m].length;d--;)if(this[m][d]!==c[m][d])return!1;return!0}return c[m]===this[m]}return!1},applyTo:function(m){m.webgl?(this._setupFrameBuffer(m),this.applyToWebGL(m),this._swapTextures(m)):this.applyTo2d(m)},retrieveShader:function(m){return m.programCache.hasOwnProperty(this.type)||(m.programCache[this.type]=this.createProgram(m.context)),m.programCache[this.type]},applyToWebGL:function(m){var c=m.context,d=this.retrieveShader(m);c.bindTexture(c.TEXTURE_2D,0===m.pass&&m.originalTexture?m.originalTexture:m.sourceTexture),c.useProgram(d.program),this.sendAttributeData(c,d.attributeLocations,m.aPosition),c.uniform1f(d.uniformLocations.uStepW,1/m.sourceWidth),c.uniform1f(d.uniformLocations.uStepH,1/m.sourceHeight),this.sendUniformData(c,d.uniformLocations),c.viewport(0,0,m.destinationWidth,m.destinationHeight),c.drawArrays(c.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(m,c,d){m.activeTexture(d),m.bindTexture(m.TEXTURE_2D,c),m.activeTexture(m.TEXTURE0)},unbindAdditionalTexture:function(m,c){m.activeTexture(c),m.bindTexture(m.TEXTURE_2D,null),m.activeTexture(m.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(m){this[this.mainParameter]=m},sendUniformData:function(){},createHelpLayer:function(m){if(!m.helpLayer){var c=document.createElement("canvas");c.width=m.sourceWidth,c.height=m.sourceHeight,m.helpLayer=c}},toObject:function(){var m={type:this.type},c=this.mainParameter;return c&&(m[c]=this[c]),m},toJSON:function(){return this.toObject()}}),f.Image.filters.BaseFilter.fromObject=function(m,c){var d=new f.Image.filters[m.type](m);return c&&c(d),d},function(m){"use strict";var c=m.fabric||(m.fabric={}),d=c.Image.filters;d.ColorMatrix=(0,c.util.createClass)(d.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(r){this.callSuper("initialize",r),this.matrix=this.matrix.slice(0)},applyTo2d:function(r){var l,p,w,_,C,i=r.imageData.data,s=i.length,h=this.matrix,I=this.colorsOnly;for(C=0;C<s;C+=4)l=i[C],p=i[C+1],w=i[C+2],I?(i[C]=l*h[0]+p*h[1]+w*h[2]+255*h[4],i[C+1]=l*h[5]+p*h[6]+w*h[7]+255*h[9],i[C+2]=l*h[10]+p*h[11]+w*h[12]+255*h[14]):(i[C]=l*h[0]+p*h[1]+w*h[2]+(_=i[C+3])*h[3]+255*h[4],i[C+1]=l*h[5]+p*h[6]+w*h[7]+_*h[8]+255*h[9],i[C+2]=l*h[10]+p*h[11]+w*h[12]+_*h[13]+255*h[14],i[C+3]=l*h[15]+p*h[16]+w*h[17]+_*h[18]+255*h[19])},getUniformLocations:function(r,o){return{uColorMatrix:r.getUniformLocation(o,"uColorMatrix"),uConstants:r.getUniformLocation(o,"uConstants")}},sendUniformData:function(r,o){var i=this.matrix,h=[i[4],i[9],i[14],i[19]];r.uniformMatrix4fv(o.uColorMatrix,!1,[i[0],i[1],i[2],i[3],i[5],i[6],i[7],i[8],i[10],i[11],i[12],i[13],i[15],i[16],i[17],i[18]]),r.uniform4fv(o.uConstants,h)}}),c.Image.filters.ColorMatrix.fromObject=c.Image.filters.BaseFilter.fromObject}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=c.Image.filters;d.Brightness=(0,c.util.createClass)(d.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(r){if(0!==this.brightness){var s,i=r.imageData.data,h=i.length,l=Math.round(255*this.brightness);for(s=0;s<h;s+=4)i[s]=i[s]+l,i[s+1]=i[s+1]+l,i[s+2]=i[s+2]+l}},getUniformLocations:function(r,o){return{uBrightness:r.getUniformLocation(o,"uBrightness")}},sendUniformData:function(r,o){r.uniform1f(o.uBrightness,this.brightness)}}),c.Image.filters.Brightness.fromObject=c.Image.filters.BaseFilter.fromObject}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=c.util.object.extend,u=c.Image.filters;u.Convolute=(0,c.util.createClass)(u.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(o){var i=Math.sqrt(this.matrix.length),s=this.type+"_"+i+"_"+(this.opaque?1:0),h=this.fragmentSource[s];return o.programCache.hasOwnProperty(s)||(o.programCache[s]=this.createProgram(o.context,h)),o.programCache[s]},applyTo2d:function(o){var z,ne,fe,ye,Pe,_e,we,Ee,de,Ve,Ze,dt,he,i=o.imageData,s=i.data,h=this.matrix,l=Math.round(Math.sqrt(h.length)),p=Math.floor(l/2),w=i.width,_=i.height,C=o.ctx.createImageData(w,_),I=C.data,k=this.opaque?1:0;for(Ze=0;Ze<_;Ze++)for(Ve=0;Ve<w;Ve++){for(Pe=4*(Ze*w+Ve),z=0,ne=0,fe=0,ye=0,he=0;he<l;he++)for(dt=0;dt<l;dt++)_e=Ve+dt-p,!((we=Ze+he-p)<0||we>=_||_e<0||_e>=w)&&(z+=s[Ee=4*(we*w+_e)]*(de=h[he*l+dt]),ne+=s[Ee+1]*de,fe+=s[Ee+2]*de,k||(ye+=s[Ee+3]*de));I[Pe]=z,I[Pe+1]=ne,I[Pe+2]=fe,I[Pe+3]=k?s[Pe+3]:ye}o.imageData=C},getUniformLocations:function(o,i){return{uMatrix:o.getUniformLocation(i,"uMatrix"),uOpaque:o.getUniformLocation(i,"uOpaque"),uHalfSize:o.getUniformLocation(i,"uHalfSize"),uSize:o.getUniformLocation(i,"uSize")}},sendUniformData:function(o,i){o.uniform1fv(i.uMatrix,this.matrix)},toObject:function(){return d(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),c.Image.filters.Convolute.fromObject=c.Image.filters.BaseFilter.fromObject}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=c.Image.filters;d.Grayscale=(0,c.util.createClass)(d.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(r){var s,l,i=r.imageData.data,h=i.length,p=this.mode;for(s=0;s<h;s+=4)"average"===p?l=(i[s]+i[s+1]+i[s+2])/3:"lightness"===p?l=(Math.min(i[s],i[s+1],i[s+2])+Math.max(i[s],i[s+1],i[s+2]))/2:"luminosity"===p&&(l=.21*i[s]+.72*i[s+1]+.07*i[s+2]),i[s]=l,i[s+1]=l,i[s+2]=l},retrieveShader:function(r){var o=this.type+"_"+this.mode;return r.programCache.hasOwnProperty(o)||(r.programCache[o]=this.createProgram(r.context,this.fragmentSource[this.mode])),r.programCache[o]},getUniformLocations:function(r,o){return{uMode:r.getUniformLocation(o,"uMode")}},sendUniformData:function(r,o){r.uniform1i(o.uMode,1)},isNeutralState:function(){return!1}}),c.Image.filters.Grayscale.fromObject=c.Image.filters.BaseFilter.fromObject}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=c.Image.filters;d.Invert=(0,c.util.createClass)(d.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(r){var s,i=r.imageData.data,h=i.length;for(s=0;s<h;s+=4)i[s]=255-i[s],i[s+1]=255-i[s+1],i[s+2]=255-i[s+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(r,o){return{uInvert:r.getUniformLocation(o,"uInvert")}},sendUniformData:function(r,o){r.uniform1i(o.uInvert,this.invert)}}),c.Image.filters.Invert.fromObject=c.Image.filters.BaseFilter.fromObject}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=c.util.object.extend,u=c.Image.filters;u.Noise=(0,c.util.createClass)(u.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(o){if(0!==this.noise){var h,l,w,s=o.imageData.data,p=this.noise;for(h=0,l=s.length;h<l;h+=4)w=(.5-Math.random())*p,s[h]+=w,s[h+1]+=w,s[h+2]+=w}},getUniformLocations:function(o,i){return{uNoise:o.getUniformLocation(i,"uNoise"),uSeed:o.getUniformLocation(i,"uSeed")}},sendUniformData:function(o,i){o.uniform1f(i.uNoise,this.noise/255),o.uniform1f(i.uSeed,Math.random())},toObject:function(){return d(this.callSuper("toObject"),{noise:this.noise})}}),c.Image.filters.Noise.fromObject=c.Image.filters.BaseFilter.fromObject}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=c.Image.filters;d.Pixelate=(0,c.util.createClass)(d.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(r){var l,p,w,_,C,I,k,z,ne,fe,ye,o=r.imageData,i=o.data,s=o.height,h=o.width;for(p=0;p<s;p+=this.blocksize)for(w=0;w<h;w+=this.blocksize)for(_=i[l=4*p*h+4*w],C=i[l+1],I=i[l+2],k=i[l+3],fe=Math.min(p+this.blocksize,s),ye=Math.min(w+this.blocksize,h),z=p;z<fe;z++)for(ne=w;ne<ye;ne++)i[l=4*z*h+4*ne]=_,i[l+1]=C,i[l+2]=I,i[l+3]=k},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(r,o){return{uBlocksize:r.getUniformLocation(o,"uBlocksize"),uStepW:r.getUniformLocation(o,"uStepW"),uStepH:r.getUniformLocation(o,"uStepH")}},sendUniformData:function(r,o){r.uniform1f(o.uBlocksize,this.blocksize)}}),c.Image.filters.Pixelate.fromObject=c.Image.filters.BaseFilter.fromObject}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=c.util.object.extend,u=c.Image.filters;u.RemoveColor=(0,c.util.createClass)(u.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(o){var h,p,w,_,s=o.imageData.data,l=255*this.distance,C=new c.Color(this.color).getSource(),I=[C[0]-l,C[1]-l,C[2]-l],k=[C[0]+l,C[1]+l,C[2]+l];for(h=0;h<s.length;h+=4)w=s[h+1],_=s[h+2],(p=s[h])>I[0]&&w>I[1]&&_>I[2]&&p<k[0]&&w<k[1]&&_<k[2]&&(s[h+3]=0)},getUniformLocations:function(o,i){return{uLow:o.getUniformLocation(i,"uLow"),uHigh:o.getUniformLocation(i,"uHigh")}},sendUniformData:function(o,i){var s=new c.Color(this.color).getSource(),h=parseFloat(this.distance),p=[s[0]/255+h,s[1]/255+h,s[2]/255+h,1];o.uniform4fv(i.uLow,[0+s[0]/255-h,0+s[1]/255-h,0+s[2]/255-h,1]),o.uniform4fv(i.uHigh,p)},toObject:function(){return d(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),c.Image.filters.RemoveColor.fromObject=c.Image.filters.BaseFilter.fromObject}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=c.Image.filters,u=c.util.createClass,r={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var o in r)d[o]=u(d.ColorMatrix,{type:o,matrix:r[o],mainParameter:!1,colorsOnly:!0}),c.Image.filters[o].fromObject=c.Image.filters.BaseFilter.fromObject}(ue),function(m){"use strict";var c=m.fabric,d=c.Image.filters;d.BlendColor=(0,c.util.createClass)(d.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(r){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[r]+"}\n}"},retrieveShader:function(r){var i,o=this.type+"_"+this.mode;return r.programCache.hasOwnProperty(o)||(i=this.buildSource(this.mode),r.programCache[o]=this.createProgram(r.context,i)),r.programCache[o]},applyTo2d:function(r){var h,l,p,w,_,C,I,i=r.imageData.data,s=i.length,k=1-this.alpha;h=(I=new c.Color(this.color).getSource())[0]*this.alpha,l=I[1]*this.alpha,p=I[2]*this.alpha;for(var z=0;z<s;z+=4)switch(w=i[z],_=i[z+1],C=i[z+2],this.mode){case"multiply":i[z]=w*h/255,i[z+1]=_*l/255,i[z+2]=C*p/255;break;case"screen":i[z]=255-(255-w)*(255-h)/255,i[z+1]=255-(255-_)*(255-l)/255,i[z+2]=255-(255-C)*(255-p)/255;break;case"add":i[z]=w+h,i[z+1]=_+l,i[z+2]=C+p;break;case"diff":case"difference":i[z]=Math.abs(w-h),i[z+1]=Math.abs(_-l),i[z+2]=Math.abs(C-p);break;case"subtract":i[z]=w-h,i[z+1]=_-l,i[z+2]=C-p;break;case"darken":i[z]=Math.min(w,h),i[z+1]=Math.min(_,l),i[z+2]=Math.min(C,p);break;case"lighten":i[z]=Math.max(w,h),i[z+1]=Math.max(_,l),i[z+2]=Math.max(C,p);break;case"overlay":i[z]=h<128?2*w*h/255:255-2*(255-w)*(255-h)/255,i[z+1]=l<128?2*_*l/255:255-2*(255-_)*(255-l)/255,i[z+2]=p<128?2*C*p/255:255-2*(255-C)*(255-p)/255;break;case"exclusion":i[z]=h+w-2*h*w/255,i[z+1]=l+_-2*l*_/255,i[z+2]=p+C-2*p*C/255;break;case"tint":i[z]=h+w*k,i[z+1]=l+_*k,i[z+2]=p+C*k}},getUniformLocations:function(r,o){return{uColor:r.getUniformLocation(o,"uColor")}},sendUniformData:function(r,o){var i=new c.Color(this.color).getSource();i[0]=this.alpha*i[0]/255,i[1]=this.alpha*i[1]/255,i[2]=this.alpha*i[2]/255,i[3]=this.alpha,r.uniform4fv(o.uColor,i)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),c.Image.filters.BlendColor.fromObject=c.Image.filters.BaseFilter.fromObject}(ue),function(m){"use strict";var c=m.fabric,d=c.Image.filters;d.BlendImage=(0,c.util.createClass)(d.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(r){var o=this.type+"_"+this.mode,i=this.fragmentSource[this.mode];return r.programCache.hasOwnProperty(o)||(r.programCache[o]=this.createProgram(r.context,i)),r.programCache[o]},applyToWebGL:function(r){var o=r.context,i=this.createTexture(r.filterBackend,this.image);this.bindAdditionalTexture(o,i,o.TEXTURE1),this.callSuper("applyToWebGL",r),this.unbindAdditionalTexture(o,o.TEXTURE1)},createTexture:function(r,o){return r.getCachedTexture(o.cacheKey,o._element)},calculateMatrix:function(){var r=this.image;return[1/r.scaleX,0,0,0,1/r.scaleY,0,-r.left/r._element.width,-r.top/r._element.height,1]},applyTo2d:function(r){var w,_,C,I,k,z,ne,fe,ye,Pe,we,o=r.imageData,i=r.filterBackend.resources,s=o.data,h=s.length,l=o.width,p=o.height,_e=this.image;i.blendImage||(i.blendImage=c.util.createCanvasElement()),Pe=(ye=i.blendImage).getContext("2d"),ye.width!==l||ye.height!==p?(ye.width=l,ye.height=p):Pe.clearRect(0,0,l,p),Pe.setTransform(_e.scaleX,0,0,_e.scaleY,_e.left,_e.top),Pe.drawImage(_e._element,0,0,l,p),we=Pe.getImageData(0,0,l,p).data;for(var Ee=0;Ee<h;Ee+=4)switch(k=s[Ee],z=s[Ee+1],ne=s[Ee+2],fe=s[Ee+3],w=we[Ee],_=we[Ee+1],C=we[Ee+2],I=we[Ee+3],this.mode){case"multiply":s[Ee]=k*w/255,s[Ee+1]=z*_/255,s[Ee+2]=ne*C/255,s[Ee+3]=fe*I/255;break;case"mask":s[Ee+3]=I}},getUniformLocations:function(r,o){return{uTransformMatrix:r.getUniformLocation(o,"uTransformMatrix"),uImage:r.getUniformLocation(o,"uImage")}},sendUniformData:function(r,o){var i=this.calculateMatrix();r.uniform1i(o.uImage,1),r.uniformMatrix3fv(o.uTransformMatrix,!1,i)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),c.Image.filters.BlendImage.fromObject=function(r,o){c.Image.fromObject(r.image,function(i){var s=c.util.object.clone(r);s.image=i,o(new c.Image.filters.BlendImage(s))})}}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=Math.pow,u=Math.floor,r=Math.sqrt,o=Math.abs,i=Math.round,s=Math.sin,h=Math.ceil,l=c.Image.filters;l.Resize=(0,c.util.createClass)(l.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(w,_){return{uDelta:w.getUniformLocation(_,"uDelta"),uTaps:w.getUniformLocation(_,"uTaps")}},sendUniformData:function(w,_){w.uniform2fv(_.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),w.uniform1fv(_.uTaps,this.taps)},retrieveShader:function(w){var _=this.getFilterWindow(),C=this.type+"_"+_;if(!w.programCache.hasOwnProperty(C)){var I=this.generateShader(_);w.programCache[C]=this.createProgram(w.context,I)}return w.programCache[C]},getFilterWindow:function(){return Math.ceil(this.lanczosLobes/this.tempScale)},getTaps:function(){for(var w=this.lanczosCreate(this.lanczosLobes),_=this.tempScale,C=this.getFilterWindow(),I=new Array(C),k=1;k<=C;k++)I[k-1]=w(k*_);return I},generateShader:function(I){for(var _=new Array(I),C=this.fragmentSourceTOP,k=1;k<=I;k++)_[k-1]=k+".0 * uDelta";return C+="uniform float uTaps["+I+"];\n",C+="void main() {\n",C+="  vec4 color = texture2D(uTexture, vTexCoord);\n",C+="  float sum = 1.0;\n",_.forEach(function(z,ne){C+="  color += texture2D(uTexture, vTexCoord + "+z+") * uTaps["+ne+"];\n",C+="  color += texture2D(uTexture, vTexCoord - "+z+") * uTaps["+ne+"];\n",C+="  sum += 2.0 * uTaps["+ne+"];\n"}),C+="  gl_FragColor = color / sum;\n",C+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(w){w.webgl?(w.passes++,this.width=w.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=w.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),w.destinationWidth=this.dW,this._setupFrameBuffer(w),this.applyToWebGL(w),this._swapTextures(w),w.sourceWidth=w.destinationWidth,this.height=w.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),w.destinationHeight=this.dH,this._setupFrameBuffer(w),this.applyToWebGL(w),this._swapTextures(w),w.sourceHeight=w.destinationHeight):this.applyTo2d(w)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(w){return function(_){if(_>=w||_<=-w)return 0;if(_<1.1920929e-7&&_>-1.1920929e-7)return 1;var C=(_*=Math.PI)/w;return s(_)/_*s(C)/C}},applyTo2d:function(w){var _=w.imageData,C=this.scaleX,I=this.scaleY;this.rcpScaleX=1/C,this.rcpScaleY=1/I;var ye,k=_.width,z=_.height,ne=i(k*C),fe=i(z*I);"sliceHack"===this.resizeType?ye=this.sliceByTwo(w,k,z,ne,fe):"hermite"===this.resizeType?ye=this.hermiteFastResize(w,k,z,ne,fe):"bilinear"===this.resizeType?ye=this.bilinearFiltering(w,k,z,ne,fe):"lanczos"===this.resizeType&&(ye=this.lanczosResize(w,k,z,ne,fe)),w.imageData=ye},sliceByTwo:function(w,_,C,I,k){var Ee,de,z=w.imageData,fe=!1,ye=!1,Pe=.5*_,_e=.5*C,we=c.filterBackend.resources,Ve=0,Ze=0,dt=_,he=0;for(we.sliceByTwo||(we.sliceByTwo=document.createElement("canvas")),((Ee=we.sliceByTwo).width<1.5*_||Ee.height<C)&&(Ee.width=1.5*_,Ee.height=C),(de=Ee.getContext("2d")).clearRect(0,0,1.5*_,C),de.putImageData(z,0,0),I=u(I),k=u(k);!fe||!ye;)_=Pe,C=_e,I<u(.5*Pe)?Pe=u(.5*Pe):(Pe=I,fe=!0),k<u(.5*_e)?_e=u(.5*_e):(_e=k,ye=!0),de.drawImage(Ee,Ve,Ze,_,C,dt,he,Pe,_e),Ve=dt,Ze=he,he+=_e;return de.getImageData(Ve,Ze,I,k)},lanczosResize:function(w,_,C,I,k){var ne=w.imageData.data,fe=w.ctx.createImageData(I,k),ye=fe.data,Pe=this.lanczosCreate(this.lanczosLobes),_e=this.rcpScaleX,we=this.rcpScaleY,Ee=2/this.rcpScaleX,de=2/this.rcpScaleY,Ve=h(_e*this.lanczosLobes/2),Ze=h(we*this.lanczosLobes/2),dt={},he={},ie={};return function z(R){var H,F,j,B,J,re,me,De,je,We,it;for(he.x=(R+.5)*_e,ie.x=u(he.x),H=0;H<k;H++){for(he.y=(H+.5)*we,ie.y=u(he.y),J=0,re=0,me=0,De=0,je=0,F=ie.x-Ve;F<=ie.x+Ve;F++)if(!(F<0||F>=_)){We=u(1e3*o(F-he.x)),dt[We]||(dt[We]={});for(var Be=ie.y-Ze;Be<=ie.y+Ze;Be++)Be<0||Be>=C||(it=u(1e3*o(Be-he.y)),dt[We][it]||(dt[We][it]=Pe(r(d(We*Ee,2)+d(it*de,2))/1e3)),(j=dt[We][it])>0&&(J+=j,re+=j*ne[B=4*(Be*_+F)],me+=j*ne[B+1],De+=j*ne[B+2],je+=j*ne[B+3]))}ye[B=4*(H*I+R)]=re/J,ye[B+1]=me/J,ye[B+2]=De/J,ye[B+3]=je/J}return++R<I?z(R):fe}(0)},bilinearFiltering:function(w,_,C,I,k){var Pe,_e,we,Ee,de,Ve,Ze,ie,he=0,R=this.rcpScaleX,H=this.rcpScaleY,F=4*(_-1),B=w.imageData.data,J=w.ctx.createImageData(I,k),re=J.data;for(we=0;we<k;we++)for(Ee=0;Ee<I;Ee++)for(de=R*Ee-(Pe=u(R*Ee)),Ve=H*we-(_e=u(H*we)),ie=4*(_e*_+Pe),Ze=0;Ze<4;Ze++)re[he++]=B[ie+Ze]*(1-de)*(1-Ve)+B[ie+4+Ze]*de*(1-Ve)+B[ie+F+Ze]*Ve*(1-de)+B[ie+F+4+Ze]*de*Ve;return J},hermiteFastResize:function(w,_,C,I,k){for(var z=this.rcpScaleX,ne=this.rcpScaleY,fe=h(z/2),ye=h(ne/2),_e=w.imageData.data,we=w.ctx.createImageData(I,k),Ee=we.data,de=0;de<k;de++)for(var Ve=0;Ve<I;Ve++){for(var Ze=4*(Ve+de*I),dt=0,he=0,ie=0,R=0,H=0,F=0,j=0,B=(de+.5)*ne,J=u(de*ne);J<(de+1)*ne;J++)for(var re=o(B-(J+.5))/ye,me=(Ve+.5)*z,De=re*re,je=u(Ve*z);je<(Ve+1)*z;je++){var We=o(me-(je+.5))/fe,it=r(De+We*We);it>1&&it<-1||(dt=2*it*it*it-3*it*it+1)>0&&(j+=dt*_e[3+(We=4*(je+J*_))],ie+=dt,_e[We+3]<255&&(dt=dt*_e[We+3]/250),R+=dt*_e[We],H+=dt*_e[We+1],F+=dt*_e[We+2],he+=dt)}Ee[Ze]=R/he,Ee[Ze+1]=H/he,Ee[Ze+2]=F/he,Ee[Ze+3]=j/ie}return we},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),c.Image.filters.Resize.fromObject=c.Image.filters.BaseFilter.fromObject}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=c.Image.filters;d.Contrast=(0,c.util.createClass)(d.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(r){if(0!==this.contrast){var i,s=r.imageData.data,h=s.length,l=Math.floor(255*this.contrast),p=259*(l+255)/(255*(259-l));for(i=0;i<h;i+=4)s[i]=p*(s[i]-128)+128,s[i+1]=p*(s[i+1]-128)+128,s[i+2]=p*(s[i+2]-128)+128}},getUniformLocations:function(r,o){return{uContrast:r.getUniformLocation(o,"uContrast")}},sendUniformData:function(r,o){r.uniform1f(o.uContrast,this.contrast)}}),c.Image.filters.Contrast.fromObject=c.Image.filters.BaseFilter.fromObject}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=c.Image.filters;d.Saturation=(0,c.util.createClass)(d.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(r){if(0!==this.saturation){var l,p,i=r.imageData.data,s=i.length,h=-this.saturation;for(l=0;l<s;l+=4)p=Math.max(i[l],i[l+1],i[l+2]),i[l]+=p!==i[l]?(p-i[l])*h:0,i[l+1]+=p!==i[l+1]?(p-i[l+1])*h:0,i[l+2]+=p!==i[l+2]?(p-i[l+2])*h:0}},getUniformLocations:function(r,o){return{uSaturation:r.getUniformLocation(o,"uSaturation")}},sendUniformData:function(r,o){r.uniform1f(o.uSaturation,-this.saturation)}}),c.Image.filters.Saturation.fromObject=c.Image.filters.BaseFilter.fromObject}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=c.Image.filters;d.Vibrance=(0,c.util.createClass)(d.BaseFilter,{type:"Vibrance",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uVibrance;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat max = max(color.r, max(color.g, color.b));\nfloat avg = (color.r + color.g + color.b) / 3.0;\nfloat amt = (abs(max - avg) * 2.0) * uVibrance;\ncolor.r += max != color.r ? (max - color.r) * amt : 0.00;\ncolor.g += max != color.g ? (max - color.g) * amt : 0.00;\ncolor.b += max != color.b ? (max - color.b) * amt : 0.00;\ngl_FragColor = color;\n}",vibrance:0,mainParameter:"vibrance",applyTo2d:function(r){if(0!==this.vibrance){var l,p,_,i=r.imageData.data,s=i.length,h=-this.vibrance;for(l=0;l<s;l+=4)p=Math.max(i[l],i[l+1],i[l+2]),_=2*Math.abs(p-(i[l]+i[l+1]+i[l+2])/3)/255*h,i[l]+=p!==i[l]?(p-i[l])*_:0,i[l+1]+=p!==i[l+1]?(p-i[l+1])*_:0,i[l+2]+=p!==i[l+2]?(p-i[l+2])*_:0}},getUniformLocations:function(r,o){return{uVibrance:r.getUniformLocation(o,"uVibrance")}},sendUniformData:function(r,o){r.uniform1f(o.uVibrance,-this.vibrance)}}),c.Image.filters.Vibrance.fromObject=c.Image.filters.BaseFilter.fromObject}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=c.Image.filters;d.Blur=(0,c.util.createClass)(d.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(r){r.webgl?(this.aspectRatio=r.sourceWidth/r.sourceHeight,r.passes++,this._setupFrameBuffer(r),this.horizontal=!0,this.applyToWebGL(r),this._swapTextures(r),this._setupFrameBuffer(r),this.horizontal=!1,this.applyToWebGL(r),this._swapTextures(r)):this.applyTo2d(r)},applyTo2d:function(r){r.imageData=this.simpleBlur(r)},simpleBlur:function(r){var i,s,o=r.filterBackend.resources,h=r.imageData.width,l=r.imageData.height;o.blurLayer1||(o.blurLayer1=c.util.createCanvasElement(),o.blurLayer2=c.util.createCanvasElement()),s=o.blurLayer2,((i=o.blurLayer1).width!==h||i.height!==l)&&(s.width=i.width=h,s.height=i.height=l);var C,I,k,z,p=i.getContext("2d"),w=s.getContext("2d"),_=15,ne=.06*this.blur*.5;for(p.putImageData(r.imageData,0,0),w.clearRect(0,0,h,l),z=-_;z<=_;z++)k=ne*(I=z/_)*h+(C=(Math.random()-.5)/4),w.globalAlpha=1-Math.abs(I),w.drawImage(i,k,C),p.drawImage(s,0,0),w.globalAlpha=1,w.clearRect(0,0,s.width,s.height);for(z=-_;z<=_;z++)k=ne*(I=z/_)*l+(C=(Math.random()-.5)/4),w.globalAlpha=1-Math.abs(I),w.drawImage(i,C,k),p.drawImage(s,0,0),w.globalAlpha=1,w.clearRect(0,0,s.width,s.height);r.ctx.drawImage(i,0,0);var fe=r.ctx.getImageData(0,0,i.width,i.height);return p.globalAlpha=1,p.clearRect(0,0,i.width,i.height),fe},getUniformLocations:function(r,o){return{delta:r.getUniformLocation(o,"uDelta")}},sendUniformData:function(r,o){var i=this.chooseRightDelta();r.uniform2fv(o.delta,i)},chooseRightDelta:function(){var i,r=1,o=[0,0];return this.horizontal?this.aspectRatio>1&&(r=1/this.aspectRatio):this.aspectRatio<1&&(r=this.aspectRatio),i=r*this.blur*.12,this.horizontal?o[0]=i:o[1]=i,o}}),d.Blur.fromObject=c.Image.filters.BaseFilter.fromObject}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=c.Image.filters;d.Gamma=(0,c.util.createClass)(d.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(r){this.gamma=[1,1,1],d.BaseFilter.prototype.initialize.call(this,r)},applyTo2d:function(r){var _,i=r.imageData.data,s=this.gamma,h=i.length,l=1/s[0],p=1/s[1],w=1/s[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),_=0,h=256;_<h;_++)this.rVals[_]=255*Math.pow(_/255,l),this.gVals[_]=255*Math.pow(_/255,p),this.bVals[_]=255*Math.pow(_/255,w);for(_=0,h=i.length;_<h;_+=4)i[_]=this.rVals[i[_]],i[_+1]=this.gVals[i[_+1]],i[_+2]=this.bVals[i[_+2]]},getUniformLocations:function(r,o){return{uGamma:r.getUniformLocation(o,"uGamma")}},sendUniformData:function(r,o){r.uniform3fv(o.uGamma,this.gamma)}}),c.Image.filters.Gamma.fromObject=c.Image.filters.BaseFilter.fromObject}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=c.Image.filters;d.Composed=(0,c.util.createClass)(d.BaseFilter,{type:"Composed",subFilters:[],initialize:function(r){this.callSuper("initialize",r),this.subFilters=this.subFilters.slice(0)},applyTo:function(r){r.passes+=this.subFilters.length-1,this.subFilters.forEach(function(o){o.applyTo(r)})},toObject:function(){return c.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(r){return r.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(r){return!r.isNeutralState()})}}),c.Image.filters.Composed.fromObject=function(r,o){var s=(r.subFilters||[]).map(function(l){return new c.Image.filters[l.type](l)}),h=new c.Image.filters.Composed({subFilters:s});return o&&o(h),h}}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=c.Image.filters;d.HueRotation=(0,c.util.createClass)(d.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var r=this.rotation*Math.PI,o=c.util.cos(r),i=c.util.sin(r),s=1/3,h=Math.sqrt(s)*i,l=1-o;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=o+l/3,this.matrix[1]=s*l-h,this.matrix[2]=s*l+h,this.matrix[5]=s*l+h,this.matrix[6]=o+s*l,this.matrix[7]=s*l-h,this.matrix[10]=s*l-h,this.matrix[11]=s*l+h,this.matrix[12]=o+s*l},isNeutralState:function(r){return this.calculateMatrix(),d.BaseFilter.prototype.isNeutralState.call(this,r)},applyTo:function(r){this.calculateMatrix(),d.BaseFilter.prototype.applyTo.call(this,r)}}),c.Image.filters.HueRotation.fromObject=c.Image.filters.BaseFilter.fromObject}(ue),function(m){"use strict";var c=m.fabric||(m.fabric={}),d=c.util.object.clone;if(c.Text)c.warn("fabric.Text is already defined");else{var u="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");c.Text=c.util.createClass(c.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:c.Object.prototype.stateProperties.concat(u),cacheProperties:c.Object.prototype.cacheProperties.concat(u),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(r,o){this.styles=o&&o.styles||{},this.text=r,this.__skipDimension=!0,this.callSuper("initialize",o),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var r=this.path;r&&(r.segmentsInfo=c.util.getPathSegmentsInfo(r.path))},getMeasuringContext:function(){return c._measuringContext||(c._measuringContext=this.canvas&&this.canvas.contextCache||c.util.createCanvasElement().getContext("2d")),c._measuringContext},_splitText:function(){var r=this._splitTextIntoLines(this.text);return this.textLines=r.lines,this._textLines=r.graphemeLines,this._unwrappedTextLines=r._unwrappedLines,this._text=r.graphemeText,r},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var r,o,s,h,l,p,w=0,_=this._textLines.length;w<_;w++)if(("justify"===this.textAlign||w!==_-1&&!this.isEndOfWrapping(w))&&(s=0,h=this._textLines[w],(o=this.getLineWidth(w))<this.width&&(p=this.textLines[w].match(this._reSpacesAndTabs)))){r=(this.width-o)/p.length;for(var C=0,I=h.length;C<=I;C++)l=this.__charBounds[w][C],this._reSpaceAndTab.test(h[C])?(l.width+=r,l.kernedWidth+=r,l.left+=s,s+=r):l.left+=s}},isEndOfWrapping:function(r){return r===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var r=this.callSuper("_getCacheCanvasDimensions"),o=this.fontSize;return r.width+=o*r.zoomX,r.height+=o*r.zoomY,r},_render:function(r){var o=this.path;o&&!o.isNotVisible()&&o._render(r),this._setTextStyles(r),this._renderTextLinesBackground(r),this._renderTextDecoration(r,"underline"),this._renderText(r),this._renderTextDecoration(r,"overline"),this._renderTextDecoration(r,"linethrough")},_renderText:function(r){"stroke"===this.paintFirst?(this._renderTextStroke(r),this._renderTextFill(r)):(this._renderTextFill(r),this._renderTextStroke(r))},_setTextStyles:function(r,o,i){if(r.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":r.textBaseline="middle";break;case"ascender":r.textBaseline="top";break;case"descender":r.textBaseline="bottom"}r.font=this._getFontDeclaration(o,i)},calcTextWidth:function(){for(var r=this.getLineWidth(0),o=1,i=this._textLines.length;o<i;o++){var s=this.getLineWidth(o);s>r&&(r=s)}return r},_renderTextLine:function(r,o,i,s,h,l){this._renderChars(r,o,i,s,h,l)},_renderTextLinesBackground:function(r){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var o,i,h,l,I,k,ne,s=r.fillStyle,p=this._getLeftOffset(),w=this._getTopOffset(),_=0,C=0,z=this.path,fe=0,ye=this._textLines.length;fe<ye;fe++)if(o=this.getHeightOfLine(fe),this.textBackgroundColor||this.styleHas("textBackgroundColor",fe)){h=this._textLines[fe],i=this._getLineLeftOffset(fe),C=0,_=0,l=this.getValueOfPropertyAt(fe,0,"textBackgroundColor");for(var Pe=0,_e=h.length;Pe<_e;Pe++)I=this.__charBounds[fe][Pe],k=this.getValueOfPropertyAt(fe,Pe,"textBackgroundColor"),z?(r.save(),r.translate(I.renderLeft,I.renderTop),r.rotate(I.angle),r.fillStyle=k,k&&r.fillRect(-I.width/2,-o/this.lineHeight*(1-this._fontSizeFraction),I.width,o/this.lineHeight),r.restore()):k!==l?(ne=p+i+_,"rtl"===this.direction&&(ne=this.width-ne-C),r.fillStyle=l,l&&r.fillRect(ne,w,C,o/this.lineHeight),_=I.left,C=I.width,l=k):C+=I.kernedWidth;k&&!z&&(ne=p+i+_,"rtl"===this.direction&&(ne=this.width-ne-C),r.fillStyle=k,r.fillRect(ne,w,C,o/this.lineHeight)),w+=o}else w+=o;r.fillStyle=s,this._removeShadow(r)}},getFontCache:function(r){var o=r.fontFamily.toLowerCase();c.charWidthsCache[o]||(c.charWidthsCache[o]={});var i=c.charWidthsCache[o],s=r.fontStyle.toLowerCase()+"_"+(r.fontWeight+"").toLowerCase();return i[s]||(i[s]={}),i[s]},_measureChar:function(r,o,i,s){var C,I,k,ne,h=this.getFontCache(o),w=i+r,_=this._getFontDeclaration(o)===this._getFontDeclaration(s),z=o.fontSize/this.CACHE_FONT_SIZE;if(i&&void 0!==h[i]&&(k=h[i]),void 0!==h[r]&&(ne=C=h[r]),_&&void 0!==h[w]&&(ne=(I=h[w])-k),void 0===C||void 0===k||void 0===I){var fe=this.getMeasuringContext();this._setTextStyles(fe,o,!0)}return void 0===C&&(ne=C=fe.measureText(r).width,h[r]=C),void 0===k&&_&&i&&(k=fe.measureText(i).width,h[i]=k),_&&void 0===I&&(I=fe.measureText(w).width,h[w]=I,ne=I-k),{width:C*z,kernedWidth:ne*z}},getHeightOfChar:function(r,o){return this.getValueOfPropertyAt(r,o,"fontSize")},measureLine:function(r){var o=this._measureLine(r);return 0!==this.charSpacing&&(o.width-=this._getWidthOfCharSpacing()),o.width<0&&(o.width=0),o},_measureLine:function(r){var i,s,l,p,I,k,o=0,h=this._textLines[r],_=new Array(h.length),C=0,z=this.path,ne="right"===this.pathSide;for(this.__charBounds[r]=_,i=0;i<h.length;i++)p=this._getGraphemeBox(s=h[i],r,i,l),_[i]=p,o+=p.kernedWidth,l=s;if(_[i]={left:p?p.left+p.width:0,width:0,kernedWidth:0,height:this.fontSize},z){switch(k=z.segmentsInfo[z.segmentsInfo.length-1].length,(I=c.util.getPointOnPath(z.path,0,z.segmentsInfo)).x+=z.pathOffset.x,I.y+=z.pathOffset.y,this.textAlign){case"left":C=ne?k-o:0;break;case"center":C=(k-o)/2;break;case"right":C=ne?0:k-o}for(C+=this.pathStartOffset*(ne?-1:1),i=ne?h.length-1:0;ne?i>=0:i<h.length;ne?i--:i++)C>k?C%=k:C<0&&(C+=k),this._setGraphemeOnPath(C,p=_[i],I),C+=p.kernedWidth}return{width:o,numOfSpaces:0}},_setGraphemeOnPath:function(r,o,i){var h=this.path,l=c.util.getPointOnPath(h.path,r+o.kernedWidth/2,h.segmentsInfo);o.renderLeft=l.x-i.x,o.renderTop=l.y-i.y,o.angle=l.angle+("right"===this.pathSide?Math.PI:0)},_getGraphemeBox:function(r,o,i,s,h){var I,l=this.getCompleteStyleDeclaration(o,i),p=s?this.getCompleteStyleDeclaration(o,i-1):{},w=this._measureChar(r,l,s,p),_=w.kernedWidth,C=w.width;0!==this.charSpacing&&(C+=I=this._getWidthOfCharSpacing(),_+=I);var k={width:C,left:0,height:l.fontSize,kernedWidth:_,deltaY:l.deltaY};if(i>0&&!h){var z=this.__charBounds[o][i-1];k.left=z.left+z.width+w.kernedWidth-w.width}return k},getHeightOfLine:function(r){if(this.__lineHeights[r])return this.__lineHeights[r];for(var o=this._textLines[r],i=this.getHeightOfChar(r,0),s=1,h=o.length;s<h;s++)i=Math.max(this.getHeightOfChar(r,s),i);return this.__lineHeights[r]=i*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var r,o=0,i=0,s=this._textLines.length;i<s;i++)r=this.getHeightOfLine(i),o+=i===s-1?r/this.lineHeight:r;return o},_getLeftOffset:function(){return"ltr"===this.direction?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(r,o){r.save();for(var i=0,s=this._getLeftOffset(),h=this._getTopOffset(),l=0,p=this._textLines.length;l<p;l++){var w=this.getHeightOfLine(l),_=w/this.lineHeight,C=this._getLineLeftOffset(l);this._renderTextLine(o,r,this._textLines[l],s+C,h+i+_,l),i+=w}r.restore()},_renderTextFill:function(r){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(r,"fillText")},_renderTextStroke:function(r){(!this.stroke||0===this.strokeWidth)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(r),r.save(),this._setLineDash(r,this.strokeDashArray),r.beginPath(),this._renderTextCommon(r,"strokeText"),r.closePath(),r.restore())},_renderChars:function(r,o,i,s,h,l){var _,C,k,ne,p=this.getHeightOfLine(l),w=-1!==this.textAlign.indexOf("justify"),I="",z=0,fe=this.path,ye=!w&&0===this.charSpacing&&this.isEmptyStyles(l)&&!fe,Pe="ltr"===this.direction,_e="ltr"===this.direction?1:-1,Ee=o.canvas.getAttribute("dir");if(o.save(),Ee!==this.direction&&(o.canvas.setAttribute("dir",Pe?"ltr":"rtl"),o.direction=Pe?"ltr":"rtl",o.textAlign=Pe?"left":"right"),h-=p*this._fontSizeFraction/this.lineHeight,ye)return this._renderChar(r,o,l,0,i.join(""),s,h,p),void o.restore();for(var de=0,Ve=i.length-1;de<=Ve;de++)ne=de===Ve||this.charSpacing||fe,I+=i[de],k=this.__charBounds[l][de],0===z?(s+=_e*(k.kernedWidth-k.width),z+=k.width):z+=k.kernedWidth,w&&!ne&&this._reSpaceAndTab.test(i[de])&&(ne=!0),ne||(_=_||this.getCompleteStyleDeclaration(l,de),C=this.getCompleteStyleDeclaration(l,de+1),ne=c.util.hasStyleChanged(_,C,!1)),ne&&(fe?(o.save(),o.translate(k.renderLeft,k.renderTop),o.rotate(k.angle),this._renderChar(r,o,l,de,I,-z/2,0,p),o.restore()):this._renderChar(r,o,l,de,I,s,h,p),I="",_=C,s+=_e*z,z=0);o.restore()},_applyPatternGradientTransformText:function(r){var i,o=c.util.createCanvasElement(),s=this.width+this.strokeWidth,h=this.height+this.strokeWidth;return o.width=s,o.height=h,(i=o.getContext("2d")).beginPath(),i.moveTo(0,0),i.lineTo(s,0),i.lineTo(s,h),i.lineTo(0,h),i.closePath(),i.translate(s/2,h/2),i.fillStyle=r.toLive(i),this._applyPatternGradientTransform(i,r),i.fill(),i.createPattern(o,"no-repeat")},handleFiller:function(r,o,i){var s,h;return i.toLive?"percentage"===i.gradientUnits||i.gradientTransform||i.patternTransform?(r.translate(s=-this.width/2,h=-this.height/2),r[o]=this._applyPatternGradientTransformText(i),{offsetX:s,offsetY:h}):(r[o]=i.toLive(r,this),this._applyPatternGradientTransform(r,i)):(r[o]=i,{offsetX:0,offsetY:0})},_setStrokeStyles:function(r,o){return r.lineWidth=o.strokeWidth,r.lineCap=this.strokeLineCap,r.lineDashOffset=this.strokeDashOffset,r.lineJoin=this.strokeLineJoin,r.miterLimit=this.strokeMiterLimit,this.handleFiller(r,"strokeStyle",o.stroke)},_setFillStyles:function(r,o){return this.handleFiller(r,"fillStyle",o.fill)},_renderChar:function(r,o,i,s,h,l,p){var k,z,w=this._getStyleDeclaration(i,s),_=this.getCompleteStyleDeclaration(i,s),C="fillText"===r&&_.fill,I="strokeText"===r&&_.stroke&&_.strokeWidth;!I&&!C||(o.save(),C&&(k=this._setFillStyles(o,_)),I&&(z=this._setStrokeStyles(o,_)),o.font=this._getFontDeclaration(_),w&&w.textBackgroundColor&&this._removeShadow(o),w&&w.deltaY&&(p+=w.deltaY),C&&o.fillText(h,l-k.offsetX,p-k.offsetY),I&&o.strokeText(h,l-z.offsetX,p-z.offsetY),o.restore())},setSuperscript:function(r,o){return this._setScript(r,o,this.superscript)},setSubscript:function(r,o){return this._setScript(r,o,this.subscript)},_setScript:function(r,o,i){var s=this.get2DCursorLocation(r,!0),h=this.getValueOfPropertyAt(s.lineIndex,s.charIndex,"fontSize"),l=this.getValueOfPropertyAt(s.lineIndex,s.charIndex,"deltaY");return this.setSelectionStyles({fontSize:h*i.size,deltaY:l+h*i.baseline},r,o),this},_getLineLeftOffset:function(r){var o=this.getLineWidth(r),i=this.width-o,s=this.textAlign,h=this.direction,l=0,p=this.isEndOfWrapping(r);return"justify"===s||"justify-center"===s&&!p||"justify-right"===s&&!p||"justify-left"===s&&!p?0:("center"===s&&(l=i/2),"right"===s&&(l=i),"justify-center"===s&&(l=i/2),"justify-right"===s&&(l=i),"rtl"===h&&(l-=i),l)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var r=this._forceClearCache;return r||(r=this.hasStateChanged("_dimensionAffectingProps")),r&&(this.dirty=!0,this._forceClearCache=!1),r},getLineWidth:function(r){if(void 0!==this.__lineWidths[r])return this.__lineWidths[r];var i=this.measureLine(r).width;return this.__lineWidths[r]=i,i},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(r,o,i){var s=this._getStyleDeclaration(r,o);return s&&typeof s[i]<"u"?s[i]:this[i]},_renderTextDecoration:function(r,o){if(this[o]||this.styleHas(o)){for(var i,s,h,l,p,w,_,C,z,ne,fe,ye,Pe,_e,we,Ee,I=this._getLeftOffset(),k=this._getTopOffset(),de=this.path,Ve=this._getWidthOfCharSpacing(),Ze=this.offsets[o],dt=0,he=this._textLines.length;dt<he;dt++)if(i=this.getHeightOfLine(dt),this[o]||this.styleHas(o,dt)){_=this._textLines[dt],_e=i/this.lineHeight,l=this._getLineLeftOffset(dt),ne=0,fe=0,C=this.getValueOfPropertyAt(dt,0,o),Ee=this.getValueOfPropertyAt(dt,0,"fill"),z=k+_e*(1-this._fontSizeFraction),s=this.getHeightOfChar(dt,0),p=this.getValueOfPropertyAt(dt,0,"deltaY");for(var ie=0,R=_.length;ie<R;ie++)if(ye=this.__charBounds[dt][ie],Pe=this.getValueOfPropertyAt(dt,ie,o),we=this.getValueOfPropertyAt(dt,ie,"fill"),h=this.getHeightOfChar(dt,ie),w=this.getValueOfPropertyAt(dt,ie,"deltaY"),de&&Pe&&we)r.save(),r.fillStyle=Ee,r.translate(ye.renderLeft,ye.renderTop),r.rotate(ye.angle),r.fillRect(-ye.kernedWidth/2,Ze*h+w,ye.kernedWidth,this.fontSize/15),r.restore();else if((Pe!==C||we!==Ee||h!==s||w!==p)&&fe>0){var H=I+l+ne;"rtl"===this.direction&&(H=this.width-H-fe),C&&Ee&&(r.fillStyle=Ee,r.fillRect(H,z+Ze*s+p,fe,this.fontSize/15)),ne=ye.left,fe=ye.width,C=Pe,Ee=we,s=h,p=w}else fe+=ye.kernedWidth;H=I+l+ne,"rtl"===this.direction&&(H=this.width-H-fe),r.fillStyle=we,Pe&&we&&r.fillRect(H,z+Ze*s+p,fe-Ve,this.fontSize/15),k+=i}else k+=i;this._removeShadow(r)}},_getFontDeclaration:function(r,o){var i=r||this,s=this.fontFamily,h=c.Text.genericFonts.indexOf(s.toLowerCase())>-1,l=void 0===s||s.indexOf("'")>-1||s.indexOf(",")>-1||s.indexOf('"')>-1||h?i.fontFamily:'"'+i.fontFamily+'"';return[c.isLikelyNode?i.fontWeight:i.fontStyle,c.isLikelyNode?i.fontStyle:i.fontWeight,o?this.CACHE_FONT_SIZE+"px":i.fontSize+"px",l].join(" ")},render:function(r){!this.visible||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",r))},_splitTextIntoLines:function(r){for(var o=r.split(this._reNewline),i=new Array(o.length),s=["\n"],h=[],l=0;l<o.length;l++)i[l]=c.util.string.graphemeSplit(o[l]),h=h.concat(i[l],s);return h.pop(),{_unwrappedLines:i,lines:o,graphemeText:h,graphemeLines:i}},toObject:function(r){var o=u.concat(r),i=this.callSuper("toObject",o);return i.styles=c.util.stylesToArray(this.styles,this.text),i.path&&(i.path=this.path.toObject()),i},set:function(r,o){this.callSuper("set",r,o);var i=!1,s=!1;if("object"==typeof r)for(var h in r)"path"===h&&this.setPathInfo(),i=i||-1!==this._dimensionAffectingProps.indexOf(h),s=s||"path"===h;else i=-1!==this._dimensionAffectingProps.indexOf(r),s="path"===r;return s&&this.setPathInfo(),i&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),c.Text.ATTRIBUTE_NAMES=c.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),c.Text.DEFAULT_SVG_FONT_SIZE=16,c.Text.fromElement=function(r,o,i){if(!r)return o(null);var s=c.parseAttributes(r,c.Text.ATTRIBUTE_NAMES),h=s.textAnchor||"left";if((i=c.util.object.extend(i?d(i):{},s)).top=i.top||0,i.left=i.left||0,s.textDecoration){var l=s.textDecoration;-1!==l.indexOf("underline")&&(i.underline=!0),-1!==l.indexOf("overline")&&(i.overline=!0),-1!==l.indexOf("line-through")&&(i.linethrough=!0),delete i.textDecoration}"dx"in s&&(i.left+=s.dx),"dy"in s&&(i.top+=s.dy),"fontSize"in i||(i.fontSize=c.Text.DEFAULT_SVG_FONT_SIZE);var p="";"textContent"in r?p=r.textContent:"firstChild"in r&&null!==r.firstChild&&"data"in r.firstChild&&null!==r.firstChild.data&&(p=r.firstChild.data),p=p.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var w=i.strokeWidth;i.strokeWidth=0;var _=new c.Text(p,i),C=_.getScaledHeight()/_.height,k=((_.height+_.strokeWidth)*_.lineHeight-_.height)*C,z=_.getScaledHeight()+k,ne=0;"center"===h&&(ne=_.getScaledWidth()/2),"right"===h&&(ne=_.getScaledWidth()),_.set({left:_.left-ne,top:_.top-(z-_.fontSize*(.07+_._fontSizeFraction))/_.lineHeight,strokeWidth:typeof w<"u"?w:1}),o(_)},c.Text.fromObject=function(r,o){var i=d(r),s=r.path;return delete i.path,c.Object._fromObject("Text",i,function(h){h.styles=c.util.stylesFromArray(r.styles,r.text),s?c.Object._fromObject("Path",s,function(l){h.set("path",l),o(h)},"path"):o(h)},"text")},c.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],c.util.createAccessors&&c.util.createAccessors(c.Text)}}(ue),f.util.object.extend(f.Text.prototype,{isEmptyStyles:function(m){if(!this.styles||typeof m<"u"&&!this.styles[m])return!0;var c=typeof m>"u"?this.styles:{line:this.styles[m]};for(var d in c)for(var u in c[d])for(var r in c[d][u])return!1;return!0},styleHas:function(m,c){if(!this.styles||!m||""===m||typeof c<"u"&&!this.styles[c])return!1;var d=typeof c>"u"?this.styles:{0:this.styles[c]};for(var u in d)for(var r in d[u])if(typeof d[u][r][m]<"u")return!0;return!1},cleanStyle:function(m){if(!this.styles||!m||""===m)return!1;var u,r,c=this.styles,d=0,o=!0,i=0;for(var h in c){for(var l in u=0,c[h]){var s;d++,(s=c[h][l]).hasOwnProperty(m)?(r?s[m]!==r&&(o=!1):r=s[m],s[m]===this[m]&&delete s[m]):o=!1,0!==Object.keys(s).length?u++:delete c[h][l]}0===u&&delete c[h]}for(var w=0;w<this._textLines.length;w++)i+=this._textLines[w].length;o&&d===i&&(this[m]=r,this.removeStyle(m))},removeStyle:function(m){if(this.styles&&m&&""!==m){var d,u,r,c=this.styles;for(u in c){for(r in d=c[u])delete d[r][m],0===Object.keys(d[r]).length&&delete d[r];0===Object.keys(d).length&&delete c[u]}}},_extendStyles:function(m,c){var d=this.get2DCursorLocation(m);this._getLineStyle(d.lineIndex)||this._setLineStyle(d.lineIndex),this._getStyleDeclaration(d.lineIndex,d.charIndex)||this._setStyleDeclaration(d.lineIndex,d.charIndex,{}),f.util.object.extend(this._getStyleDeclaration(d.lineIndex,d.charIndex),c)},get2DCursorLocation:function(m,c){typeof m>"u"&&(m=this.selectionStart);for(var d=c?this._unwrappedTextLines:this._textLines,u=d.length,r=0;r<u;r++){if(m<=d[r].length)return{lineIndex:r,charIndex:m};m-=d[r].length+this.missingNewlineOffset(r)}return{lineIndex:r-1,charIndex:d[r-1].length<m?d[r-1].length:m}},getSelectionStyles:function(m,c,d){typeof m>"u"&&(m=this.selectionStart||0),typeof c>"u"&&(c=this.selectionEnd||m);for(var u=[],r=m;r<c;r++)u.push(this.getStyleAtPosition(r,d));return u},getStyleAtPosition:function(m,c){var d=this.get2DCursorLocation(m);return(c?this.getCompleteStyleDeclaration(d.lineIndex,d.charIndex):this._getStyleDeclaration(d.lineIndex,d.charIndex))||{}},setSelectionStyles:function(m,c,d){typeof c>"u"&&(c=this.selectionStart||0),typeof d>"u"&&(d=this.selectionEnd||c);for(var u=c;u<d;u++)this._extendStyles(u,m);return this._forceClearCache=!0,this},_getStyleDeclaration:function(m,c){var d=this.styles&&this.styles[m];return d?d[c]:null},getCompleteStyleDeclaration:function(m,c){for(var r,d=this._getStyleDeclaration(m,c)||{},u={},o=0;o<this._styleProperties.length;o++)u[r=this._styleProperties[o]]=typeof d[r]>"u"?this[r]:d[r];return u},_setStyleDeclaration:function(m,c,d){this.styles[m][c]=d},_deleteStyleDeclaration:function(m,c){delete this.styles[m][c]},_getLineStyle:function(m){return!!this.styles[m]},_setLineStyle:function(m){this.styles[m]={}},_deleteLineStyle:function(m){delete this.styles[m]}}),function(){function m(c){c.textDecoration&&(c.textDecoration.indexOf("underline")>-1&&(c.underline=!0),c.textDecoration.indexOf("line-through")>-1&&(c.linethrough=!0),c.textDecoration.indexOf("overline")>-1&&(c.overline=!0),delete c.textDecoration)}f.IText=f.util.createClass(f.Text,f.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(c,d){this.callSuper("initialize",c,d),this.initBehavior()},setSelectionStart:function(c){c=Math.max(c,0),this._updateAndFire("selectionStart",c)},setSelectionEnd:function(c){c=Math.min(c,this.text.length),this._updateAndFire("selectionEnd",c)},_updateAndFire:function(c,d){this[c]!==d&&(this._fireSelectionChanged(),this[c]=d),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(c){this.clearContextTop(),this.callSuper("render",c),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(c){this.callSuper("_render",c)},clearContextTop:function(c){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var d=this.canvas.contextTop,u=this.canvas.viewportTransform;d.save(),d.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this.transform(d),this._clearTextArea(d),c||d.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var c=this._getCursorBoundaries(),d=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(c,d):this.renderSelection(c,d),d.restore()}},_clearTextArea:function(c){var d=this.width+4,u=this.height+4;c.clearRect(-d/2,-u/2,d,u)},_getCursorBoundaries:function(c){typeof c>"u"&&(c=this.selectionStart);var d=this._getLeftOffset(),u=this._getTopOffset(),r=this._getCursorBoundariesOffsets(c);return{left:d,top:u,leftOffset:r.left,topOffset:r.top}},_getCursorBoundariesOffsets:function(c){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var d,u,r,s,o=0,i=0,h=this.get2DCursorLocation(c);r=h.charIndex,u=h.lineIndex;for(var l=0;l<u;l++)o+=this.getHeightOfLine(l);d=this._getLineLeftOffset(u);var p=this.__charBounds[u][r];return p&&(i=p.left),0!==this.charSpacing&&r===this._textLines[u].length&&(i-=this._getWidthOfCharSpacing()),s={top:o,left:d+(i>0?i:0)},"rtl"===this.direction&&(s.left*=-1),this.cursorOffsetCache=s,this.cursorOffsetCache},renderCursor:function(c,d){var u=this.get2DCursorLocation(),r=u.lineIndex,o=u.charIndex>0?u.charIndex-1:0,i=this.getValueOfPropertyAt(r,o,"fontSize"),s=this.scaleX*this.canvas.getZoom(),h=this.cursorWidth/s,l=c.topOffset,p=this.getValueOfPropertyAt(r,o,"deltaY");l+=(1-this._fontSizeFraction)*this.getHeightOfLine(r)/this.lineHeight-i*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(c,d),d.fillStyle=this.cursorColor||this.getValueOfPropertyAt(r,o,"fill"),d.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,d.fillRect(c.left+c.leftOffset-h/2,l+c.top+p,h,i)},renderSelection:function(c,d){for(var u=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,r=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,o=-1!==this.textAlign.indexOf("justify"),i=this.get2DCursorLocation(u),s=this.get2DCursorLocation(r),h=i.lineIndex,l=s.lineIndex,p=i.charIndex<0?0:i.charIndex,w=s.charIndex<0?0:s.charIndex,_=h;_<=l;_++){var k,C=this._getLineLeftOffset(_)||0,I=this.getHeightOfLine(_),z=0,ne=0;if(_===h&&(z=this.__charBounds[h][p].left),_>=h&&_<l)ne=o&&!this.isEndOfWrapping(_)?this.width:this.getLineWidth(_)||5;else if(_===l)if(0===w)ne=this.__charBounds[l][w].left;else{var fe=this._getWidthOfCharSpacing();ne=this.__charBounds[l][w-1].left+this.__charBounds[l][w-1].width-fe}k=I,(this.lineHeight<1||_===l&&this.lineHeight>1)&&(I/=this.lineHeight);var ye=c.left+C+z,Pe=ne-z,_e=I,we=0;this.inCompositionMode?(d.fillStyle=this.compositionColor||"black",_e=1,we=I):d.fillStyle=this.selectionColor,"rtl"===this.direction&&(ye=this.width-ye-Pe),d.fillRect(ye,c.top+c.topOffset+we,Pe,_e),c.topOffset+=k}},getCurrentCharFontSize:function(){var c=this._getCurrentCharIndex();return this.getValueOfPropertyAt(c.l,c.c,"fontSize")},getCurrentCharColor:function(){var c=this._getCurrentCharIndex();return this.getValueOfPropertyAt(c.l,c.c,"fill")},_getCurrentCharIndex:function(){var c=this.get2DCursorLocation(this.selectionStart,!0);return{l:c.lineIndex,c:c.charIndex>0?c.charIndex-1:0}}}),f.IText.fromObject=function(c,d){var u=f.util.stylesFromArray(c.styles,c.text),r=Object.assign({},c,{styles:u});if(m(r),r.styles)for(var o in r.styles)for(var i in r.styles[o])m(r.styles[o][i]);f.Object._fromObject("IText",r,d,"text")}}(),function(){var m=f.util.object.clone;f.util.object.extend(f.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var c=this;this.on("added",function(){var d=c.canvas;d&&(d._hasITextHandlers||(d._hasITextHandlers=!0,c._initCanvasHandlers(d)),d._iTextInstances=d._iTextInstances||[],d._iTextInstances.push(c))})},initRemovedHandler:function(){var c=this;this.on("removed",function(){var d=c.canvas;d&&(d._iTextInstances=d._iTextInstances||[],f.util.removeFromArray(d._iTextInstances,c),0===d._iTextInstances.length&&(d._hasITextHandlers=!1,c._removeCanvasHandlers(d)))})},_initCanvasHandlers:function(c){c._mouseUpITextHandler=function(){c._iTextInstances&&c._iTextInstances.forEach(function(d){d.__isMousedown=!1})},c.on("mouse:up",c._mouseUpITextHandler)},_removeCanvasHandlers:function(c){c.off("mouse:up",c._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(c,d,u,r){var o;return o={isAborted:!1,abort:function(){this.isAborted=!0}},c.animate("_currentCursorOpacity",d,{duration:u,onComplete:function(){o.isAborted||c[r]()},onChange:function(){c.canvas&&c.selectionStart===c.selectionEnd&&c.renderCursorOrSelection()},abort:function(){return o.isAborted}}),o},_onTickComplete:function(){var c=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){c._currentTickCompleteState=c._animateCursor(c,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(c){var d=this,u=c?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){d._tick()},u)},abortCursorAnimation:function(){var c=this._currentTickState||this._currentTickCompleteState,d=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,c&&d&&d.clearContext(d.contextTop||d.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(c){var d=0,u=c-1;if(this._reSpace.test(this._text[u]))for(;this._reSpace.test(this._text[u]);)d++,u--;for(;/\S/.test(this._text[u])&&u>-1;)d++,u--;return c-d},findWordBoundaryRight:function(c){var d=0,u=c;if(this._reSpace.test(this._text[u]))for(;this._reSpace.test(this._text[u]);)d++,u++;for(;/\S/.test(this._text[u])&&u<this._text.length;)d++,u++;return c+d},findLineBoundaryLeft:function(c){for(var d=0,u=c-1;!/\n/.test(this._text[u])&&u>-1;)d++,u--;return c-d},findLineBoundaryRight:function(c){for(var d=0,u=c;!/\n/.test(this._text[u])&&u<this._text.length;)d++,u++;return c+d},searchWordBoundary:function(c,d){for(var u=this._text,r=this._reSpace.test(u[c])?c-1:c,o=u[r],i=f.reNonWord;!i.test(o)&&r>0&&r<u.length;)o=u[r+=d];return i.test(o)&&(r+=1===d?0:1),r},selectWord:function(c){var d=this.searchWordBoundary(c=c||this.selectionStart,-1),u=this.searchWordBoundary(c,1);this.selectionStart=d,this.selectionEnd=u,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(c){var d=this.findLineBoundaryLeft(c=c||this.selectionStart),u=this.findLineBoundaryRight(c);return this.selectionStart=d,this.selectionEnd=u,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(c){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(c),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(c){c._iTextInstances&&c._iTextInstances.forEach(function(d){d.selected=!1,d.isEditing&&d.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(c){if(this.__isMousedown&&this.isEditing){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var d=this.getSelectionStartFromPointer(c.e),u=this.selectionStart,r=this.selectionEnd;(d!==this.__selectionStartOnMouseDown||u===r)&&(u===d||r===d)||(d>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=d):(this.selectionStart=d,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==u||this.selectionEnd!==r)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(c,d,u){var r=u.slice(0,c),o=f.util.string.graphemeSplit(r).length;if(c===d)return{selectionStart:o,selectionEnd:o};var i=u.slice(c,d);return{selectionStart:o,selectionEnd:o+f.util.string.graphemeSplit(i).length}},fromGraphemeToStringSelection:function(c,d,u){var o=u.slice(0,c).join("").length;return c===d?{selectionStart:o,selectionEnd:o}:{selectionStart:o,selectionEnd:o+u.slice(c,d).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var c=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=c.selectionStart,this.hiddenTextarea.selectionEnd=c.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var c=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=c.selectionEnd,this.inCompositionMode||(this.selectionStart=c.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var c=this._calcTextareaPosition();this.hiddenTextarea.style.left=c.left,this.hiddenTextarea.style.top=c.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var c=this.inCompositionMode?this.compositionStart:this.selectionStart,d=this._getCursorBoundaries(c),u=this.get2DCursorLocation(c),i=this.getValueOfPropertyAt(u.lineIndex,u.charIndex,"fontSize")*this.lineHeight,s=d.leftOffset,h=this.calcTransformMatrix(),l={x:d.left+s,y:d.top+d.topOffset+i},p=this.canvas.getRetinaScaling(),w=this.canvas.upperCanvasEl,_=w.width/p,C=w.height/p,I=_-i,k=C-i,z=w.clientWidth/_,ne=w.clientHeight/C;return l=f.util.transformPoint(l,h),(l=f.util.transformPoint(l,this.canvas.viewportTransform)).x*=z,l.y*=ne,l.x<0&&(l.x=0),l.x>I&&(l.x=I),l.y<0&&(l.y=0),l.y>k&&(l.y=k),l.x+=this.canvas._offset.left,l.y+=this.canvas._offset.top,{left:l.x+"px",top:l.y+"px",fontSize:i+"px",charHeight:i}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){!this._savedProps||(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var c=this._textBeforeEdit!==this.text,d=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,d&&(d.blur&&d.blur(),d.parentNode&&d.parentNode.removeChild(d)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),c&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),c&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var c in this.styles)this._textLines[c]||delete this.styles[c]},removeStyleFromTo:function(c,d){var l,p,u=this.get2DCursorLocation(c,!0),r=this.get2DCursorLocation(d,!0),o=u.lineIndex,i=u.charIndex,s=r.lineIndex,h=r.charIndex;if(o!==s){if(this.styles[o])for(l=i;l<this._unwrappedTextLines[o].length;l++)delete this.styles[o][l];if(this.styles[s])for(l=h;l<this._unwrappedTextLines[s].length;l++)(p=this.styles[s][l])&&(this.styles[o]||(this.styles[o]={}),this.styles[o][i+l-h]=p);for(l=o+1;l<=s;l++)delete this.styles[l];this.shiftLineStyles(s,o-s)}else if(this.styles[o]){p=this.styles[o];var _,C,w=h-i;for(l=i;l<h;l++)delete p[l];for(C in this.styles[o])(_=parseInt(C,10))>=h&&(p[_-w]=p[C],delete p[C])}},shiftLineStyles:function(c,d){var u=m(this.styles);for(var r in this.styles){var o=parseInt(r,10);o>c&&(this.styles[o+d]=u[o],u[o-d]||delete this.styles[o])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(c,d,u,r){var o,i={},s=!1,h=this._unwrappedTextLines[c].length===d;for(var l in u||(u=1),this.shiftLineStyles(c,u),this.styles[c]&&(o=this.styles[c][0===d?d:d-1]),this.styles[c]){var p=parseInt(l,10);p>=d&&(s=!0,i[p-d]=this.styles[c][l],h&&0===d||delete this.styles[c][l])}var w=!1;for(s&&!h&&(this.styles[c+u]=i,w=!0),w&&u--;u>0;)r&&r[u-1]?this.styles[c+u]={0:m(r[u-1])}:o?this.styles[c+u]={0:m(o)}:delete this.styles[c+u],u--;this._forceClearCache=!0},insertCharStyleObject:function(c,d,u,r){this.styles||(this.styles={});var o=this.styles[c],i=o?m(o):{};for(var s in u||(u=1),i){var h=parseInt(s,10);h>=d&&(o[h+u]=i[h],i[h-u]||delete o[h])}if(this._forceClearCache=!0,r)for(;u--;)!Object.keys(r[u]).length||(this.styles[c]||(this.styles[c]={}),this.styles[c][d+u]=m(r[u]));else if(o)for(var l=o[d?d-1:1];l&&u--;)this.styles[c][d+u]=m(l)},insertNewStyleBlock:function(c,d,u){for(var r=this.get2DCursorLocation(d,!0),o=[0],i=0,s=0;s<c.length;s++)"\n"===c[s]?o[++i]=0:o[i]++;for(o[0]>0&&(this.insertCharStyleObject(r.lineIndex,r.charIndex,o[0],u),u=u&&u.slice(o[0]+1)),i&&this.insertNewlineStyleObject(r.lineIndex,r.charIndex+o[0],i),s=1;s<i;s++)o[s]>0?this.insertCharStyleObject(r.lineIndex+s,0,o[s],u):u&&this.styles[r.lineIndex+s]&&u[0]&&(this.styles[r.lineIndex+s][0]=u[0]),u=u&&u.slice(o[s]+1);o[s]>0&&this.insertCharStyleObject(r.lineIndex+s,0,o[s],u)},setSelectionStartEndWithShift:function(c,d,u){u<=c?(d===c?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=c),this.selectionStart=u):u>c&&u<d?"right"===this._selectionDirection?this.selectionEnd=u:this.selectionStart=u:(d===c?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=d),this.selectionEnd=u)},setSelectionInBoundaries:function(){var c=this.text.length;this.selectionStart>c?this.selectionStart=c:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>c?this.selectionEnd=c:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),f.util.object.extend(f.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(m){if(this.canvas){this.__newClickTime=+new Date;var c=m.pointer;this.isTripleClick(c)&&(this.fire("tripleclick",m),this._stopEvent(m.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=c,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(m){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===m.x&&this.__lastPointer.y===m.y},_stopEvent:function(m){m.preventDefault&&m.preventDefault(),m.stopPropagation&&m.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(m){!this.isEditing||this.selectWord(this.getSelectionStartFromPointer(m.e))},tripleClickHandler:function(m){!this.isEditing||this.selectLine(this.getSelectionStartFromPointer(m.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(m){!this.canvas||!this.editable||m.e.button&&1!==m.e.button||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(m.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(m){!this.canvas||!this.editable||m.e.button&&1!==m.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(m){if(this.__isMousedown=!1,!(!this.editable||this.group||m.transform&&m.transform.actionPerformed||m.e.button&&1!==m.e.button)){if(this.canvas){var c=this.canvas._activeObject;if(c&&c!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(m.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(m){var c=this.getSelectionStartFromPointer(m);m.shiftKey?this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,c):(this.selectionStart=c,this.selectionEnd=c),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(m){for(var h,c=this.getLocalPointer(m),d=0,u=0,r=0,o=0,i=0,l=0,p=this._textLines.length;l<p&&r<=c.y;l++)r+=this.getHeightOfLine(l)*this.scaleY,i=l,l>0&&(o+=this._textLines[l-1].length+this.missingNewlineOffset(l-1));u=this._getLineLeftOffset(i)*this.scaleX,h=this._textLines[i],"rtl"===this.direction&&(c.x=this.width*this.scaleX-c.x+u);for(var w=0,_=h.length;w<_&&(d=u,(u+=this.__charBounds[i][w].kernedWidth*this.scaleX)<=c.x);w++)o++;return this._getNewSelectionStartFromOffset(c,d,u,o,_)},_getNewSelectionStartFromOffset:function(m,c,d,u,r){var i=d-m.x,h=u+(i>m.x-c||i<0?0:1);return this.flipX&&(h=r-h),h>this._text.length&&(h=this._text.length),h}}),f.util.object.extend(f.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=f.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var m=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+m.top+"; left: "+m.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uff70top: "+m.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):f.document.body.appendChild(this.hiddenTextarea),f.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),f.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),f.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),f.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),f.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),f.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),f.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),f.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),f.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(f.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(m){if(this.isEditing){var c="rtl"===this.direction?this.keysMapRtl:this.keysMap;if(m.keyCode in c)this[c[m.keyCode]](m);else{if(!(m.keyCode in this.ctrlKeysMapDown)||!m.ctrlKey&&!m.metaKey)return;this[this.ctrlKeysMapDown[m.keyCode]](m)}m.stopImmediatePropagation(),m.preventDefault(),m.keyCode>=33&&m.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(m){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:m.keyCode in this.ctrlKeysMapUp&&(m.ctrlKey||m.metaKey)&&(this[this.ctrlKeysMapUp[m.keyCode]](m),m.stopImmediatePropagation(),m.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(m){var c=this.fromPaste;if(this.fromPaste=!1,m&&m.stopPropagation(),this.isEditing){var o,i,w,_,C,d=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,u=this._text.length,r=d.length,s=r-u,h=this.selectionStart,l=this.selectionEnd,p=h!==l;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var I=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),k=h>I.selectionStart;p?(o=this._text.slice(h,l),s+=l-h):r<u&&(o=k?this._text.slice(l+s,l):this._text.slice(h,h-s)),i=d.slice(I.selectionEnd-s,I.selectionEnd),o&&o.length&&(i.length&&(w=this.getSelectionStyles(h,h+1,!1),w=i.map(function(){return w[0]})),p?(_=h,C=l):k?(_=l-o.length,C=l):(_=l,C=l+o.length),this.removeStyleFromTo(_,C)),i.length&&(c&&i.join("")===f.copiedText&&!f.disableStyleCopyPaste&&(w=f.copiedTextStyle),this.insertNewStyleBlock(i,h,w)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(m){this.compositionStart=m.target.selectionStart,this.compositionEnd=m.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(f.copiedText=this.getSelectedText(),f.copiedTextStyle=f.disableStyleCopyPaste?null:this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(m){return m&&m.clipboardData||f.window.clipboardData},_getWidthBeforeCursor:function(m,c){var u,d=this._getLineLeftOffset(m);return c>0&&(d+=(u=this.__charBounds[m][c-1]).left+u.width),d},getDownCursorOffset:function(m,c){var d=this._getSelectionForOffset(m,c),u=this.get2DCursorLocation(d),r=u.lineIndex;if(r===this._textLines.length-1||m.metaKey||34===m.keyCode)return this._text.length-d;var o=u.charIndex,i=this._getWidthBeforeCursor(r,o),s=this._getIndexOnLine(r+1,i);return this._textLines[r].slice(o).length+s+1+this.missingNewlineOffset(r)},_getSelectionForOffset:function(m,c){return m.shiftKey&&this.selectionStart!==this.selectionEnd&&c?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(m,c){var d=this._getSelectionForOffset(m,c),u=this.get2DCursorLocation(d),r=u.lineIndex;if(0===r||m.metaKey||33===m.keyCode)return-d;var o=u.charIndex,i=this._getWidthBeforeCursor(r,o),s=this._getIndexOnLine(r-1,i),h=this._textLines[r].slice(0,o),l=this.missingNewlineOffset(r-1);return-this._textLines[r-1].length+s-h.length+(1-l)},_getIndexOnLine:function(m,c){for(var i,s,d=this._textLines[m],r=this._getLineLeftOffset(m),o=0,h=0,l=d.length;h<l;h++)if((r+=i=this.__charBounds[m][h].width)>c){s=!0;var w=r,_=Math.abs(r-i-c);o=Math.abs(w-c)<_?h:h-1;break}return s||(o=d.length-1),o},moveCursorDown:function(m){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",m)},moveCursorUp:function(m){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",m)},_moveCursorUpOrDown:function(m,c){var u=this["get"+m+"CursorOffset"](c,"right"===this._selectionDirection);c.shiftKey?this.moveCursorWithShift(u):this.moveCursorWithoutShift(u),0!==u&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(m){return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,"left"===this._selectionDirection?this.selectionStart+m:this.selectionEnd+m),0!==m},moveCursorWithoutShift:function(m){return m<0?(this.selectionStart+=m,this.selectionEnd=this.selectionStart):(this.selectionEnd+=m,this.selectionStart=this.selectionEnd),0!==m},moveCursorLeft:function(m){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",m)},_move:function(m,c,d){var u;if(m.altKey)u=this["findWordBoundary"+d](this[c]);else{if(!m.metaKey&&35!==m.keyCode&&36!==m.keyCode)return this[c]+="Left"===d?-1:1,!0;u=this["findLineBoundary"+d](this[c])}if(typeof u<"u"&&this[c]!==u)return this[c]=u,!0},_moveLeft:function(m,c){return this._move(m,c,"Left")},_moveRight:function(m,c){return this._move(m,c,"Right")},moveCursorLeftWithoutShift:function(m){var c=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(c=this._moveLeft(m,"selectionStart")),this.selectionEnd=this.selectionStart,c},moveCursorLeftWithShift:function(m){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(m,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(m,"selectionStart")):void 0},moveCursorRight:function(m){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",m)},_moveCursorLeftOrRight:function(m,c){var d="moveCursor"+m+"With";this._currentCursorOpacity=1,this[d+=c.shiftKey?"Shift":"outShift"](c)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(m){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(m,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(m,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(m){var c=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(c=this._moveRight(m,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,c},removeChars:function(m,c){typeof c>"u"&&(c=m+1),this.removeStyleFromTo(m,c),this._text.splice(m,c-m),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(m,c,d,u){typeof u>"u"&&(u=d),u>d&&this.removeStyleFromTo(d,u);var r=f.util.string.graphemeSplit(m);this.insertNewStyleBlock(r,d,c),this._text=[].concat(this._text.slice(0,d),r,this._text.slice(u)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var m=f.util.toFixed,c=/  +/g;f.util.object.extend(f.Text.prototype,{_toSVG:function(){var d=this._getSVGLeftTopOffsets(),u=this._getSVGTextAndBg(d.textTop,d.textLeft);return this._wrapSVGTextAndBg(u)},toSVG:function(d){return this._createBaseSVGMarkup(this._toSVG(),{reviver:d,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(d){var r=this.getSvgTextDecoration(this);return[d.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",r?'text-decoration="'+r+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",d.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(d,u){var s,r=[],o=[],i=d;this._setSVGBg(o);for(var h=0,l=this._textLines.length;h<l;h++)s=this._getLineLeftOffset(h),(this.textBackgroundColor||this.styleHas("textBackgroundColor",h))&&this._setSVGTextLineBg(o,h,u+s,i),this._setSVGTextLineText(r,h,u+s,i),i+=this.getHeightOfLine(h);return{textSpans:r,textBgRects:o}},_createTextCharSpan:function(d,u,r,o){var i=d!==d.trim()||d.match(c),s=this.getSvgSpanStyles(u,i),h=s?'style="'+s+'"':"",l=u.deltaY,p="",w=f.Object.NUM_FRACTION_DIGITS;return l&&(p=' dy="'+m(l,w)+'" '),['<tspan x="',m(r,w),'" y="',m(o,w),'" ',p,h,">",f.util.string.escapeXml(d),"</tspan>"].join("")},_setSVGTextLineText:function(d,u,r,o){var h,l,w,_,k,i=this.getHeightOfLine(u),s=-1!==this.textAlign.indexOf("justify"),p="",C=0,I=this._textLines[u];o+=i*(1-this._fontSizeFraction)/this.lineHeight;for(var z=0,ne=I.length-1;z<=ne;z++)k=z===ne||this.charSpacing,p+=I[z],w=this.__charBounds[u][z],0===C?(r+=w.kernedWidth-w.width,C+=w.width):C+=w.kernedWidth,s&&!k&&this._reSpaceAndTab.test(I[z])&&(k=!0),k||(h=h||this.getCompleteStyleDeclaration(u,z),l=this.getCompleteStyleDeclaration(u,z+1),k=f.util.hasStyleChanged(h,l,!0)),k&&(_=this._getStyleDeclaration(u,z)||{},d.push(this._createTextCharSpan(p,_,r,o)),p="",h=l,r+=C,C=0)},_pushTextBgRect:function(d,u,r,o,i,s){var h=f.Object.NUM_FRACTION_DIGITS;d.push("\t\t<rect ",this._getFillAttributes(u),' x="',m(r,h),'" y="',m(o,h),'" width="',m(i,h),'" height="',m(s,h),'"></rect>\n')},_setSVGTextLineBg:function(d,u,r,o){for(var p,w,i=this._textLines[u],s=this.getHeightOfLine(u)/this.lineHeight,h=0,l=0,_=this.getValueOfPropertyAt(u,0,"textBackgroundColor"),C=0,I=i.length;C<I;C++)p=this.__charBounds[u][C],(w=this.getValueOfPropertyAt(u,C,"textBackgroundColor"))!==_?(_&&this._pushTextBgRect(d,_,r+l,o,h,s),l=p.left,h=p.width,_=w):h+=p.kernedWidth;w&&this._pushTextBgRect(d,w,r+l,o,h,s)},_getFillAttributes:function(d){var u=d&&"string"==typeof d?new f.Color(d):"";return u&&u.getSource()&&1!==u.getAlpha()?'opacity="'+u.getAlpha()+'" fill="'+u.setAlpha(1).toRgb()+'"':'fill="'+d+'"'},_getSVGLineTopOffset:function(d){for(var r,u=0,o=0;o<d;o++)u+=this.getHeightOfLine(o);return r=this.getHeightOfLine(o),{lineTop:u,offset:(this._fontSizeMult-this._fontSizeFraction)*r/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(d){return f.Object.prototype.getSvgStyles.call(this,d)+" white-space: pre;"}})}(),function(m){"use strict";var c=m.fabric||(m.fabric={});c.Textbox=c.util.createClass(c.IText,c.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:c.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(d){for(var u=0,r=0,o=0,i={},s=0;s<d.graphemeLines.length;s++)"\n"===d.graphemeText[o]&&s>0?(r=0,o++,u++):!this.splitByGrapheme&&this._reSpaceAndTab.test(d.graphemeText[o])&&s>0&&(r++,o++),i[s]={line:u,offset:r},o+=d.graphemeLines[s].length,r+=d.graphemeLines[s].length;return i},styleHas:function(d,u){if(this._styleMap&&!this.isWrapping){var r=this._styleMap[u];r&&(u=r.line)}return c.Text.prototype.styleHas.call(this,d,u)},isEmptyStyles:function(d){if(!this.styles)return!0;var o,i,u=0,s=!1,h=this._styleMap[d],l=this._styleMap[d+1];for(var p in h&&(d=h.line,u=h.offset),l&&(s=l.line===d,o=l.offset),i=typeof d>"u"?this.styles:{line:this.styles[d]})for(var w in i[p])if(w>=u&&(!s||w<o))for(var _ in i[p][w])return!1;return!0},_getStyleDeclaration:function(d,u){if(this._styleMap&&!this.isWrapping){var r=this._styleMap[d];if(!r)return null;d=r.line,u=r.offset+u}return this.callSuper("_getStyleDeclaration",d,u)},_setStyleDeclaration:function(d,u,r){var o=this._styleMap[d];this.styles[d=o.line][u=o.offset+u]=r},_deleteStyleDeclaration:function(d,u){var r=this._styleMap[d];delete this.styles[d=r.line][u=r.offset+u]},_getLineStyle:function(d){return!!this.styles[this._styleMap[d].line]},_setLineStyle:function(d){this.styles[this._styleMap[d].line]={}},_wrapText:function(d,u){var o,r=[];for(this.isWrapping=!0,o=0;o<d.length;o++)r=r.concat(this._wrapLine(d[o],o,u));return this.isWrapping=!1,r},_measureWord:function(d,u,r){var i,o=0;r=r||0;for(var h=0,l=d.length;h<l;h++)o+=this._getGraphemeBox(d[h],u,h+r,i,!0).kernedWidth,i=d[h];return o},_wrapLine:function(d,u,r,ye){var i=0,s=this.splitByGrapheme,h=[],l=[],p=s?c.util.string.graphemeSplit(d):d.split(this._wordJoiners),w="",_=0,C=s?"":" ",I=0,k=0,z=0,ne=!0,fe=this._getWidthOfCharSpacing();ye=ye||0,0===p.length&&p.push([]),r-=ye;for(var Pe=0;Pe<p.length;Pe++)w=s?p[Pe]:c.util.string.graphemeSplit(p[Pe]),I=this._measureWord(w,u,_),_+=w.length,(i+=k+I-fe)>r&&!ne?(h.push(l),l=[],i=I,ne=!0):i+=fe,!ne&&!s&&l.push(C),l=l.concat(w),k=s?0:this._measureWord([C],u,_),_++,ne=!1,I>z&&(z=I);return Pe&&h.push(l),z+ye>this.dynamicMinWidth&&(this.dynamicMinWidth=z-fe+ye),h},isEndOfWrapping:function(d){return!this._styleMap[d+1]||this._styleMap[d+1].line!==this._styleMap[d].line},missingNewlineOffset:function(d){return this.splitByGrapheme?this.isEndOfWrapping(d)?1:0:1},_splitTextIntoLines:function(d){for(var u=c.Text.prototype._splitTextIntoLines.call(this,d),r=this._wrapText(u.lines,this.width),o=new Array(r.length),i=0;i<r.length;i++)o[i]=r[i].join("");return u.lines=o,u.graphemeLines=r,u},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var d={};for(var u in this._styleMap)this._textLines[u]&&(d[this._styleMap[u].line]=1);for(var u in this.styles)d[u]||delete this.styles[u]},toObject:function(d){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(d))}}),c.Textbox.fromObject=function(d,u){var r=c.util.stylesFromArray(d.styles,d.text),o=Object.assign({},d,{styles:r});return c.Object._fromObject("Textbox",o,u,"text")}}(ue),function(){var m=f.controlsUtils,c=m.scaleSkewCursorStyleHandler,d=m.scaleCursorStyleHandler,u=m.scalingEqually,r=m.scalingYOrSkewingX,o=m.scalingXOrSkewingY,i=m.scaleOrSkewActionName,s=f.Object.prototype.controls;if(s.ml=new f.Control({x:-.5,y:0,cursorStyleHandler:c,actionHandler:o,getActionName:i}),s.mr=new f.Control({x:.5,y:0,cursorStyleHandler:c,actionHandler:o,getActionName:i}),s.mb=new f.Control({x:0,y:.5,cursorStyleHandler:c,actionHandler:r,getActionName:i}),s.mt=new f.Control({x:0,y:-.5,cursorStyleHandler:c,actionHandler:r,getActionName:i}),s.tl=new f.Control({x:-.5,y:-.5,cursorStyleHandler:d,actionHandler:u}),s.tr=new f.Control({x:.5,y:-.5,cursorStyleHandler:d,actionHandler:u}),s.bl=new f.Control({x:-.5,y:.5,cursorStyleHandler:d,actionHandler:u}),s.br=new f.Control({x:.5,y:.5,cursorStyleHandler:d,actionHandler:u}),s.mtr=new f.Control({x:0,y:-.5,actionHandler:m.rotationWithSnapping,cursorStyleHandler:m.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),f.Textbox){var h=f.Textbox.prototype.controls={};h.mtr=s.mtr,h.tr=s.tr,h.br=s.br,h.tl=s.tl,h.bl=s.bl,h.mt=s.mt,h.mb=s.mb,h.mr=new f.Control({x:.5,y:0,actionHandler:m.changeWidth,cursorStyleHandler:c,actionName:"resizing"}),h.ml=new f.Control({x:-.5,y:0,actionHandler:m.changeWidth,cursorStyleHandler:c,actionName:"resizing"})}}()},6036:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(7156).default,ge;ge=()=>(()=>{"use strict";var __webpack_modules__=[,(qt,ue,ge)=>{Object.defineProperty(ue,"__esModule",{value:!0}),ue.VerbosityLevel=ue.Util=ue.UnknownErrorException=ue.UnexpectedResponseException=ue.UNSUPPORTED_FEATURES=ue.TextRenderingMode=ue.StreamType=ue.RenderingIntentFlag=ue.PermissionFlag=ue.PasswordResponses=ue.PasswordException=ue.PageActionEventType=ue.OPS=ue.MissingPDFException=ue.InvalidPDFException=ue.ImageKind=ue.IDENTITY_MATRIX=ue.FormatError=ue.FontType=ue.FeatureTest=ue.FONT_IDENTITY_MATRIX=ue.DocumentActionEventType=ue.CMapCompressionType=ue.BaseException=ue.AnnotationType=ue.AnnotationStateModelType=ue.AnnotationReviewState=ue.AnnotationReplyType=ue.AnnotationMode=ue.AnnotationMarkedState=ue.AnnotationFlag=ue.AnnotationFieldFlag=ue.AnnotationBorderStyleType=ue.AnnotationActionEventType=ue.AbortException=void 0,ue.arrayByteLength=je,ue.arraysToBytes=function We(Nt){const Ye=Nt.length;if(1===Ye&&Nt[0]instanceof Uint8Array)return Nt[0];let st=0;for(let bn=0;bn<Ye;bn++)st+=je(Nt[bn]);let Bt=0;const Kt=new Uint8Array(st);for(let bn=0;bn<Ye;bn++){let fn=Nt[bn];fn instanceof Uint8Array||(fn="string"==typeof fn?De(fn):new Uint8Array(fn));const Rn=fn.byteLength;Kt.set(fn,Bt),Bt+=Rn}return Kt},ue.assert=function Ve(Nt,Ye){Nt||de(Ye)},ue.bytesToString=function me(Nt){("object"!=typeof Nt||null===Nt||void 0===Nt.length)&&de("Invalid argument for bytesToString");const Ye=Nt.length;if(Ye<8192)return String.fromCharCode.apply(null,Nt);const Bt=[];for(let Kt=0;Kt<Ye;Kt+=8192){const bn=Math.min(Kt+8192,Ye),fn=Nt.subarray(Kt,bn);Bt.push(String.fromCharCode.apply(null,fn))}return Bt.join("")},ue.createPromiseCapability=function Jn(){const Nt=Object.create(null);let Ye=!1;return Object.defineProperty(Nt,"settled",{get:()=>Ye}),Nt.promise=new Promise(function(st,Bt){Nt.resolve=function(Kt){Ye=!0,st(Kt)},Nt.reject=function(Kt){Ye=!0,Bt(Kt)}}),Nt},ue.createValidAbsoluteUrl=function dt(Nt,Ye=null,st=null){if(!Nt)return null;try{if(st&&"string"==typeof Nt){if(st.addDefaultProtocol&&Nt.startsWith("www.")){const Kt=Nt.match(/\./g);Kt&&Kt.length>=2&&(Nt=`http://${Nt}`)}if(st.tryConvertEncoding)try{Nt=ot(Nt)}catch{}}const Bt=Ye?new URL(Nt,Ye):new URL(Nt);if(function Ze(Nt){if(!Nt)return!1;switch(Nt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(Bt))return Bt}catch{}return null},ue.escapeString=function Xe(Nt){return Nt.replace(/([()\\\n\r])/g,Ye=>"\n"===Ye?"\\n":"\r"===Ye?"\\r":`\\${Ye}`)},ue.getModificationDate=function Tn(Nt=new Date){return[Nt.getUTCFullYear().toString(),(Nt.getUTCMonth()+1).toString().padStart(2,"0"),Nt.getUTCDate().toString().padStart(2,"0"),Nt.getUTCHours().toString().padStart(2,"0"),Nt.getUTCMinutes().toString().padStart(2,"0"),Nt.getUTCSeconds().toString().padStart(2,"0")].join("")},ue.getVerbosityLevel=function _e(){return ye},ue.info=function we(Nt){ye>=I.INFOS&&console.log(`Info: ${Nt}`)},ue.isArrayBuffer=function Pt(Nt){return"object"==typeof Nt&&null!==Nt&&void 0!==Nt.byteLength},ue.isArrayEqual=function Gt(Nt,Ye){if(Nt.length!==Ye.length)return!1;for(let st=0,Bt=Nt.length;st<Bt;st++)if(Nt[st]!==Ye[st])return!1;return!0},ue.isAscii=function Ne(Nt){return/^[\x00-\x7F]*$/.test(Nt)},ue.objectFromMap=function Ue(Nt){const Ye=Object.create(null);for(const[st,Bt]of Nt)Ye[st]=Bt;return Ye},ue.objectSize=function Be(Nt){return Object.keys(Nt).length},ue.setVerbosityLevel=function Pe(Nt){Number.isInteger(Nt)&&(ye=Nt)},ue.shadow=he,ue.string32=function it(Nt){return String.fromCharCode(Nt>>24&255,Nt>>16&255,Nt>>8&255,255&Nt)},ue.stringToBytes=De,ue.stringToPDFString=function ze(Nt){if(Nt[0]>="\xef"){let st;if("\xfe"===Nt[0]&&"\xff"===Nt[1]?st="utf-16be":"\xff"===Nt[0]&&"\xfe"===Nt[1]?st="utf-16le":"\xef"===Nt[0]&&"\xbb"===Nt[1]&&"\xbf"===Nt[2]&&(st="utf-8"),st)try{const Bt=new TextDecoder(st,{fatal:!0}),Kt=De(Nt);return Bt.decode(Kt)}catch(Bt){Ee(`stringToPDFString: "${Bt}".`)}}const Ye=[];for(let st=0,Bt=Nt.length;st<Bt;st++){const Kt=be[Nt.charCodeAt(st)];Ye.push(Kt?String.fromCharCode(Kt):Nt.charAt(st))}return Ye.join("")},ue.stringToUTF16BEString=function yt(Nt){const Ye=["\xfe\xff"];for(let st=0,Bt=Nt.length;st<Bt;st++){const Kt=Nt.charCodeAt(st);Ye.push(String.fromCharCode(Kt>>8&255),String.fromCharCode(255&Kt))}return Ye.join("")},ue.stringToUTF8String=ot,ue.unreachable=de,ue.utf8StringToString=function Ct(Nt){return unescape(encodeURIComponent(Nt))},ue.warn=Ee,ge(2),ue.IDENTITY_MATRIX=[1,0,0,1,0,0],ue.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],ue.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},ue.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},ue.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ue.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ue.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ue.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},ue.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},ue.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},ue.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},ue.AnnotationReplyType={GROUP:"Group",REPLY:"R"},ue.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},ue.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},ue.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},ue.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},ue.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},ue.PageActionEventType={O:"PageOpen",C:"PageClose"},ue.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},ue.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const I={ERRORS:0,WARNINGS:1,INFOS:5};ue.VerbosityLevel=I,ue.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},ue.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},ue.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},ue.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let ye=I.WARNINGS;function Ee(Nt){ye>=I.WARNINGS&&console.log(`Warning: ${Nt}`)}function de(Nt){throw new Error(Nt)}function he(Nt,Ye,st){return Object.defineProperty(Nt,Ye,{value:st,enumerable:!0,configurable:!0,writable:!1}),st}const ie=function(){function Ye(st,Bt){this.constructor===Ye&&de("Cannot initialize BaseException."),this.message=st,this.name=Bt}return Ye.prototype=new Error,Ye.constructor=Ye,Ye}();function De(Nt){"string"!=typeof Nt&&de("Invalid argument for stringToBytes");const Ye=Nt.length,st=new Uint8Array(Ye);for(let Bt=0;Bt<Ye;++Bt)st[Bt]=255&Nt.charCodeAt(Bt);return st}function je(Nt){return void 0!==Nt.length?Nt.length:void 0!==Nt.byteLength?Nt.byteLength:void de("Invalid argument for arrayByteLength")}ue.BaseException=ie,ue.PasswordException=class R extends ie{constructor(Ye,st){super(Ye,"PasswordException"),this.code=st}},ue.UnknownErrorException=class H extends ie{constructor(Ye,st){super(Ye,"UnknownErrorException"),this.details=st}},ue.InvalidPDFException=class F extends ie{constructor(Ye){super(Ye,"InvalidPDFException")}},ue.MissingPDFException=class j extends ie{constructor(Ye){super(Ye,"MissingPDFException")}},ue.UnexpectedResponseException=class B extends ie{constructor(Ye,st){super(Ye,"UnexpectedResponseException"),this.status=st}},ue.FormatError=class J extends ie{constructor(Ye){super(Ye,"FormatError")}},ue.AbortException=class re extends ie{constructor(Ye){super(Ye,"AbortException")}},ue.FeatureTest=class $e{static get isLittleEndian(){return he(this,"isLittleEndian",function ht(){const Nt=new Uint8Array(4);return Nt[0]=1,1===new Uint32Array(Nt.buffer,0,1)[0]}())}static get isEvalSupported(){return he(this,"isEvalSupported",function Lt(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return he(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const Ke=[...Array(256).keys()].map(Nt=>Nt.toString(16).padStart(2,"0"));class pt{static makeHexColor(Ye,st,Bt){return`#${Ke[Ye]}${Ke[st]}${Ke[Bt]}`}static scaleMinMax(Ye,st){let Bt;Ye[0]?(Ye[0]<0&&(Bt=st[0],st[0]=st[1],st[1]=Bt),st[0]*=Ye[0],st[1]*=Ye[0],Ye[3]<0&&(Bt=st[2],st[2]=st[3],st[3]=Bt),st[2]*=Ye[3],st[3]*=Ye[3]):(Bt=st[0],st[0]=st[2],st[2]=Bt,Bt=st[1],st[1]=st[3],st[3]=Bt,Ye[1]<0&&(Bt=st[2],st[2]=st[3],st[3]=Bt),st[2]*=Ye[1],st[3]*=Ye[1],Ye[2]<0&&(Bt=st[0],st[0]=st[1],st[1]=Bt),st[0]*=Ye[2],st[1]*=Ye[2]),st[0]+=Ye[4],st[1]+=Ye[4],st[2]+=Ye[5],st[3]+=Ye[5]}static transform(Ye,st){return[Ye[0]*st[0]+Ye[2]*st[1],Ye[1]*st[0]+Ye[3]*st[1],Ye[0]*st[2]+Ye[2]*st[3],Ye[1]*st[2]+Ye[3]*st[3],Ye[0]*st[4]+Ye[2]*st[5]+Ye[4],Ye[1]*st[4]+Ye[3]*st[5]+Ye[5]]}static applyTransform(Ye,st){return[Ye[0]*st[0]+Ye[1]*st[2]+st[4],Ye[0]*st[1]+Ye[1]*st[3]+st[5]]}static applyInverseTransform(Ye,st){const Bt=st[0]*st[3]-st[1]*st[2];return[(Ye[0]*st[3]-Ye[1]*st[2]+st[2]*st[5]-st[4]*st[3])/Bt,(-Ye[0]*st[1]+Ye[1]*st[0]+st[4]*st[1]-st[5]*st[0])/Bt]}static getAxialAlignedBoundingBox(Ye,st){const Bt=pt.applyTransform(Ye,st),Kt=pt.applyTransform(Ye.slice(2,4),st),bn=pt.applyTransform([Ye[0],Ye[3]],st),fn=pt.applyTransform([Ye[2],Ye[1]],st);return[Math.min(Bt[0],Kt[0],bn[0],fn[0]),Math.min(Bt[1],Kt[1],bn[1],fn[1]),Math.max(Bt[0],Kt[0],bn[0],fn[0]),Math.max(Bt[1],Kt[1],bn[1],fn[1])]}static inverseTransform(Ye){const st=Ye[0]*Ye[3]-Ye[1]*Ye[2];return[Ye[3]/st,-Ye[1]/st,-Ye[2]/st,Ye[0]/st,(Ye[2]*Ye[5]-Ye[4]*Ye[3])/st,(Ye[4]*Ye[1]-Ye[5]*Ye[0])/st]}static apply3dTransform(Ye,st){return[Ye[0]*st[0]+Ye[1]*st[1]+Ye[2]*st[2],Ye[3]*st[0]+Ye[4]*st[1]+Ye[5]*st[2],Ye[6]*st[0]+Ye[7]*st[1]+Ye[8]*st[2]]}static singularValueDecompose2dScale(Ye){const st=[Ye[0],Ye[2],Ye[1],Ye[3]],Bt=Ye[0]*st[0]+Ye[1]*st[2],fn=Ye[2]*st[1]+Ye[3]*st[3],Rn=(Bt+fn)/2,ri=Math.sqrt((Bt+fn)**2-4*(Bt*fn-(Ye[2]*st[0]+Ye[3]*st[2])*(Ye[0]*st[1]+Ye[1]*st[3])))/2,di=Rn-ri||1;return[Math.sqrt(Rn+ri||1),Math.sqrt(di)]}static normalizeRect(Ye){const st=Ye.slice(0);return Ye[0]>Ye[2]&&(st[0]=Ye[2],st[2]=Ye[0]),Ye[1]>Ye[3]&&(st[1]=Ye[3],st[3]=Ye[1]),st}static intersect(Ye,st){const Bt=Math.max(Math.min(Ye[0],Ye[2]),Math.min(st[0],st[2])),Kt=Math.min(Math.max(Ye[0],Ye[2]),Math.max(st[0],st[2]));if(Bt>Kt)return null;const bn=Math.max(Math.min(Ye[1],Ye[3]),Math.min(st[1],st[3])),fn=Math.min(Math.max(Ye[1],Ye[3]),Math.max(st[1],st[3]));return bn>fn?null:[Bt,bn,Kt,fn]}static bezierBoundingBox(Ye,st,Bt,Kt,bn,fn,Rn,ri){const Ri=[],di=[[],[]];let Li,_i,nr,Pi,Wi,ji,Kn,ir;for(let as=0;as<2;++as)if(0===as?(_i=6*Ye-12*Bt+6*bn,Li=-3*Ye+9*Bt-9*bn+3*Rn,nr=3*Bt-3*Ye):(_i=6*st-12*Kt+6*fn,Li=-3*st+9*Kt-9*fn+3*ri,nr=3*Kt-3*st),Math.abs(Li)<1e-12){if(Math.abs(_i)<1e-12)continue;Pi=-nr/_i,0<Pi&&Pi<1&&Ri.push(Pi)}else Kn=_i*_i-4*nr*Li,ir=Math.sqrt(Kn),!(Kn<0)&&(Wi=(-_i+ir)/(2*Li),0<Wi&&Wi<1&&Ri.push(Wi),ji=(-_i-ir)/(2*Li),0<ji&&ji<1&&Ri.push(ji));let rr,Er=Ri.length;const Yr=Er;for(;Er--;)Pi=Ri[Er],rr=1-Pi,di[0][Er]=rr*rr*rr*Ye+3*rr*rr*Pi*Bt+3*rr*Pi*Pi*bn+Pi*Pi*Pi*Rn,di[1][Er]=rr*rr*rr*st+3*rr*rr*Pi*Kt+3*rr*Pi*Pi*fn+Pi*Pi*Pi*ri;return di[0][Yr]=Ye,di[1][Yr]=st,di[0][Yr+1]=Rn,di[1][Yr+1]=ri,di[0].length=di[1].length=Yr+2,[Math.min(...di[0]),Math.min(...di[1]),Math.max(...di[0]),Math.max(...di[1])]}}ue.Util=pt;const be=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ot(Nt){return decodeURIComponent(escape(Nt))}},(qt,ue,ge)=>{ge(3)},(qt,ue)=>{Object.defineProperty(ue,"__esModule",{value:!0}),ue.isNodeJS=void 0;const ge=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);ue.isNodeJS=ge},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var qt,ge,f,te,le,Qe,Je,Te,ym,c;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:u,NodeCMapReaderFactory:r,NodeStandardFontDataFactory:o}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=u,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=r,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=o}function setPDFNetworkStreamFactory(u){createPDFNetworkStream=u}function getDocument(u){const r=new PDFDocumentLoadingTask;let o;if("string"==typeof u||u instanceof URL)o={url:u};else if((0,_util.isArrayBuffer)(u))o={data:u};else if(u instanceof PDFDataRangeTransport)o={range:u};else{if("object"!=typeof u)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!u.url&&!u.data&&!u.range)throw new Error("Invalid parameter object: need either .data, .range or .url");o=u}const i=Object.create(null);let s=null,h=null;for(const p in o){const w=o[p];switch(p){case"url":if(typeof window<"u")try{i[p]=new URL(w,window.location).href;continue}catch(_){(0,_util.warn)(`Cannot create valid URL: "${_}".`)}else if("string"==typeof w||w instanceof URL){i[p]=w.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":s=w;continue;case"worker":h=w;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&w instanceof Buffer)i[p]=new Uint8Array(w);else{if(w instanceof Uint8Array)break;if("string"==typeof w)i[p]=(0,_util.stringToBytes)(w);else if("object"!=typeof w||null===w||isNaN(w.length)){if(!(0,_util.isArrayBuffer)(w))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");i[p]=new Uint8Array(w)}else i[p]=new Uint8Array(w)}continue}i[p]=w}if(i.CMapReaderFactory=i.CMapReaderFactory||DefaultCMapReaderFactory,i.StandardFontDataFactory=i.StandardFontDataFactory||DefaultStandardFontDataFactory,i.ignoreErrors=!0!==i.stopAtErrors,i.fontExtraProperties=!0===i.fontExtraProperties,i.pdfBug=!0===i.pdfBug,i.enableXfa=!0===i.enableXfa,(!Number.isInteger(i.rangeChunkSize)||i.rangeChunkSize<1)&&(i.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof i.docBaseUrl||(0,_display_utils.isDataScheme)(i.docBaseUrl))&&(i.docBaseUrl=null),(!Number.isInteger(i.maxImageSize)||i.maxImageSize<-1)&&(i.maxImageSize=-1),"string"!=typeof i.cMapUrl&&(i.cMapUrl=null),"string"!=typeof i.standardFontDataUrl&&(i.standardFontDataUrl=null),"boolean"!=typeof i.useWorkerFetch&&(i.useWorkerFetch=i.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&i.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof i.isEvalSupported&&(i.isEvalSupported=!0),"boolean"!=typeof i.disableFontFace&&(i.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof i.useSystemFonts&&(i.useSystemFonts=!_is_node.isNodeJS&&!i.disableFontFace),("object"!=typeof i.ownerDocument||null===i.ownerDocument)&&(i.ownerDocument=globalThis.document),"boolean"!=typeof i.disableRange&&(i.disableRange=!1),"boolean"!=typeof i.disableStream&&(i.disableStream=!1),"boolean"!=typeof i.disableAutoFetch&&(i.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(i.verbosity),!h){const p={verbosity:i.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};h=p.port?PDFWorker.fromPort(p):new PDFWorker(p),r._worker=h}const l=r.docId;return h.promise.then(function(){if(r.destroyed)throw new Error("Loading aborted");const p=_fetchDocument(h,i,s,l),w=new Promise(function(_){let C;s?C=new _transport_stream.PDFDataTransportStream({length:i.length,initialData:i.initialData,progressiveDone:i.progressiveDone,contentDispositionFilename:i.contentDispositionFilename,disableRange:i.disableRange,disableStream:i.disableStream},s):i.data||(C=createPDFNetworkStream({url:i.url,length:i.length,httpHeaders:i.httpHeaders,withCredentials:i.withCredentials,rangeChunkSize:i.rangeChunkSize,disableRange:i.disableRange,disableStream:i.disableStream})),_(C)});return Promise.all([p,w]).then(function([_,C]){if(r.destroyed)throw new Error("Loading aborted");const I=new _message_handler.MessageHandler(l,_,h.port),k=new WorkerTransport(I,r,C,i);r._transport=k,I.send("Ready",null)})}).catch(r._capability.reject),r}function _fetchDocument(u,r,o,i){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(u,r,o,i){if(u.destroyed)throw new Error("Worker was destroyed");o&&(r.length=o.length,r.initialData=o.initialData,r.progressiveDone=o.progressiveDone,r.contentDispositionFilename=o.contentDispositionFilename);const s=yield u.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.14.305",source:{data:r.data,url:r.url,password:r.password,disableAutoFetch:r.disableAutoFetch,rangeChunkSize:r.rangeChunkSize,length:r.length},maxImageSize:r.maxImageSize,disableFontFace:r.disableFontFace,docBaseUrl:r.docBaseUrl,ignoreErrors:r.ignoreErrors,isEvalSupported:r.isEvalSupported,fontExtraProperties:r.fontExtraProperties,enableXfa:r.enableXfa,useSystemFonts:r.useSystemFonts,cMapUrl:r.useWorkerFetch?r.cMapUrl:null,standardFontDataUrl:r.useWorkerFetch?r.standardFontDataUrl:null});if(u.destroyed)throw new Error("Worker was destroyed");return s})).apply(this,arguments)}const ue=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+l1(ue,qt)._++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var r=this;return _asyncToGenerator(function*(){r.destroyed=!0,yield r._transport?.destroy(),r._transport=null,r._worker&&(r._worker.destroy(),r._worker=null)})()}};let PDFDocumentLoadingTask=ue;qt=new WeakMap,oi(PDFDocumentLoadingTask,qt,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(r,o,i=!1,s=null){this.length=r,this.initialData=o,this.progressiveDone=i,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(r){this._rangeListeners.push(r)}addProgressListener(r){this._progressListeners.push(r)}addProgressiveReadListener(r){this._progressiveReadListeners.push(r)}addProgressiveDoneListener(r){this._progressiveDoneListeners.push(r)}onDataRange(r,o){for(const i of this._rangeListeners)i(r,o)}onDataProgress(r,o){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(r,o)})}onDataProgressiveRead(r){this._readyCapability.promise.then(()=>{for(const o of this._progressiveReadListeners)o(r)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const r of this._progressiveDoneListeners)r()})}transportReady(){this._readyCapability.resolve()}requestDataRange(r,o){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(r,o){var s,i=this;this._pdfInfo=r,this._transport=o,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(s=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),i.stats||{streamTypes:{},fontTypes:{}}}),function(){return s.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(r){return this._transport.getPage(r)}getPageIndex(r){return this._transport.getPageIndex(r)}getDestinations(){return this._transport.getDestinations()}getDestination(r){return this._transport.getDestination(r)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(r=!1){return this._transport.startCleanup(r||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(r,o,i,s,h=!1){this._pageIndex=r,this._pageInfo=o,this._ownerDocument=s,this._transport=i,this._stats=h?new _display_utils.StatTimer:null,this._pdfBug=h,this.commonObjs=i.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:r,rotation:o=this.rotate,offsetX:i=0,offsetY:s=0,dontFlip:h=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:r,rotation:o,offsetX:i,offsetY:s,dontFlip:h})}getAnnotations({intent:r="display"}={}){const o=this._transport.getRenderingIntent(r);let i=this._annotationPromises.get(o.cacheKey);return i||(i=this._transport.getAnnotations(this._pageIndex,o.renderingIntent),this._annotationPromises.set(o.cacheKey,i),i=i.then(s=>{for(const h of s)void 0!==h.titleObj&&Object.defineProperty(h,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),h.titleObj.str)}),void 0!==h.contentsObj&&Object.defineProperty(h,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),h.contentsObj.str)});return s})),i}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var r=this;return _asyncToGenerator(function*(){return r._transport._htmlForXfa?.children[r._pageIndex]||null})()}render({canvasContext:r,viewport:o,intent:i="display",annotationMode:s=_util.AnnotationMode.ENABLE,transform:h=null,imageLayer:l=null,canvasFactory:p=null,background:w=null,optionalContentConfigPromise:_=null,annotationCanvasMap:C=null,pageColors:I=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&s===_util.AnnotationMode.ENABLE&&(s=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&s===_util.AnnotationMode.ENABLE&&(s=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const k=this._transport.getRenderingIntent(i,s);this.pendingCleanup=!1,_||(_=this._transport.getOptionalContentConfig());let z=this._intentStates.get(k.cacheKey);z||(z=Object.create(null),this._intentStates.set(k.cacheKey,z)),z.streamReaderCancelTimeout&&(clearTimeout(z.streamReaderCancelTimeout),z.streamReaderCancelTimeout=null);const ne=p||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),fe=!!(k.renderingIntent&_util.RenderingIntentFlag.PRINT);z.displayReadyCapability||(z.displayReadyCapability=(0,_util.createPromiseCapability)(),z.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(k));const ye=we=>{z.renderTasks.delete(Pe),(this.cleanupAfterRender||fe)&&(this.pendingCleanup=!0),this._tryCleanup(),we?(Pe.capability.reject(we),this._abortOperatorList({intentState:z,reason:we instanceof Error?we:new Error(we)})):Pe.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},Pe=new InternalRenderTask({callback:ye,params:{canvasContext:r,viewport:o,transform:h,imageLayer:l,background:w},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:C,operatorList:z.operatorList,pageIndex:this._pageIndex,canvasFactory:ne,useRequestAnimationFrame:!fe,pdfBug:this._pdfBug,pageColors:I});(z.renderTasks||(z.renderTasks=new Set)).add(Pe);const _e=Pe.task;return Promise.all([z.displayReadyCapability.promise,_]).then(([we,Ee])=>{this.pendingCleanup?ye():(this._stats&&this._stats.time("Rendering"),Pe.initializeGraphics({transparency:we,optionalContentConfig:Ee}),Pe.operatorListChanged())}).catch(ye),_e}getOperatorList({intent:r="display",annotationMode:o=_util.AnnotationMode.ENABLE}={}){const s=this._transport.getRenderingIntent(r,o,!0);let l,h=this._intentStates.get(s.cacheKey);return h||(h=Object.create(null),this._intentStates.set(s.cacheKey,h)),h.opListReadCapability||(l=Object.create(null),l.operatorListChanged=function i(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(l))},h.opListReadCapability=(0,_util.createPromiseCapability)(),(h.renderTasks||(h.renderTasks=new Set)).add(l),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(s)),h.opListReadCapability.promise}streamTextContent({disableCombineTextItems:r=!1,includeMarkedContent:o=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==r,includeMarkedContent:!0===o},{highWaterMark:100,size:s=>s.items.length})}getTextContent(r={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>_xfa_text.XfaText.textContent(i));const o=this.streamTextContent(r);return new Promise(function(i,s){const l=o.getReader(),p={items:[],styles:Object.create(null)};!function h(){l.read().then(function({value:w,done:_}){_?i(p):(Object.assign(p.styles,w.styles),p.items.push(...w.items),h())},s)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const r=[];for(const o of this._intentStates.values())if(this._abortOperatorList({intentState:o,reason:new Error("Page was destroyed."),force:!0}),!o.opListReadCapability)for(const i of o.renderTasks)r.push(i.completed),i.cancel();this.objs.clear();for(const o of this._bitmaps)o.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(r)}cleanup(r=!1){return this.pendingCleanup=!0,this._tryCleanup(r)}_tryCleanup(r=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:o,operatorList:i}of this._intentStates.values())if(o.size>0||!i.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,r&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const o of this._bitmaps)o.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(r,o){const i=this._intentStates.get(o);!i||(this._stats&&this._stats.timeEnd("Page Request"),i.displayReadyCapability&&i.displayReadyCapability.resolve(r))}_renderPageChunk(r,o){for(let i=0,s=r.length;i<s;i++)o.operatorList.fnArray.push(r.fnArray[i]),o.operatorList.argsArray.push(r.argsArray[i]);o.operatorList.lastChunk=r.lastChunk;for(const i of o.renderTasks)i.operatorListChanged();r.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:r,cacheKey:o}){const s=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:r,cacheKey:o,annotationStorage:r&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),h=this._intentStates.get(o);h.streamReader=s;const l=()=>{s.read().then(({value:p,done:w})=>{w?h.streamReader=null:this._transport.destroyed||(this._renderPageChunk(p,h),l())},p=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;for(const w of h.renderTasks)w.operatorListChanged();this._tryCleanup()}if(h.displayReadyCapability)h.displayReadyCapability.reject(p);else{if(!h.opListReadCapability)throw p;h.opListReadCapability.reject(p)}}})};l()}_abortOperatorList({intentState:r,reason:o,force:i=!1}){if(r.streamReader){if(!i){if(r.renderTasks.size>0)return;if(o instanceof _display_utils.RenderingCancelledException)return void(r.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:r,reason:o,force:!0}),r.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(r.streamReader.cancel(new _util.AbortException(o.message)).catch(()=>{}),r.streamReader=null,!this._transport.destroyed){for(const[s,h]of this._intentStates)if(h===r){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(r,o){const i={data:structuredClone(r,o)};this._deferred.then(()=>{for(const s of this._listeners)s.call(this,i)})}addEventListener(r,o){this._listeners.push(o)}removeEventListener(r,o){const i=this._listeners.indexOf(o);this._listeners.splice(i,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const u=document?.currentScript?.src;u&&(PDFWorkerUtil.fallbackWorkerSrc=u.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(u,r){let o;try{if(o=new URL(u),!o.origin||"null"===o.origin)return!1}catch{return!1}const i=new URL(r,o);return o.origin===i.origin},PDFWorkerUtil.createCDNWrapper=function(u){return URL.createObjectURL(new Blob([`importScripts("${u}");`]))};const _PDFWorker=class{constructor({name:u=null,port:r=null,verbosity:o=(0,_util.getVerbosityLevel)()}={}){if(r&&Qn(_PDFWorker,ge).has(r))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=u,this.destroyed=!1,this.verbosity=o,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,r)return Qn(_PDFWorker,ge).set(r,this),void this._initializeFromPort(r);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(u){this._port=u,this._messageHandler=new _message_handler.MessageHandler("main","worker",u),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let u=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,u)||(u=PDFWorkerUtil.createCDNWrapper(new URL(u,window.location).href));const r=new Worker(u),o=new _message_handler.MessageHandler("main","worker",r),i=()=>{r.removeEventListener("error",s),o.destroy(),r.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=()=>{this._webWorker||i()};r.addEventListener("error",s),o.on("test",l=>{r.removeEventListener("error",s),this.destroyed?i():l?(this._messageHandler=o,this._port=r,this._webWorker=r,this._readyCapability.resolve(),o.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),o.destroy(),r.terminate())}),o.on("ready",l=>{if(r.removeEventListener("error",s),this.destroyed)i();else try{h()}catch{this._setupFakeWorker()}});const h=()=>{const l=new Uint8Array;o.send("test",l,[l.buffer])};return void h()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(u=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const r=new LoopbackPort;this._port=r;const o="fake"+PDFWorkerUtil.fakeWorkerId++,i=new _message_handler.MessageHandler(o+"_worker",o,r);u.setup(i,r);const s=new _message_handler.MessageHandler(o,o+"_worker",r);this._messageHandler=s,this._readyCapability.resolve(),s.send("configure",{verbosity:this.verbosity})}).catch(u=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${u.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Qn(_PDFWorker,ge).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(u){if(!u?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Qn(this,ge).has(u.port)?Qn(this,ge).get(u.port):new _PDFWorker(u)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function u(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;ge=new WeakMap,oi(PDFWorker,ge,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(r,o,i,s){oi(this,f,null),oi(this,te,new Map),oi(this,le,new Map),oi(this,Qe,null),this.messageHandler=r,this.loadingTask=o,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:o.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this._params=s,s.useWorkerFetch||(this.CMapReaderFactory=new s.CMapReaderFactory({baseUrl:s.cMapUrl,isCompressed:s.cMapPacked}),this.StandardFontDataFactory=new s.StandardFontDataFactory({baseUrl:s.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return Qn(this,f)}getRenderingIntent(r,o=_util.AnnotationMode.ENABLE,i=!1){let s=_util.RenderingIntentFlag.DISPLAY,h="";switch(r){case"any":s=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":s=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${r}`)}switch(o){case _util.AnnotationMode.DISABLE:s+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:s+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:s+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,h=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${o}`)}return i&&(s+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:s,cacheKey:`${s}_${h}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const r=[];for(const i of Qn(this,te).values())r.push(i._destroy());Qn(this,te).clear(),Qn(this,le).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const o=this.messageHandler.sendWithPromise("Terminate",null);return r.push(o),Promise.all(r).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Ir(this,Qe,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:r,loadingTask:o}=this;r.on("GetReader",(i,s)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=h=>{this._lastProgress={loaded:h.loaded,total:h.total}},s.onPull=()=>{this._fullReader.read().then(function({value:h,done:l}){l?s.close():((0,_util.assert)((0,_util.isArrayBuffer)(h),"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(h),1,[h]))}).catch(h=>{s.error(h)})},s.onCancel=h=>{this._fullReader.cancel(h),s.ready.catch(l=>{if(!this.destroyed)throw l})}}),r.on("ReaderHeadersReady",i=>{const s=(0,_util.createPromiseCapability)(),h=this._fullReader;return h.headersReady.then(()=>{(!h.isStreamingSupported||!h.isRangeSupported)&&(this._lastProgress&&o.onProgress?.(this._lastProgress),h.onProgress=l=>{o.onProgress?.({loaded:l.loaded,total:l.total})}),s.resolve({isStreamingSupported:h.isStreamingSupported,isRangeSupported:h.isRangeSupported,contentLength:h.contentLength})},s.reject),s.promise}),r.on("GetRangeReader",(i,s)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const h=this._networkStream.getRangeReader(i.begin,i.end);h?(s.onPull=()=>{h.read().then(function({value:l,done:p}){p?s.close():((0,_util.assert)((0,_util.isArrayBuffer)(l),"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(l),1,[l]))}).catch(l=>{s.error(l)})},s.onCancel=l=>{h.cancel(l),s.ready.catch(p=>{if(!this.destroyed)throw p})}):s.close()}),r.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,o._capability.resolve(new PDFDocumentProxy(i,this))}),r.on("DocException",function(i){let s;switch(i.name){case"PasswordException":s=new _util.PasswordException(i.message,i.code);break;case"InvalidPDFException":s=new _util.InvalidPDFException(i.message);break;case"MissingPDFException":s=new _util.MissingPDFException(i.message);break;case"UnexpectedResponseException":s=new _util.UnexpectedResponseException(i.message,i.status);break;case"UnknownErrorException":s=new _util.UnknownErrorException(i.message,i.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}o._capability.reject(s)}),r.on("PasswordRequest",i=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),o.onPassword){const s=h=>{h instanceof Error?this._passwordCapability.reject(h):this._passwordCapability.resolve({password:h})};try{o.onPassword(s,i.code)}catch(h){this._passwordCapability.reject(h)}}else this._passwordCapability.reject(new _util.PasswordException(i.message,i.code));return this._passwordCapability.promise}),r.on("DataLoaded",i=>{o.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),r.on("StartRenderPage",i=>{this.destroyed||Qn(this,te).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),r.on("commonobj",([i,s,h])=>{if(!this.destroyed&&!this.commonObjs.has(i))switch(s){case"Font":const l=this._params;if("error"in h){const _=h.error;(0,_util.warn)(`Error during font loading: ${_}`),this.commonObjs.resolve(i,_);break}let p=null;l.pdfBug&&globalThis.FontInspector?.enabled&&(p={registerFont(_,C){globalThis.FontInspector.fontAdded(_,C)}});const w=new _font_loader.FontFaceObject(h,{isEvalSupported:l.isEvalSupported,disableFontFace:l.disableFontFace,ignoreErrors:l.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:p});this.fontLoader.bind(w).catch(_=>r.sendWithPromise("FontFallback",{id:i})).finally(()=>{!l.fontExtraProperties&&w.data&&(w.data=null),this.commonObjs.resolve(i,w)});break;case"FontPath":case"Image":this.commonObjs.resolve(i,h);break;default:throw new Error(`Got unknown common object type ${s}`)}}),r.on("obj",([i,s,h,l])=>{if(this.destroyed)return;const p=Qn(this,te).get(s);if(!p.objs.has(i))switch(h){case"Image":p.objs.resolve(i,l);const w=8e6;if(l){let _;if(l.bitmap){const{bitmap:C,width:I,height:k}=l;_=I*k*4,p._bitmaps.add(C)}else _=l.data?.length||0;_>w&&(p.cleanupAfterRender=!0)}break;case"Pattern":p.objs.resolve(i,l);break;default:throw new Error(`Got unknown object type ${h}`)}}),r.on("DocProgress",i=>{this.destroyed||o.onProgress?.({loaded:i.loaded,total:i.total})}),r.on("DocStats",i=>{this.destroyed||Ir(this,f,Object.freeze({streamTypes:Object.freeze(i.streamTypes),fontTypes:Object.freeze(i.fontTypes)}))}),r.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),r.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),r.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:r}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(r)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(r){if(!Number.isInteger(r)||r<=0||r>this._numPages)return Promise.reject(new Error("Invalid page request."));const o=r-1,i=Qn(this,le).get(o);if(i)return i;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:o}).then(h=>{if(this.destroyed)throw new Error("Transport destroyed");const l=new PDFPageProxy(o,h,this,this._params.ownerDocument,this._params.pdfBug);return Qn(this,te).set(o,l),l});return Qn(this,le).set(o,s),s}getPageIndex(r){return"object"!=typeof r||null===r||!Number.isInteger(r.num)||r.num<0||!Number.isInteger(r.gen)||r.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:r.num,gen:r.gen})}getAnnotations(r,o){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:r,intent:o})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(r){return"string"!=typeof r?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:r})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(r){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:r})}getStructTree(r){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:r})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(r=>new _optional_content_config.OptionalContentConfig(r))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return Qn(this,Qe)||Ir(this,Qe,this.messageHandler.sendWithPromise("GetMetadata",null).then(r=>({info:r[0],metadata:r[1]?new _metadata.Metadata(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(r=!1){var o=this;return _asyncToGenerator(function*(){if(yield o.messageHandler.sendWithPromise("Cleanup",null),!o.destroyed){for(const i of Qn(o,te).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);o.commonObjs.clear(),r||o.fontLoader.clear(),Ir(o,Qe,null),o._getFieldObjectsPromise=null,o._hasJSActionsPromise=null}})()}get loadingParams(){const r=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:r.disableAutoFetch,enableXfa:r.enableXfa})}}f=new WeakMap,te=new WeakMap,le=new WeakMap,Qe=new WeakMap;class PDFObjects{constructor(){oi(this,Te),oi(this,Je,Object.create(null))}get(r,o=null){if(o){const s=ti(this,Te,ym).call(this,r);return s.capability.promise.then(()=>o(s.data)),null}const i=Qn(this,Je)[r];if(!i?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${r}.`);return i.data}has(r){return Qn(this,Je)[r]?.capability.settled||!1}resolve(r,o=null){const i=ti(this,Te,ym).call(this,r);i.data=o,i.capability.resolve()}clear(){Ir(this,Je,Object.create(null))}}Je=new WeakMap,Te=new WeakSet,ym=function(r){return Qn(this,Je)[r]||(Qn(this,Je)[r]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(r){this._internalRenderTask=r,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;const d=class{constructor({callback:r,params:o,objs:i,commonObjs:s,annotationCanvasMap:h,operatorList:l,pageIndex:p,canvasFactory:w,useRequestAnimationFrame:_=!1,pdfBug:C=!1,pageColors:I=null}){this.callback=r,this.params=o,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=h,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=p,this.canvasFactory=w,this._pdfBug=C,this.pageColors=I,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===_&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=o.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:r=!1,optionalContentConfig:o}){if(this.cancelled)return;if(this._canvas){if(Qn(d,c).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Qn(d,c).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:s,transform:h,imageLayer:l,background:p}=this.params;this.gfx=new _canvas.CanvasGraphics(i,this.commonObjs,this.objs,this.canvasFactory,l,o,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:h,viewport:s,transparency:r,background:p}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(r=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&Qn(d,c).delete(this._canvas),this.callback(r||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var r=this;return _asyncToGenerator(function*(){r.cancelled||(r.operatorListIdx=r.gfx.executeOperatorList(r.operatorList,r.operatorListIdx,r._continueBound,r.stepper),r.operatorListIdx===r.operatorList.argsArray.length&&(r.running=!1,r.operatorList.lastChunk&&(r.gfx.endDrawing(),r._canvas&&Qn(d,c).delete(r._canvas),r.callback())))})()}};let InternalRenderTask=d;c=new WeakMap,oi(InternalRenderTask,c,new WeakSet);const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(qt,ue,ge)=>{Object.defineProperty(ue,"__esModule",{value:!0}),ue.StatTimer=ue.RenderingCancelledException=ue.PixelsPerInch=ue.PageViewport=ue.PDFDateString=ue.DOMStandardFontDataFactory=ue.DOMSVGFactory=ue.DOMCanvasFactory=ue.DOMCMapReaderFactory=void 0,ue.deprecated=function C(fe){console.log("Deprecated API usage: "+fe)},ue.getFilenameFromUrl=function h(fe){const ye=fe.indexOf("#"),Pe=fe.indexOf("?"),_e=Math.min(ye>0?ye:fe.length,Pe>0?Pe:fe.length);return fe.substring(fe.lastIndexOf("/",_e)+1,_e)},ue.getPdfFilenameFromUrl=function l(fe,ye="document.pdf"){if("string"!=typeof fe)return ye;if(i(fe))return(0,te.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),ye;const _e=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,we=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(fe);let Ee=_e.exec(we[1])||_e.exec(we[2])||_e.exec(we[3]);if(Ee&&(Ee=Ee[0],Ee.includes("%")))try{Ee=_e.exec(decodeURIComponent(Ee))[0]}catch{}return Ee||ye},ue.getXfaPageViewport=function z(fe,{scale:ye=1,rotation:Pe=0}){const{width:_e,height:we}=fe.attributes.style,Ee=[0,0,parseInt(_e),parseInt(we)];return new r({viewBox:Ee,scale:ye,rotation:Pe})},ue.isDataScheme=i,ue.isPdfFile=function s(fe){return"string"==typeof fe&&/\.pdf$/i.test(fe)},ue.isValidFetchUrl=w,ue.loadScript=function _(fe,ye=!1){return new Promise((Pe,_e)=>{const we=document.createElement("script");we.src=fe,we.onload=function(Ee){ye&&we.remove(),Pe(Ee)},we.onerror=function(){_e(new Error(`Cannot load script at: ${we.src}`))},(document.head||document.documentElement).appendChild(we)})};var f=ge(6),te=ge(1);const ne=class{};let I,Qe=ne;function Te(fe){return m.apply(this,arguments)}function m(){return(m=_asyncToGenerator(function*(fe,ye=!1){if(w(fe,document.baseURI)){const Pe=yield fetch(fe);if(!Pe.ok)throw new Error(Pe.statusText);return ye?new Uint8Array(yield Pe.arrayBuffer()):(0,te.stringToBytes)(yield Pe.text())}return new Promise((Pe,_e)=>{const we=new XMLHttpRequest;we.open("GET",fe,!0),ye&&(we.responseType="arraybuffer"),we.onreadystatechange=()=>{if(we.readyState===XMLHttpRequest.DONE){if(200===we.status||0===we.status){let Ee;if(ye&&we.response?Ee=new Uint8Array(we.response):!ye&&we.responseText&&(Ee=(0,te.stringToBytes)(we.responseText)),Ee)return void Pe(Ee)}_e(new Error(we.statusText))}},we.send(null)})})).apply(this,arguments)}kp(Qe,"CSS",96),kp(Qe,"PDF",72),kp(Qe,"PDF_TO_CSS_UNITS",ne.CSS/ne.PDF),ue.PixelsPerInch=Qe,ue.DOMCanvasFactory=class Je extends f.BaseCanvasFactory{constructor({ownerDocument:ye=globalThis.document}={}){super(),this._document=ye}_createCanvas(ye,Pe){const _e=this._document.createElement("canvas");return _e.width=ye,_e.height=Pe,_e}},ue.DOMCMapReaderFactory=class c extends f.BaseCMapReaderFactory{_fetchData(ye,Pe){return Te(ye,this.isCompressed).then(_e=>({cMapData:_e,compressionType:Pe}))}},ue.DOMStandardFontDataFactory=class d extends f.BaseStandardFontDataFactory{_fetchData(ye){return Te(ye,!0)}},ue.DOMSVGFactory=class u extends f.BaseSVGFactory{_createSVG(ye){return document.createElementNS("http://www.w3.org/2000/svg",ye)}};class r{constructor({viewBox:ye,scale:Pe,rotation:_e,offsetX:we=0,offsetY:Ee=0,dontFlip:de=!1}){this.viewBox=ye,this.scale=Pe,this.rotation=_e,this.offsetX=we,this.offsetY=Ee;const Ve=(ye[2]+ye[0])/2,Ze=(ye[3]+ye[1])/2;let dt,he,ie,R,H,F,j,B;switch((_e%=360)<0&&(_e+=360),_e){case 180:dt=-1,he=0,ie=0,R=1;break;case 90:dt=0,he=1,ie=1,R=0;break;case 270:dt=0,he=-1,ie=-1,R=0;break;case 0:dt=1,he=0,ie=0,R=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}de&&(ie=-ie,R=-R),0===dt?(H=Math.abs(Ze-ye[1])*Pe+we,F=Math.abs(Ve-ye[0])*Pe+Ee,j=Math.abs(ye[3]-ye[1])*Pe,B=Math.abs(ye[2]-ye[0])*Pe):(H=Math.abs(Ve-ye[0])*Pe+we,F=Math.abs(Ze-ye[1])*Pe+Ee,j=Math.abs(ye[2]-ye[0])*Pe,B=Math.abs(ye[3]-ye[1])*Pe),this.transform=[dt*Pe,he*Pe,ie*Pe,R*Pe,H-dt*Pe*Ve-ie*Pe*Ze,F-he*Pe*Ve-R*Pe*Ze],this.width=j,this.height=B}clone({scale:ye=this.scale,rotation:Pe=this.rotation,offsetX:_e=this.offsetX,offsetY:we=this.offsetY,dontFlip:Ee=!1}={}){return new r({viewBox:this.viewBox.slice(),scale:ye,rotation:Pe,offsetX:_e,offsetY:we,dontFlip:Ee})}convertToViewportPoint(ye,Pe){return te.Util.applyTransform([ye,Pe],this.transform)}convertToViewportRectangle(ye){const Pe=te.Util.applyTransform([ye[0],ye[1]],this.transform),_e=te.Util.applyTransform([ye[2],ye[3]],this.transform);return[Pe[0],Pe[1],_e[0],_e[1]]}convertToPdfPoint(ye,Pe){return te.Util.applyInverseTransform([ye,Pe],this.transform)}}function i(fe){const ye=fe.length;let Pe=0;for(;Pe<ye&&""===fe[Pe].trim();)Pe++;return"data:"===fe.substring(Pe,Pe+5).toLowerCase()}function w(fe,ye){try{const{protocol:Pe}=ye?new URL(fe,ye):new URL(fe);return"http:"===Pe||"https:"===Pe}catch{return!1}}ue.PageViewport=r,ue.RenderingCancelledException=class o extends te.BaseException{constructor(ye,Pe){super(ye,"RenderingCancelledException"),this.type=Pe}},ue.StatTimer=class p{constructor(){this.started=Object.create(null),this.times=[]}time(ye){ye in this.started&&(0,te.warn)(`Timer is already running for ${ye}`),this.started[ye]=Date.now()}timeEnd(ye){ye in this.started||(0,te.warn)(`Timer has not been started for ${ye}`),this.times.push({name:ye,start:this.started[ye],end:Date.now()}),delete this.started[ye]}toString(){const ye=[];let Pe=0;for(const _e of this.times){const we=_e.name;we.length>Pe&&(Pe=we.length)}for(const _e of this.times){const we=_e.end-_e.start;ye.push(`${_e.name.padEnd(Pe)} ${we}ms\n`)}return ye.join("")}},ue.PDFDateString=class k{static toDateObject(ye){if(!ye||"string"!=typeof ye)return null;I||(I=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Pe=I.exec(ye);if(!Pe)return null;const _e=parseInt(Pe[1],10);let we=parseInt(Pe[2],10);we=we>=1&&we<=12?we-1:0;let Ee=parseInt(Pe[3],10);Ee=Ee>=1&&Ee<=31?Ee:1;let de=parseInt(Pe[4],10);de=de>=0&&de<=23?de:0;let Ve=parseInt(Pe[5],10);Ve=Ve>=0&&Ve<=59?Ve:0;let Ze=parseInt(Pe[6],10);Ze=Ze>=0&&Ze<=59?Ze:0;const dt=Pe[7]||"Z";let he=parseInt(Pe[8],10);he=he>=0&&he<=23?he:0;let ie=parseInt(Pe[9],10)||0;return ie=ie>=0&&ie<=59?ie:0,"-"===dt?(de+=he,Ve+=ie):"+"===dt&&(de-=he,Ve-=ie),new Date(Date.UTC(_e,we,Ee,de,Ve,Ze))}}},(qt,ue,ge)=>{Object.defineProperty(ue,"__esModule",{value:!0}),ue.BaseStandardFontDataFactory=ue.BaseSVGFactory=ue.BaseCanvasFactory=ue.BaseCMapReaderFactory=void 0;var f=ge(1);class te{constructor(){this.constructor===te&&(0,f.unreachable)("Cannot initialize BaseCanvasFactory.")}create(m,c){if(m<=0||c<=0)throw new Error("Invalid canvas size");const d=this._createCanvas(m,c);return{canvas:d,context:d.getContext("2d")}}reset(m,c,d){if(!m.canvas)throw new Error("Canvas is not specified");if(c<=0||d<=0)throw new Error("Invalid canvas size");m.canvas.width=c,m.canvas.height=d}destroy(m){if(!m.canvas)throw new Error("Canvas is not specified");m.canvas.width=0,m.canvas.height=0,m.canvas=null,m.context=null}_createCanvas(m,c){(0,f.unreachable)("Abstract method `_createCanvas` called.")}}ue.BaseCanvasFactory=te;class le{constructor({baseUrl:m=null,isCompressed:c=!1}){this.constructor===le&&(0,f.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=m,this.isCompressed=c}fetch({name:m}){var c=this;return _asyncToGenerator(function*(){if(!c.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!m)throw new Error("CMap name must be specified.");const d=c.baseUrl+m+(c.isCompressed?".bcmap":"");return c._fetchData(d,c.isCompressed?f.CMapCompressionType.BINARY:f.CMapCompressionType.NONE).catch(r=>{throw new Error(`Unable to load ${c.isCompressed?"binary ":""}CMap at: ${d}`)})})()}_fetchData(m,c){(0,f.unreachable)("Abstract method `_fetchData` called.")}}ue.BaseCMapReaderFactory=le;class Qe{constructor({baseUrl:m=null}){this.constructor===Qe&&(0,f.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=m}fetch({filename:m}){var c=this;return _asyncToGenerator(function*(){if(!c.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!m)throw new Error("Font filename must be specified.");const d=`${c.baseUrl}${m}`;return c._fetchData(d).catch(u=>{throw new Error(`Unable to load font data at: ${d}`)})})()}_fetchData(m){(0,f.unreachable)("Abstract method `_fetchData` called.")}}ue.BaseStandardFontDataFactory=Qe;class Je{constructor(){this.constructor===Je&&(0,f.unreachable)("Cannot initialize BaseSVGFactory.")}create(m,c){if(m<=0||c<=0)throw new Error("Invalid SVG dimensions");const d=this._createSVG("svg:svg");return d.setAttribute("version","1.1"),d.setAttribute("width",`${m}px`),d.setAttribute("height",`${c}px`),d.setAttribute("preserveAspectRatio","none"),d.setAttribute("viewBox",`0 0 ${m} ${c}`),d}createElement(m){if("string"!=typeof m)throw new Error("Invalid SVG element type");return this._createSVG(m)}_createSVG(m){(0,f.unreachable)("Abstract method `_createSVG` called.")}}ue.BaseSVGFactory=Je},(qt,ue,ge)=>{Object.defineProperty(ue,"__esModule",{value:!0}),ue.FontLoader=ue.FontFaceObject=void 0;var f=ge(1);class te{constructor({docId:Te,onUnsupportedFeature:m,ownerDocument:c=globalThis.document,styleElement:d=null}){this.constructor===te&&(0,f.unreachable)("Cannot initialize BaseFontLoader."),this.docId=Te,this._onUnsupportedFeature=m,this._document=c,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(Te){this.nativeFontFaces.push(Te),this._document.fonts.add(Te)}insertRule(Te){let m=this.styleElement;m||(m=this.styleElement=this._document.createElement("style"),m.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(m));const c=m.sheet;c.insertRule(Te,c.cssRules.length)}clear(){for(const Te of this.nativeFontFaces)this._document.fonts.delete(Te);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(Te){var m=this;return _asyncToGenerator(function*(){if(Te.attached||Te.missingFile)return;if(Te.attached=!0,m.isFontLoadingAPISupported){const d=Te.createNativeFontFace();if(d){m.addNativeFontFace(d);try{yield d.loaded}catch(u){throw m._onUnsupportedFeature({featureId:f.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,f.warn)(`Failed to load font '${d.family}': '${u}'.`),Te.disableFontFace=!0,u}}return}const c=Te.createFontFaceRule();if(c){if(m.insertRule(c),m.isSyncFontLoadingSupported)return;yield new Promise(d=>{const u=m._queueLoadingCallback(d);m._prepareFontLoadEvent([c],[Te],u)})}})()}_queueLoadingCallback(Te){(0,f.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,f.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,f.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,f.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(Te,m,c){(0,f.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let le;ue.FontLoader=le,ue.FontLoader=le=class extends te{constructor(Te){super(Te),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let Te=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(Te=!0),(0,f.shadow)(this,"isSyncFontLoadingSupported",Te)}_queueLoadingCallback(Te){const c=this.loadingContext,d={id:"pdfjs-font-loading-"+c.nextRequestId++,done:!1,complete:function m(){for((0,f.assert)(!d.done,"completeRequest() cannot be called twice."),d.done=!0;c.requests.length>0&&c.requests[0].done;){const u=c.requests.shift();setTimeout(u.callback,0)}},callback:Te};return c.requests.push(d),d}get _loadTestFont(){return(0,f.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(Te,m,c){function d(Pe,_e){return Pe.charCodeAt(_e)<<24|Pe.charCodeAt(_e+1)<<16|Pe.charCodeAt(_e+2)<<8|255&Pe.charCodeAt(_e+3)}function u(Pe,_e,we,Ee){return Pe.substring(0,_e)+Ee+Pe.substring(_e+we)}let r,o;const i=this._document.createElement("canvas");i.width=1,i.height=1;const s=i.getContext("2d");let h=0;const p=`lt${Date.now()}${this.loadTestFontId++}`;let w=this._loadTestFont;w=u(w,976,p.length,p);const I=1482184792;let k=d(w,16);for(r=0,o=p.length-3;r<o;r+=4)k=k-I+d(p,r)|0;r<p.length&&(k=k-I+d(p+"XXX",r)|0),w=u(w,16,4,(0,f.string32)(k));const z=`url(data:font/opentype;base64,${btoa(w)});`;this.insertRule(`@font-face {font-family:"${p}";src:${z}}`);const fe=[];for(const Pe of m)fe.push(Pe.loadedName);fe.push(p);const ye=this._document.createElement("div");ye.style.visibility="hidden",ye.style.width=ye.style.height="10px",ye.style.position="absolute",ye.style.top=ye.style.left="0px";for(const Pe of fe){const _e=this._document.createElement("span");_e.textContent="Hi",_e.style.fontFamily=Pe,ye.appendChild(_e)}this._document.body.appendChild(ye),function l(Pe,_e){if(h++,h>30)return(0,f.warn)("Load test font never loaded."),void _e();s.font="30px "+Pe,s.fillText(".",0,20),s.getImageData(0,0,1,1).data[3]>0?_e():setTimeout(l.bind(null,Pe,_e))}(p,()=>{ye.remove(),c.complete()})}},ue.FontFaceObject=class Qe{constructor(Te,{isEvalSupported:m=!0,disableFontFace:c=!1,ignoreErrors:d=!1,onUnsupportedFeature:u,fontRegistry:r=null}){this.compiledGlyphs=Object.create(null);for(const o in Te)this[o]=Te[o];this.isEvalSupported=!1!==m,this.disableFontFace=!0===c,this.ignoreErrors=!0===d,this._onUnsupportedFeature=u,this.fontRegistry=r}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let Te;if(this.cssFontInfo){const m={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(m.style=`oblique ${this.cssFontInfo.italicAngle}deg`),Te=new FontFace(this.cssFontInfo.fontFamily,this.data,m)}else Te=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),Te}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const Te=(0,f.bytesToString)(this.data),m=`url(data:${this.mimetype};base64,${btoa(Te)});`;let c;if(this.cssFontInfo){let d=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(d+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),c=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${d}src:${m}}`}else c=`@font-face {font-family:"${this.loadedName}";src:${m}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,m),c}getPathGenerator(Te,m){if(void 0!==this.compiledGlyphs[m])return this.compiledGlyphs[m];let c;try{c=Te.get(this.loadedName+"_path_"+m)}catch(d){if(!this.ignoreErrors)throw d;return this._onUnsupportedFeature({featureId:f.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,f.warn)(`getPathGenerator - ignoring character: "${d}".`),this.compiledGlyphs[m]=function(u,r){}}if(this.isEvalSupported&&f.FeatureTest.isEvalSupported){const d=[];for(const u of c){const r=void 0!==u.args?u.args.join(","):"";d.push("c.",u.cmd,"(",r,");\n")}return this.compiledGlyphs[m]=new Function("c","size",d.join(""))}return this.compiledGlyphs[m]=function(d,u){for(const r of c)"scale"===r.cmd&&(r.args=[u,-u]),d[r.cmd].apply(d,r.args)}}}},(qt,ue,ge)=>{Object.defineProperty(ue,"__esModule",{value:!0}),ue.AnnotationStorage=void 0;var f=ge(9),te=ge(1);ue.AnnotationStorage=class le{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(Je,Te){const m=this._storage.get(Je);return void 0===m?Te:Object.assign(Te,m)}getRawValue(Je){return this._storage.get(Je)}setValue(Je,Te){const m=this._storage.get(Je);let c=!1;if(void 0!==m)for(const[d,u]of Object.entries(Te))m[d]!==u&&(c=!0,m[d]=u);else c=!0,this._storage.set(Je,Te);c&&this._setModified()}getAll(){return this._storage.size>0?(0,te.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const Je=new f.MurmurHash3_64;for(const[Te,m]of this._storage)Je.update(`${Te}:${JSON.stringify(m)}`);return Je.hexdigest()}}},(qt,ue,ge)=>{Object.defineProperty(ue,"__esModule",{value:!0}),ue.MurmurHash3_64=void 0;var f=ge(1);const te=3285377520,le=4294901760,Qe=65535;ue.MurmurHash3_64=class Je{constructor(m){this.h1=m?4294967295&m:te,this.h2=m?4294967295&m:te}update(m){let c,d;if("string"==typeof m){c=new Uint8Array(2*m.length),d=0;for(let I=0,k=m.length;I<k;I++){const z=m.charCodeAt(I);z<=255?c[d++]=z:(c[d++]=z>>>8,c[d++]=255&z)}}else{if(!(0,f.isArrayBuffer)(m))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");c=m.slice(),d=c.byteLength}const u=d>>2,r=d-4*u,o=new Uint32Array(c.buffer,0,u);let i=0,s=0,h=this.h1,l=this.h2;const p=3432918353,w=461845907,_=p&Qe,C=w&Qe;for(let I=0;I<u;I++)1&I?(i=o[I],i=i*p&le|i*_&Qe,i=i<<15|i>>>17,i=i*w&le|i*C&Qe,h^=i,h=h<<13|h>>>19,h=5*h+3864292196):(s=o[I],s=s*p&le|s*_&Qe,s=s<<15|s>>>17,s=s*w&le|s*C&Qe,l^=s,l=l<<13|l>>>19,l=5*l+3864292196);switch(i=0,r){case 3:i^=c[4*u+2]<<16;case 2:i^=c[4*u+1]<<8;case 1:i^=c[4*u],i=i*p&le|i*_&Qe,i=i<<15|i>>>17,i=i*w&le|i*C&Qe,1&u?h^=i:l^=i}this.h1=h,this.h2=l}hexdigest(){let m=this.h1,c=this.h2;m^=c>>>1,m=3981806797*m&le|36045*m&Qe,c=4283543511*c&le|(2950163797*(c<<16|m>>>16)&le)>>>16,m^=c>>>1,m=444984403*m&le|60499*m&Qe,c=3301882366*c&le|(3120437893*(c<<16|m>>>16)&le)>>>16,m^=c>>>1;const d=(m>>>0).toString(16),u=(c>>>0).toString(16);return d.padStart(8,"0")+u.padStart(8,"0")}}},(qt,ue,ge)=>{Object.defineProperty(ue,"__esModule",{value:!0}),ue.CanvasGraphics=void 0;var f=ge(1),te=ge(11),le=ge(12),Qe=ge(3),Je=ge(5);const c=4096,i=16;function l(ie){if(ie._transformStack&&(ie._transformStack=[]),!ie.mozCurrentTransform){ie._originalSave=ie.save,ie._originalRestore=ie.restore,ie._originalRotate=ie.rotate,ie._originalScale=ie.scale,ie._originalTranslate=ie.translate,ie._originalTransform=ie.transform,ie._originalSetTransform=ie.setTransform,ie._originalResetTransform=ie.resetTransform,ie._transformMatrix=ie._transformMatrix||[1,0,0,1,0,0],ie._transformStack=[];try{const R=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(ie),"lineWidth");ie._setLineWidth=R.set,ie._getLineWidth=R.get,Object.defineProperty(ie,"lineWidth",{set:function(F){this._setLineWidth(1.000001*F)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(ie,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(ie,"mozCurrentTransformInverse",{get:function(){const[H,F,j,B,J,re]=this._transformMatrix,me=H*B-F*j,De=F*j-H*B;return[B/me,F/De,j/De,H/me,(B*J-j*re)/De,(F*J-H*re)/me]}}),ie.save=function(){const H=this._transformMatrix;this._transformStack.push(H),this._transformMatrix=H.slice(0,6),this._originalSave()},ie.restore=function(){0===this._transformStack.length&&(0,f.warn)("Tried to restore a ctx when the stack was already empty.");const H=this._transformStack.pop();H&&(this._transformMatrix=H,this._originalRestore())},ie.translate=function(H,F){const j=this._transformMatrix;j[4]=j[0]*H+j[2]*F+j[4],j[5]=j[1]*H+j[3]*F+j[5],this._originalTranslate(H,F)},ie.scale=function(H,F){const j=this._transformMatrix;j[0]*=H,j[1]*=H,j[2]*=F,j[3]*=F,this._originalScale(H,F)},ie.transform=function(H,F,j,B,J,re){const me=this._transformMatrix;this._transformMatrix=[me[0]*H+me[2]*F,me[1]*H+me[3]*F,me[0]*j+me[2]*B,me[1]*j+me[3]*B,me[0]*J+me[2]*re+me[4],me[1]*J+me[3]*re+me[5]],ie._originalTransform(H,F,j,B,J,re)},ie.setTransform=function(H,F,j,B,J,re){this._transformMatrix=[H,F,j,B,J,re],ie._originalSetTransform(H,F,j,B,J,re)},ie.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],ie._originalResetTransform()},ie.rotate=function(H){const F=Math.cos(H),j=Math.sin(H),B=this._transformMatrix;this._transformMatrix=[B[0]*F+B[2]*j,B[1]*F+B[3]*j,B[0]*-j+B[2]*F,B[1]*-j+B[3]*F,B[4],B[5]],this._originalRotate(H)}}}class p{constructor(R){this.canvasFactory=R,this.cache=Object.create(null)}getCanvas(R,H,F,j){let B;return void 0!==this.cache[R]?(B=this.cache[R],this.canvasFactory.reset(B,H,F),B.context.setTransform(1,0,0,1,0,0)):(B=this.canvasFactory.create(H,F),this.cache[R]=B),j&&l(B.context),B}delete(R){delete this.cache[R]}clear(){for(const R in this.cache)this.canvasFactory.destroy(this.cache[R]),delete this.cache[R]}}function w(ie,R,H,F,j,B,J,re,me,De){const[je,We,it,Be,Ue,ht]=ie.mozCurrentTransform;if(0===We&&0===it){const pt=Math.round(J*je+Ue),ze=Math.round(re*Be+ht),Ne=Math.abs(Math.round((J+me)*je+Ue)-pt)||1,ot=Math.abs(Math.round((re+De)*Be+ht)-ze)||1;return ie.setTransform(Math.sign(je),0,0,Math.sign(Be),pt,ze),ie.drawImage(R,H,F,j,B,0,0,Ne,ot),ie.setTransform(je,We,it,Be,Ue,ht),[Ne,ot]}if(0===je&&0===Be){const pt=Math.round(re*it+Ue),ze=Math.round(J*We+ht),Ne=Math.abs(Math.round((re+De)*it+Ue)-pt)||1,ot=Math.abs(Math.round((J+me)*We+ht)-ze)||1;return ie.setTransform(0,Math.sign(We),Math.sign(it),0,pt,ze),ie.drawImage(R,H,F,j,B,0,0,ot,Ne),ie.setTransform(je,We,it,Be,Ue,ht),[ot,Ne]}return ie.drawImage(R,H,F,j,B,J,re,me,De),[Math.hypot(je,We)*me,Math.hypot(it,Be)*De]}class C{constructor(R,H){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=f.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=f.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=f.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,R,H])}clone(){const R=Object.create(this);return R.clipBox=this.clipBox.slice(),R}setCurrentPoint(R,H){this.x=R,this.y=H}updatePathMinMax(R,H,F){[H,F]=f.Util.applyTransform([H,F],R),this.minX=Math.min(this.minX,H),this.minY=Math.min(this.minY,F),this.maxX=Math.max(this.maxX,H),this.maxY=Math.max(this.maxY,F)}updateRectMinMax(R,H){const F=f.Util.applyTransform(H,R),j=f.Util.applyTransform(H.slice(2),R);this.minX=Math.min(this.minX,F[0],j[0]),this.minY=Math.min(this.minY,F[1],j[1]),this.maxX=Math.max(this.maxX,F[0],j[0]),this.maxY=Math.max(this.maxY,F[1],j[1])}updateScalingPathMinMax(R,H){f.Util.scaleMinMax(R,H),this.minX=Math.min(this.minX,H[0]),this.maxX=Math.max(this.maxX,H[1]),this.minY=Math.min(this.minY,H[2]),this.maxY=Math.max(this.maxY,H[3])}updateCurvePathMinMax(R,H,F,j,B,J,re,me,De,je){const We=f.Util.bezierBoundingBox(H,F,j,B,J,re,me,De);if(je)return je[0]=Math.min(je[0],We[0],We[2]),je[1]=Math.max(je[1],We[0],We[2]),je[2]=Math.min(je[2],We[1],We[3]),void(je[3]=Math.max(je[3],We[1],We[3]));this.updateRectMinMax(R,We)}getPathBoundingBox(R=te.PathType.FILL,H=null){const F=[this.minX,this.minY,this.maxX,this.maxY];if(R===te.PathType.STROKE){H||(0,f.unreachable)("Stroke bounding box must include transform.");const j=f.Util.singularValueDecompose2dScale(H),B=j[0]*this.lineWidth/2,J=j[1]*this.lineWidth/2;F[0]-=B,F[1]-=J,F[2]+=B,F[3]+=J}return F}updateClipFromPath(){const R=f.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(R||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(R){this.clipBox=R,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(R=te.PathType.FILL,H=null){return f.Util.intersect(this.clipBox,this.getPathBoundingBox(R,H))}}function I(ie,R,H=null){if(typeof ImageData<"u"&&R instanceof ImageData)return void ie.putImageData(R,0,0);const F=R.height,j=R.width,B=F%i,J=(F-B)/i,re=0===B?J:J+1,me=ie.createImageData(j,i);let je,De=0;const We=R.data,it=me.data;let Be,Ue,ht,Lt,$e,Ke,pt,be;if(H)switch(H.length){case 1:$e=H[0],Ke=H[0],pt=H[0],be=H[0];break;case 4:$e=H[0],Ke=H[1],pt=H[2],be=H[3]}if(R.kind===f.ImageKind.GRAYSCALE_1BPP){const ze=We.byteLength,Xe=new Uint32Array(it.buffer,0,it.byteLength>>2),Ne=Xe.length,yt=j+7>>3;let ot=4294967295,Ct=f.FeatureTest.isLittleEndian?4278190080:255;for(be&&255===be[0]&&0===be[255]&&([ot,Ct]=[Ct,ot]),Be=0;Be<re;Be++){for(ht=Be<J?i:B,je=0,Ue=0;Ue<ht;Ue++){const Pt=ze-De;let Gt=0;const Tn=Pt>yt?j:8*Pt-7,Jn=-8&Tn;let Nt=0,Ye=0;for(;Gt<Jn;Gt+=8)Ye=We[De++],Xe[je++]=128&Ye?ot:Ct,Xe[je++]=64&Ye?ot:Ct,Xe[je++]=32&Ye?ot:Ct,Xe[je++]=16&Ye?ot:Ct,Xe[je++]=8&Ye?ot:Ct,Xe[je++]=4&Ye?ot:Ct,Xe[je++]=2&Ye?ot:Ct,Xe[je++]=1&Ye?ot:Ct;for(;Gt<Tn;Gt++)0===Nt&&(Ye=We[De++],Nt=128),Xe[je++]=Ye&Nt?ot:Ct,Nt>>=1}for(;je<Ne;)Xe[je++]=0;ie.putImageData(me,0,Be*i)}}else if(R.kind===f.ImageKind.RGBA_32BPP){const ze=!!($e||Ke||pt);for(Ue=0,Lt=j*i*4,Be=0;Be<J;Be++){if(it.set(We.subarray(De,De+Lt)),De+=Lt,ze)for(let Xe=0;Xe<Lt;Xe+=4)$e&&(it[Xe+0]=$e[it[Xe+0]]),Ke&&(it[Xe+1]=Ke[it[Xe+1]]),pt&&(it[Xe+2]=pt[it[Xe+2]]);ie.putImageData(me,0,Ue),Ue+=i}if(Be<re){if(Lt=j*B*4,it.set(We.subarray(De,De+Lt)),ze)for(let Xe=0;Xe<Lt;Xe+=4)$e&&(it[Xe+0]=$e[it[Xe+0]]),Ke&&(it[Xe+1]=Ke[it[Xe+1]]),pt&&(it[Xe+2]=pt[it[Xe+2]]);ie.putImageData(me,0,Ue)}}else{if(R.kind!==f.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${R.kind}`);{const ze=!!($e||Ke||pt);for(ht=i,Lt=j*ht,Be=0;Be<re;Be++){for(Be>=J&&(ht=B,Lt=j*ht),je=0,Ue=Lt;Ue--;)it[je++]=We[De++],it[je++]=We[De++],it[je++]=We[De++],it[je++]=255;if(ze)for(let Xe=0;Xe<je;Xe+=4)$e&&(it[Xe+0]=$e[it[Xe+0]]),Ke&&(it[Xe+1]=Ke[it[Xe+1]]),pt&&(it[Xe+2]=pt[it[Xe+2]]);ie.putImageData(me,0,Be*i)}}}}function k(ie,R){if(R.bitmap)return void ie.drawImage(R.bitmap,0,0);const H=R.height,F=R.width,j=H%i,B=(H-j)/i,J=0===j?B:B+1,re=ie.createImageData(F,i);let me=0;const De=R.data,je=re.data;for(let We=0;We<J;We++){const it=We<B?i:j;({srcPos:me}=(0,le.applyMaskImageData)({src:De,srcPos:me,dest:je,width:F,height:it})),ie.putImageData(re,0,We*i)}}function z(ie,R){const H=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let F=0,j=H.length;F<j;F++){const B=H[F];void 0!==ie[B]&&(R[B]=ie[B])}void 0!==ie.setLineDash&&(R.setLineDash(ie.getLineDash()),R.lineDashOffset=ie.lineDashOffset)}function ne(ie,R){ie.strokeStyle=ie.fillStyle=R||"#000000",ie.fillRule="nonzero",ie.globalAlpha=1,ie.lineWidth=1,ie.lineCap="butt",ie.lineJoin="miter",ie.miterLimit=10,ie.globalCompositeOperation="source-over",ie.font="10px sans-serif",void 0!==ie.setLineDash&&(ie.setLineDash([]),ie.lineDashOffset=0)}function fe(ie,R,H,F){const j=ie.length;for(let B=3;B<j;B+=4){const J=ie[B];if(0===J)ie[B-3]=R,ie[B-2]=H,ie[B-1]=F;else if(J<255){const re=255-J;ie[B-3]=ie[B-3]*J+R*re>>8,ie[B-2]=ie[B-2]*J+H*re>>8,ie[B-1]=ie[B-1]*J+F*re>>8}}}function ye(ie,R,H){const F=ie.length;for(let B=3;B<F;B+=4)R[B]=R[B]*(H?H[ie[B]]:ie[B])*.00392156862745098|0}function Pe(ie,R,H){const F=ie.length;for(let j=3;j<F;j+=4){const B=77*ie[j-3]+152*ie[j-2]+28*ie[j-1];R[j]=H?R[j]*H[B>>8]>>8:R[j]*B>>16}}function Ee(ie,R){const H=f.Util.singularValueDecompose2dScale(ie);H[0]=Math.fround(H[0]),H[1]=Math.fround(H[1]);const F=Math.fround((globalThis.devicePixelRatio||1)*Je.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==R?R:H[0]<=F||H[1]<=F}const de=["butt","round","square"],Ve=["miter","round","bevel"],Ze={},dt={};class he{constructor(R,H,F,j,B,J,re,me){this.ctx=R,this.current=new C(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=H,this.objs=F,this.canvasFactory=j,this.imageLayer=B,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=J,this.cachedCanvases=new p(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=re,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=me?.background||null,this.foregroundColor=me?.foreground||null,R&&l(R),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(R,H=null){return"string"==typeof R?R.startsWith("g_")?this.commonObjs.get(R):this.objs.get(R):H}beginDrawing({transform:R,viewport:H,transparency:F=!1,background:j=null}){const B=this.ctx.canvas.width,J=this.ctx.canvas.height,re=j||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const me=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const De=this.backgroundColor=this.ctx.fillStyle;let je=!0,We=re;if(this.ctx.fillStyle=re,We=this.ctx.fillStyle,je="string"==typeof We&&/^#[0-9A-Fa-f]{6}$/.test(We),"#000000"===me&&"#ffffff"===De||me===De||!je)this.foregroundColor=this.backgroundColor=null;else{const it=parseInt(We.slice(1),16),Ue=(it&&65280)>>8,ht=it&&255,Lt=Ke=>(Ke/=255)<=.03928?Ke/12.92:((Ke+.055)/1.055)**2.4,$e=Math.round(.2126*Lt((it&&16711680)>>16)+.7152*Lt(Ue)+.0722*Lt(ht));this.selectColor=(Ke,pt,be)=>{const ze=.2126*Lt(Ke)+.7152*Lt(pt)+.0722*Lt(be);return Math.round(ze)===$e?De:me}}}if(this.ctx.fillStyle=this.backgroundColor||re,this.ctx.fillRect(0,0,B,J),this.ctx.restore(),F){const me=this.cachedCanvases.getCanvas("transparent",B,J,!0);this.compositeCtx=this.ctx,this.transparentCanvas=me.canvas,this.ctx=me.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),ne(this.ctx,this.foregroundColor),R&&(this.ctx.transform.apply(this.ctx,R),this.outputScaleX=R[0],this.outputScaleY=R[0]),this.ctx.transform.apply(this.ctx,H.transform),this.viewportScale=H.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(R,H,F,j){const B=R.argsArray,J=R.fnArray;let re=H||0;const me=B.length;if(me===re)return re;const De=me-re>10&&"function"==typeof F,je=De?Date.now()+15:0;let We=0;const it=this.commonObjs,Be=this.objs;let Ue;for(;;){if(void 0!==j&&re===j.nextBreakPoint)return j.breakIt(re,F),re;if(Ue=J[re],Ue!==f.OPS.dependency)this[Ue].apply(this,B[re]);else for(const ht of B[re]){const Lt=ht.startsWith("g_")?it:Be;if(!Lt.has(ht))return Lt.get(ht,F),re}if(re++,re===me)return re;if(De&&++We>10){if(Date.now()>je)return F(),re;We=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const R of this._cachedBitmapsMap.values()){for(const H of R.values())typeof HTMLCanvasElement<"u"&&H instanceof HTMLCanvasElement&&(H.width=H.height=0);R.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(R,H){const F=R.width,j=R.height;let je,We,B=Math.max(Math.hypot(H[0],H[1]),1),J=Math.max(Math.hypot(H[2],H[3]),1),re=F,me=j,De="prescale1";for(;B>2&&re>1||J>2&&me>1;){let it=re,Be=me;B>2&&re>1&&(it=Math.ceil(re/2),B/=re/it),J>2&&me>1&&(Be=Math.ceil(me/2),J/=me/Be),je=this.cachedCanvases.getCanvas(De,it,Be,!1),We=je.context,We.clearRect(0,0,it,Be),We.drawImage(R,0,0,re,me,0,0,it,Be),R=je.canvas,re=it,me=Be,De="prescale1"===De?"prescale2":"prescale1"}return{img:R,paintWidth:re,paintHeight:me}}_createMaskCanvas(R){const H=this.ctx,{width:F,height:j}=R,B=this.current.fillColor,J=this.current.patternFill,re=H.mozCurrentTransform;let me,De,je,We;if((R.bitmap||R.data)&&R.count>1){const Ne=R.bitmap||R.data.buffer,yt=re.slice(0,4);De=JSON.stringify(J?yt:[yt,B]),me=this._cachedBitmapsMap.get(Ne),me||(me=new Map,this._cachedBitmapsMap.set(Ne,me));const ot=me.get(De);if(ot&&!J)return{canvas:ot,offsetX:Math.round(Math.min(re[0],re[2])+re[4]),offsetY:Math.round(Math.min(re[1],re[3])+re[5])};je=ot}je||(We=this.cachedCanvases.getCanvas("maskCanvas",F,j,!1),k(We.context,R));let it=f.Util.transform(re,[1/F,0,0,-1/j,0,0]);it=f.Util.transform(it,[1,0,0,1,0,-j]);const Be=f.Util.applyTransform([0,0],it),Ue=f.Util.applyTransform([F,j],it),ht=f.Util.normalizeRect([Be[0],Be[1],Ue[0],Ue[1]]),Lt=Math.round(ht[2]-ht[0])||1,$e=Math.round(ht[3]-ht[1])||1,Ke=this.cachedCanvases.getCanvas("fillCanvas",Lt,$e,!0),pt=Ke.context,be=Math.min(Be[0],Ue[0]),ze=Math.min(Be[1],Ue[1]);pt.translate(-be,-ze),pt.transform.apply(pt,it),je||(je=this._scaleImage(We.canvas,pt.mozCurrentTransformInverse),je=je.img,me&&J&&me.set(De,je)),pt.imageSmoothingEnabled=Ee(pt.mozCurrentTransform,R.interpolate),w(pt,je,0,0,je.width,je.height,0,0,F,j),pt.globalCompositeOperation="source-in";const Xe=f.Util.transform(pt.mozCurrentTransformInverse,[1,0,0,1,-be,-ze]);return pt.fillStyle=J?B.getPattern(H,this,Xe,te.PathType.FILL):B,pt.fillRect(0,0,F,j),me&&!J&&(this.cachedCanvases.delete("fillCanvas"),me.set(De,Ke.canvas)),{canvas:Ke.canvas,offsetX:Math.round(be),offsetY:Math.round(ze)}}setLineWidth(R){R!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=R,this.ctx.lineWidth=R}setLineCap(R){this.ctx.lineCap=de[R]}setLineJoin(R){this.ctx.lineJoin=Ve[R]}setMiterLimit(R){this.ctx.miterLimit=R}setDash(R,H){const F=this.ctx;void 0!==F.setLineDash&&(F.setLineDash(R),F.lineDashOffset=H)}setRenderingIntent(R){}setFlatness(R){}setGState(R){for(let H=0,F=R.length;H<F;H++){const j=R[H],J=j[1];switch(j[0]){case"LW":this.setLineWidth(J);break;case"LC":this.setLineCap(J);break;case"LJ":this.setLineJoin(J);break;case"ML":this.setMiterLimit(J);break;case"D":this.setDash(J[0],J[1]);break;case"RI":this.setRenderingIntent(J);break;case"FL":this.setFlatness(J);break;case"Font":this.setFont(J[0],J[1]);break;case"CA":this.current.strokeAlpha=j[1];break;case"ca":this.current.fillAlpha=j[1],this.ctx.globalAlpha=j[1];break;case"BM":this.ctx.globalCompositeOperation=J;break;case"SMask":this.current.activeSMask=J?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=J}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const R=this.inSMaskMode;this.current.activeSMask&&!R?this.beginSMaskMode():!this.current.activeSMask&&R&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const j=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=j.context;const B=this.ctx;B.setTransform.apply(B,this.suspendedCtx.mozCurrentTransform),z(this.suspendedCtx,B),function h(ie,R){if(ie._removeMirroring)throw new Error("Context is already forwarding operations.");ie.__originalSave=ie.save,ie.__originalRestore=ie.restore,ie.__originalRotate=ie.rotate,ie.__originalScale=ie.scale,ie.__originalTranslate=ie.translate,ie.__originalTransform=ie.transform,ie.__originalSetTransform=ie.setTransform,ie.__originalResetTransform=ie.resetTransform,ie.__originalClip=ie.clip,ie.__originalMoveTo=ie.moveTo,ie.__originalLineTo=ie.lineTo,ie.__originalBezierCurveTo=ie.bezierCurveTo,ie.__originalRect=ie.rect,ie.__originalClosePath=ie.closePath,ie.__originalBeginPath=ie.beginPath,ie._removeMirroring=()=>{ie.save=ie.__originalSave,ie.restore=ie.__originalRestore,ie.rotate=ie.__originalRotate,ie.scale=ie.__originalScale,ie.translate=ie.__originalTranslate,ie.transform=ie.__originalTransform,ie.setTransform=ie.__originalSetTransform,ie.resetTransform=ie.__originalResetTransform,ie.clip=ie.__originalClip,ie.moveTo=ie.__originalMoveTo,ie.lineTo=ie.__originalLineTo,ie.bezierCurveTo=ie.__originalBezierCurveTo,ie.rect=ie.__originalRect,ie.closePath=ie.__originalClosePath,ie.beginPath=ie.__originalBeginPath,delete ie._removeMirroring},ie.save=function(){R.save(),this.__originalSave()},ie.restore=function(){R.restore(),this.__originalRestore()},ie.translate=function(F,j){R.translate(F,j),this.__originalTranslate(F,j)},ie.scale=function(F,j){R.scale(F,j),this.__originalScale(F,j)},ie.transform=function(F,j,B,J,re,me){R.transform(F,j,B,J,re,me),this.__originalTransform(F,j,B,J,re,me)},ie.setTransform=function(F,j,B,J,re,me){R.setTransform(F,j,B,J,re,me),this.__originalSetTransform(F,j,B,J,re,me)},ie.resetTransform=function(){R.resetTransform(),this.__originalResetTransform()},ie.rotate=function(F){R.rotate(F),this.__originalRotate(F)},ie.clip=function(F){R.clip(F),this.__originalClip(F)},ie.moveTo=function(H,F){R.moveTo(H,F),this.__originalMoveTo(H,F)},ie.lineTo=function(H,F){R.lineTo(H,F),this.__originalLineTo(H,F)},ie.bezierCurveTo=function(H,F,j,B,J,re){R.bezierCurveTo(H,F,j,B,J,re),this.__originalBezierCurveTo(H,F,j,B,J,re)},ie.rect=function(H,F,j,B){R.rect(H,F,j,B),this.__originalRect(H,F,j,B)},ie.closePath=function(){R.closePath(),this.__originalClosePath()},ie.beginPath=function(){R.beginPath(),this.__originalBeginPath()}}(B,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),z(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(R){this.current.activeSMask&&(R?(R[0]=Math.floor(R[0]),R[1]=Math.floor(R[1]),R[2]=Math.ceil(R[2]),R[3]=Math.ceil(R[3])):R=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function we(ie,R,H,F){const j=F[0],B=F[1],J=F[2]-j,re=F[3]-B;0===J||0===re||(function _e(ie,R,H,F,j,B,J,re,me,De,je){const We=!!B,it=We?B[0]:0,Be=We?B[1]:0,Ue=We?B[2]:0;let ht;ht="Luminosity"===j?Pe:ye;const $e=Math.min(F,Math.ceil(1048576/H));for(let Ke=0;Ke<F;Ke+=$e){const pt=Math.min($e,F-Ke),be=ie.getImageData(re-De,Ke+(me-je),H,pt),ze=R.getImageData(re,Ke+me,H,pt);We&&fe(be.data,it,Be,Ue),ht(be.data,ze.data,J),R.putImageData(ze,re,Ke+me)}}(R.context,H,J,re,R.subtype,R.backdrop,R.transferMap,j,B,R.offsetX,R.offsetY),ie.save(),ie.globalAlpha=1,ie.globalCompositeOperation="source-over",ie.setTransform(1,0,0,1,0,0),ie.drawImage(H.canvas,0,0),ie.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,R),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(z(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const R=this.current;this.stateStack.push(R),this.current=R.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),z(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(R,H,F,j,B,J){this.ctx.transform(R,H,F,j,B,J),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(R,H,F){const j=this.ctx,B=this.current;let me,De,J=B.x,re=B.y;const je=j.mozCurrentTransform,We=0===je[0]&&0===je[3]||0===je[1]&&0===je[2],it=We?F.slice(0):null;for(let Be=0,Ue=0,ht=R.length;Be<ht;Be++)switch(0|R[Be]){case f.OPS.rectangle:J=H[Ue++],re=H[Ue++];const Lt=H[Ue++],$e=H[Ue++],Ke=J+Lt,pt=re+$e;j.moveTo(J,re),0===Lt||0===$e?j.lineTo(Ke,pt):(j.lineTo(Ke,re),j.lineTo(Ke,pt),j.lineTo(J,pt)),We||B.updateRectMinMax(je,[J,re,Ke,pt]),j.closePath();break;case f.OPS.moveTo:J=H[Ue++],re=H[Ue++],j.moveTo(J,re),We||B.updatePathMinMax(je,J,re);break;case f.OPS.lineTo:J=H[Ue++],re=H[Ue++],j.lineTo(J,re),We||B.updatePathMinMax(je,J,re);break;case f.OPS.curveTo:me=J,De=re,J=H[Ue+4],re=H[Ue+5],j.bezierCurveTo(H[Ue],H[Ue+1],H[Ue+2],H[Ue+3],J,re),B.updateCurvePathMinMax(je,me,De,H[Ue],H[Ue+1],H[Ue+2],H[Ue+3],J,re,it),Ue+=6;break;case f.OPS.curveTo2:me=J,De=re,j.bezierCurveTo(J,re,H[Ue],H[Ue+1],H[Ue+2],H[Ue+3]),B.updateCurvePathMinMax(je,me,De,J,re,H[Ue],H[Ue+1],H[Ue+2],H[Ue+3],it),J=H[Ue+2],re=H[Ue+3],Ue+=4;break;case f.OPS.curveTo3:me=J,De=re,J=H[Ue+2],re=H[Ue+3],j.bezierCurveTo(H[Ue],H[Ue+1],J,re,J,re),B.updateCurvePathMinMax(je,me,De,H[Ue],H[Ue+1],J,re,J,re,it),Ue+=4;break;case f.OPS.closePath:j.closePath()}We&&B.updateScalingPathMinMax(je,it),B.setCurrentPoint(J,re)}closePath(){this.ctx.closePath()}stroke(R){R=!(typeof R<"u")||R;const H=this.ctx,F=this.current.strokeColor;H.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof F&&F?.getPattern?(H.save(),H.strokeStyle=F.getPattern(H,this,H.mozCurrentTransformInverse,te.PathType.STROKE),this.rescaleAndStroke(!1),H.restore()):this.rescaleAndStroke(!0)),R&&this.consumePath(this.current.getClippedPathBoundingBox()),H.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(R){R=!(typeof R<"u")||R;const H=this.ctx,F=this.current.fillColor;let B=!1;this.current.patternFill&&(H.save(),H.fillStyle=F.getPattern(H,this,H.mozCurrentTransformInverse,te.PathType.FILL),B=!0);const J=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==J&&(this.pendingEOFill?(H.fill("evenodd"),this.pendingEOFill=!1):H.fill()),B&&H.restore(),R&&this.consumePath(J)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Ze}eoClip(){this.pendingClip=dt}beginText(){this.current.textMatrix=f.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const R=this.pendingTextPaths,H=this.ctx;if(void 0!==R){H.save(),H.beginPath();for(let F=0;F<R.length;F++){const j=R[F];H.setTransform.apply(H,j.transform),H.translate(j.x,j.y),j.addToPath(H,j.fontSize)}H.restore(),H.clip(),H.beginPath(),delete this.pendingTextPaths}else H.beginPath()}setCharSpacing(R){this.current.charSpacing=R}setWordSpacing(R){this.current.wordSpacing=R}setHScale(R){this.current.textHScale=R/100}setLeading(R){this.current.leading=-R}setFont(R,H){const F=this.commonObjs.get(R),j=this.current;if(!F)throw new Error(`Can't find font for ${R}`);if(j.fontMatrix=F.fontMatrix||f.FONT_IDENTITY_MATRIX,(0===j.fontMatrix[0]||0===j.fontMatrix[3])&&(0,f.warn)("Invalid font matrix for font "+R),H<0?(H=-H,j.fontDirection=-1):j.fontDirection=1,this.current.font=F,this.current.fontSize=H,F.isType3Font)return;let J="normal";F.black?J="900":F.bold&&(J="bold");const re=F.italic?"italic":"normal",me=`"${F.loadedName||"sans-serif"}", ${F.fallbackName}`;let De=H;H<16?De=16:H>100&&(De=100),this.current.fontSizeScale=H/De,this.ctx.font=`${re} ${J} ${De}px ${me}`}setTextRenderingMode(R){this.current.textRenderingMode=R}setTextRise(R){this.current.textRise=R}moveText(R,H){this.current.x=this.current.lineX+=R,this.current.y=this.current.lineY+=H}setLeadingMoveText(R,H){this.setLeading(-H),this.moveText(R,H)}setTextMatrix(R,H,F,j,B,J){this.current.textMatrix=[R,H,F,j,B,J],this.current.textMatrixScale=Math.hypot(R,H),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(R,H,F,j){const B=this.ctx,J=this.current,re=J.font,me=J.textRenderingMode,De=J.fontSize/J.fontSizeScale,je=me&f.TextRenderingMode.FILL_STROKE_MASK,We=!!(me&f.TextRenderingMode.ADD_TO_PATH_FLAG),it=J.patternFill&&!re.missingFile;let Be;(re.disableFontFace||We||it)&&(Be=re.getPathGenerator(this.commonObjs,R)),re.disableFontFace||it?(B.save(),B.translate(H,F),B.beginPath(),Be(B,De),j&&B.setTransform.apply(B,j),(je===f.TextRenderingMode.FILL||je===f.TextRenderingMode.FILL_STROKE)&&B.fill(),(je===f.TextRenderingMode.STROKE||je===f.TextRenderingMode.FILL_STROKE)&&B.stroke(),B.restore()):((je===f.TextRenderingMode.FILL||je===f.TextRenderingMode.FILL_STROKE)&&B.fillText(R,H,F),(je===f.TextRenderingMode.STROKE||je===f.TextRenderingMode.FILL_STROKE)&&B.strokeText(R,H,F)),We&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:B.mozCurrentTransform,x:H,y:F,fontSize:De,addToPath:Be})}get isFontSubpixelAAEnabled(){const{context:R}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);R.scale(1.5,1),R.fillText("I",0,10);const H=R.getImageData(0,0,10,10).data;let F=!1;for(let j=3;j<H.length;j+=4)if(H[j]>0&&H[j]<255){F=!0;break}return(0,f.shadow)(this,"isFontSubpixelAAEnabled",F)}showText(R){const H=this.current,F=H.font;if(F.isType3Font)return this.showType3Text(R);const j=H.fontSize;if(0===j)return;const B=this.ctx,J=H.fontSizeScale,re=H.charSpacing,me=H.wordSpacing,De=H.fontDirection,je=H.textHScale*De,We=R.length,it=F.vertical,Be=it?1:-1,Ue=F.defaultVMetrics,ht=j*H.fontMatrix[0],Lt=H.textRenderingMode===f.TextRenderingMode.FILL&&!F.disableFontFace&&!H.patternFill;let $e;if(B.save(),B.transform.apply(B,H.textMatrix),B.translate(H.x,H.y+H.textRise),B.scale(je,De>0?-1:1),H.patternFill){B.save();const Xe=H.fillColor.getPattern(B,this,B.mozCurrentTransformInverse,te.PathType.FILL);$e=B.mozCurrentTransform,B.restore(),B.fillStyle=Xe}let Ke=H.lineWidth;const pt=H.textMatrixScale;if(0===pt||0===Ke){const Xe=H.textRenderingMode&f.TextRenderingMode.FILL_STROKE_MASK;(Xe===f.TextRenderingMode.STROKE||Xe===f.TextRenderingMode.FILL_STROKE)&&(Ke=this.getSinglePixelWidth())}else Ke/=pt;1!==J&&(B.scale(J,J),Ke/=J),B.lineWidth=Ke;let ze,be=0;for(ze=0;ze<We;++ze){const Xe=R[ze];if("number"==typeof Xe){be+=Be*Xe*j/1e3;continue}let Ne=!1;const yt=(Xe.isSpace?me:0)+re,ot=Xe.fontChar,Ct=Xe.accent;let Pt,Gt,Jn,Tn=Xe.width;if(it){const Nt=Xe.vmetric||Ue,Ye=-(Xe.vmetric?Nt[1]:.5*Tn)*ht;Tn=Nt?-Nt[0]:Tn,Pt=Ye/J,Gt=(be+Nt[2]*ht)/J}else Pt=be/J,Gt=0;if(F.remeasure&&Tn>0){const Nt=1e3*B.measureText(ot).width/j*J;if(Tn<Nt&&this.isFontSubpixelAAEnabled){const Ye=Tn/Nt;Ne=!0,B.save(),B.scale(Ye,1),Pt/=Ye}else Tn!==Nt&&(Pt+=(Tn-Nt)/2e3*j/J)}this.contentVisible&&(Xe.isInFont||F.missingFile)&&(Lt&&!Ct?B.fillText(ot,Pt,Gt):(this.paintChar(ot,Pt,Gt,$e),Ct&&this.paintChar(Ct.fontChar,Pt+j*Ct.offset.x/J,Gt-j*Ct.offset.y/J,$e))),Jn=it?Tn*ht-yt*De:Tn*ht+yt*De,be+=Jn,Ne&&B.restore()}it?H.y-=be:H.x+=be*je,B.restore(),this.compose()}showType3Text(R){const H=this.ctx,F=this.current,j=F.font,B=F.fontSize,J=F.fontDirection,re=j.vertical?1:-1,me=F.charSpacing,De=F.wordSpacing,je=F.textHScale*J,We=F.fontMatrix||f.FONT_IDENTITY_MATRIX,it=R.length;let Ue,ht,Lt,$e;if(F.textRenderingMode!==f.TextRenderingMode.INVISIBLE&&0!==B){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,H.save(),H.transform.apply(H,F.textMatrix),H.translate(F.x,F.y),H.scale(je,J),Ue=0;Ue<it;++Ue){if(ht=R[Ue],"number"==typeof ht){$e=re*ht*B/1e3,this.ctx.translate($e,0),F.x+=$e*je;continue}const Ke=(ht.isSpace?De:0)+me,pt=j.charProcOperatorList[ht.operatorListId];pt?(this.contentVisible&&(this.processingType3=ht,this.save(),H.scale(B,B),H.transform.apply(H,We),this.executeOperatorList(pt),this.restore()),Lt=f.Util.applyTransform([ht.width,0],We)[0]*B+Ke,H.translate(Lt,0),F.x+=Lt*je):(0,f.warn)(`Type3 character "${ht.operatorListId}" is not available.`)}H.restore(),this.processingType3=null}}setCharWidth(R,H){}setCharWidthAndBounds(R,H,F,j,B,J){this.ctx.rect(F,j,B-F,J-j),this.ctx.clip(),this.endPath()}getColorN_Pattern(R){let H;if("TilingPattern"===R[0]){const F=R[1],j=this.baseTransform||this.ctx.mozCurrentTransform.slice();H=new te.TilingPattern(R,F,this.ctx,{createCanvasGraphics:J=>new he(J,this.commonObjs,this.objs,this.canvasFactory)},j)}else H=this._getPattern(R[1],R[2]);return H}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(R,H,F){const j=this.selectColor?.(R,H,F)||f.Util.makeHexColor(R,H,F);this.ctx.strokeStyle=j,this.current.strokeColor=j}setFillRGBColor(R,H,F){const j=this.selectColor?.(R,H,F)||f.Util.makeHexColor(R,H,F);this.ctx.fillStyle=j,this.current.fillColor=j,this.current.patternFill=!1}_getPattern(R,H=null){let F;return this.cachedPatterns.has(R)?F=this.cachedPatterns.get(R):(F=(0,te.getShadingPattern)(this.objs.get(R)),this.cachedPatterns.set(R,F)),H&&(F.matrix=H),F}shadingFill(R){if(!this.contentVisible)return;const H=this.ctx;this.save();const F=this._getPattern(R);H.fillStyle=F.getPattern(H,this,H.mozCurrentTransformInverse,te.PathType.SHADING);const j=H.mozCurrentTransformInverse;if(j){const B=H.canvas,J=B.width,re=B.height,me=f.Util.applyTransform([0,0],j),De=f.Util.applyTransform([0,re],j),je=f.Util.applyTransform([J,0],j),We=f.Util.applyTransform([J,re],j),it=Math.min(me[0],De[0],je[0],We[0]),Be=Math.min(me[1],De[1],je[1],We[1]),Ue=Math.max(me[0],De[0],je[0],We[0]),ht=Math.max(me[1],De[1],je[1],We[1]);this.ctx.fillRect(it,Be,Ue-it,ht-Be)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,f.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,f.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(R,H){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(R)&&6===R.length&&this.transform.apply(this,R),this.baseTransform=this.ctx.mozCurrentTransform,H)&&(this.ctx.rect(H[0],H[1],H[2]-H[0],H[3]-H[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,H),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(R){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const H=this.ctx;R.isolated||(0,f.info)("TODO: Support non-isolated groups."),R.knockout&&(0,f.warn)("Knockout groups not supported.");const F=H.mozCurrentTransform;if(R.matrix&&H.transform.apply(H,R.matrix),!R.bbox)throw new Error("Bounding box is required.");let j=f.Util.getAxialAlignedBoundingBox(R.bbox,H.mozCurrentTransform);j=f.Util.intersect(j,[0,0,H.canvas.width,H.canvas.height])||[0,0,0,0];const J=Math.floor(j[0]),re=Math.floor(j[1]);let me=Math.max(Math.ceil(j[2])-J,1),De=Math.max(Math.ceil(j[3])-re,1),je=1,We=1;me>c&&(je=me/c,me=c),De>c&&(We=De/c,De=c),this.current.startNewPathAndClipBox([0,0,me,De]);let it="groupAt"+this.groupLevel;R.smask&&(it+="_smask_"+this.smaskCounter++%2);const Be=this.cachedCanvases.getCanvas(it,me,De,!0),Ue=Be.context;Ue.scale(1/je,1/We),Ue.translate(-J,-re),Ue.transform.apply(Ue,F),R.smask?this.smaskStack.push({canvas:Be.canvas,context:Ue,offsetX:J,offsetY:re,scaleX:je,scaleY:We,subtype:R.smask.subtype,backdrop:R.smask.backdrop,transferMap:R.smask.transferMap||null,startTransformInverse:null}):(H.setTransform(1,0,0,1,0,0),H.translate(J,re),H.scale(je,We),H.save()),z(H,Ue),this.ctx=Ue,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(H),this.groupLevel++}endGroup(R){if(!this.contentVisible)return;this.groupLevel--;const H=this.ctx,F=this.groupStack.pop();if(this.ctx=F,this.ctx.imageSmoothingEnabled=!1,R.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const j=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,j);const B=f.Util.getAxialAlignedBoundingBox([0,0,H.canvas.width,H.canvas.height],j);this.ctx.drawImage(H.canvas,0,0),this.ctx.restore(),this.compose(B)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(R,H,F,j,B){if(this.save(),Array.isArray(H)&&4===H.length){const J=H[2]-H[0],re=H[3]-H[1];if(B&&this.annotationCanvasMap){(F=F.slice())[4]-=H[0],F[5]-=H[1],(H=H.slice())[0]=H[1]=0,H[2]=J,H[3]=re;const[me,De]=f.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:je}=this,We=Math.ceil(J*this.outputScaleX*je),it=Math.ceil(re*this.outputScaleY*je);this.annotationCanvas=this.canvasFactory.create(We,it);const{canvas:Be,context:Ue}=this.annotationCanvas,ht=`var(--zoom-factor) * ${Je.PixelsPerInch.PDF_TO_CSS_UNITS}`;Be.style.width=`calc(${J}px * ${ht})`,Be.style.height=`calc(${re}px * ${ht})`,this.annotationCanvasMap.set(R,Be),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Ue,this.ctx.setTransform(me,0,0,-De,0,re*De),l(this.ctx),ne(this.ctx,this.foregroundColor)}else ne(this.ctx,this.foregroundColor),this.ctx.rect(H[0],H[1],J,re),this.ctx.clip(),this.endPath()}this.current=new C(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,F),this.transform.apply(this,j)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(R){if(!this.contentVisible)return;const H=R.count;(R=this.getObject(R.data,R)).count=H;const F=this.ctx,j=this.processingType3;if(j&&(void 0===j.compiled&&(j.compiled=function _(ie){const{width:R,height:H}=ie;if(R>1e3||H>1e3)return null;const j=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),B=R+1;let re,me,De,J=new Uint8Array(B*(H+1));const je=R+7&-8;let We=new Uint8Array(je*H),it=0;for(const pt of ie.data){let be=128;for(;be>0;)We[it++]=pt&be?0:255,be>>=1}let Be=0;for(it=0,0!==We[it]&&(J[0]=1,++Be),me=1;me<R;me++)We[it]!==We[it+1]&&(J[me]=We[it]?2:1,++Be),it++;for(0!==We[it]&&(J[me]=2,++Be),re=1;re<H;re++){it=re*je,De=re*B,We[it-je]!==We[it]&&(J[De]=We[it]?1:8,++Be);let pt=(We[it]?4:0)+(We[it-je]?8:0);for(me=1;me<R;me++)pt=(pt>>2)+(We[it+1]?4:0)+(We[it-je+1]?8:0),j[pt]&&(J[De+me]=j[pt],++Be),it++;if(We[it-je]!==We[it]&&(J[De+me]=We[it]?2:4,++Be),Be>1e3)return null}for(it=je*(H-1),De=re*B,0!==We[it]&&(J[De]=8,++Be),me=1;me<R;me++)We[it]!==We[it+1]&&(J[De+me]=We[it]?4:8,++Be),it++;if(0!==We[it]&&(J[De+me]=4,++Be),Be>1e3)return null;const Ue=new Int32Array([0,B,-1,0,-B,0,0,0,1]);let ht,Lt,$e;for(Qe.isNodeJS?Lt=[]:ht=new Path2D,re=0;Be&&re<=H;re++){let pt=re*B;const be=pt+R;for(;pt<be&&!J[pt];)pt++;if(pt===be)continue;ht?ht.moveTo(pt%B,re):$e=[pt%B,re];const ze=pt;let Xe=J[pt];do{const Ne=Ue[Xe];do{pt+=Ne}while(!J[pt]);const yt=J[pt];5!==yt&&10!==yt?(Xe=yt,J[pt]=0):(Xe=yt&51*Xe>>4,J[pt]&=Xe>>2|Xe<<2),ht?ht.lineTo(pt%B,pt/B|0):$e.push(pt%B,pt/B|0),J[pt]||--Be}while(ze!==pt);ht||Lt.push($e),--re}return We=null,J=null,function(pt){if(pt.save(),pt.scale(1/R,-1/H),pt.translate(0,-H),ht)pt.fill(ht);else{pt.beginPath();for(const be of Lt){pt.moveTo(be[0],be[1]);for(let ze=2,Xe=be.length;ze<Xe;ze+=2)pt.lineTo(be[ze],be[ze+1])}pt.fill()}pt.beginPath(),pt.restore()}}(R)),j.compiled))return void j.compiled(F);const B=this._createMaskCanvas(R),J=B.canvas;F.save(),F.setTransform(1,0,0,1,0,0),F.drawImage(J,B.offsetX,B.offsetY),F.restore(),this.compose()}paintImageMaskXObjectRepeat(R,H,F=0,j=0,B,J){if(!this.contentVisible)return;R=this.getObject(R.data,R);const re=this.ctx;re.save();const me=re.mozCurrentTransform;re.transform(H,F,j,B,0,0);const De=this._createMaskCanvas(R);re.setTransform(1,0,0,1,0,0);for(let je=0,We=J.length;je<We;je+=2){const it=f.Util.transform(me,[H,F,j,B,J[je],J[je+1]]),[Be,Ue]=f.Util.applyTransform([0,0],it);re.drawImage(De.canvas,Be,Ue)}re.restore(),this.compose()}paintImageMaskXObjectGroup(R){if(!this.contentVisible)return;const H=this.ctx,F=this.current.fillColor,j=this.current.patternFill;for(let B=0,J=R.length;B<J;B++){const re=R[B],me=re.width,De=re.height,je=this.cachedCanvases.getCanvas("maskCanvas",me,De,!1),We=je.context;We.save(),k(We,re),We.globalCompositeOperation="source-in",We.fillStyle=j?F.getPattern(We,this,H.mozCurrentTransformInverse,te.PathType.FILL):F,We.fillRect(0,0,me,De),We.restore(),H.save(),H.transform.apply(H,re.transform),H.scale(1,-1),w(H,je.canvas,0,0,me,De,0,-1,1,1),H.restore()}this.compose()}paintImageXObject(R){if(!this.contentVisible)return;const H=this.getObject(R);H?this.paintInlineImageXObject(H):(0,f.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(R,H,F,j){if(!this.contentVisible)return;const B=this.getObject(R);if(!B)return void(0,f.warn)("Dependent image isn't ready yet");const J=B.width,re=B.height,me=[];for(let De=0,je=j.length;De<je;De+=2)me.push({transform:[H,0,0,F,j[De],j[De+1]],x:0,y:0,w:J,h:re});this.paintInlineImageXObjectGroup(B,me)}paintInlineImageXObject(R){if(!this.contentVisible)return;const H=R.width,F=R.height,j=this.ctx;let B;if(this.save(),j.scale(1/H,-1/F),"function"==typeof HTMLElement&&R instanceof HTMLElement||!R.data)B=R;else{const De=this.cachedCanvases.getCanvas("inlineImage",H,F,!1);I(De.context,R,this.current.transferMaps),B=De.canvas}const J=this._scaleImage(B,j.mozCurrentTransformInverse);j.imageSmoothingEnabled=Ee(j.mozCurrentTransform,R.interpolate);const[re,me]=w(j,J.img,0,0,J.paintWidth,J.paintHeight,0,-F,H,F);if(this.imageLayer){const De=this.getCanvasPosition(0,-F);this.imageLayer.appendImage({imgData:R,left:De[0],top:De[1],width:re,height:me})}this.compose(),this.restore()}paintInlineImageXObjectGroup(R,H){if(!this.contentVisible)return;const F=this.ctx,j=R.width,B=R.height,J=this.cachedCanvases.getCanvas("inlineImage",j,B,!1);I(J.context,R,this.current.transferMaps);for(let me=0,De=H.length;me<De;me++){const je=H[me];if(F.save(),F.transform.apply(F,je.transform),F.scale(1,-1),w(F,J.canvas,je.x,je.y,je.w,je.h,0,-1,1,1),this.imageLayer){const We=this.getCanvasPosition(je.x,je.y);this.imageLayer.appendImage({imgData:R,left:We[0],top:We[1],width:j,height:B})}F.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(R){}markPointProps(R,H){}beginMarkedContent(R){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(R,H){this.markedContentStack.push("OC"===R?{visible:this.optionalContentConfig.isVisible(H)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(R){const H=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(R);const F=this.ctx;this.pendingClip&&(H||(this.pendingClip===dt?F.clip("evenodd"):F.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),F.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const R=this.ctx.mozCurrentTransform;if(0===R[1]&&0===R[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(R[0]),Math.abs(R[3]));else{const H=Math.abs(R[0]*R[3]-R[2]*R[1]),F=Math.hypot(R[0],R[2]),j=Math.hypot(R[1],R[3]);this._cachedGetSinglePixelWidth=Math.max(F,j)/H}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:R}=this.current,H=this.ctx.mozCurrentTransform;let F,j;if(0===H[1]&&0===H[2]){const B=Math.abs(H[0]),J=Math.abs(H[3]);if(0===R)F=1/B,j=1/J;else{const re=B*R,me=J*R;F=re<1?1/re:1,j=me<1?1/me:1}}else{const B=Math.abs(H[0]*H[3]-H[2]*H[1]),J=Math.hypot(H[0],H[1]),re=Math.hypot(H[2],H[3]);if(0===R)F=re/B,j=J/B;else{const me=R*B;F=re>me?re/me:1,j=J>me?J/me:1}}this._cachedScaleForStroking=[F,j]}return this._cachedScaleForStroking}rescaleAndStroke(R){const{ctx:H}=this,{lineWidth:F}=this.current,[j,B]=this.getScaleForStroking();if(H.lineWidth=F||1,1===j&&1===B)return void H.stroke();let J,re,me;R&&(J=H.mozCurrentTransform.slice(),re=H.getLineDash().slice(),me=H.lineDashOffset),H.scale(j,B);const De=Math.max(j,B);H.setLineDash(H.getLineDash().map(je=>je/De)),H.lineDashOffset/=De,H.stroke(),R&&(H.setTransform(...J),H.setLineDash(re),H.lineDashOffset=me)}getCanvasPosition(R,H){const F=this.ctx.mozCurrentTransform;return[F[0]*R+F[2]*H+F[4],F[1]*R+F[3]*H+F[5]]}isContentVisible(){for(let R=this.markedContentStack.length-1;R>=0;R--)if(!this.markedContentStack[R].visible)return!1;return!0}}ue.CanvasGraphics=he;for(const ie in f.OPS)void 0!==he.prototype[ie]&&(he.prototype[f.OPS[ie]]=he.prototype[ie])},(qt,ue,ge)=>{Object.defineProperty(ue,"__esModule",{value:!0}),ue.TilingPattern=ue.PathType=void 0,ue.getShadingPattern=function r(s){switch(s[0]){case"RadialAxial":return new Te(s);case"Mesh":return new d(s);case"Dummy":return new u}throw new Error(`Unknown IR type: ${s[0]}`)};var f=ge(1),te=ge(3);const le={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Qe(s,h){if(!h||te.isNodeJS)return;const l=h[2]-h[0],p=h[3]-h[1],w=new Path2D;w.rect(h[0],h[1],l,p),s.clip(w)}ue.PathType=le;class Je{constructor(){this.constructor===Je&&(0,f.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,f.unreachable)("Abstract method `getPattern` called.")}}class Te extends Je{constructor(h){super(),this._type=h[1],this._bbox=h[2],this._colorStops=h[3],this._p0=h[4],this._p1=h[5],this._r0=h[6],this._r1=h[7],this.matrix=null}_createGradient(h){let l;"axial"===this._type?l=h.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(l=h.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const p of this._colorStops)l.addColorStop(p[0],p[1]);return l}getPattern(h,l,p,w){let _;if(w===le.STROKE||w===le.FILL){const C=l.current.getClippedPathBoundingBox(w,h.mozCurrentTransform)||[0,0,0,0],I=Math.ceil(C[2]-C[0])||1,k=Math.ceil(C[3]-C[1])||1,z=l.cachedCanvases.getCanvas("pattern",I,k,!0),ne=z.context;ne.clearRect(0,0,ne.canvas.width,ne.canvas.height),ne.beginPath(),ne.rect(0,0,ne.canvas.width,ne.canvas.height),ne.translate(-C[0],-C[1]),p=f.Util.transform(p,[1,0,0,1,C[0],C[1]]),ne.transform.apply(ne,l.baseTransform),this.matrix&&ne.transform.apply(ne,this.matrix),Qe(ne,this._bbox),ne.fillStyle=this._createGradient(ne),ne.fill(),_=h.createPattern(z.canvas,"no-repeat");const fe=new DOMMatrix(p);try{_.setTransform(fe)}catch(ye){(0,f.warn)(`RadialAxialShadingPattern.getPattern: "${ye?.message}".`)}}else Qe(h,this._bbox),_=this._createGradient(h);return _}}function m(s,h,l,p,w,_,C,I){const k=h.coords,z=h.colors,ne=s.data,fe=4*s.width;let ye;k[l+1]>k[p+1]&&(ye=l,l=p,p=ye,ye=_,_=C,C=ye),k[p+1]>k[w+1]&&(ye=p,p=w,w=ye,ye=C,C=I,I=ye),k[l+1]>k[p+1]&&(ye=l,l=p,p=ye,ye=_,_=C,C=ye);const Pe=(k[l]+h.offsetX)*h.scaleX,_e=(k[l+1]+h.offsetY)*h.scaleY,we=(k[p]+h.offsetX)*h.scaleX,Ee=(k[p+1]+h.offsetY)*h.scaleY,de=(k[w]+h.offsetX)*h.scaleX,Ve=(k[w+1]+h.offsetY)*h.scaleY;if(_e>=Ve)return;const Ze=z[_],dt=z[_+1],he=z[_+2],ie=z[C],R=z[C+1],H=z[C+2],F=z[I],j=z[I+1],B=z[I+2],J=Math.round(_e),re=Math.round(Ve);let me,De,je,We,it,Be,Ue,ht;for(let Lt=J;Lt<=re;Lt++){if(Lt<Ee){let ze;ze=Lt<_e?0:(_e-Lt)/(_e-Ee),me=Pe-(Pe-we)*ze,De=Ze-(Ze-ie)*ze,je=dt-(dt-R)*ze,We=he-(he-H)*ze}else{let ze;ze=Lt>Ve?1:Ee===Ve?0:(Ee-Lt)/(Ee-Ve),me=we-(we-de)*ze,De=ie-(ie-F)*ze,je=R-(R-j)*ze,We=H-(H-B)*ze}let $e;$e=Lt<_e?0:Lt>Ve?1:(_e-Lt)/(_e-Ve),it=Pe-(Pe-de)*$e,Be=Ze-(Ze-F)*$e,Ue=dt-(dt-j)*$e,ht=he-(he-B)*$e;const Ke=Math.round(Math.min(me,it)),pt=Math.round(Math.max(me,it));let be=fe*Lt+4*Ke;for(let ze=Ke;ze<=pt;ze++)$e=(me-ze)/(me-it),$e<0?$e=0:$e>1&&($e=1),ne[be++]=De-(De-Be)*$e|0,ne[be++]=je-(je-Ue)*$e|0,ne[be++]=We-(We-ht)*$e|0,ne[be++]=255}}function c(s,h,l){const p=h.coords,w=h.colors;let _,C;switch(h.type){case"lattice":const I=h.verticesPerRow,k=Math.floor(p.length/I)-1,z=I-1;for(_=0;_<k;_++){let ne=_*I;for(let fe=0;fe<z;fe++,ne++)m(s,l,p[ne],p[ne+1],p[ne+I],w[ne],w[ne+1],w[ne+I]),m(s,l,p[ne+I+1],p[ne+1],p[ne+I],w[ne+I+1],w[ne+1],w[ne+I])}break;case"triangles":for(_=0,C=p.length;_<C;_+=3)m(s,l,p[_],p[_+1],p[_+2],w[_],w[_+1],w[_+2]);break;default:throw new Error("illegal figure")}}class d extends Je{constructor(h){super(),this._coords=h[2],this._colors=h[3],this._figures=h[4],this._bounds=h[5],this._bbox=h[7],this._background=h[8],this.matrix=null}_createMeshCanvas(h,l,p){const I=Math.floor(this._bounds[0]),k=Math.floor(this._bounds[1]),z=Math.ceil(this._bounds[2])-I,ne=Math.ceil(this._bounds[3])-k,fe=Math.min(Math.ceil(Math.abs(z*h[0]*1.1)),3e3),ye=Math.min(Math.ceil(Math.abs(ne*h[1]*1.1)),3e3),Pe=z/fe,_e=ne/ye,we={coords:this._coords,colors:this._colors,offsetX:-I,offsetY:-k,scaleX:1/Pe,scaleY:1/_e},Ve=p.getCanvas("mesh",fe+4,ye+4,!1),Ze=Ve.context,dt=Ze.createImageData(fe,ye);if(l){const ie=dt.data;for(let R=0,H=ie.length;R<H;R+=4)ie[R]=l[0],ie[R+1]=l[1],ie[R+2]=l[2],ie[R+3]=255}for(const ie of this._figures)c(dt,ie,we);return Ze.putImageData(dt,2,2),{canvas:Ve.canvas,offsetX:I-2*Pe,offsetY:k-2*_e,scaleX:Pe,scaleY:_e}}getPattern(h,l,p,w){let _;if(Qe(h,this._bbox),w===le.SHADING)_=f.Util.singularValueDecompose2dScale(h.mozCurrentTransform);else if(_=f.Util.singularValueDecompose2dScale(l.baseTransform),this.matrix){const I=f.Util.singularValueDecompose2dScale(this.matrix);_=[_[0]*I[0],_[1]*I[1]]}const C=this._createMeshCanvas(_,w===le.SHADING?null:this._background,l.cachedCanvases);return w!==le.SHADING&&(h.setTransform.apply(h,l.baseTransform),this.matrix&&h.transform.apply(h,this.matrix)),h.translate(C.offsetX,C.offsetY),h.scale(C.scaleX,C.scaleY),h.createPattern(C.canvas,"no-repeat")}}class u extends Je{getPattern(){return"hotpink"}}class i{static get MAX_PATTERN_SIZE(){return(0,f.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(h,l,p,w,_){this.operatorList=h[2],this.matrix=h[3]||[1,0,0,1,0,0],this.bbox=h[4],this.xstep=h[5],this.ystep=h[6],this.paintType=h[7],this.tilingType=h[8],this.color=l,this.ctx=p,this.canvasGraphicsFactory=w,this.baseTransform=_}createPatternCanvas(h){const l=this.operatorList,p=this.bbox,w=this.xstep,_=this.ystep,C=this.paintType,k=this.color,z=this.canvasGraphicsFactory;(0,f.info)("TilingType: "+this.tilingType);const ne=p[0],fe=p[1],ye=p[2],Pe=p[3],_e=f.Util.singularValueDecompose2dScale(this.matrix),we=f.Util.singularValueDecompose2dScale(this.baseTransform),Ee=[_e[0]*we[0],_e[1]*we[1]],de=this.getSizeAndScale(w,this.ctx.canvas.width,Ee[0]),Ve=this.getSizeAndScale(_,this.ctx.canvas.height,Ee[1]),Ze=h.cachedCanvases.getCanvas("pattern",de.size,Ve.size,!0),dt=Ze.context,he=z.createCanvasGraphics(dt);he.groupLevel=h.groupLevel,this.setFillAndStrokeStyleToContext(he,C,k);let ie=ne,R=fe,H=ye,F=Pe;return ne<0&&(ie=0,H+=Math.abs(ne)),fe<0&&(R=0,F+=Math.abs(fe)),dt.translate(-de.scale*ie,-Ve.scale*R),he.transform(de.scale,0,0,Ve.scale,0,0),dt.save(),this.clipBbox(he,ie,R,H,F),he.baseTransform=he.ctx.mozCurrentTransform.slice(),he.executeOperatorList(l),he.endDrawing(),{canvas:Ze.canvas,scaleX:de.scale,scaleY:Ve.scale,offsetX:ie,offsetY:R}}getSizeAndScale(h,l,p){h=Math.abs(h);const w=Math.max(i.MAX_PATTERN_SIZE,l);let _=Math.ceil(h*p);return _>=w?_=w:p=_/h,{scale:p,size:_}}clipBbox(h,l,p,w,_){h.ctx.rect(l,p,w-l,_-p),h.current.updateRectMinMax(h.ctx.mozCurrentTransform,[l,p,w,_]),h.clip(),h.endPath()}setFillAndStrokeStyleToContext(h,l,p){const w=h.ctx,_=h.current;switch(l){case 1:const C=this.ctx;w.fillStyle=C.fillStyle,w.strokeStyle=C.strokeStyle,_.fillColor=C.fillStyle,_.strokeColor=C.strokeStyle;break;case 2:const I=f.Util.makeHexColor(p[0],p[1],p[2]);w.fillStyle=I,w.strokeStyle=I,_.fillColor=I,_.strokeColor=I;break;default:throw new f.FormatError(`Unsupported paint type: ${l}`)}}getPattern(h,l,p,w){let _=p;w!==le.SHADING&&(_=f.Util.transform(_,l.baseTransform),this.matrix&&(_=f.Util.transform(_,this.matrix)));const C=this.createPatternCanvas(l);let I=new DOMMatrix(_);I=I.translate(C.offsetX,C.offsetY),I=I.scale(1/C.scaleX,1/C.scaleY);const k=h.createPattern(C.canvas,"repeat");try{k.setTransform(I)}catch(z){(0,f.warn)(`TilingPattern.getPattern: "${z?.message}".`)}return k}}ue.TilingPattern=i},(qt,ue,ge)=>{Object.defineProperty(ue,"__esModule",{value:!0}),ue.applyMaskImageData=function te({src:le,srcPos:Qe=0,dest:Je,destPos:Te=0,width:m,height:c,inverseDecode:d=!1}){const u=f.FeatureTest.isLittleEndian?4278190080:255,[r,o]=d?[0,u]:[u,0],i=m>>3,s=7&m,h=le.length;Je=new Uint32Array(Je.buffer);for(let l=0;l<c;l++){for(const w=Qe+i;Qe<w;Qe++){const _=Qe<h?le[Qe]:255;Je[Te++]=128&_?o:r,Je[Te++]=64&_?o:r,Je[Te++]=32&_?o:r,Je[Te++]=16&_?o:r,Je[Te++]=8&_?o:r,Je[Te++]=4&_?o:r,Je[Te++]=2&_?o:r,Je[Te++]=1&_?o:r}if(0===s)continue;const p=Qe<h?le[Qe++]:255;for(let w=0;w<s;w++)Je[Te++]=p&1<<7-w?o:r}return{srcPos:Qe,destPos:Te}};var f=ge(1)},(qt,ue)=>{Object.defineProperty(ue,"__esModule",{value:!0}),ue.GlobalWorkerOptions=void 0;const ge=Object.create(null);ue.GlobalWorkerOptions=ge,ge.workerPort=void 0===ge.workerPort?null:ge.workerPort,ge.workerSrc=void 0===ge.workerSrc?"":ge.workerSrc},(qt,ue,ge)=>{Object.defineProperty(ue,"__esModule",{value:!0}),ue.MessageHandler=void 0;var f=ge(1);function Qe(Te){switch(Te instanceof Error||"object"==typeof Te&&null!==Te||(0,f.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),Te.name){case"AbortException":return new f.AbortException(Te.message);case"MissingPDFException":return new f.MissingPDFException(Te.message);case"PasswordException":return new f.PasswordException(Te.message,Te.code);case"UnexpectedResponseException":return new f.UnexpectedResponseException(Te.message,Te.status);case"UnknownErrorException":return new f.UnknownErrorException(Te.message,Te.details);default:return new f.UnknownErrorException(Te.message,Te.toString())}}ue.MessageHandler=class Je{constructor(m,c,d){this.sourceName=m,this.targetName=c,this.comObj=d,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=u=>{const r=u.data;if(r.targetName!==this.sourceName)return;if(r.stream)return void this._processStreamMessage(r);if(r.callback){const i=r.callbackId,s=this.callbackCapabilities[i];if(!s)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],1===r.callback)s.resolve(r.data);else{if(2!==r.callback)throw new Error("Unexpected callback case");s.reject(Qe(r.reason))}return}const o=this.actionHandler[r.action];if(!o)throw new Error(`Unknown action from worker: ${r.action}`);if(r.callbackId){const i=this.sourceName,s=r.sourceName;new Promise(function(h){h(o(r.data))}).then(function(h){d.postMessage({sourceName:i,targetName:s,callback:1,callbackId:r.callbackId,data:h})},function(h){d.postMessage({sourceName:i,targetName:s,callback:2,callbackId:r.callbackId,reason:Qe(h)})})}else r.streamId?this._createStreamSink(r):o(r.data)},d.addEventListener("message",this._onComObjOnMessage)}on(m,c){const d=this.actionHandler;if(d[m])throw new Error(`There is already an actionName called "${m}"`);d[m]=c}send(m,c,d){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:m,data:c},d)}sendWithPromise(m,c,d){const u=this.callbackId++,r=(0,f.createPromiseCapability)();this.callbackCapabilities[u]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:m,callbackId:u,data:c},d)}catch(o){r.reject(o)}return r.promise}sendWithStream(m,c,d,u){const r=this.streamId++,o=this.sourceName,i=this.targetName,s=this.comObj;return new ReadableStream({start:h=>{const l=(0,f.createPromiseCapability)();return this.streamControllers[r]={controller:h,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},s.postMessage({sourceName:o,targetName:i,action:m,streamId:r,data:c,desiredSize:h.desiredSize},u),l.promise},pull:h=>{const l=(0,f.createPromiseCapability)();return this.streamControllers[r].pullCall=l,s.postMessage({sourceName:o,targetName:i,stream:6,streamId:r,desiredSize:h.desiredSize}),l.promise},cancel:h=>{(0,f.assert)(h instanceof Error,"cancel must have a valid reason");const l=(0,f.createPromiseCapability)();return this.streamControllers[r].cancelCall=l,this.streamControllers[r].isClosed=!0,s.postMessage({sourceName:o,targetName:i,stream:1,streamId:r,reason:Qe(h)}),l.promise}},d)}_createStreamSink(m){const c=m.streamId,d=this.sourceName,u=m.sourceName,r=this.comObj,o=this,i=this.actionHandler[m.action],s={enqueue(h,l=1,p){if(this.isCancelled)return;const w=this.desiredSize;this.desiredSize-=l,w>0&&this.desiredSize<=0&&(this.sinkCapability=(0,f.createPromiseCapability)(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:d,targetName:u,stream:4,streamId:c,chunk:h},p)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:d,targetName:u,stream:3,streamId:c}),delete o.streamSinks[c])},error(h){(0,f.assert)(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:d,targetName:u,stream:5,streamId:c,reason:Qe(h)}))},sinkCapability:(0,f.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:m.desiredSize,ready:null};s.sinkCapability.resolve(),s.ready=s.sinkCapability.promise,this.streamSinks[c]=s,new Promise(function(h){h(i(m.data,s))}).then(function(){r.postMessage({sourceName:d,targetName:u,stream:8,streamId:c,success:!0})},function(h){r.postMessage({sourceName:d,targetName:u,stream:8,streamId:c,reason:Qe(h)})})}_processStreamMessage(m){const c=m.streamId,d=this.sourceName,u=m.sourceName,r=this.comObj,o=this.streamControllers[c],i=this.streamSinks[c];switch(m.stream){case 8:m.success?o.startCall.resolve():o.startCall.reject(Qe(m.reason));break;case 7:m.success?o.pullCall.resolve():o.pullCall.reject(Qe(m.reason));break;case 6:if(!i){r.postMessage({sourceName:d,targetName:u,stream:7,streamId:c,success:!0});break}i.desiredSize<=0&&m.desiredSize>0&&i.sinkCapability.resolve(),i.desiredSize=m.desiredSize,new Promise(function(s){s(i.onPull&&i.onPull())}).then(function(){r.postMessage({sourceName:d,targetName:u,stream:7,streamId:c,success:!0})},function(s){r.postMessage({sourceName:d,targetName:u,stream:7,streamId:c,reason:Qe(s)})});break;case 4:if((0,f.assert)(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(m.chunk);break;case 3:if((0,f.assert)(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this._deleteStreamController(o,c);break;case 5:(0,f.assert)(o,"error should have stream controller"),o.controller.error(Qe(m.reason)),this._deleteStreamController(o,c);break;case 2:m.success?o.cancelCall.resolve():o.cancelCall.reject(Qe(m.reason)),this._deleteStreamController(o,c);break;case 1:if(!i)break;new Promise(function(s){s(i.onCancel&&i.onCancel(Qe(m.reason)))}).then(function(){r.postMessage({sourceName:d,targetName:u,stream:2,streamId:c,success:!0})},function(s){r.postMessage({sourceName:d,targetName:u,stream:2,streamId:c,reason:Qe(s)})}),i.sinkCapability.reject(Qe(m.reason)),i.isCancelled=!0,delete this.streamSinks[c];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(m,c){var d=this;return _asyncToGenerator(function*(){yield Promise.allSettled([m.startCall&&m.startCall.promise,m.pullCall&&m.pullCall.promise,m.cancelCall&&m.cancelCall.promise]),delete d.streamControllers[c]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(qt,ue,ge)=>{var le,Qe;Object.defineProperty(ue,"__esModule",{value:!0}),ue.Metadata=void 0;var f=ge(1);le=new WeakMap,Qe=new WeakMap,ue.Metadata=class te{constructor({parsedData:Te,rawData:m}){oi(this,le,void 0),oi(this,Qe,void 0),Ir(this,le,Te),Ir(this,Qe,m)}getRaw(){return Qn(this,Qe)}get(Te){return Qn(this,le).get(Te)??null}getAll(){return(0,f.objectFromMap)(Qn(this,le))}has(Te){return Qn(this,le).has(Te)}}},(qt,ue,ge)=>{Object.defineProperty(ue,"__esModule",{value:!0}),ue.OptionalContentConfig=void 0;var f=ge(1);class te{constructor(Je,Te){this.visible=!0,this.name=Je,this.intent=Te}}ue.OptionalContentConfig=class le{constructor(Je){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==Je){this.name=Je.name,this.creator=Je.creator,this._order=Je.order;for(const Te of Je.groups)this._groups.set(Te.id,new te(Te.name,Te.intent));if("OFF"===Je.baseState)for(const Te of this._groups)Te.visible=!1;for(const Te of Je.on)this._groups.get(Te).visible=!0;for(const Te of Je.off)this._groups.get(Te).visible=!1}}_evaluateVisibilityExpression(Je){const Te=Je.length;if(Te<2)return!0;const m=Je[0];for(let c=1;c<Te;c++){const d=Je[c];let u;if(Array.isArray(d))u=this._evaluateVisibilityExpression(d);else{if(!this._groups.has(d))return(0,f.warn)(`Optional content group not found: ${d}`),!0;u=this._groups.get(d).visible}switch(m){case"And":if(!u)return!1;break;case"Or":if(u)return!0;break;case"Not":return!u;default:return!0}}return"And"===m}isVisible(Je){if(0===this._groups.size)return!0;if(!Je)return(0,f.warn)("Optional content group not defined."),!0;if("OCG"===Je.type)return this._groups.has(Je.id)?this._groups.get(Je.id).visible:((0,f.warn)(`Optional content group not found: ${Je.id}`),!0);if("OCMD"===Je.type){if(Je.expression)return this._evaluateVisibilityExpression(Je.expression);if(!Je.policy||"AnyOn"===Je.policy){for(const Te of Je.ids){if(!this._groups.has(Te))return(0,f.warn)(`Optional content group not found: ${Te}`),!0;if(this._groups.get(Te).visible)return!0}return!1}if("AllOn"===Je.policy){for(const Te of Je.ids){if(!this._groups.has(Te))return(0,f.warn)(`Optional content group not found: ${Te}`),!0;if(!this._groups.get(Te).visible)return!1}return!0}if("AnyOff"===Je.policy){for(const Te of Je.ids){if(!this._groups.has(Te))return(0,f.warn)(`Optional content group not found: ${Te}`),!0;if(!this._groups.get(Te).visible)return!0}return!1}if("AllOff"===Je.policy){for(const Te of Je.ids){if(!this._groups.has(Te))return(0,f.warn)(`Optional content group not found: ${Te}`),!0;if(this._groups.get(Te).visible)return!1}return!0}return(0,f.warn)(`Unknown optional content policy ${Je.policy}.`),!0}return(0,f.warn)(`Unknown group type ${Je.type}.`),!0}setVisibility(Je,Te=!0){this._groups.has(Je)?this._groups.get(Je).visible=!!Te:(0,f.warn)(`Optional content group not found: ${Je}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,f.objectFromMap)(this._groups):null}getGroup(Je){return this._groups.get(Je)||null}}},(qt,ue,ge)=>{Object.defineProperty(ue,"__esModule",{value:!0}),ue.PDFDataTransportStream=void 0;var f=ge(1),te=ge(5);ue.PDFDataTransportStream=class le{constructor(m,c){(0,f.assert)(c,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=m.progressiveDone||!1,this._contentDispositionFilename=m.contentDispositionFilename||null;const d=m.initialData;if(d?.length>0){const u=new Uint8Array(d).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=c,this._isStreamingSupported=!m.disableStream,this._isRangeSupported=!m.disableRange,this._contentLength=m.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((u,r)=>{this._onReceiveData({begin:u,chunk:r})}),this._pdfDataRangeTransport.addProgressListener((u,r)=>{this._onProgress({loaded:u,total:r})}),this._pdfDataRangeTransport.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(m){const c=new Uint8Array(m.chunk).buffer;if(void 0===m.begin)this._fullRequestReader?this._fullRequestReader._enqueue(c):this._queuedChunks.push(c);else{const d=this._rangeReaders.some(function(u){return u._begin===m.begin&&(u._enqueue(c),!0)});(0,f.assert)(d,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(m){if(void 0===m.total){const c=this._rangeReaders[0];c?.onProgress&&c.onProgress({loaded:m.loaded})}else{const c=this._fullRequestReader;c?.onProgress&&c.onProgress({loaded:m.loaded,total:m.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(m){const c=this._rangeReaders.indexOf(m);c>=0&&this._rangeReaders.splice(c,1)}getFullReader(){(0,f.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const m=this._queuedChunks;return this._queuedChunks=null,new Qe(this,m,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(m,c){if(c<=this._progressiveDataLength)return null;const d=new Je(this,m,c);return this._pdfDataRangeTransport.requestDataRange(m,c),this._rangeReaders.push(d),d}cancelAllRequests(m){this._fullRequestReader&&this._fullRequestReader.cancel(m);for(const c of this._rangeReaders.slice(0))c.cancel(m);this._pdfDataRangeTransport.abort()}};class Qe{constructor(m,c,d=!1,u=null){this._stream=m,this._done=d||!1,this._filename=(0,te.isPdfFile)(u)?u:null,this._queuedChunks=c||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),m._fullRequestReader=this,this.onProgress=null}_enqueue(m){this._done||(this._requests.length>0?this._requests.shift().resolve({value:m,done:!1}):this._queuedChunks.push(m),this._loaded+=m.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var m=this;return _asyncToGenerator(function*(){if(m._queuedChunks.length>0)return{value:m._queuedChunks.shift(),done:!1};if(m._done)return{value:void 0,done:!0};const c=(0,f.createPromiseCapability)();return m._requests.push(c),c.promise})()}cancel(m){this._done=!0;for(const c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Je{constructor(m,c,d){this._stream=m,this._begin=c,this._end=d,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(m){if(!this._done){if(0===this._requests.length)this._queuedChunk=m;else{this._requests.shift().resolve({value:m,done:!1});for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var m=this;return _asyncToGenerator(function*(){if(m._queuedChunk){const d=m._queuedChunk;return m._queuedChunk=null,{value:d,done:!1}}if(m._done)return{value:void 0,done:!0};const c=(0,f.createPromiseCapability)();return m._requests.push(c),c.promise})()}cancel(m){this._done=!0;for(const c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(qt,ue)=>{Object.defineProperty(ue,"__esModule",{value:!0}),ue.XfaText=void 0;class ge{static textContent(te){const le=[],Qe={items:le,styles:Object.create(null)};return function Je(Te){if(!Te)return;let m=null;const c=Te.name;if("#text"===c)m=Te.value;else{if(!ge.shouldBuildText(c))return;Te?.attributes?.textContent?m=Te.attributes.textContent:Te.value&&(m=Te.value)}if(null!==m&&le.push({str:m}),Te.children)for(const d of Te.children)Je(d)}(te),Qe}static shouldBuildText(te){return!("textarea"===te||"input"===te||"option"===te||"select"===te)}}ue.XfaText=ge},(qt,ue,ge)=>{Object.defineProperty(ue,"__esModule",{value:!0}),ue.NodeStandardFontDataFactory=ue.NodeCanvasFactory=ue.NodeCMapReaderFactory=void 0;var f=ge(6);const te=function(Te){return new Promise((m,c)=>{__webpack_require__(172).readFile(Te,(u,r)=>{!u&&r?m(new Uint8Array(r)):c(new Error(u))})})};ue.NodeCanvasFactory=class le extends f.BaseCanvasFactory{_createCanvas(m,c){return __webpack_require__(3414).createCanvas(m,c)}},ue.NodeCMapReaderFactory=class Qe extends f.BaseCMapReaderFactory{_fetchData(m,c){return te(m).then(d=>({cMapData:d,compressionType:c}))}},ue.NodeStandardFontDataFactory=class Je extends f.BaseStandardFontDataFactory{_fetchData(m){return te(m)}}},(qt,ue,ge)=>{var ie,_m;Object.defineProperty(ue,"__esModule",{value:!0}),ue.AnnotationLayer=void 0;var f=ge(1),te=ge(5),le=ge(8),Qe=ge(21),Je=ge(22);const m=new WeakSet;function c(H){return{width:H[2]-H[0],height:H[3]-H[1]}}class d{static create(F){switch(F.data.annotationType){case f.AnnotationType.LINK:return new r(F);case f.AnnotationType.TEXT:return new o(F);case f.AnnotationType.WIDGET:switch(F.data.fieldType){case"Tx":return new s(F);case"Btn":return F.data.radioButton?new l(F):F.data.checkBox?new h(F):new p(F);case"Ch":return new w(F)}return new i(F);case f.AnnotationType.POPUP:return new _(F);case f.AnnotationType.FREETEXT:return new I(F);case f.AnnotationType.LINE:return new k(F);case f.AnnotationType.SQUARE:return new z(F);case f.AnnotationType.CIRCLE:return new ne(F);case f.AnnotationType.POLYLINE:return new fe(F);case f.AnnotationType.CARET:return new Pe(F);case f.AnnotationType.INK:return new _e(F);case f.AnnotationType.POLYGON:return new ye(F);case f.AnnotationType.HIGHLIGHT:return new we(F);case f.AnnotationType.UNDERLINE:return new Ee(F);case f.AnnotationType.SQUIGGLY:return new de(F);case f.AnnotationType.STRIKEOUT:return new Ve(F);case f.AnnotationType.STAMP:return new Ze(F);case f.AnnotationType.FILEATTACHMENT:return new dt(F);default:return new u(F)}}}class u{constructor(F,{isRenderable:j=!1,ignoreBorder:B=!1,createQuadrilaterals:J=!1}={}){this.isRenderable=j,this.data=F.data,this.layer=F.layer,this.page=F.page,this.viewport=F.viewport,this.linkService=F.linkService,this.downloadManager=F.downloadManager,this.imageResourcesPath=F.imageResourcesPath,this.renderForms=F.renderForms,this.svgFactory=F.svgFactory,this.annotationStorage=F.annotationStorage,this.enableScripting=F.enableScripting,this.hasJSActions=F.hasJSActions,this._fieldObjects=F.fieldObjects,this._mouseState=F.mouseState,j&&(this.container=this._createContainer(B)),J&&(this.quadrilaterals=this._createQuadrilaterals(B))}_createContainer(F=!1){const j=this.data,B=this.page,J=this.viewport,re=document.createElement("section");let{width:me,height:De}=c(j.rect);re.setAttribute("data-annotation-id",j.id);const je=f.Util.normalizeRect([j.rect[0],B.view[3]-j.rect[1]+B.view[1],j.rect[2],B.view[3]-j.rect[3]+B.view[1]]);if(j.hasOwnCanvas){const We=J.transform.slice(),[it,Be]=f.Util.singularValueDecompose2dScale(We);me=Math.ceil(me*it),De=Math.ceil(De*Be),je[0]*=it,je[1]*=Be;for(let Ue=0;Ue<4;Ue++)We[Ue]=Math.sign(We[Ue]);re.style.transform=`matrix(${We.join(",")})`}else re.style.transform=`matrix(${J.transform.join(",")})`;if(re.style.transformOrigin=`${-je[0]}px ${-je[1]}px`,!F&&j.borderStyle.width>0){re.style.borderWidth=`${j.borderStyle.width}px`,j.borderStyle.style!==f.AnnotationBorderStyleType.UNDERLINE&&(me-=2*j.borderStyle.width,De-=2*j.borderStyle.width);const We=j.borderStyle.horizontalCornerRadius,it=j.borderStyle.verticalCornerRadius;switch((We>0||it>0)&&(re.style.borderRadius=`${We}px / ${it}px`),j.borderStyle.style){case f.AnnotationBorderStyleType.SOLID:re.style.borderStyle="solid";break;case f.AnnotationBorderStyleType.DASHED:re.style.borderStyle="dashed";break;case f.AnnotationBorderStyleType.BEVELED:(0,f.warn)("Unimplemented border style: beveled");break;case f.AnnotationBorderStyleType.INSET:(0,f.warn)("Unimplemented border style: inset");break;case f.AnnotationBorderStyleType.UNDERLINE:re.style.borderBottomStyle="solid"}j.borderColor||j.color?re.style.borderColor=f.Util.makeHexColor(0|j.color[0],0|j.color[1],0|j.color[2]):re.style.borderWidth=0}return re.style.left=`${je[0]}px`,re.style.top=`${je[1]}px`,j.hasOwnCanvas?re.style.width=re.style.height="auto":(re.style.width=`${me}px`,re.style.height=`${De}px`),re}get _commonActions(){const F=(j,B,J)=>{const re=J.detail[j];J.target.style[B]=Qe.ColorConverters[`${re[0]}_HTML`](re.slice(1))};return(0,f.shadow)(this,"_commonActions",{display:j=>{const B=j.detail.display%2==1;j.target.style.visibility=B?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:B,print:0===j.detail.display||3===j.detail.display})},print:j=>{this.annotationStorage.setValue(this.data.id,{print:j.detail.print})},hidden:j=>{j.target.style.visibility=j.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:j.detail.hidden})},focus:j=>{setTimeout(()=>j.target.focus({preventScroll:!1}),0)},userName:j=>{j.target.title=j.detail.userName},readonly:j=>{j.detail.readonly?j.target.setAttribute("readonly",""):j.target.removeAttribute("readonly")},required:j=>{j.detail.required?j.target.setAttribute("required",""):j.target.removeAttribute("required")},bgColor:j=>{F("bgColor","backgroundColor",j)},fillColor:j=>{F("fillColor","backgroundColor",j)},fgColor:j=>{F("fgColor","color",j)},textColor:j=>{F("textColor","color",j)},borderColor:j=>{F("borderColor","borderColor",j)},strokeColor:j=>{F("strokeColor","borderColor",j)}})}_dispatchEventFromSandbox(F,j){const B=this._commonActions;for(const J of Object.keys(j.detail)){const re=F[J]||B[J];re&&re(j)}}_setDefaultPropertiesFromJS(F){if(!this.enableScripting)return;const j=this.annotationStorage.getRawValue(this.data.id);if(!j)return;const B=this._commonActions;for(const[J,re]of Object.entries(j)){const me=B[J];me&&(me({detail:re,target:F}),delete j[J])}}_createQuadrilaterals(F=!1){if(!this.data.quadPoints)return null;const j=[],B=this.data.rect;for(const J of this.data.quadPoints)this.data.rect=[J[2].x,J[2].y,J[1].x,J[1].y],j.push(this._createContainer(F));return this.data.rect=B,j}_createPopup(F,j){let B=this.container;this.quadrilaterals&&(F=F||this.quadrilaterals,B=this.quadrilaterals[0]),F||((F=document.createElement("div")).style.height=B.style.height,F.style.width=B.style.width,B.appendChild(F));const re=new C({container:B,trigger:F,color:j.color,titleObj:j.titleObj,modificationDate:j.modificationDate,contentsObj:j.contentsObj,richText:j.richText,hideWrapper:!0}).render();re.style.left=B.style.width,B.appendChild(re)}_renderQuadrilaterals(F){for(const j of this.quadrilaterals)j.className=F;return this.quadrilaterals}render(){(0,f.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(F,j=null){const B=[];if(this._fieldObjects){const J=this._fieldObjects[F];if(J)for(const{page:re,id:me,exportValues:De}of J){if(-1===re||me===j)continue;const je="string"==typeof De?De:null,We=document.getElementById(me);!We||m.has(We)?B.push({id:me,exportValue:je,domElement:We}):(0,f.warn)(`_getElementsByName - element not allowed: ${me}`)}return B}for(const J of document.getElementsByName(F)){const{id:re,exportValue:me}=J;re!==j&&(!m.has(J)||B.push({id:re,exportValue:me,domElement:J}))}return B}static get platform(){const F=typeof navigator<"u"?navigator.platform:"";return(0,f.shadow)(this,"platform",{isWin:F.includes("Win"),isMac:F.includes("Mac")})}}class r extends u{constructor(F,j=null){super(F,{isRenderable:!!(F.data.url||F.data.dest||F.data.action||F.data.isTooltipOnly||F.data.resetForm||F.data.actions&&(F.data.actions.Action||F.data.actions["Mouse Up"]||F.data.actions["Mouse Down"])),ignoreBorder:!!j?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:F,linkService:j}=this,B=document.createElement("a");if(F.url)j.addLinkAttributes(B,F.url,F.newWindow);else if(F.action)this._bindNamedAction(B,F.action);else if(F.dest)this._bindLink(B,F.dest);else{let J=!1;F.actions&&(F.actions.Action||F.actions["Mouse Up"]||F.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(J=!0,this._bindJSAction(B,F)),F.resetForm?this._bindResetFormAction(B,F.resetForm):J||this._bindLink(B,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((J,re)=>{const me=0===re?B:B.cloneNode();return J.appendChild(me),J}):(this.container.className="linkAnnotation",this.container.appendChild(B),this.container)}_bindLink(F,j){F.href=this.linkService.getDestinationHash(j),F.onclick=()=>(j&&this.linkService.goToDestination(j),!1),(j||""===j)&&(F.className="internalLink")}_bindNamedAction(F,j){F.href=this.linkService.getAnchorUrl(""),F.onclick=()=>(this.linkService.executeNamedAction(j),!1),F.className="internalLink"}_bindJSAction(F,j){F.href=this.linkService.getAnchorUrl("");const B=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const J of Object.keys(j.actions)){const re=B.get(J);!re||(F[re]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:j.id,name:J}}),!1))}F.onclick||(F.onclick=()=>!1),F.className="internalLink"}_bindResetFormAction(F,j){const B=F.onclick;if(B||(F.href=this.linkService.getAnchorUrl("")),F.className="internalLink",!this._fieldObjects)return(0,f.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(B||(F.onclick=()=>!1));F.onclick=()=>{B&&B();const{fields:J,refs:re,include:me}=j,De=[];if(0!==J.length||0!==re.length){const it=new Set(re);for(const Be of J){const Ue=this._fieldObjects[Be]||[];for(const{id:ht}of Ue)it.add(ht)}for(const Be of Object.values(this._fieldObjects))for(const Ue of Be)it.has(Ue.id)===me&&De.push(Ue)}else for(const it of Object.values(this._fieldObjects))De.push(...it);const je=this.annotationStorage,We=[];for(const it of De){const{id:Be}=it;switch(We.push(Be),it.type){case"text":case"combobox":case"listbox":je.setValue(Be,{value:it.defaultValue||""});break;case"checkbox":case"radiobutton":je.setValue(Be,{value:it.defaultValue===it.exportValues});break;default:continue}const Ue=document.getElementById(Be);!Ue||!m.has(Ue)||Ue.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:We,name:"ResetForm"}}),!1}}}class o extends u{constructor(F){super(F,{isRenderable:!!(F.data.hasPopup||F.data.titleObj?.str||F.data.contentsObj?.str||F.data.richText?.str)})}render(){this.container.className="textAnnotation";const F=document.createElement("img");return F.style.height=this.container.style.height,F.style.width=this.container.style.width,F.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",F.alt="[{{type}} Annotation]",F.dataset.l10nId="text_annotation_type",F.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(F,this.data),this.container.appendChild(F),this.container}}class i extends u{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(F){const{isWin:j,isMac:B}=u.platform;return j&&F.ctrlKey||B&&F.metaKey}_setEventListener(F,j,B,J){j.includes("mouse")?F.addEventListener(j,re=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:B,value:J(re),shift:re.shiftKey,modifier:this._getKeyModifier(re)}})}):F.addEventListener(j,re=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:B,value:J(re)}})})}_setEventListeners(F,j,B){for(const[J,re]of j)("Action"===re||this.data.actions?.[re])&&this._setEventListener(F,J,re,B)}_setBackgroundColor(F){const j=this.data.backgroundColor||null;F.style.backgroundColor=null===j?"transparent":f.Util.makeHexColor(j[0],j[1],j[2])}}class s extends i{constructor(F){super(F,{isRenderable:F.renderForms||!F.data.hasAppearance&&!!F.data.fieldValue})}setPropertyOnSiblings(F,j,B,J){const re=this.annotationStorage;for(const me of this._getElementsByName(F.name,F.id))me.domElement&&(me.domElement[j]=B),re.setValue(me.id,{[J]:B})}render(){const F=this.annotationStorage,j=this.data.id;this.container.className="textWidgetAnnotation";let B=null;if(this.renderForms){const J=F.getValue(j,{value:this.data.fieldValue}),re=J.formattedValue||J.value||"",me={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(B=document.createElement("textarea"),B.textContent=re):(B=document.createElement("input"),B.type="text",B.setAttribute("value",re)),m.add(B),B.disabled=this.data.readOnly,B.name=this.data.fieldName,B.tabIndex=1e3,me.userValue=re,B.setAttribute("id",j),B.addEventListener("input",je=>{F.setValue(j,{value:je.target.value}),this.setPropertyOnSiblings(B,"value",je.target.value,"value")}),B.addEventListener("resetform",je=>{B.value=me.userValue=this.data.defaultFieldValue??"",me.formattedValue=null});let De=je=>{const{formattedValue:We}=me;null!=We&&(je.target.value=We),je.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){B.addEventListener("focus",We=>{me.userValue&&(We.target.value=me.userValue),me.valueOnFocus=We.target.value}),B.addEventListener("updatefromsandbox",We=>{this._dispatchEventFromSandbox({value(Be){me.userValue=Be.detail.value??"",F.setValue(j,{value:me.userValue.toString()}),Be.target.value=me.userValue},formattedValue(Be){const{formattedValue:Ue}=Be.detail;me.formattedValue=Ue,null!=Ue&&Be.target!==document.activeElement&&(Be.target.value=Ue),F.setValue(j,{formattedValue:Ue})},selRange(Be){Be.target.setSelectionRange(...Be.detail.selRange)}},We)}),B.addEventListener("keydown",We=>{let it=-1;if("Escape"===We.key?it=0:"Enter"===We.key?it=2:"Tab"===We.key&&(it=3),-1===it)return;const{value:Be}=We.target;me.valueOnFocus!==Be&&(me.userValue=Be,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:j,name:"Keystroke",value:Be,willCommit:!0,commitKey:it,selStart:We.target.selectionStart,selEnd:We.target.selectionEnd}}))});const je=De;De=null,B.addEventListener("blur",We=>{const{value:it}=We.target;me.userValue=it,this._mouseState.isDown&&me.valueOnFocus!==it&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:j,name:"Keystroke",value:it,willCommit:!0,commitKey:1,selStart:We.target.selectionStart,selEnd:We.target.selectionEnd}}),je(We)}),this.data.actions?.Keystroke&&B.addEventListener("beforeinput",We=>{const{data:it,target:Be}=We,{value:Ue,selectionStart:ht,selectionEnd:Lt}=Be;let $e=ht,Ke=Lt;switch(We.inputType){case"deleteWordBackward":{const pt=Ue.substring(0,ht).match(/\w*[^\w]*$/);pt&&($e-=pt[0].length);break}case"deleteWordForward":{const pt=Ue.substring(ht).match(/^[^\w]*\w*/);pt&&(Ke+=pt[0].length);break}case"deleteContentBackward":ht===Lt&&($e-=1);break;case"deleteContentForward":ht===Lt&&(Ke+=1)}We.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:j,name:"Keystroke",value:Ue,change:it||"",willCommit:!1,selStart:$e,selEnd:Ke}})}),this._setEventListeners(B,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],We=>We.target.value)}if(De&&B.addEventListener("blur",De),null!==this.data.maxLen&&(B.maxLength=this.data.maxLen),this.data.comb){const We=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;B.classList.add("comb"),B.style.letterSpacing=`calc(${We}px - 1ch)`}}else B=document.createElement("div"),B.textContent=this.data.fieldValue,B.style.verticalAlign="middle",B.style.display="table-cell";return this._setTextStyle(B),this._setBackgroundColor(B),this._setDefaultPropertiesFromJS(B),this.container.appendChild(B),this.container}_setTextStyle(F){const{fontSize:B,fontColor:J}=this.data.defaultAppearanceData,re=F.style;B&&(re.fontSize=`${B}px`),re.color=f.Util.makeHexColor(J[0],J[1],J[2]),null!==this.data.textAlignment&&(re.textAlign=["left","center","right"][this.data.textAlignment])}}class h extends i{constructor(F){super(F,{isRenderable:F.renderForms})}render(){const F=this.annotationStorage,j=this.data,B=j.id;let J=F.getValue(B,{value:j.exportValue===j.fieldValue}).value;"string"==typeof J&&(J="Off"!==J,F.setValue(B,{value:J})),this.container.className="buttonWidgetAnnotation checkBox";const re=document.createElement("input");return m.add(re),re.disabled=j.readOnly,re.type="checkbox",re.name=j.fieldName,J&&re.setAttribute("checked",!0),re.setAttribute("id",B),re.setAttribute("exportValue",j.exportValue),re.tabIndex=1e3,re.addEventListener("change",me=>{const{name:De,checked:je}=me.target;for(const We of this._getElementsByName(De,B)){const it=je&&We.exportValue===j.exportValue;We.domElement&&(We.domElement.checked=it),F.setValue(We.id,{value:it})}F.setValue(B,{value:je})}),re.addEventListener("resetform",me=>{me.target.checked=(j.defaultFieldValue||"Off")===j.exportValue}),this.enableScripting&&this.hasJSActions&&(re.addEventListener("updatefromsandbox",me=>{this._dispatchEventFromSandbox({value(je){je.target.checked="Off"!==je.detail.value,F.setValue(B,{value:je.target.checked})}},me)}),this._setEventListeners(re,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],me=>me.target.checked)),this._setBackgroundColor(re),this._setDefaultPropertiesFromJS(re),this.container.appendChild(re),this.container}}class l extends i{constructor(F){super(F,{isRenderable:F.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const F=this.annotationStorage,j=this.data,B=j.id;let J=F.getValue(B,{value:j.fieldValue===j.buttonValue}).value;"string"==typeof J&&(J=J!==j.buttonValue,F.setValue(B,{value:J}));const re=document.createElement("input");if(m.add(re),re.disabled=j.readOnly,re.type="radio",re.name=j.fieldName,J&&re.setAttribute("checked",!0),re.setAttribute("id",B),re.tabIndex=1e3,re.addEventListener("change",me=>{const{name:De,checked:je}=me.target;for(const We of this._getElementsByName(De,B))F.setValue(We.id,{value:!1});F.setValue(B,{value:je})}),re.addEventListener("resetform",me=>{const De=j.defaultFieldValue;me.target.checked=null!=De&&De===j.buttonValue}),this.enableScripting&&this.hasJSActions){const me=j.buttonValue;re.addEventListener("updatefromsandbox",De=>{this._dispatchEventFromSandbox({value:We=>{const it=me===We.detail.value;for(const Be of this._getElementsByName(We.target.name)){const Ue=it&&Be.id===B;Be.domElement&&(Be.domElement.checked=Ue),F.setValue(Be.id,{value:Ue})}}},De)}),this._setEventListeners(re,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],De=>De.target.checked)}return this._setBackgroundColor(re),this._setDefaultPropertiesFromJS(re),this.container.appendChild(re),this.container}}class p extends r{constructor(F){super(F,{ignoreBorder:F.data.hasAppearance})}render(){const F=super.render();return F.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(F.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(F),F}}class w extends i{constructor(F){super(F,{isRenderable:F.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const F=this.annotationStorage,j=this.data.id,B=F.getValue(j,{value:this.data.fieldValue});let{fontSize:J}=this.data.defaultAppearanceData;J||(J=9);const re=`calc(${J}px * var(--zoom-factor))`,me=document.createElement("select");m.add(me),me.disabled=this.data.readOnly,me.name=this.data.fieldName,me.setAttribute("id",j),me.tabIndex=1e3,me.style.fontSize=`${J}px`,this.data.combo||(me.size=this.data.options.length,this.data.multiSelect&&(me.multiple=!0)),me.addEventListener("resetform",We=>{const it=this.data.defaultFieldValue;for(const Be of me.options)Be.selected=Be.value===it});for(const We of this.data.options){const it=document.createElement("option");it.textContent=We.displayValue,it.value=We.exportValue,this.data.combo&&(it.style.fontSize=re),B.value.includes(We.exportValue)&&it.setAttribute("selected",!0),me.appendChild(it)}const De=(We,it)=>{const Be=it?"value":"textContent",Ue=We.target.options;return We.target.multiple?Array.prototype.filter.call(Ue,ht=>ht.selected).map(ht=>ht[Be]):-1===Ue.selectedIndex?null:Ue[Ue.selectedIndex][Be]},je=We=>Array.prototype.map.call(We.target.options,Be=>({displayValue:Be.textContent,exportValue:Be.value}));return this.enableScripting&&this.hasJSActions?(me.addEventListener("updatefromsandbox",We=>{this._dispatchEventFromSandbox({value(Be){const Ue=Be.detail.value,ht=new Set(Array.isArray(Ue)?Ue:[Ue]);for(const Lt of me.options)Lt.selected=ht.has(Lt.value);F.setValue(j,{value:De(Be,!0)})},multipleSelection(Be){me.multiple=!0},remove(Be){const Ue=me.options,ht=Be.detail.remove;Ue[ht].selected=!1,me.remove(ht),Ue.length>0&&-1===Array.prototype.findIndex.call(Ue,$e=>$e.selected)&&(Ue[0].selected=!0),F.setValue(j,{value:De(Be,!0),items:je(Be)})},clear(Be){for(;0!==me.length;)me.remove(0);F.setValue(j,{value:null,items:[]})},insert(Be){const{index:Ue,displayValue:ht,exportValue:Lt}=Be.detail.insert,$e=document.createElement("option");$e.textContent=ht,$e.value=Lt,me.insertBefore($e,me.children[Ue]),F.setValue(j,{value:De(Be,!0),items:je(Be)})},items(Be){const{items:Ue}=Be.detail;for(;0!==me.length;)me.remove(0);for(const ht of Ue){const{displayValue:Lt,exportValue:$e}=ht,Ke=document.createElement("option");Ke.textContent=Lt,Ke.value=$e,me.appendChild(Ke)}me.options.length>0&&(me.options[0].selected=!0),F.setValue(j,{value:De(Be,!0),items:je(Be)})},indices(Be){const Ue=new Set(Be.detail.indices);for(const ht of Be.target.options)ht.selected=Ue.has(ht.index);F.setValue(j,{value:De(Be,!0)})},editable(Be){Be.target.disabled=!Be.detail.editable}},We)}),me.addEventListener("input",We=>{const it=De(We,!0),Be=De(We,!1);F.setValue(j,{value:it}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:j,name:"Keystroke",value:Be,changeEx:it,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(me,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],We=>We.target.checked)):me.addEventListener("input",function(We){F.setValue(j,{value:De(We,!0)})}),this._setBackgroundColor(me),this._setDefaultPropertiesFromJS(me),this.container.appendChild(me),this.container}}class _ extends u{constructor(F){super(F,{isRenderable:!!(F.data.titleObj?.str||F.data.contentsObj?.str||F.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const B=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===B.length)return this.container;const J=new C({container:this.container,trigger:Array.from(B),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),re=this.page,me=f.Util.normalizeRect([this.data.parentRect[0],re.view[3]-this.data.parentRect[1]+re.view[1],this.data.parentRect[2],re.view[3]-this.data.parentRect[3]+re.view[1]]),De=me[0]+this.data.parentRect[2]-this.data.parentRect[0],je=me[1];return this.container.style.transformOrigin=`${-De}px ${-je}px`,this.container.style.left=`${De}px`,this.container.style.top=`${je}px`,this.container.appendChild(J.render()),this.container}}class C{constructor(F){this.container=F.container,this.trigger=F.trigger,this.color=F.color,this.titleObj=F.titleObj,this.modificationDate=F.modificationDate,this.contentsObj=F.contentsObj,this.richText=F.richText,this.hideWrapper=F.hideWrapper||!1,this.pinned=!1}render(){const j=document.createElement("div");j.className="popupWrapper",this.hideElement=this.hideWrapper?j:this.container,this.hideElement.hidden=!0;const B=document.createElement("div");B.className="popup";const J=this.color;J&&(B.style.backgroundColor=f.Util.makeHexColor(0|.7*(255-J[0])+J[0],0|.7*(255-J[1])+J[1],0|.7*(255-J[2])+J[2]));const re=document.createElement("h1");re.dir=this.titleObj.dir,re.textContent=this.titleObj.str,B.appendChild(re);const me=te.PDFDateString.toDateObject(this.modificationDate);if(me){const De=document.createElement("span");De.className="popupDate",De.textContent="{{date}}, {{time}}",De.dataset.l10nId="annotation_date_string",De.dataset.l10nArgs=JSON.stringify({date:me.toLocaleDateString(),time:me.toLocaleTimeString()}),B.appendChild(De)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const De=this._formatContents(this.contentsObj);B.appendChild(De)}else Je.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:B}),B.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const De of this.trigger)De.addEventListener("click",this._toggle.bind(this)),De.addEventListener("mouseover",this._show.bind(this,!1)),De.addEventListener("mouseout",this._hide.bind(this,!1));return B.addEventListener("click",this._hide.bind(this,!0)),j.appendChild(B),j}_formatContents({str:F,dir:j}){const B=document.createElement("p");B.className="popupContent",B.dir=j;const J=F.split(/(?:\r\n?|\n)/);for(let re=0,me=J.length;re<me;++re)B.appendChild(document.createTextNode(J[re])),re<me-1&&B.appendChild(document.createElement("br"));return B}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(F=!1){F&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(F=!0){F&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class I extends u{constructor(F){super(F,{isRenderable:!!(F.data.hasPopup||F.data.titleObj?.str||F.data.contentsObj?.str||F.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class k extends u{constructor(F){super(F,{isRenderable:!!(F.data.hasPopup||F.data.titleObj?.str||F.data.contentsObj?.str||F.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const F=this.data,{width:j,height:B}=c(F.rect),J=this.svgFactory.create(j,B),re=this.svgFactory.createElement("svg:line");return re.setAttribute("x1",F.rect[2]-F.lineCoordinates[0]),re.setAttribute("y1",F.rect[3]-F.lineCoordinates[1]),re.setAttribute("x2",F.rect[2]-F.lineCoordinates[2]),re.setAttribute("y2",F.rect[3]-F.lineCoordinates[3]),re.setAttribute("stroke-width",F.borderStyle.width||1),re.setAttribute("stroke","transparent"),re.setAttribute("fill","transparent"),J.appendChild(re),this.container.append(J),this._createPopup(re,F),this.container}}class z extends u{constructor(F){super(F,{isRenderable:!!(F.data.hasPopup||F.data.titleObj?.str||F.data.contentsObj?.str||F.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const F=this.data,{width:j,height:B}=c(F.rect),J=this.svgFactory.create(j,B),re=F.borderStyle.width,me=this.svgFactory.createElement("svg:rect");return me.setAttribute("x",re/2),me.setAttribute("y",re/2),me.setAttribute("width",j-re),me.setAttribute("height",B-re),me.setAttribute("stroke-width",re||1),me.setAttribute("stroke","transparent"),me.setAttribute("fill","transparent"),J.appendChild(me),this.container.append(J),this._createPopup(me,F),this.container}}class ne extends u{constructor(F){super(F,{isRenderable:!!(F.data.hasPopup||F.data.titleObj?.str||F.data.contentsObj?.str||F.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const F=this.data,{width:j,height:B}=c(F.rect),J=this.svgFactory.create(j,B),re=F.borderStyle.width,me=this.svgFactory.createElement("svg:ellipse");return me.setAttribute("cx",j/2),me.setAttribute("cy",B/2),me.setAttribute("rx",j/2-re/2),me.setAttribute("ry",B/2-re/2),me.setAttribute("stroke-width",re||1),me.setAttribute("stroke","transparent"),me.setAttribute("fill","transparent"),J.appendChild(me),this.container.append(J),this._createPopup(me,F),this.container}}class fe extends u{constructor(F){super(F,{isRenderable:!!(F.data.hasPopup||F.data.titleObj?.str||F.data.contentsObj?.str||F.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const F=this.data,{width:j,height:B}=c(F.rect),J=this.svgFactory.create(j,B);let re=[];for(const De of F.vertices)re.push(De.x-F.rect[0]+","+(F.rect[3]-De.y));re=re.join(" ");const me=this.svgFactory.createElement(this.svgElementName);return me.setAttribute("points",re),me.setAttribute("stroke-width",F.borderStyle.width||1),me.setAttribute("stroke","transparent"),me.setAttribute("fill","transparent"),J.appendChild(me),this.container.append(J),this._createPopup(me,F),this.container}}class ye extends fe{constructor(F){super(F),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Pe extends u{constructor(F){super(F,{isRenderable:!!(F.data.hasPopup||F.data.titleObj?.str||F.data.contentsObj?.str||F.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class _e extends u{constructor(F){super(F,{isRenderable:!!(F.data.hasPopup||F.data.titleObj?.str||F.data.contentsObj?.str||F.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const F=this.data,{width:j,height:B}=c(F.rect),J=this.svgFactory.create(j,B);for(const re of F.inkLists){let me=[];for(const je of re)me.push(`${je.x-F.rect[0]},${F.rect[3]-je.y}`);me=me.join(" ");const De=this.svgFactory.createElement(this.svgElementName);De.setAttribute("points",me),De.setAttribute("stroke-width",F.borderStyle.width||1),De.setAttribute("stroke","transparent"),De.setAttribute("fill","transparent"),this._createPopup(De,F),J.appendChild(De)}return this.container.append(J),this.container}}class we extends u{constructor(F){super(F,{isRenderable:!!(F.data.hasPopup||F.data.titleObj?.str||F.data.contentsObj?.str||F.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Ee extends u{constructor(F){super(F,{isRenderable:!!(F.data.hasPopup||F.data.titleObj?.str||F.data.contentsObj?.str||F.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class de extends u{constructor(F){super(F,{isRenderable:!!(F.data.hasPopup||F.data.titleObj?.str||F.data.contentsObj?.str||F.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Ve extends u{constructor(F){super(F,{isRenderable:!!(F.data.hasPopup||F.data.titleObj?.str||F.data.contentsObj?.str||F.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class Ze extends u{constructor(F){super(F,{isRenderable:!!(F.data.hasPopup||F.data.titleObj?.str||F.data.contentsObj?.str||F.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class dt extends u{constructor(F){super(F,{isRenderable:!0});const{filename:j,content:B}=this.data.file;this.filename=(0,te.getFilenameFromUrl)(j),this.content=B,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:j,content:B})}render(){this.container.className="fileAttachmentAnnotation";const F=document.createElement("div");return F.style.height=this.container.style.height,F.style.width=this.container.style.width,F.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(F,this.data),this.container.appendChild(F),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class he{static render(F){const j=[],B=[];for(const re of F.annotations){if(!re)continue;const{width:me,height:De}=c(re.rect);if(!(me<=0||De<=0)){if(re.annotationType===f.AnnotationType.POPUP){B.push(re);continue}j.push(re)}}B.length&&j.push(...B);const J=F.div;for(const re of j){const me=d.create({data:re,layer:J,page:F.page,viewport:F.viewport,linkService:F.linkService,downloadManager:F.downloadManager,imageResourcesPath:F.imageResourcesPath||"",renderForms:!1!==F.renderForms,svgFactory:new te.DOMSVGFactory,annotationStorage:F.annotationStorage||new le.AnnotationStorage,enableScripting:F.enableScripting,hasJSActions:F.hasJSActions,fieldObjects:F.fieldObjects,mouseState:F.mouseState||{isDown:!1}});if(me.isRenderable){const De=me.render();if(re.hidden&&(De.style.visibility="hidden"),Array.isArray(De))for(const je of De)J.appendChild(je);else me instanceof _?J.prepend(De):J.appendChild(De)}}ti(this,ie,_m).call(this,J,F.annotationCanvasMap)}static update(F){const{page:j,viewport:B,annotations:J,annotationCanvasMap:re,div:me}=F,De=B.transform,je=`matrix(${De.join(",")})`;let We,it;for(const Be of J){const Ue=me.querySelectorAll(`[data-annotation-id="${Be.id}"]`);if(Ue)for(const ht of Ue)if(Be.hasOwnCanvas){const Lt=f.Util.normalizeRect([Be.rect[0],j.view[3]-Be.rect[1]+j.view[1],Be.rect[2],j.view[3]-Be.rect[3]+j.view[1]]);if(!it){We=Math.abs(De[0]||De[1]);const pt=De.slice();for(let be=0;be<4;be++)pt[be]=Math.sign(pt[be]);it=`matrix(${pt.join(",")})`}const $e=Lt[0]*We,Ke=Lt[1]*We;ht.style.left=`${$e}px`,ht.style.top=`${Ke}px`,ht.style.transformOrigin=`${-$e}px ${-Ke}px`,ht.style.transform=it}else ht.style.transform=je}ti(this,ie,_m).call(this,me,re),me.hidden=!1}}ie=new WeakSet,_m=function(F,j){if(j){for(const[B,J]of j){const re=F.querySelector(`[data-annotation-id="${B}"]`);if(!re)continue;const{firstChild:me}=re;"CANVAS"===me.nodeName?re.replaceChild(J,me):re.insertBefore(J,me)}j.clear()}},oi(he,ie),ue.AnnotationLayer=he},(qt,ue)=>{function ge(te){return Math.floor(255*Math.max(0,Math.min(1,te))).toString(16).padStart(2,"0")}Object.defineProperty(ue,"__esModule",{value:!0}),ue.ColorConverters=void 0,ue.ColorConverters=class f{static CMYK_G([le,Qe,Je,Te]){return["G",1-Math.min(1,.3*le+.59*Je+.11*Qe+Te)]}static G_CMYK([le]){return["CMYK",0,0,0,1-le]}static G_RGB([le]){return["RGB",le,le,le]}static G_HTML([le]){const Qe=ge(le);return`#${Qe}${Qe}${Qe}`}static RGB_G([le,Qe,Je]){return["G",.3*le+.59*Qe+.11*Je]}static RGB_HTML([le,Qe,Je]){return`#${ge(le)}${ge(Qe)}${ge(Je)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([le,Qe,Je,Te]){return["RGB",1-Math.min(1,le+Te),1-Math.min(1,Je+Te),1-Math.min(1,Qe+Te)]}static CMYK_HTML(le){return this.RGB_HTML(this.CMYK_RGB(le))}static RGB_CMYK([le,Qe,Je]){const Te=1-le,m=1-Qe,c=1-Je;return["CMYK",Te,m,c,Math.min(Te,m,c)]}}},(qt,ue,ge)=>{Object.defineProperty(ue,"__esModule",{value:!0}),ue.XfaLayer=void 0;var f=ge(18);ue.XfaLayer=class te{static setupStorage(Qe,Je,Te,m,c){const d=m.getValue(Je,{value:null});switch(Te.name){case"textarea":if(null!==d.value&&(Qe.textContent=d.value),"print"===c)break;Qe.addEventListener("input",u=>{m.setValue(Je,{value:u.target.value})});break;case"input":if("radio"===Te.attributes.type||"checkbox"===Te.attributes.type){if(d.value===Te.attributes.xfaOn?Qe.setAttribute("checked",!0):d.value===Te.attributes.xfaOff&&Qe.removeAttribute("checked"),"print"===c)break;Qe.addEventListener("change",u=>{m.setValue(Je,{value:u.target.getAttribute(u.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==d.value&&Qe.setAttribute("value",d.value),"print"===c)break;Qe.addEventListener("input",u=>{m.setValue(Je,{value:u.target.value})})}break;case"select":if(null!==d.value)for(const u of Te.children)u.attributes.value===d.value&&(u.attributes.selected=!0);Qe.addEventListener("input",u=>{const r=u.target.options;m.setValue(Je,{value:-1===r.selectedIndex?"":r[r.selectedIndex].value})})}}static setAttributes({html:Qe,element:Je,storage:Te=null,intent:m,linkService:c}){const{attributes:d}=Je,u=Qe instanceof HTMLAnchorElement;"radio"===d.type&&(d.name=`${d.name}-${m}`);for(const[r,o]of Object.entries(d))if(null!=o&&"dataId"!==r)if("style"!==r)if("textContent"===r)Qe.textContent=o;else if("class"===r)o.length&&Qe.setAttribute(r,o.join(" "));else{if(u&&("href"===r||"newWindow"===r))continue;Qe.setAttribute(r,o)}else Object.assign(Qe.style,o);u&&c.addLinkAttributes(Qe,d.href,d.newWindow),Te&&d.dataId&&this.setupStorage(Qe,d.dataId,Je,Te)}static render(Qe){const Je=Qe.annotationStorage,Te=Qe.linkService,m=Qe.xfaHtml,c=Qe.intent||"display",d=document.createElement(m.name);m.attributes&&this.setAttributes({html:d,element:m,intent:c,linkService:Te});const u=[[m,-1,d]],r=Qe.div;if(r.appendChild(d),Qe.viewport){const i=`matrix(${Qe.viewport.transform.join(",")})`;r.style.transform=i}"richText"!==c&&r.setAttribute("class","xfaLayer xfaFont");const o=[];for(;u.length>0;){const[i,s,h]=u[u.length-1];if(s+1===i.children.length){u.pop();continue}const l=i.children[++u[u.length-1][1]];if(null===l)continue;const{name:p}=l;if("#text"===p){const _=document.createTextNode(l.value);o.push(_),h.appendChild(_);continue}let w;if(w=l?.attributes?.xmlns?document.createElementNS(l.attributes.xmlns,p):document.createElement(p),h.appendChild(w),l.attributes&&this.setAttributes({html:w,element:l,storage:Je,intent:c,linkService:Te}),l.children&&l.children.length>0)u.push([l,-1,w]);else if(l.value){const _=document.createTextNode(l.value);f.XfaText.shouldBuildText(p)&&o.push(_),w.appendChild(_)}}for(const i of r.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))i.setAttribute("readOnly",!0);return{textDivs:o}}static update(Qe){const Je=`matrix(${Qe.viewport.transform.join(",")})`;Qe.div.style.transform=Je,Qe.div.hidden=!1}}},(qt,ue,ge)=>{Object.defineProperty(ue,"__esModule",{value:!0}),ue.renderTextLayer=function h(l){const p=new s({textContent:l.textContent,textContentStream:l.textContentStream,container:l.container,viewport:l.viewport,textDivs:l.textDivs,textContentItemsStr:l.textContentItemsStr,enhanceTextSelection:l.enhanceTextSelection});return p._render(l.timeout),p};var f=ge(1);const Je=new Map,Te=/^\s+$/g;function c(l,p,w,_){const C=document.createElement("span"),I=l._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==p.str,hasEOL:p.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==p.str,hasEOL:p.hasEOL};l._textDivs.push(C);const k=f.Util.transform(l._viewport.transform,p.transform);let z=Math.atan2(k[1],k[0]);const ne=w[p.fontName];ne.vertical&&(z+=Math.PI/2);const fe=Math.hypot(k[2],k[3]),ye=fe*function m(l,p){const w=Je.get(l);if(w)return w;p.save(),p.font=`30px ${l}`;const _=p.measureText("");let C=_.fontBoundingBoxAscent,I=Math.abs(_.fontBoundingBoxDescent);if(C){p.restore();const z=C/(C+I);return Je.set(l,z),z}p.strokeStyle="red",p.clearRect(0,0,30,30),p.strokeText("g",0,0);let k=p.getImageData(0,0,30,30).data;I=0;for(let z=k.length-1-3;z>=0;z-=4)if(k[z]>0){I=Math.ceil(z/4/30);break}p.clearRect(0,0,30,30),p.strokeText("A",0,30),k=p.getImageData(0,0,30,30).data,C=0;for(let z=0,ne=k.length;z<ne;z+=4)if(k[z]>0){C=30-Math.floor(z/4/30);break}if(p.restore(),C){const z=C/(C+I);return Je.set(l,z),z}return Je.set(l,.8),.8}(ne.fontFamily,_);let Pe,_e;0===z?(Pe=k[4],_e=k[5]-ye):(Pe=k[4]+ye*Math.sin(z),_e=k[5]-ye*Math.cos(z)),C.style.left=`${Pe}px`,C.style.top=`${_e}px`,C.style.fontSize=`${fe}px`,C.style.fontFamily=ne.fontFamily,C.setAttribute("role","presentation"),C.textContent=p.str,C.dir=p.dir,l._fontInspectorEnabled&&(C.dataset.fontName=p.fontName),0!==z&&(I.angle=z*(180/Math.PI));let we=!1;if(p.str.length>1||l._enhanceTextSelection&&Te.test(p.str))we=!0;else if(" "!==p.str&&p.transform[0]!==p.transform[3]){const Ee=Math.abs(p.transform[0]),de=Math.abs(p.transform[3]);Ee!==de&&Math.max(Ee,de)/Math.min(Ee,de)>1.5&&(we=!0)}if(we&&(I.canvasWidth=ne.vertical?p.height*l._viewport.scale:p.width*l._viewport.scale),l._textDivProperties.set(C,I),l._textContentStream&&l._layoutText(C),l._enhanceTextSelection&&I.hasText){let Ee=1,de=0;0!==z&&(Ee=Math.cos(z),de=Math.sin(z));const Ve=(ne.vertical?p.height:p.width)*l._viewport.scale,Ze=fe;let dt,he;0!==z?(dt=[Ee,de,-de,Ee,Pe,_e],he=f.Util.getAxialAlignedBoundingBox([0,0,Ve,Ze],dt)):he=[Pe,_e,Pe+Ve,_e+Ze],l._bounds.push({left:he[0],top:he[1],right:he[2],bottom:he[3],div:C,size:[Ve,Ze],m:dt})}}function d(l){if(l._canceled)return;const p=l._textDivs,w=l._capability,_=p.length;if(_>1e5)return l._renderingDone=!0,void w.resolve();if(!l._textContentStream)for(let C=0;C<_;C++)l._layoutText(p[C]);l._renderingDone=!0,w.resolve()}function u(l,p,w){let _=0;for(let C=0;C<w;C++){const I=l[p++];I>0&&(_=_?Math.min(I,_):I)}return _}function i(l,p){p.sort(function(C,I){return C.x1-I.x1||C.index-I.index});const _=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const C of p){let I=0;for(;I<_.length&&_[I].end<=C.y1;)I++;let k=_.length-1;for(;k>=0&&_[k].start>=C.y2;)k--;let z,ne,fe,ye,Pe=-1/0;for(fe=I;fe<=k;fe++){let Ee;z=_[fe],ne=z.boundary,Ee=ne.x2>C.x1?ne.index>C.index?ne.x1New:C.x1:void 0===ne.x2New?(ne.x2+C.x1)/2:ne.x2New,Ee>Pe&&(Pe=Ee)}for(C.x1New=Pe,fe=I;fe<=k;fe++)z=_[fe],ne=z.boundary,void 0===ne.x2New?ne.x2>C.x1?ne.index>C.index&&(ne.x2New=ne.x2):ne.x2New=Pe:ne.x2New>Pe&&(ne.x2New=Math.max(Pe,ne.x2));const _e=[];let we=null;for(fe=I;fe<=k;fe++){z=_[fe],ne=z.boundary;const Ee=ne.x2>C.x2?ne:C;we===Ee?_e[_e.length-1].end=z.end:(_e.push({start:z.start,end:z.end,boundary:Ee}),we=Ee)}for(_[I].start<C.y1&&(_e[0].start=C.y1,_e.unshift({start:_[I].start,end:C.y1,boundary:_[I].boundary})),C.y2<_[k].end&&(_e[_e.length-1].end=C.y2,_e.push({start:C.y2,end:_[k].end,boundary:_[k].boundary})),fe=I;fe<=k;fe++){if(z=_[fe],ne=z.boundary,void 0!==ne.x2New)continue;let Ee=!1;for(ye=I-1;!Ee&&ye>=0&&_[ye].start>=ne.y1;ye--)Ee=_[ye].boundary===ne;for(ye=k+1;!Ee&&ye<_.length&&_[ye].end<=ne.y2;ye++)Ee=_[ye].boundary===ne;for(ye=0;!Ee&&ye<_e.length;ye++)Ee=_e[ye].boundary===ne;Ee||(ne.x2New=Pe)}Array.prototype.splice.apply(_,[I,k-I+1].concat(_e))}for(const C of _){const I=C.boundary;void 0===I.x2New&&(I.x2New=Math.max(l,I.x2))}}class s{constructor({textContent:p,textContentStream:w,container:_,viewport:C,textDivs:I,textContentItemsStr:k,enhanceTextSelection:z}){this._textContent=p,this._textContentStream=w,this._container=_,this._document=_.ownerDocument,this._viewport=C,this._textDivs=I||[],this._textContentItemsStr=k||[],this._enhanceTextSelection=!!z,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,f.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new f.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(p,w){for(let _=0,C=p.length;_<C;_++)if(void 0!==p[_].str)this._textContentItemsStr.push(p[_].str),c(this,p[_],w,this._layoutTextCtx);else if("beginMarkedContentProps"===p[_].type||"beginMarkedContent"===p[_].type){const I=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==p[_].id&&this._container.setAttribute("id",`${p[_].id}`),I.appendChild(this._container)}else"endMarkedContent"===p[_].type&&(this._container=this._container.parentNode)}_layoutText(p){const w=this._textDivProperties.get(p);let _="";if(0!==w.canvasWidth&&w.hasText){const{fontSize:C,fontFamily:I}=p.style;(C!==this._layoutTextLastFontSize||I!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${C} ${I}`,this._layoutTextLastFontSize=C,this._layoutTextLastFontFamily=I);const{width:k}=this._layoutTextCtx.measureText(p.textContent);if(k>0){const z=w.canvasWidth/k;this._enhanceTextSelection&&(w.scale=z),_=`scaleX(${z})`}}if(0!==w.angle&&(_=`rotate(${w.angle}deg) ${_}`),_.length>0&&(this._enhanceTextSelection&&(w.originalTransform=_),p.style.transform=_),w.hasText&&this._container.appendChild(p),w.hasEOL){const C=document.createElement("br");C.setAttribute("role","presentation"),this._container.appendChild(C)}}_render(p=0){const w=(0,f.createPromiseCapability)();let _=Object.create(null);const C=this._document.createElement("canvas");if(C.height=C.width=30,this._layoutTextCtx=C.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),w.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const I=()=>{this._reader.read().then(({value:k,done:z})=>{z?w.resolve():(Object.assign(_,k.styles),this._processItems(k.items,_),I())},w.reject)};this._reader=this._textContentStream.getReader(),I()}}w.promise.then(()=>{_=null,p?this._renderTimer=setTimeout(()=>{d(this),this._renderTimer=null},p):d(this)},this._capability.reject)}expandTextDivs(p=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function r(l){const p=l._bounds,w=l._viewport,_=function o(l,p,w){const _=w.map(function(I,k){return{x1:I.left,y1:I.top,x2:I.right,y2:I.bottom,index:k,x1New:void 0,x2New:void 0}});i(l,_);const C=new Array(w.length);for(const I of _)C[I.index]={left:I.x1New,top:0,right:I.x2New,bottom:0};w.map(function(I,k){const z=C[k],ne=_[k];ne.x1=I.top,ne.y1=l-z.right,ne.x2=I.bottom,ne.y2=l-z.left,ne.index=k,ne.x1New=void 0,ne.x2New=void 0}),i(p,_);for(const I of _){const k=I.index;C[k].top=I.x1New,C[k].bottom=I.x2New}return C}(w.width,w.height,p);for(let C=0;C<_.length;C++){const I=p[C].div,k=l._textDivProperties.get(I);if(0===k.angle){k.paddingLeft=p[C].left-_[C].left,k.paddingTop=p[C].top-_[C].top,k.paddingRight=_[C].right-p[C].right,k.paddingBottom=_[C].bottom-p[C].bottom,l._textDivProperties.set(I,k);continue}const z=_[C],ne=p[C],fe=ne.m,ye=fe[0],Pe=fe[1],_e=[[0,0],[0,ne.size[1]],[ne.size[0],0],ne.size],we=new Float64Array(64);for(let de=0,Ve=_e.length;de<Ve;de++){const Ze=f.Util.applyTransform(_e[de],fe);we[de+0]=ye&&(z.left-Ze[0])/ye,we[de+4]=Pe&&(z.top-Ze[1])/Pe,we[de+8]=ye&&(z.right-Ze[0])/ye,we[de+12]=Pe&&(z.bottom-Ze[1])/Pe,we[de+16]=Pe&&(z.left-Ze[0])/-Pe,we[de+20]=ye&&(z.top-Ze[1])/ye,we[de+24]=Pe&&(z.right-Ze[0])/-Pe,we[de+28]=ye&&(z.bottom-Ze[1])/ye,we[de+32]=ye&&(z.left-Ze[0])/-ye,we[de+36]=Pe&&(z.top-Ze[1])/-Pe,we[de+40]=ye&&(z.right-Ze[0])/-ye,we[de+44]=Pe&&(z.bottom-Ze[1])/-Pe,we[de+48]=Pe&&(z.left-Ze[0])/Pe,we[de+52]=ye&&(z.top-Ze[1])/-ye,we[de+56]=Pe&&(z.right-Ze[0])/Pe,we[de+60]=ye&&(z.bottom-Ze[1])/-ye}const Ee=1+Math.min(Math.abs(ye),Math.abs(Pe));k.paddingLeft=u(we,32,16)/Ee,k.paddingTop=u(we,48,16)/Ee,k.paddingRight=u(we,0,16)/Ee,k.paddingBottom=u(we,16,16)/Ee,l._textDivProperties.set(I,k)}}(this),this._bounds=null);const w=[],_=[];for(let C=0,I=this._textDivs.length;C<I;C++){const k=this._textDivs[C],z=this._textDivProperties.get(k);!z.hasText||(p?(w.length=0,_.length=0,z.originalTransform&&w.push(z.originalTransform),z.paddingTop>0?(_.push(`${z.paddingTop}px`),w.push(`translateY(${-z.paddingTop}px)`)):_.push(0),_.push(z.paddingRight>0?z.paddingRight/z.scale+"px":0),_.push(z.paddingBottom>0?`${z.paddingBottom}px`:0),z.paddingLeft>0?(_.push(z.paddingLeft/z.scale+"px"),w.push(`translateX(${-z.paddingLeft/z.scale}px)`)):_.push(0),k.style.padding=_.join(" "),w.length&&(k.style.transform=w.join(" "))):(k.style.padding=null,k.style.transform=z.originalTransform))}}}},(qt,ue,ge)=>{Object.defineProperty(ue,"__esModule",{value:!0}),ue.SVGGraphics=void 0;var f=ge(1),te=ge(5),le=ge(3);let Qe=class{constructor(){(0,f.unreachable)("Not implemented: SVGGraphics")}};ue.SVGGraphics=Qe;{let i=function(_){let C=[];const I=[];for(const k of _)"save"!==k.fn?"restore"===k.fn?C=I.pop():C.push(k):(C.push({fnId:92,fn:"group",items:[]}),I.push(C),C=C[C.length-1].items);return C},s=function(_){if(Number.isInteger(_))return _.toString();const C=_.toFixed(10);let I=C.length-1;if("0"!==C[I])return C;do{I--}while("0"===C[I]);return C.substring(0,"."===C[I]?I:I+1)},h=function(_){if(0===_[4]&&0===_[5]){if(0===_[1]&&0===_[2])return 1===_[0]&&1===_[3]?"":`scale(${s(_[0])} ${s(_[3])})`;if(_[0]===_[3]&&_[1]===-_[2]){const C=180*Math.acos(_[0])/Math.PI;return`rotate(${s(C)})`}}else if(1===_[0]&&0===_[1]&&0===_[2]&&1===_[3])return`translate(${s(_[4])} ${s(_[5])})`;return`matrix(${s(_[0])} ${s(_[1])} ${s(_[2])} ${s(_[3])} ${s(_[4])} ${s(_[5])})`};const Je={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Te="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/1999/xlink",c=["butt","round","square"],d=["miter","round","bevel"],u=function(_,C="",I=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!I)return URL.createObjectURL(new Blob([_],{type:C}));const k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let z=`data:${C};base64,`;for(let ne=0,fe=_.length;ne<fe;ne+=3){const ye=255&_[ne],Pe=255&_[ne+1],_e=255&_[ne+2];z+=k[ye>>2]+k[(3&ye)<<4|Pe>>4]+k[ne+1<fe?(15&Pe)<<2|_e>>6:64]+k[ne+2<fe?63&_e:64]}return z},r=function(){const _=new Uint8Array([137,80,78,71,13,10,26,10]),I=new Int32Array(256);for(let _e=0;_e<256;_e++){let we=_e;for(let Ee=0;Ee<8;Ee++)we=1&we?3988292384^we>>1&2147483647:we>>1&2147483647;I[_e]=we}function z(_e,we,Ee,de){let Ve=de;const Ze=we.length;Ee[Ve]=Ze>>24&255,Ee[Ve+1]=Ze>>16&255,Ee[Ve+2]=Ze>>8&255,Ee[Ve+3]=255&Ze,Ve+=4,Ee[Ve]=255&_e.charCodeAt(0),Ee[Ve+1]=255&_e.charCodeAt(1),Ee[Ve+2]=255&_e.charCodeAt(2),Ee[Ve+3]=255&_e.charCodeAt(3),Ve+=4,Ee.set(we,Ve),Ve+=we.length;const dt=function k(_e,we,Ee){let de=-1;for(let Ve=we;Ve<Ee;Ve++)de=de>>>8^I[255&(de^_e[Ve])];return-1^de}(Ee,de+4,Ve);Ee[Ve]=dt>>24&255,Ee[Ve+1]=dt>>16&255,Ee[Ve+2]=dt>>8&255,Ee[Ve+3]=255&dt}function ye(_e){let we=_e.length;const Ee=65535,de=Math.ceil(we/Ee),Ve=new Uint8Array(2+we+5*de+4);let Ze=0;Ve[Ze++]=120,Ve[Ze++]=156;let dt=0;for(;we>Ee;)Ve[Ze++]=0,Ve[Ze++]=255,Ve[Ze++]=255,Ve[Ze++]=0,Ve[Ze++]=0,Ve.set(_e.subarray(dt,dt+Ee),Ze),Ze+=Ee,dt+=Ee,we-=Ee;Ve[Ze++]=1,Ve[Ze++]=255&we,Ve[Ze++]=we>>8&255,Ve[Ze++]=255&~we,Ve[Ze++]=(65535&~we)>>8&255,Ve.set(_e.subarray(dt),Ze),Ze+=_e.length-dt;const he=function ne(_e,we,Ee){let de=1,Ve=0;for(let Ze=we;Ze<Ee;++Ze)de=(de+(255&_e[Ze]))%65521,Ve=(Ve+de)%65521;return Ve<<16|de}(_e,0,_e.length);return Ve[Ze++]=he>>24&255,Ve[Ze++]=he>>16&255,Ve[Ze++]=he>>8&255,Ve[Ze++]=255&he,Ve}return function(we,Ee,de){return function Pe(_e,we,Ee,de){const Ve=_e.width,Ze=_e.height;let dt,he,ie;const R=_e.data;switch(we){case f.ImageKind.GRAYSCALE_1BPP:he=0,dt=1,ie=Ve+7>>3;break;case f.ImageKind.RGB_24BPP:he=2,dt=8,ie=3*Ve;break;case f.ImageKind.RGBA_32BPP:he=6,dt=8,ie=4*Ve;break;default:throw new Error("invalid format")}const H=new Uint8Array((1+ie)*Ze);let F=0,j=0;for(let je=0;je<Ze;++je)H[F++]=0,H.set(R.subarray(j,j+ie),F),j+=ie,F+=ie;if(we===f.ImageKind.GRAYSCALE_1BPP&&de){F=0;for(let je=0;je<Ze;je++){F++;for(let We=0;We<ie;We++)H[F++]^=255}}const B=new Uint8Array([Ve>>24&255,Ve>>16&255,Ve>>8&255,255&Ve,Ze>>24&255,Ze>>16&255,Ze>>8&255,255&Ze,dt,he,0,0,0]),J=function fe(_e){if(!le.isNodeJS)return ye(_e);try{let we;we=parseInt(process.versions.node)>=8?_e:Buffer.from(_e);const Ee=__webpack_require__(2258).deflateSync(we,{level:9});return Ee instanceof Uint8Array?Ee:new Uint8Array(Ee)}catch(we){(0,f.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+we)}return ye(_e)}(H),me=new Uint8Array(_.length+36+B.length+J.length);let De=0;return me.set(_,De),De+=_.length,z("IHDR",B,me,De),De+=12+B.length,z("IDATA",J,me,De),De+=12+J.length,z("IEND",new Uint8Array(0),me,De),u(me,"image/png",Ee)}(we,void 0===we.kind?f.ImageKind.GRAYSCALE_1BPP:we.kind,Ee,de)}}();class o{constructor(){this.fontSizeScale=1,this.fontWeight=Je.fontWeight,this.fontSize=0,this.textMatrix=f.IDENTITY_MATRIX,this.fontMatrix=f.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=f.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=Je.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(C,I){this.x=C,this.y=I}}let l=0,p=0,w=0;ue.SVGGraphics=Qe=class{constructor(_,C,I=!1){this.svgFactory=new te.DOMSVGFactory,this.current=new o,this.transformMatrix=f.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=_,this.objs=C,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!I,this._operatorIdMapping=[];for(const k in f.OPS)this._operatorIdMapping[f.OPS[k]]=k}save(){this.transformStack.push(this.transformMatrix);const _=this.current;this.extraStack.push(_),this.current=_.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(_){this.save(),this.executeOpTree(_),this.restore()}loadDependencies(_){const C=_.fnArray,I=_.argsArray;for(let k=0,z=C.length;k<z;k++)if(C[k]===f.OPS.dependency)for(const ne of I[k]){const fe=ne.startsWith("g_")?this.commonObjs:this.objs,ye=new Promise(Pe=>{fe.get(ne,Pe)});this.current.dependencies.push(ye)}return Promise.all(this.current.dependencies)}transform(_,C,I,k,z,ne){this.transformMatrix=f.Util.transform(this.transformMatrix,[_,C,I,k,z,ne]),this.tgrp=null}getSVG(_,C){this.viewport=C;const I=this._initialize(C);return this.loadDependencies(_).then(()=>(this.transformMatrix=f.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(_)),I))}convertOpList(_){const C=this._operatorIdMapping,I=_.argsArray,k=_.fnArray,z=[];for(let ne=0,fe=k.length;ne<fe;ne++){const ye=k[ne];z.push({fnId:ye,fn:C[ye],args:I[ne]})}return i(z)}executeOpTree(_){for(const C of _){const I=C.fn,z=C.args;switch(0|C.fnId){case f.OPS.beginText:this.beginText();break;case f.OPS.dependency:break;case f.OPS.setLeading:this.setLeading(z);break;case f.OPS.setLeadingMoveText:this.setLeadingMoveText(z[0],z[1]);break;case f.OPS.setFont:this.setFont(z);break;case f.OPS.showText:case f.OPS.showSpacedText:this.showText(z[0]);break;case f.OPS.endText:this.endText();break;case f.OPS.moveText:this.moveText(z[0],z[1]);break;case f.OPS.setCharSpacing:this.setCharSpacing(z[0]);break;case f.OPS.setWordSpacing:this.setWordSpacing(z[0]);break;case f.OPS.setHScale:this.setHScale(z[0]);break;case f.OPS.setTextMatrix:this.setTextMatrix(z[0],z[1],z[2],z[3],z[4],z[5]);break;case f.OPS.setTextRise:this.setTextRise(z[0]);break;case f.OPS.setTextRenderingMode:this.setTextRenderingMode(z[0]);break;case f.OPS.setLineWidth:this.setLineWidth(z[0]);break;case f.OPS.setLineJoin:this.setLineJoin(z[0]);break;case f.OPS.setLineCap:this.setLineCap(z[0]);break;case f.OPS.setMiterLimit:this.setMiterLimit(z[0]);break;case f.OPS.setFillRGBColor:this.setFillRGBColor(z[0],z[1],z[2]);break;case f.OPS.setStrokeRGBColor:this.setStrokeRGBColor(z[0],z[1],z[2]);break;case f.OPS.setStrokeColorN:this.setStrokeColorN(z);break;case f.OPS.setFillColorN:this.setFillColorN(z);break;case f.OPS.shadingFill:this.shadingFill(z[0]);break;case f.OPS.setDash:this.setDash(z[0],z[1]);break;case f.OPS.setRenderingIntent:this.setRenderingIntent(z[0]);break;case f.OPS.setFlatness:this.setFlatness(z[0]);break;case f.OPS.setGState:this.setGState(z[0]);break;case f.OPS.fill:this.fill();break;case f.OPS.eoFill:this.eoFill();break;case f.OPS.stroke:this.stroke();break;case f.OPS.fillStroke:this.fillStroke();break;case f.OPS.eoFillStroke:this.eoFillStroke();break;case f.OPS.clip:this.clip("nonzero");break;case f.OPS.eoClip:this.clip("evenodd");break;case f.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case f.OPS.paintImageXObject:this.paintImageXObject(z[0]);break;case f.OPS.paintInlineImageXObject:this.paintInlineImageXObject(z[0]);break;case f.OPS.paintImageMaskXObject:this.paintImageMaskXObject(z[0]);break;case f.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(z[0],z[1]);break;case f.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case f.OPS.closePath:this.closePath();break;case f.OPS.closeStroke:this.closeStroke();break;case f.OPS.closeFillStroke:this.closeFillStroke();break;case f.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case f.OPS.nextLine:this.nextLine();break;case f.OPS.transform:this.transform(z[0],z[1],z[2],z[3],z[4],z[5]);break;case f.OPS.constructPath:this.constructPath(z[0],z[1]);break;case f.OPS.endPath:this.endPath();break;case 92:this.group(C.items);break;default:(0,f.warn)(`Unimplemented operator ${I}`)}}}setWordSpacing(_){this.current.wordSpacing=_}setCharSpacing(_){this.current.charSpacing=_}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(_,C,I,k,z,ne){const fe=this.current;fe.textMatrix=fe.lineMatrix=[_,C,I,k,z,ne],fe.textMatrixScale=Math.hypot(_,C),fe.x=fe.lineX=0,fe.y=fe.lineY=0,fe.xcoords=[],fe.ycoords=[],fe.tspan=this.svgFactory.createElement("svg:tspan"),fe.tspan.setAttributeNS(null,"font-family",fe.fontFamily),fe.tspan.setAttributeNS(null,"font-size",`${s(fe.fontSize)}px`),fe.tspan.setAttributeNS(null,"y",s(-fe.y)),fe.txtElement=this.svgFactory.createElement("svg:text"),fe.txtElement.appendChild(fe.tspan)}beginText(){const _=this.current;_.x=_.lineX=0,_.y=_.lineY=0,_.textMatrix=f.IDENTITY_MATRIX,_.lineMatrix=f.IDENTITY_MATRIX,_.textMatrixScale=1,_.tspan=this.svgFactory.createElement("svg:tspan"),_.txtElement=this.svgFactory.createElement("svg:text"),_.txtgrp=this.svgFactory.createElement("svg:g"),_.xcoords=[],_.ycoords=[]}moveText(_,C){const I=this.current;I.x=I.lineX+=_,I.y=I.lineY+=C,I.xcoords=[],I.ycoords=[],I.tspan=this.svgFactory.createElement("svg:tspan"),I.tspan.setAttributeNS(null,"font-family",I.fontFamily),I.tspan.setAttributeNS(null,"font-size",`${s(I.fontSize)}px`),I.tspan.setAttributeNS(null,"y",s(-I.y))}showText(_){const C=this.current,I=C.font,k=C.fontSize;if(0===k)return;const z=C.fontSizeScale,ne=C.charSpacing,fe=C.wordSpacing,ye=C.fontDirection,Pe=C.textHScale*ye,_e=I.vertical,we=_e?1:-1,Ee=I.defaultVMetrics,de=k*C.fontMatrix[0];let Ve=0;for(const he of _){if(null===he){Ve+=ye*fe;continue}if("number"==typeof he){Ve+=we*he*k/1e3;continue}const ie=(he.isSpace?fe:0)+ne,R=he.fontChar;let H,F,B,j=he.width;if(_e){let J;const re=he.vmetric||Ee;J=he.vmetric?re[1]:.5*j,J=-J*de,j=re?-re[0]:j,H=J/z,F=(Ve+re[2]*de)/z}else H=Ve/z,F=0;(he.isInFont||I.missingFile)&&(C.xcoords.push(C.x+H),_e&&C.ycoords.push(-C.y+F),C.tspan.textContent+=R),B=_e?j*de-ie*ye:j*de+ie*ye,Ve+=B}C.tspan.setAttributeNS(null,"x",C.xcoords.map(s).join(" ")),C.tspan.setAttributeNS(null,"y",_e?C.ycoords.map(s).join(" "):s(-C.y)),_e?C.y-=Ve:C.x+=Ve*Pe,C.tspan.setAttributeNS(null,"font-family",C.fontFamily),C.tspan.setAttributeNS(null,"font-size",`${s(C.fontSize)}px`),C.fontStyle!==Je.fontStyle&&C.tspan.setAttributeNS(null,"font-style",C.fontStyle),C.fontWeight!==Je.fontWeight&&C.tspan.setAttributeNS(null,"font-weight",C.fontWeight);const Ze=C.textRenderingMode&f.TextRenderingMode.FILL_STROKE_MASK;Ze===f.TextRenderingMode.FILL||Ze===f.TextRenderingMode.FILL_STROKE?(C.fillColor!==Je.fillColor&&C.tspan.setAttributeNS(null,"fill",C.fillColor),C.fillAlpha<1&&C.tspan.setAttributeNS(null,"fill-opacity",C.fillAlpha)):C.tspan.setAttributeNS(null,"fill",C.textRenderingMode===f.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(Ze===f.TextRenderingMode.STROKE||Ze===f.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(C.tspan,1/(C.textMatrixScale||1));let dt=C.textMatrix;0!==C.textRise&&(dt=dt.slice(),dt[5]+=C.textRise),C.txtElement.setAttributeNS(null,"transform",`${h(dt)} scale(${s(Pe)}, -1)`),C.txtElement.setAttributeNS(Te,"xml:space","preserve"),C.txtElement.appendChild(C.tspan),C.txtgrp.appendChild(C.txtElement),this._ensureTransformGroup().appendChild(C.txtElement)}setLeadingMoveText(_,C){this.setLeading(-C),this.moveText(_,C)}addFontStyle(_){if(!_.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const C=u(_.data,_.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${_.loadedName}"; src: url(${C}); }\n`}setFont(_){const C=this.current,I=this.commonObjs.get(_[0]);let k=_[1];C.font=I,this.embedFonts&&!I.missingFile&&!this.embeddedFonts[I.loadedName]&&(this.addFontStyle(I),this.embeddedFonts[I.loadedName]=I),C.fontMatrix=I.fontMatrix||f.FONT_IDENTITY_MATRIX;let z="normal";I.black?z="900":I.bold&&(z="bold");const ne=I.italic?"italic":"normal";k<0?(k=-k,C.fontDirection=-1):C.fontDirection=1,C.fontSize=k,C.fontFamily=I.loadedName,C.fontWeight=z,C.fontStyle=ne,C.tspan=this.svgFactory.createElement("svg:tspan"),C.tspan.setAttributeNS(null,"y",s(-C.y)),C.xcoords=[],C.ycoords=[]}endText(){const _=this.current;_.textRenderingMode&f.TextRenderingMode.ADD_TO_PATH_FLAG&&_.txtElement?.hasChildNodes()&&(_.element=_.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(_){_>0&&(this.current.lineWidth=_)}setLineCap(_){this.current.lineCap=c[_]}setLineJoin(_){this.current.lineJoin=d[_]}setMiterLimit(_){this.current.miterLimit=_}setStrokeAlpha(_){this.current.strokeAlpha=_}setStrokeRGBColor(_,C,I){this.current.strokeColor=f.Util.makeHexColor(_,C,I)}setFillAlpha(_){this.current.fillAlpha=_}setFillRGBColor(_,C,I){this.current.fillColor=f.Util.makeHexColor(_,C,I),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(_){this.current.strokeColor=this._makeColorN_Pattern(_)}setFillColorN(_){this.current.fillColor=this._makeColorN_Pattern(_)}shadingFill(_){const C=this.viewport.width,I=this.viewport.height,k=f.Util.inverseTransform(this.transformMatrix),z=f.Util.applyTransform([0,0],k),ne=f.Util.applyTransform([0,I],k),fe=f.Util.applyTransform([C,0],k),ye=f.Util.applyTransform([C,I],k),Pe=Math.min(z[0],ne[0],fe[0],ye[0]),_e=Math.min(z[1],ne[1],fe[1],ye[1]),we=Math.max(z[0],ne[0],fe[0],ye[0]),Ee=Math.max(z[1],ne[1],fe[1],ye[1]),de=this.svgFactory.createElement("svg:rect");de.setAttributeNS(null,"x",Pe),de.setAttributeNS(null,"y",_e),de.setAttributeNS(null,"width",we-Pe),de.setAttributeNS(null,"height",Ee-_e),de.setAttributeNS(null,"fill",this._makeShadingPattern(_)),this.current.fillAlpha<1&&de.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(de)}_makeColorN_Pattern(_){return"TilingPattern"===_[0]?this._makeTilingPattern(_):this._makeShadingPattern(_)}_makeTilingPattern(_){const C=_[1],I=_[2],k=_[3]||f.IDENTITY_MATRIX,[z,ne,fe,ye]=_[4],Pe=_[5],_e=_[6],we=_[7],Ee="shading"+w++,[de,Ve,Ze,dt]=f.Util.normalizeRect([...f.Util.applyTransform([z,ne],k),...f.Util.applyTransform([fe,ye],k)]),[he,ie]=f.Util.singularValueDecompose2dScale(k),R=Pe*he,H=_e*ie,F=this.svgFactory.createElement("svg:pattern");F.setAttributeNS(null,"id",Ee),F.setAttributeNS(null,"patternUnits","userSpaceOnUse"),F.setAttributeNS(null,"width",R),F.setAttributeNS(null,"height",H),F.setAttributeNS(null,"x",`${de}`),F.setAttributeNS(null,"y",`${Ve}`);const j=this.svg,B=this.transformMatrix,J=this.current.fillColor,re=this.current.strokeColor,me=this.svgFactory.create(Ze-de,dt-Ve);if(this.svg=me,this.transformMatrix=k,2===we){const De=f.Util.makeHexColor(...C);this.current.fillColor=De,this.current.strokeColor=De}return this.executeOpTree(this.convertOpList(I)),this.svg=j,this.transformMatrix=B,this.current.fillColor=J,this.current.strokeColor=re,F.appendChild(me.childNodes[0]),this.defs.appendChild(F),`url(#${Ee})`}_makeShadingPattern(_){switch("string"==typeof _&&(_=this.objs.get(_)),_[0]){case"RadialAxial":const C="shading"+w++,I=_[3];let k;switch(_[1]){case"axial":const z=_[4],ne=_[5];k=this.svgFactory.createElement("svg:linearGradient"),k.setAttributeNS(null,"id",C),k.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),k.setAttributeNS(null,"x1",z[0]),k.setAttributeNS(null,"y1",z[1]),k.setAttributeNS(null,"x2",ne[0]),k.setAttributeNS(null,"y2",ne[1]);break;case"radial":const fe=_[4],ye=_[5],Pe=_[6],_e=_[7];k=this.svgFactory.createElement("svg:radialGradient"),k.setAttributeNS(null,"id",C),k.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),k.setAttributeNS(null,"cx",ye[0]),k.setAttributeNS(null,"cy",ye[1]),k.setAttributeNS(null,"r",_e),k.setAttributeNS(null,"fx",fe[0]),k.setAttributeNS(null,"fy",fe[1]),k.setAttributeNS(null,"fr",Pe);break;default:throw new Error(`Unknown RadialAxial type: ${_[1]}`)}for(const z of I){const ne=this.svgFactory.createElement("svg:stop");ne.setAttributeNS(null,"offset",z[0]),ne.setAttributeNS(null,"stop-color",z[1]),k.appendChild(ne)}return this.defs.appendChild(k),`url(#${C})`;case"Mesh":return(0,f.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${_[0]}`)}}setDash(_,C){this.current.dashArray=_,this.current.dashPhase=C}constructPath(_,C){const I=this.current;let k=I.x,z=I.y,ne=[],fe=0;for(const ye of _)switch(0|ye){case f.OPS.rectangle:k=C[fe++],z=C[fe++];const we=k+C[fe++],Ee=z+C[fe++];ne.push("M",s(k),s(z),"L",s(we),s(z),"L",s(we),s(Ee),"L",s(k),s(Ee),"Z");break;case f.OPS.moveTo:k=C[fe++],z=C[fe++],ne.push("M",s(k),s(z));break;case f.OPS.lineTo:k=C[fe++],z=C[fe++],ne.push("L",s(k),s(z));break;case f.OPS.curveTo:k=C[fe+4],z=C[fe+5],ne.push("C",s(C[fe]),s(C[fe+1]),s(C[fe+2]),s(C[fe+3]),s(k),s(z)),fe+=6;break;case f.OPS.curveTo2:ne.push("C",s(k),s(z),s(C[fe]),s(C[fe+1]),s(C[fe+2]),s(C[fe+3])),k=C[fe+2],z=C[fe+3],fe+=4;break;case f.OPS.curveTo3:k=C[fe+2],z=C[fe+3],ne.push("C",s(C[fe]),s(C[fe+1]),s(k),s(z),s(k),s(z)),fe+=4;break;case f.OPS.closePath:ne.push("Z")}ne=ne.join(" "),I.path&&_.length>0&&_[0]!==f.OPS.rectangle&&_[0]!==f.OPS.moveTo?ne=I.path.getAttributeNS(null,"d")+ne:(I.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(I.path)),I.path.setAttributeNS(null,"d",ne),I.path.setAttributeNS(null,"fill","none"),I.element=I.path,I.setCurrentPoint(k,z)}endPath(){const _=this.current;if(_.path=null,!this.pendingClip)return;if(!_.element)return void(this.pendingClip=null);const C="clippath"+l++,I=this.svgFactory.createElement("svg:clipPath");I.setAttributeNS(null,"id",C),I.setAttributeNS(null,"transform",h(this.transformMatrix));const k=_.element.cloneNode(!0);if(k.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,I.appendChild(k),this.defs.appendChild(I),_.activeClipUrl){_.clipGroup=null;for(const z of this.extraStack)z.clipGroup=null;I.setAttributeNS(null,"clip-path",_.activeClipUrl)}_.activeClipUrl=`url(#${C})`,this.tgrp=null}clip(_){this.pendingClip=_}closePath(){const _=this.current;if(_.path){const C=`${_.path.getAttributeNS(null,"d")}Z`;_.path.setAttributeNS(null,"d",C)}}setLeading(_){this.current.leading=-_}setTextRise(_){this.current.textRise=_}setTextRenderingMode(_){this.current.textRenderingMode=_}setHScale(_){this.current.textHScale=_/100}setRenderingIntent(_){}setFlatness(_){}setGState(_){for(const[C,I]of _)switch(C){case"LW":this.setLineWidth(I);break;case"LC":this.setLineCap(I);break;case"LJ":this.setLineJoin(I);break;case"ML":this.setMiterLimit(I);break;case"D":this.setDash(I[0],I[1]);break;case"RI":this.setRenderingIntent(I);break;case"FL":this.setFlatness(I);break;case"Font":this.setFont(I);break;case"CA":this.setStrokeAlpha(I);break;case"ca":this.setFillAlpha(I);break;default:(0,f.warn)(`Unimplemented graphic state operator ${C}`)}}fill(){const _=this.current;_.element&&(_.element.setAttributeNS(null,"fill",_.fillColor),_.element.setAttributeNS(null,"fill-opacity",_.fillAlpha),this.endPath())}stroke(){const _=this.current;_.element&&(this._setStrokeAttributes(_.element),_.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(_,C=1){const I=this.current;let k=I.dashArray;1!==C&&k.length>0&&(k=k.map(function(z){return C*z})),_.setAttributeNS(null,"stroke",I.strokeColor),_.setAttributeNS(null,"stroke-opacity",I.strokeAlpha),_.setAttributeNS(null,"stroke-miterlimit",s(I.miterLimit)),_.setAttributeNS(null,"stroke-linecap",I.lineCap),_.setAttributeNS(null,"stroke-linejoin",I.lineJoin),_.setAttributeNS(null,"stroke-width",s(C*I.lineWidth)+"px"),_.setAttributeNS(null,"stroke-dasharray",k.map(s).join(" ")),_.setAttributeNS(null,"stroke-dashoffset",s(C*I.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const _=this.svgFactory.createElement("svg:rect");_.setAttributeNS(null,"x","0"),_.setAttributeNS(null,"y","0"),_.setAttributeNS(null,"width","1px"),_.setAttributeNS(null,"height","1px"),_.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(_)}paintImageXObject(_){const C=_.startsWith("g_")?this.commonObjs.get(_):this.objs.get(_);C?this.paintInlineImageXObject(C):(0,f.warn)(`Dependent image with object ID ${_} is not ready yet`)}paintInlineImageXObject(_,C){const I=_.width,k=_.height,z=r(_,this.forceDataSchema,!!C),ne=this.svgFactory.createElement("svg:rect");ne.setAttributeNS(null,"x","0"),ne.setAttributeNS(null,"y","0"),ne.setAttributeNS(null,"width",s(I)),ne.setAttributeNS(null,"height",s(k)),this.current.element=ne,this.clip("nonzero");const fe=this.svgFactory.createElement("svg:image");fe.setAttributeNS(m,"xlink:href",z),fe.setAttributeNS(null,"x","0"),fe.setAttributeNS(null,"y",s(-k)),fe.setAttributeNS(null,"width",s(I)+"px"),fe.setAttributeNS(null,"height",s(k)+"px"),fe.setAttributeNS(null,"transform",`scale(${s(1/I)} ${s(-1/k)})`),C?C.appendChild(fe):this._ensureTransformGroup().appendChild(fe)}paintImageMaskXObject(_){const C=this.current,I=_.width,k=_.height,z=C.fillColor;C.maskId="mask"+p++;const ne=this.svgFactory.createElement("svg:mask");ne.setAttributeNS(null,"id",C.maskId);const fe=this.svgFactory.createElement("svg:rect");fe.setAttributeNS(null,"x","0"),fe.setAttributeNS(null,"y","0"),fe.setAttributeNS(null,"width",s(I)),fe.setAttributeNS(null,"height",s(k)),fe.setAttributeNS(null,"fill",z),fe.setAttributeNS(null,"mask",`url(#${C.maskId})`),this.defs.appendChild(ne),this._ensureTransformGroup().appendChild(fe),this.paintInlineImageXObject(_,ne)}paintFormXObjectBegin(_,C){if(Array.isArray(_)&&6===_.length&&this.transform(_[0],_[1],_[2],_[3],_[4],_[5]),C){const I=C[2]-C[0],k=C[3]-C[1],z=this.svgFactory.createElement("svg:rect");z.setAttributeNS(null,"x",C[0]),z.setAttributeNS(null,"y",C[1]),z.setAttributeNS(null,"width",s(I)),z.setAttributeNS(null,"height",s(k)),this.current.element=z,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(_){const C=this.svgFactory.create(_.width,_.height),I=this.svgFactory.createElement("svg:defs");C.appendChild(I),this.defs=I;const k=this.svgFactory.createElement("svg:g");return k.setAttributeNS(null,"transform",h(_.transform)),C.appendChild(k),this.svg=k,C}_ensureClipGroup(){if(!this.current.clipGroup){const _=this.svgFactory.createElement("svg:g");_.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(_),this.current.clipGroup=_}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",h(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(qt,ue,ge)=>{Object.defineProperty(ue,"__esModule",{value:!0}),ue.PDFNodeStream=void 0;var f=ge(1),te=ge(26);const le=__webpack_require__(172),Qe=__webpack_require__(2001),Je=__webpack_require__(3779),Te=__webpack_require__(6558),m=/^file:\/\/\/[a-zA-Z]:\//;ue.PDFNodeStream=class d{constructor(w){this.source=w,this.url=function c(p){const w=Te.parse(p);return"file:"===w.protocol||w.host?w:/^[a-z]:[/\\]/i.test(p)?Te.parse(`file:///${p}`):(w.host||(w.protocol="file:"),w)}(w.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&w.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,f.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new h(this):new i(this),this._fullRequestReader}getRangeReader(w,_){if(_<=this._progressiveDataLength)return null;const C=this.isFsUrl?new l(this,w,_):new s(this,w,_);return this._rangeRequestReaders.push(C),C}cancelAllRequests(w){this._fullRequestReader&&this._fullRequestReader.cancel(w);for(const _ of this._rangeRequestReaders.slice(0))_.cancel(w)}};class u{constructor(w){this._url=w.url,this._done=!1,this._storedError=null,this.onProgress=null;const _=w.source;this._contentLength=_.length,this._loaded=0,this._filename=null,this._disableRange=_.disableRange||!1,this._rangeChunkSize=_.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!_.disableStream,this._isRangeSupported=!_.disableRange,this._readableStream=null,this._readCapability=(0,f.createPromiseCapability)(),this._headersCapability=(0,f.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var w=this;return _asyncToGenerator(function*(){if(yield w._readCapability.promise,w._done)return{value:void 0,done:!0};if(w._storedError)throw w._storedError;const _=w._readableStream.read();return null===_?(w._readCapability=(0,f.createPromiseCapability)(),w.read()):(w._loaded+=_.length,w.onProgress&&w.onProgress({loaded:w._loaded,total:w._contentLength}),{value:new Uint8Array(_).buffer,done:!1})})()}cancel(w){this._readableStream?this._readableStream.destroy(w):this._error(w)}_error(w){this._storedError=w,this._readCapability.resolve()}_setReadableStream(w){this._readableStream=w,w.on("readable",()=>{this._readCapability.resolve()}),w.on("end",()=>{w.destroy(),this._done=!0,this._readCapability.resolve()}),w.on("error",_=>{this._error(_)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new f.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class r{constructor(w){this._url=w.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,f.createPromiseCapability)(),this._isStreamingSupported=!w.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var w=this;return _asyncToGenerator(function*(){if(yield w._readCapability.promise,w._done)return{value:void 0,done:!0};if(w._storedError)throw w._storedError;const _=w._readableStream.read();return null===_?(w._readCapability=(0,f.createPromiseCapability)(),w.read()):(w._loaded+=_.length,w.onProgress&&w.onProgress({loaded:w._loaded}),{value:new Uint8Array(_).buffer,done:!1})})()}cancel(w){this._readableStream?this._readableStream.destroy(w):this._error(w)}_error(w){this._storedError=w,this._readCapability.resolve()}_setReadableStream(w){this._readableStream=w,w.on("readable",()=>{this._readCapability.resolve()}),w.on("end",()=>{w.destroy(),this._done=!0,this._readCapability.resolve()}),w.on("error",_=>{this._error(_)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function o(p,w){return{protocol:p.protocol,auth:p.auth,host:p.hostname,port:p.port,path:p.path,method:"GET",headers:w}}class i extends u{constructor(w){super(w);const _=C=>{if(404===C.statusCode){const ne=new f.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=ne,void this._headersCapability.reject(ne)}this._headersCapability.resolve(),this._setReadableStream(C);const I=ne=>this._readableStream.headers[ne.toLowerCase()],{allowRangeRequests:k,suggestedLength:z}=(0,te.validateRangeRequestCapabilities)({getResponseHeader:I,isHttp:w.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=k,this._contentLength=z||this._contentLength,this._filename=(0,te.extractFilenameFromHeader)(I)};this._request=null,this._request="http:"===this._url.protocol?Qe.request(o(this._url,w.httpHeaders),_):Je.request(o(this._url,w.httpHeaders),_),this._request.on("error",C=>{this._storedError=C,this._headersCapability.reject(C)}),this._request.end()}}class s extends r{constructor(w,_,C){super(w),this._httpHeaders={};for(const k in w.httpHeaders){const z=w.httpHeaders[k];typeof z>"u"||(this._httpHeaders[k]=z)}this._httpHeaders.Range=`bytes=${_}-${C-1}`;const I=k=>{if(404!==k.statusCode)this._setReadableStream(k);else{const z=new f.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=z}};this._request=null,this._request="http:"===this._url.protocol?Qe.request(o(this._url,this._httpHeaders),I):Je.request(o(this._url,this._httpHeaders),I),this._request.on("error",k=>{this._storedError=k}),this._request.end()}}class h extends u{constructor(w){super(w);let _=decodeURIComponent(this._url.path);m.test(this._url.href)&&(_=_.replace(/^\//,"")),le.lstat(_,(C,I)=>{if(C)return"ENOENT"===C.code&&(C=new f.MissingPDFException(`Missing PDF "${_}".`)),this._storedError=C,void this._headersCapability.reject(C);this._contentLength=I.size,this._setReadableStream(le.createReadStream(_)),this._headersCapability.resolve()})}}class l extends r{constructor(w,_,C){super(w);let I=decodeURIComponent(this._url.path);m.test(this._url.href)&&(I=I.replace(/^\//,"")),this._setReadableStream(le.createReadStream(I,{start:_,end:C-1}))}}},(qt,ue,ge)=>{Object.defineProperty(ue,"__esModule",{value:!0}),ue.createResponseStatusError=function Te(c,d){return 404===c||0===c&&d.startsWith("file:")?new f.MissingPDFException('Missing PDF "'+d+'".'):new f.UnexpectedResponseException(`Unexpected server response (${c}) while retrieving PDF "${d}".`,c)},ue.extractFilenameFromHeader=function Je(c){const d=c("Content-Disposition");if(d){let u=(0,te.getFilenameFromContentDispositionHeader)(d);if(u.includes("%"))try{u=decodeURIComponent(u)}catch{}if((0,le.isPdfFile)(u))return u}return null},ue.validateRangeRequestCapabilities=function Qe({getResponseHeader:c,isHttp:d,rangeChunkSize:u,disableRange:r}){const o={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(c("Content-Length"),10);return!Number.isInteger(i)||(o.suggestedLength=i,i<=2*u)||r||!d||"bytes"!==c("Accept-Ranges")||"identity"!==(c("Content-Encoding")||"identity")||(o.allowRangeRequests=!0),o},ue.validateResponseStatus=function m(c){return 200===c||206===c};var f=ge(1),te=ge(27),le=ge(5)},(qt,ue,ge)=>{Object.defineProperty(ue,"__esModule",{value:!0}),ue.getFilenameFromContentDispositionHeader=function te(le){let Qe=!0,Je=Te("filename\\*","i").exec(le);if(Je){Je=Je[1];let i=u(Je);return i=unescape(i),i=r(i),i=o(i),c(i)}if(Je=function d(i){const s=[];let h;const l=Te("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(h=l.exec(i));){let[,w,_,C]=h;if(w=parseInt(w,10),w in s){if(0===w)break}else s[w]=[_,C]}const p=[];for(let w=0;w<s.length&&w in s;++w){let[_,C]=s[w];C=u(C),_&&(C=unescape(C),0===w&&(C=r(C))),p.push(C)}return p.join("")}(le),Je)return c(o(Je));if(Je=Te("filename","i").exec(le),Je){Je=Je[1];let i=u(Je);return i=o(i),c(i)}function Te(i,s){return new RegExp("(?:^|;)\\s*"+i+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',s)}function m(i,s){if(i){if(!/^[\x00-\xFF]+$/.test(s))return s;try{const h=new TextDecoder(i,{fatal:!0}),l=(0,f.stringToBytes)(s);s=h.decode(l),Qe=!1}catch{}}return s}function c(i){return Qe&&/[\x80-\xff]/.test(i)&&(i=m("utf-8",i),Qe&&(i=m("iso-8859-1",i))),i}function u(i){if(i.startsWith('"')){const s=i.slice(1).split('\\"');for(let h=0;h<s.length;++h){const l=s[h].indexOf('"');-1!==l&&(s[h]=s[h].slice(0,l),s.length=h+1),s[h]=s[h].replace(/\\(.)/g,"$1")}i=s.join('"')}return i}function r(i){const s=i.indexOf("'");return-1===s?i:m(i.slice(0,s),i.slice(s+1).replace(/^[^']*'/,""))}function o(i){return!i.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(i)?i:i.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(s,h,l,p){if("q"===l||"Q"===l)return m(h,p=(p=p.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(w,_){return String.fromCharCode(parseInt(_,16))}));try{p=atob(p)}catch{}return m(h,p)})}return""};var f=ge(1)},(qt,ue,ge)=>{Object.defineProperty(ue,"__esModule",{value:!0}),ue.PDFNetworkStream=void 0;var f=ge(1),te=ge(26);class Te{constructor(r,o={}){this.url=r,this.isHttp=/^https?:/i.test(r),this.httpHeaders=this.isHttp&&o.httpHeaders||Object.create(null),this.withCredentials=o.withCredentials||!1,this.getXhr=o.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(r,o,i){const s={begin:r,end:o};for(const h in i)s[h]=i[h];return this.request(s)}requestFull(r){return this.request(r)}request(r){const o=this.getXhr(),i=this.currXhrId++,s=this.pendingRequests[i]={xhr:o};o.open("GET",this.url),o.withCredentials=this.withCredentials;for(const h in this.httpHeaders){const l=this.httpHeaders[h];typeof l>"u"||o.setRequestHeader(h,l)}return this.isHttp&&"begin"in r&&"end"in r?(o.setRequestHeader("Range",`bytes=${r.begin}-${r.end-1}`),s.expectedStatus=206):s.expectedStatus=200,o.responseType="arraybuffer",r.onError&&(o.onerror=function(h){r.onError(o.status)}),o.onreadystatechange=this.onStateChange.bind(this,i),o.onprogress=this.onProgress.bind(this,i),s.onHeadersReceived=r.onHeadersReceived,s.onDone=r.onDone,s.onError=r.onError,s.onProgress=r.onProgress,o.send(null),i}onProgress(r,o){const i=this.pendingRequests[r];!i||i.onProgress?.(o)}onStateChange(r,o){const i=this.pendingRequests[r];if(!i)return;const s=i.xhr;if(s.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),4!==s.readyState||!(r in this.pendingRequests))return;if(delete this.pendingRequests[r],0===s.status&&this.isHttp)return void i.onError?.(s.status);const h=s.status||200;if((200!==h||206!==i.expectedStatus)&&h!==i.expectedStatus)return void i.onError?.(s.status);const p=function Je(u){const r=u.response;return"string"!=typeof r?r:(0,f.stringToBytes)(r).buffer}(s);if(206===h){const w=s.getResponseHeader("Content-Range"),_=/bytes (\d+)-(\d+)\/(\d+)/.exec(w);i.onDone({begin:parseInt(_[1],10),chunk:p})}else p?i.onDone({begin:0,chunk:p}):i.onError?.(s.status)}getRequestXhr(r){return this.pendingRequests[r].xhr}isPendingRequest(r){return r in this.pendingRequests}abortRequest(r){const o=this.pendingRequests[r].xhr;delete this.pendingRequests[r],o.abort()}}ue.PDFNetworkStream=class m{constructor(r){this._source=r,this._manager=new Te(r.url,{httpHeaders:r.httpHeaders,withCredentials:r.withCredentials}),this._rangeChunkSize=r.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(r){const o=this._rangeRequestReaders.indexOf(r);o>=0&&this._rangeRequestReaders.splice(o,1)}getFullReader(){return(0,f.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new c(this._manager,this._source),this._fullRequestReader}getRangeReader(r,o){const i=new d(this._manager,r,o);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(r){this._fullRequestReader?.cancel(r);for(const o of this._rangeRequestReaders.slice(0))o.cancel(r)}};class c{constructor(r,o){this._manager=r;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=o.url,this._fullRequestId=r.requestFull(i),this._headersReceivedCapability=(0,f.createPromiseCapability)(),this._disableRange=o.disableRange||!1,this._contentLength=o.length,this._rangeChunkSize=o.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const r=this._fullRequestId,o=this._manager.getRequestXhr(r),i=l=>o.getResponseHeader(l),{allowRangeRequests:s,suggestedLength:h}=(0,te.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=h||this._contentLength,this._filename=(0,te.extractFilenameFromHeader)(i),this._isRangeSupported&&this._manager.abortRequest(r),this._headersReceivedCapability.resolve()}_onDone(r){if(r&&(this._requests.length>0?this._requests.shift().resolve({value:r.chunk,done:!1}):this._cachedChunks.push(r.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(r){this._storedError=(0,te.createResponseStatusError)(r,this._url),this._headersReceivedCapability.reject(this._storedError);for(const o of this._requests)o.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(r){this.onProgress?.({loaded:r.loaded,total:r.lengthComputable?r.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var r=this;return _asyncToGenerator(function*(){if(r._storedError)throw r._storedError;if(r._cachedChunks.length>0)return{value:r._cachedChunks.shift(),done:!1};if(r._done)return{value:void 0,done:!0};const o=(0,f.createPromiseCapability)();return r._requests.push(o),o.promise})()}cancel(r){this._done=!0,this._headersReceivedCapability.reject(r);for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class d{constructor(r,o,i){this._manager=r;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=r.url,this._requestId=r.requestRange(o,i,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(r){const o=r.chunk;this._requests.length>0?this._requests.shift().resolve({value:o,done:!1}):this._queuedChunk=o,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(r){this._storedError=(0,te.createResponseStatusError)(r,this._url);for(const o of this._requests)o.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(r){this.isStreamingSupported||this.onProgress?.({loaded:r.loaded})}get isStreamingSupported(){return!1}read(){var r=this;return _asyncToGenerator(function*(){if(r._storedError)throw r._storedError;if(null!==r._queuedChunk){const i=r._queuedChunk;return r._queuedChunk=null,{value:i,done:!1}}if(r._done)return{value:void 0,done:!0};const o=(0,f.createPromiseCapability)();return r._requests.push(o),o.promise})()}cancel(r){this._done=!0;for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(qt,ue,ge)=>{Object.defineProperty(ue,"__esModule",{value:!0}),ue.PDFFetchStream=void 0;var f=ge(1),te=ge(26);function le(c,d,u){return{method:"GET",headers:c,signal:u?.signal,mode:"cors",credentials:d?"include":"same-origin",redirect:"follow"}}function Qe(c){const d=new Headers;for(const u in c){const r=c[u];typeof r>"u"||d.append(u,r)}return d}ue.PDFFetchStream=class Je{constructor(d){this.source=d,this.isHttp=/^https?:/i.test(d.url),this.httpHeaders=this.isHttp&&d.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,f.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Te(this),this._fullRequestReader}getRangeReader(d,u){if(u<=this._progressiveDataLength)return null;const r=new m(this,d,u);return this._rangeRequestReaders.push(r),r}cancelAllRequests(d){this._fullRequestReader&&this._fullRequestReader.cancel(d);for(const u of this._rangeRequestReaders.slice(0))u.cancel(d)}};class Te{constructor(d){this._stream=d,this._reader=null,this._loaded=0,this._filename=null;const u=d.source;this._withCredentials=u.withCredentials||!1,this._contentLength=u.length,this._headersCapability=(0,f.createPromiseCapability)(),this._disableRange=u.disableRange||!1,this._rangeChunkSize=u.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!u.disableStream,this._isRangeSupported=!u.disableRange,this._headers=Qe(this._stream.httpHeaders);const r=u.url;fetch(r,le(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!(0,te.validateResponseStatus)(o.status))throw(0,te.createResponseStatusError)(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const i=l=>o.headers.get(l),{allowRangeRequests:s,suggestedLength:h}=(0,te.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=h||this._contentLength,this._filename=(0,te.extractFilenameFromHeader)(i),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new f.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var d=this;return _asyncToGenerator(function*(){yield d._headersCapability.promise;const{value:u,done:r}=yield d._reader.read();return r?{value:u,done:r}:(d._loaded+=u.byteLength,d.onProgress&&d.onProgress({loaded:d._loaded,total:d._contentLength}),{value:new Uint8Array(u).buffer,done:!1})})()}cancel(d){this._reader&&this._reader.cancel(d),this._abortController&&this._abortController.abort()}}class m{constructor(d,u,r){this._stream=d,this._reader=null,this._loaded=0;const o=d.source;this._withCredentials=o.withCredentials||!1,this._readCapability=(0,f.createPromiseCapability)(),this._isStreamingSupported=!o.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=Qe(this._stream.httpHeaders),this._headers.append("Range",`bytes=${u}-${r-1}`);const i=o.url;fetch(i,le(this._headers,this._withCredentials,this._abortController)).then(s=>{if(!(0,te.validateResponseStatus)(s.status))throw(0,te.createResponseStatusError)(s.status,i);this._readCapability.resolve(),this._reader=s.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var d=this;return _asyncToGenerator(function*(){yield d._readCapability.promise;const{value:u,done:r}=yield d._reader.read();return r?{value:u,done:r}:(d._loaded+=u.byteLength,d.onProgress&&d.onProgress({loaded:d._loaded}),{value:new Uint8Array(u).buffer,done:!1})})()}cancel(d){this._reader&&this._reader.cancel(d),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(qt){var ue=__webpack_module_cache__[qt];if(void 0!==ue)return ue.exports;var ge=__webpack_module_cache__[qt]={exports:{}};return __webpack_modules__[qt](ge,ge.exports,__w_pdfjs_require__),ge.exports}var __webpack_exports__={};return(()=>{var qt=__webpack_exports__;Object.defineProperty(qt,"__esModule",{value:!0}),Object.defineProperty(qt,"AnnotationLayer",{enumerable:!0,get:function(){return te.AnnotationLayer}}),Object.defineProperty(qt,"AnnotationMode",{enumerable:!0,get:function(){return ue.AnnotationMode}}),Object.defineProperty(qt,"CMapCompressionType",{enumerable:!0,get:function(){return ue.CMapCompressionType}}),Object.defineProperty(qt,"GlobalWorkerOptions",{enumerable:!0,get:function(){return le.GlobalWorkerOptions}}),Object.defineProperty(qt,"InvalidPDFException",{enumerable:!0,get:function(){return ue.InvalidPDFException}}),Object.defineProperty(qt,"LoopbackPort",{enumerable:!0,get:function(){return ge.LoopbackPort}}),Object.defineProperty(qt,"MissingPDFException",{enumerable:!0,get:function(){return ue.MissingPDFException}}),Object.defineProperty(qt,"OPS",{enumerable:!0,get:function(){return ue.OPS}}),Object.defineProperty(qt,"PDFDataRangeTransport",{enumerable:!0,get:function(){return ge.PDFDataRangeTransport}}),Object.defineProperty(qt,"PDFDateString",{enumerable:!0,get:function(){return f.PDFDateString}}),Object.defineProperty(qt,"PDFWorker",{enumerable:!0,get:function(){return ge.PDFWorker}}),Object.defineProperty(qt,"PasswordResponses",{enumerable:!0,get:function(){return ue.PasswordResponses}}),Object.defineProperty(qt,"PermissionFlag",{enumerable:!0,get:function(){return ue.PermissionFlag}}),Object.defineProperty(qt,"PixelsPerInch",{enumerable:!0,get:function(){return f.PixelsPerInch}}),Object.defineProperty(qt,"RenderingCancelledException",{enumerable:!0,get:function(){return f.RenderingCancelledException}}),Object.defineProperty(qt,"SVGGraphics",{enumerable:!0,get:function(){return Te.SVGGraphics}}),Object.defineProperty(qt,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return ue.UNSUPPORTED_FEATURES}}),Object.defineProperty(qt,"UnexpectedResponseException",{enumerable:!0,get:function(){return ue.UnexpectedResponseException}}),Object.defineProperty(qt,"Util",{enumerable:!0,get:function(){return ue.Util}}),Object.defineProperty(qt,"VerbosityLevel",{enumerable:!0,get:function(){return ue.VerbosityLevel}}),Object.defineProperty(qt,"XfaLayer",{enumerable:!0,get:function(){return m.XfaLayer}}),Object.defineProperty(qt,"build",{enumerable:!0,get:function(){return ge.build}}),Object.defineProperty(qt,"createPromiseCapability",{enumerable:!0,get:function(){return ue.createPromiseCapability}}),Object.defineProperty(qt,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return ue.createValidAbsoluteUrl}}),Object.defineProperty(qt,"getDocument",{enumerable:!0,get:function(){return ge.getDocument}}),Object.defineProperty(qt,"getFilenameFromUrl",{enumerable:!0,get:function(){return f.getFilenameFromUrl}}),Object.defineProperty(qt,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return f.getPdfFilenameFromUrl}}),Object.defineProperty(qt,"getXfaPageViewport",{enumerable:!0,get:function(){return f.getXfaPageViewport}}),Object.defineProperty(qt,"isPdfFile",{enumerable:!0,get:function(){return f.isPdfFile}}),Object.defineProperty(qt,"loadScript",{enumerable:!0,get:function(){return f.loadScript}}),Object.defineProperty(qt,"renderTextLayer",{enumerable:!0,get:function(){return Je.renderTextLayer}}),Object.defineProperty(qt,"shadow",{enumerable:!0,get:function(){return ue.shadow}}),Object.defineProperty(qt,"version",{enumerable:!0,get:function(){return ge.version}});var ue=__w_pdfjs_require__(1),ge=__w_pdfjs_require__(4),f=__w_pdfjs_require__(5),te=__w_pdfjs_require__(20),le=__w_pdfjs_require__(13),Qe=__w_pdfjs_require__(3),Je=__w_pdfjs_require__(23),Te=__w_pdfjs_require__(24),m=__w_pdfjs_require__(22);if(Qe.isNodeJS){const{PDFNodeStream:u}=__w_pdfjs_require__(25);(0,ge.setPDFNetworkStreamFactory)(r=>new u(r))}else{const{PDFNetworkStream:u}=__w_pdfjs_require__(28),{PDFFetchStream:r}=__w_pdfjs_require__(29);(0,ge.setPDFNetworkStreamFactory)(o=>(0,f.isValidFetchUrl)(o.url)?new r(o):new u(o))}})(),__webpack_exports__})(),module.exports=ge()},2813:function(qt,ue,ge){var Qe,f=ge(7156).default;Qe=()=>(()=>{"use strict";var te=[,(Te,m,c)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.DefaultXfaLayerFactory=m.DefaultTextLayerFactory=m.DefaultStructTreeLayerFactory=m.DefaultAnnotationLayerFactory=void 0;var d=c(2),u=c(4),r=c(5),o=c(7),i=c(8),s=c(9);m.DefaultAnnotationLayerFactory=class h{createAnnotationLayerBuilder(C,I,k=null,z="",ne=!0,fe=u.NullL10n,ye=!1,Pe=null,_e=null,we=null,Ee=null){return new d.AnnotationLayerBuilder({pageDiv:C,pdfPage:I,imageResourcesPath:z,renderForms:ne,linkService:new r.SimpleLinkService,l10n:fe,annotationStorage:k,enableScripting:ye,hasJSActionsPromise:Pe,fieldObjectsPromise:we,mouseState:_e,annotationCanvasMap:Ee})}},m.DefaultStructTreeLayerFactory=class l{createStructTreeLayerBuilder(C){return new o.StructTreeLayerBuilder({pdfPage:C})}},m.DefaultTextLayerFactory=class p{createTextLayerBuilder(C,I,k,z=!1,ne,fe){return new i.TextLayerBuilder({textLayerDiv:C,pageIndex:I,viewport:k,enhanceTextSelection:z,eventBus:ne,highlighter:fe})}},m.DefaultXfaLayerFactory=class w{createXfaLayerBuilder(C,I,k=null,z=null){return new s.XfaLayerBuilder({pageDiv:C,pdfPage:I,annotationStorage:k,linkService:new r.SimpleLinkService,xfaHtml:z})}}},(Te,m,c)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.AnnotationLayerBuilder=void 0;var d=c(3),u=c(4);m.AnnotationLayerBuilder=class r{constructor({pageDiv:i,pdfPage:s,linkService:h,downloadManager:l,annotationStorage:p=null,imageResourcesPath:w="",renderForms:_=!0,l10n:C=u.NullL10n,enableScripting:I=!1,hasJSActionsPromise:k=null,fieldObjectsPromise:z=null,mouseState:ne=null,annotationCanvasMap:fe=null}){this.pageDiv=i,this.pdfPage=s,this.linkService=h,this.downloadManager=l,this.imageResourcesPath=w,this.renderForms=_,this.l10n=C,this.annotationStorage=p,this.enableScripting=I,this._hasJSActionsPromise=k,this._fieldObjectsPromise=z,this._mouseState=ne,this._annotationCanvasMap=fe,this.div=null,this._cancelled=!1}render(i,s="display"){var h=this;return f(function*(){const[l,p=!1,w=null]=yield Promise.all([h.pdfPage.getAnnotations({intent:s}),h._hasJSActionsPromise,h._fieldObjectsPromise]);if(h._cancelled||0===l.length)return;const _={viewport:i.clone({dontFlip:!0}),div:h.div,annotations:l,page:h.pdfPage,imageResourcesPath:h.imageResourcesPath,renderForms:h.renderForms,linkService:h.linkService,downloadManager:h.downloadManager,annotationStorage:h.annotationStorage,enableScripting:h.enableScripting,hasJSActions:p,fieldObjects:w,mouseState:h._mouseState,annotationCanvasMap:h._annotationCanvasMap};h.div?d.AnnotationLayer.update(_):(h.div=document.createElement("div"),h.div.className="annotationLayer",h.pageDiv.appendChild(h.div),_.div=h.div,d.AnnotationLayer.render(_),h.l10n.translate(h.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},Te=>{let m;m=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:ge(6036),Te.exports=m},(Te,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.NullL10n=void 0,m.fixupLangCode=function r(s){return u[s?.toLowerCase()]||s},m.getL10nFallback=d;const c={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function d(s,h){switch(s){case"find_match_count":s=`find_match_count[${1===h.total?"one":"other"}]`;break;case"find_match_count_limit":s=`find_match_count_limit[${1===h.limit?"one":"other"}]`}return c[s]||""}const u={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};m.NullL10n={getLanguage:()=>f(function*(){return"en-us"})(),getDirection:()=>f(function*(){return"ltr"})(),get:(s,h=null,l=d(s,h))=>f(function*(){return function o(s,h){return h?s.replace(/\{\{\s*(\w+)\s*\}\}/g,(l,p)=>p in h?h[p]:"{{"+p+"}}"):s}(l,h)})(),translate:s=>f(function*(){})()}},(Te,m,c)=>{var h,l,bm,w,c1;Object.defineProperty(m,"__esModule",{value:!0}),m.SimpleLinkService=m.PDFLinkService=m.LinkTarget=void 0;var d=c(6);const r={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function o(I,{url:k,target:z,rel:ne,enabled:fe=!0}={}){if(!k||"string"!=typeof k)throw new Error('A valid "url" parameter must provided.');const ye=(0,d.removeNullCharacters)(k);fe?I.href=I.title=ye:(I.href="",I.title=`Disabled: ${ye}`,I.onclick=()=>!1);let Pe="";switch(z){case r.NONE:break;case r.SELF:Pe="_self";break;case r.BLANK:Pe="_blank";break;case r.PARENT:Pe="_parent";break;case r.TOP:Pe="_top"}I.target=Pe,I.rel="string"==typeof ne?ne:"noopener noreferrer nofollow"}m.LinkTarget=r;const C=class{constructor({eventBus:k,externalLinkTarget:z=null,externalLinkRel:ne=null,ignoreDestinationZoom:fe=!1}={}){oi(this,l),oi(this,h,new Map),this.eventBus=k,this.externalLinkTarget=z,this.externalLinkRel=ne,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=fe,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(k,z=null){this.baseUrl=z,this.pdfDocument=k,Qn(this,h).clear()}setViewer(k){this.pdfViewer=k}setHistory(k){this.pdfHistory=k}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(k){this.pdfViewer.currentPageNumber=k}get rotation(){return this.pdfViewer.pagesRotation}set rotation(k){this.pdfViewer.pagesRotation=k}goToDestination(k){var z=this;return f(function*(){var ye;if(!z.pdfDocument)return;let ne,fe;"string"==typeof k?(ne=k,fe=yield z.pdfDocument.getDestination(k)):(ne=null,fe=yield k),Array.isArray(fe)?ti(ye=z,l,bm).call(ye,k,ne,fe):console.error(`PDFLinkService.goToDestination: "${fe}" is not a valid destination array, for dest="${k}".`)})()}goToPage(k){if(!this.pdfDocument)return;const z="string"==typeof k&&this.pdfViewer.pageLabelToPageNumber(k)||0|k;Number.isInteger(z)&&z>0&&z<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(z)),this.pdfViewer.scrollPageIntoView({pageNumber:z})):console.error(`PDFLinkService.goToPage: "${k}" is not a valid page.`)}addLinkAttributes(k,z,ne=!1){o(k,{url:z,target:ne?r.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(k){if("string"==typeof k){if(k.length>0)return this.getAnchorUrl("#"+escape(k))}else if(Array.isArray(k)){const z=JSON.stringify(k);if(z.length>0)return this.getAnchorUrl("#"+escape(z))}return this.getAnchorUrl("")}getAnchorUrl(k){return(this.baseUrl||"")+k}setHash(k){var fe;if(!this.pdfDocument)return;let z,ne;if(k.includes("=")){const ye=(0,d.parseQueryString)(k);if(ye.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:ye.get("search").replace(/"/g,""),phraseSearch:"true"===ye.get("phrase")}),ye.has("page")&&(z=0|ye.get("page")||1),ye.has("zoom")){const Pe=ye.get("zoom").split(","),_e=Pe[0],we=parseFloat(_e);_e.includes("Fit")?"Fit"===_e||"FitB"===_e?ne=[null,{name:_e}]:"FitH"===_e||"FitBH"===_e||"FitV"===_e||"FitBV"===_e?ne=[null,{name:_e},Pe.length>1?0|Pe[1]:null]:"FitR"===_e?5!==Pe.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):ne=[null,{name:_e},0|Pe[1],0|Pe[2],0|Pe[3],0|Pe[4]]:console.error(`PDFLinkService.setHash: "${_e}" is not a valid zoom value.`):ne=[null,{name:"XYZ"},Pe.length>1?0|Pe[1]:null,Pe.length>2?0|Pe[2]:null,we?we/100:_e]}ne?this.pdfViewer.scrollPageIntoView({pageNumber:z||this.page,destArray:ne,allowNegativeOffset:!0}):z&&(this.page=z),ye.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:ye.get("pagemode")}),ye.has("nameddest")&&this.goToDestination(ye.get("nameddest"))}else{ne=unescape(k);try{ne=JSON.parse(ne),Array.isArray(ne)||(ne=ne.toString())}catch{}if("string"==typeof ne||ti(fe=C,w,c1).call(fe,ne))return void this.goToDestination(ne);console.error(`PDFLinkService.setHash: "${unescape(k)}" is not a valid destination.`)}}executeNamedAction(k){switch(k){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:k})}cachePageRef(k,z){if(!z)return;const ne=0===z.gen?`${z.num}R`:`${z.num}R${z.gen}`;Qn(this,h).set(ne,k)}_cachedPageNumber(k){if(!k)return null;const z=0===k.gen?`${k.num}R`:`${k.num}R${k.gen}`;return Qn(this,h).get(z)||null}isPageVisible(k){return this.pdfViewer.isPageVisible(k)}isPageCached(k){return this.pdfViewer.isPageCached(k)}};let i=C;h=new WeakMap,l=new WeakSet,bm=function(k,z=null,ne){const fe=ne[0];let ye;if("object"==typeof fe&&null!==fe){if(ye=this._cachedPageNumber(fe),!ye)return void this.pdfDocument.getPageIndex(fe).then(Pe=>{this.cachePageRef(Pe+1,fe),ti(this,l,bm).call(this,k,z,ne)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${fe}" is not a valid page reference, for dest="${k}".`)})}else{if(!Number.isInteger(fe))return void console.error(`PDFLinkService.#goToDestinationHelper: "${fe}" is not a valid destination reference, for dest="${k}".`);ye=fe+1}!ye||ye<1||ye>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${ye}" is not a valid page number, for dest="${k}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:z,explicitDest:ne,pageNumber:ye})),this.pdfViewer.scrollPageIntoView({pageNumber:ye,destArray:ne,ignoreDestinationZoom:this._ignoreDestinationZoom}))},w=new WeakSet,c1=function(k){if(!Array.isArray(k))return!1;const z=k.length;if(z<2)return!1;const ne=k[0];if(!("object"==typeof ne&&Number.isInteger(ne.num)&&Number.isInteger(ne.gen)||Number.isInteger(ne)&&ne>=0))return!1;const fe=k[1];if("object"!=typeof fe||"string"!=typeof fe.name)return!1;let ye=!0;switch(fe.name){case"XYZ":if(5!==z)return!1;break;case"Fit":case"FitB":return 2===z;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==z)return!1;break;case"FitR":if(6!==z)return!1;ye=!1;break;default:return!1}for(let Pe=2;Pe<z;Pe++){const _e=k[Pe];if(!("number"==typeof _e||ye&&null===_e))return!1}return!0},oi(i,w),m.PDFLinkService=i,m.SimpleLinkService=class s{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(k){}get rotation(){return 0}set rotation(k){}goToDestination(k){return f(function*(){})()}goToPage(k){}addLinkAttributes(k,z,ne=!1){o(k,{url:z,enabled:this.externalLinkEnabled})}getDestinationHash(k){return"#"}getAnchorUrl(k){return"#"}setHash(k){}executeNamedAction(k){}cachePageRef(k,z){}isPageVisible(k){return!0}isPageCached(k){return!0}}},(Te,m)=>{var ht,u1;Object.defineProperty(m,"__esModule",{value:!0}),m.animationStarted=m.VERTICAL_PADDING=m.UNKNOWN_SCALE=m.TextLayerMode=m.SpreadMode=m.SidebarView=m.ScrollMode=m.SCROLLBAR_PADDING=m.RenderingStates=m.RendererType=m.ProgressBar=m.PresentationModeState=m.OutputScale=m.MIN_SCALE=m.MAX_SCALE=m.MAX_AUTO_SCALE=m.DEFAULT_SCALE_VALUE=m.DEFAULT_SCALE_DELTA=m.DEFAULT_SCALE=m.AutoPrintRegExp=void 0,m.apiPageLayoutToViewerModes=function Be($e){let Ke=k.VERTICAL,pt=z.NONE;switch($e){case"SinglePage":Ke=k.PAGE;break;case"OneColumn":break;case"TwoPageLeft":Ke=k.PAGE;case"TwoColumnLeft":pt=z.ODD;break;case"TwoPageRight":Ke=k.PAGE;case"TwoColumnRight":pt=z.EVEN}return{scrollMode:Ke,spreadMode:pt}},m.apiPageModeToSidebarView=function Ue($e){switch($e){case"UseNone":return _.NONE;case"UseThumbs":return _.THUMBS;case"UseOutlines":return _.OUTLINE;case"UseAttachments":return _.ATTACHMENTS;case"UseOC":return _.LAYERS}return _.NONE},m.approximateFraction=function Ze($e){if(Math.floor($e)===$e)return[$e,1];const Ke=1/$e;if(Ke>8)return[1,8];if(Math.floor(Ke)===Ke)return[1,Ke];const be=$e>1?Ke:$e;let ot,ze=0,Xe=1,Ne=1,yt=1;for(;;){const Ct=ze+Ne,Pt=Xe+yt;if(Pt>8)break;be<=Ct/Pt?(Ne=Ct,yt=Pt):(ze=Ct,Xe=Pt)}return ot=be-ze/Xe<Ne/yt-be?be===$e?[ze,Xe]:[Xe,ze]:be===$e?[Ne,yt]:[yt,Ne],ot},m.backtrackBeforeAllVisibleElements=ie,m.binarySearchFirstItem=Ve,m.getActiveOrFocusedElement=function it(){let $e=document,Ke=$e.activeElement||$e.querySelector(":focus");for(;Ke?.shadowRoot;)$e=Ke.shadowRoot,Ke=$e.activeElement||$e.querySelector(":focus");return Ke},m.getPageSizeInches=function he({view:$e,userUnit:Ke,rotate:pt}){const[be,ze,Xe,Ne]=$e,yt=pt%180!=0,ot=(Xe-be)/72*Ke,Ct=(Ne-ze)/72*Ke;return{width:yt?Ct:ot,height:yt?ot:Ct}},m.getVisibleElements=function R({scrollEl:$e,views:Ke,sortByVisibility:pt=!1,horizontal:be=!1,rtl:ze=!1}){const Xe=$e.scrollTop,Ne=Xe+$e.clientHeight,yt=$e.scrollLeft,ot=yt+$e.clientWidth,Gt=[],Tn=new Set,Jn=Ke.length;let Nt=Ve(Ke,be?function Pt(Kt){const bn=Kt.div,fn=bn.offsetLeft+bn.clientLeft;return ze?fn<ot:fn+bn.clientWidth>yt}:function Ct(Kt){const bn=Kt.div;return bn.offsetTop+bn.clientTop+bn.clientHeight>Xe});Nt>0&&Nt<Jn&&!be&&(Nt=ie(Nt,Ke,Xe));let Ye=be?ot:-1;for(let Kt=Nt;Kt<Jn;Kt++){const bn=Ke[Kt],fn=bn.div,Rn=fn.offsetLeft+fn.clientLeft,ri=fn.offsetTop+fn.clientTop,Ri=fn.clientWidth,di=fn.clientHeight,Li=Rn+Ri,_i=ri+di;if(-1===Ye)_i>=Ne&&(Ye=_i);else if((be?Rn:ri)>Ye)break;if(_i<=Xe||ri>=Ne||Li<=yt||Rn>=ot)continue;const nr=Math.max(0,Xe-ri)+Math.max(0,_i-Ne),ji=(Ri-(Math.max(0,yt-Rn)+Math.max(0,Li-ot)))/Ri;Gt.push({id:bn.id,x:Rn,y:ri,view:bn,percent:(di-nr)/di*ji*100|0,widthPercent:100*ji|0}),Tn.add(bn.id)}const st=Gt[0],Bt=Gt[Gt.length-1];return pt&&Gt.sort(function(Kt,bn){const fn=Kt.percent-bn.percent;return Math.abs(fn)>.001?-fn:Kt.id-bn.id}),{first:st,last:Bt,views:Gt,ids:Tn}},m.isPortraitOrientation=function me($e){return $e.width<=$e.height},m.isValidRotation=function B($e){return Number.isInteger($e)&&$e%90==0},m.isValidScrollMode=function J($e){return Number.isInteger($e)&&Object.values(k).includes($e)&&$e!==k.UNKNOWN},m.isValidSpreadMode=function re($e){return Number.isInteger($e)&&Object.values(z).includes($e)&&$e!==z.UNKNOWN},m.noContextMenuHandler=function H($e){$e.preventDefault()},m.normalizeWheelEventDelta=function j($e){let Ke=F($e);return 0===$e.deltaMode?Ke/=900:1===$e.deltaMode&&(Ke/=30),Ke},m.normalizeWheelEventDirection=F,m.parseQueryString=function _e($e){const Ke=new Map;for(const[pt,be]of new URLSearchParams($e))Ke.set(pt.toLowerCase(),be);return Ke},m.removeNullCharacters=function de($e,Ke=!1){return"string"!=typeof $e?(console.error("The argument must be a string."),$e):(Ke&&($e=$e.replace(Ee," ")),$e.replace(we,""))},m.roundToDivide=function dt($e,Ke){const pt=$e%Ke;return 0===pt?$e:Math.round($e-pt+Ke)},m.scrollIntoView=function ye($e,Ke,pt=!1){let be=$e.offsetParent;if(!be)return void console.error("offsetParent is not set -- cannot scroll");let ze=$e.offsetTop+$e.clientTop,Xe=$e.offsetLeft+$e.clientLeft;for(;be.clientHeight===be.scrollHeight&&be.clientWidth===be.scrollWidth||pt&&(be.classList.contains("markedContent")||"hidden"===getComputedStyle(be).overflow);)if(ze+=be.offsetTop,Xe+=be.offsetLeft,be=be.offsetParent,!be)return;Ke&&(void 0!==Ke.top&&(ze+=Ke.top),void 0!==Ke.left&&(Xe+=Ke.left,be.scrollLeft=Xe)),be.scrollTop=ze},m.watchScroll=function Pe($e,Ke){const pt=function(Xe){ze||(ze=window.requestAnimationFrame(function(){ze=null;const yt=$e.scrollLeft,ot=be.lastX;yt!==ot&&(be.right=yt>ot),be.lastX=yt;const Ct=$e.scrollTop,Pt=be.lastY;Ct!==Pt&&(be.down=Ct>Pt),be.lastY=Ct,Ke(be)}))},be={right:!0,down:!0,lastX:$e.scrollLeft,lastY:$e.scrollTop,_eventHandler:pt};let ze=null;return $e.addEventListener("scroll",pt,!0),be},m.DEFAULT_SCALE_VALUE="auto",m.DEFAULT_SCALE=1,m.DEFAULT_SCALE_DELTA=1.1,m.MIN_SCALE=.1,m.MAX_SCALE=10,m.UNKNOWN_SCALE=0,m.MAX_AUTO_SCALE=1.25,m.SCROLLBAR_PADDING=40,m.VERTICAL_PADDING=5,m.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},m.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const _={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};m.SidebarView=_,m.RendererType={CANVAS:"canvas",SVG:"svg"},m.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const k={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};m.ScrollMode=k;const z={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};m.SpreadMode=z,m.AutoPrintRegExp=/\bprint\s*\(/,m.OutputScale=class fe{constructor(){const Ke=window.devicePixelRatio||1;this.sx=Ke,this.sy=Ke}get scaled(){return 1!==this.sx||1!==this.sy}};const we=/\x00/g,Ee=/[\x01-\x1F]/g;function Ve($e,Ke,pt=0){let be=pt,ze=$e.length-1;if(ze<0||!Ke($e[ze]))return $e.length;if(Ke($e[be]))return be;for(;be<ze;){const Xe=be+ze>>1;Ke($e[Xe])?ze=Xe:be=Xe+1}return be}function ie($e,Ke,pt){if($e<2)return $e;let be=Ke[$e].div,ze=be.offsetTop+be.clientTop;ze>=pt&&(be=Ke[$e-1].div,ze=be.offsetTop+be.clientTop);for(let Xe=$e-2;Xe>=0&&(be=Ke[Xe].div,!(be.offsetTop+be.clientTop+be.clientHeight<=ze));--Xe)$e=Xe;return $e}function F($e){let Ke=Math.hypot($e.deltaX,$e.deltaY);const pt=Math.atan2($e.deltaY,$e.deltaX);return-.25*Math.PI<pt&&pt<.75*Math.PI&&(Ke=-Ke),Ke}const De=new Promise(function($e){window.requestAnimationFrame($e)});m.animationStarted=De,ht=new WeakSet,u1=function(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))},m.ProgressBar=class We{constructor(Ke){if(oi(this,ht),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(Ke+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(Ke){this._indeterminate=isNaN(Ke),this._percent=function je($e,Ke,pt){return Math.min(Math.max($e,Ke),pt)}(Ke,0,100),ti(this,ht,u1).call(this)}setWidth(Ke){if(!Ke)return;const be=Ke.parentNode.offsetWidth-Ke.offsetWidth;be>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${be}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(Te,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.StructTreeLayerBuilder=void 0;const c={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},d=/^H(\d+)$/;m.StructTreeLayerBuilder=class u{constructor({pdfPage:o}){this.pdfPage=o}render(o){return this._walk(o)}_setAttributes(o,i){void 0!==o.alt&&i.setAttribute("aria-label",o.alt),void 0!==o.id&&i.setAttribute("aria-owns",o.id),void 0!==o.lang&&i.setAttribute("lang",o.lang)}_walk(o){if(!o)return null;const i=document.createElement("span");if("role"in o){const{role:s}=o,h=s.match(d);h?(i.setAttribute("role","heading"),i.setAttribute("aria-level",h[1])):c[s]&&i.setAttribute("role",c[s])}if(this._setAttributes(o,i),o.children)if(1===o.children.length&&"id"in o.children[0])this._setAttributes(o.children[0],i);else for(const s of o.children)i.appendChild(this._walk(s));return i}}},(Te,m,c)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.TextLayerBuilder=void 0;var d=c(3);m.TextLayerBuilder=class r{constructor({textLayerDiv:i,eventBus:s,pageIndex:h,viewport:l,highlighter:p=null,enhanceTextSelection:w=!1}){this.textLayerDiv=i,this.eventBus=s,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=h+1,this.viewport=l,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=p,this.enhanceTextSelection=w,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const i=document.createElement("div");i.className="endOfContent",this.textLayerDiv.appendChild(i)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(i=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const s=document.createDocumentFragment();this.textLayerRenderTask=(0,d.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:s,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:i,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(s),this._finishRendering(),this.highlighter?.enable()},function(h){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(i){this.cancel(),this.textContentStream=i}setTextContent(i){this.cancel(),this.textContent=i}_bindMouse(){const i=this.textLayerDiv;let s=null;i.addEventListener("mousedown",h=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(s&&(clearTimeout(s),s=null));const l=i.querySelector(".endOfContent");if(!l)return;let p=h.target!==i;if(p=p&&"none"!==window.getComputedStyle(l).getPropertyValue("-moz-user-select"),p){const w=i.getBoundingClientRect(),_=Math.max(0,(h.pageY-w.top)/w.height);l.style.top=(100*_).toFixed(2)+"%"}l.classList.add("active")}),i.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(s=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),s=null},300));const h=i.querySelector(".endOfContent");!h||(h.style.top="",h.classList.remove("active"))})}}},(Te,m,c)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.XfaLayerBuilder=void 0;var d=c(3);m.XfaLayerBuilder=class u{constructor({pageDiv:o,pdfPage:i,annotationStorage:s=null,linkService:h,xfaHtml:l=null}){this.pageDiv=o,this.pdfPage=i,this.annotationStorage=s,this.linkService=h,this.xfaHtml=l,this.div=null,this._cancelled=!1}render(o,i="display"){if("print"===i){const s={viewport:o.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:i},h=document.createElement("div");this.pageDiv.appendChild(h),s.div=h;const l=d.XfaLayer.render(s);return Promise.resolve(l)}return this.pdfPage.getXfa().then(s=>{if(this._cancelled||!s)return{textDivs:[]};const h={viewport:o.clone({dontFlip:!0}),div:this.div,xfaHtml:s,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:i};return this.div?d.XfaLayer.update(h):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),h.div=this.div,d.XfaLayer.render(h))}).catch(s=>{console.error(s)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(Te,m,c)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFViewer=m.PDFSinglePageViewer=void 0;var d=c(6),u=c(11);m.PDFViewer=class r extends u.BaseViewer{},m.PDFSinglePageViewer=class o extends u.BaseViewer{_resetView(){super._resetView(),this._scrollMode=d.ScrollMode.PAGE,this._spreadMode=d.SpreadMode.NONE}set scrollMode(s){}_updateScrollMode(){}set spreadMode(s){}_updateSpreadMode(){}}},(Te,m,c)=>{var fe,ye,Pe,wm,we,Ee,de,Ve,Ze,dt,he,ie,h1,H,d1,j,xf,J,Fp,me,f1,je,Cm,it,p1,Ue,g1,Lt,m1;Object.defineProperty(m,"__esModule",{value:!0}),m.PagesCountLimit=m.PDFPageViewBuffer=m.BaseViewer=void 0;var d=c(3),u=c(6),r=c(2),o=c(4),i=c(12),s=c(14),h=c(5),l=c(7),p=c(15),w=c(8),_=c(9);const I="enablePermissions",k={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};m.PagesCountLimit=k;class z{constructor(be){oi(this,Pe),oi(this,fe,new Set),oi(this,ye,0),Ir(this,ye,be)}push(be){const ze=Qn(this,fe);ze.has(be)&&ze.delete(be),ze.add(be),ze.size>Qn(this,ye)&&ti(this,Pe,wm).call(this)}resize(be,ze=null){Ir(this,ye,be);const Xe=Qn(this,fe);if(ze){const Ne=Xe.size;let yt=1;for(const ot of Xe)if(ze.has(ot.id)&&(Xe.delete(ot),Xe.add(ot)),++yt>Ne)break}for(;Xe.size>Qn(this,ye);)ti(this,Pe,wm).call(this)}has(be){return Qn(this,fe).has(be)}[Symbol.iterator](){return Qn(this,fe).keys()}}fe=new WeakMap,ye=new WeakMap,Pe=new WeakSet,wm=function(){const be=Qn(this,fe).keys().next().value;be?.destroy(),Qn(this,fe).delete(be)},m.PDFPageViewBuffer=z;const Ke=class{constructor(be){if(oi(this,ie),oi(this,H),oi(this,j),oi(this,J),oi(this,me),oi(this,je),oi(this,it),oi(this,Ue),oi(this,Lt),oi(this,we,null),oi(this,Ee,d.AnnotationMode.ENABLE_FORMS),oi(this,de,null),oi(this,Ve,!1),oi(this,Ze,0),oi(this,dt,null),oi(this,he,null),this.constructor===Ke)throw new Error("Cannot initialize BaseViewer.");const ze="2.14.305";if(d.version!==ze)throw new Error(`The API version "${d.version}" does not match the Viewer version "${ze}".`);if(this.container=be.container,this.viewer=be.viewer||be.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=be.eventBus,this.linkService=be.linkService||new h.SimpleLinkService,this.downloadManager=be.downloadManager||null,this.findController=be.findController||null,this._scriptingManager=be.scriptingManager||null,this.removePageBorders=be.removePageBorders||!1,this.textLayerMode=be.textLayerMode??u.TextLayerMode.ENABLE,Ir(this,Ee,be.annotationMode??d.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=be.imageResourcesPath||"",this.enablePrintAutoRotate=be.enablePrintAutoRotate||!1,this.renderer=be.renderer||u.RendererType.CANVAS,this.useOnlyCssZoom=be.useOnlyCssZoom||!1,this.maxCanvasPixels=be.maxCanvasPixels,this.l10n=be.l10n||o.NullL10n,Ir(this,Ve,be.enablePermissions||!1),this.pageColors=be.pageColors||null,be.pageColors&&(!CSS.supports("color",be.pageColors.background)||!CSS.supports("color",be.pageColors.foreground))&&((be.pageColors.background||be.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!be.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new s.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=be.renderingQueue,this._doc=document.documentElement,this.scroll=(0,u.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=u.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(be){return this._pages[be]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(be){return be?.pdfPage})}get renderForms(){return Qn(this,Ee)===d.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(be){if(!Number.isInteger(be))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(be,!0)||console.error(`currentPageNumber: "${be}" is not a valid page.`)}_setCurrentPageNumber(be,ze=!1){if(this._currentPageNumber===be)return ze&&ti(this,je,Cm).call(this),!0;if(!(0<be&&be<=this.pagesCount))return!1;const Xe=this._currentPageNumber;return this._currentPageNumber=be,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:be,pageLabel:this._pageLabels?.[be-1]??null,previous:Xe}),ze&&ti(this,je,Cm).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(be){if(!this.pdfDocument)return;let ze=0|be;if(this._pageLabels){const Xe=this._pageLabels.indexOf(be);Xe>=0&&(ze=Xe+1)}this._setCurrentPageNumber(ze,!0)||console.error(`currentPageLabel: "${be}" is not a valid page.`)}get currentScale(){return this._currentScale!==u.UNKNOWN_SCALE?this._currentScale:u.DEFAULT_SCALE}set currentScale(be){if(isNaN(be))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(be,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(be){!this.pdfDocument||this._setScale(be,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(be){if(!(0,u.isValidRotation)(be))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((be%=360)<0&&(be+=360),this._pagesRotation===be))return;this._pagesRotation=be;const ze=this._currentPageNumber,Xe={rotation:be};for(const Ne of this._pages)Ne.update(Xe);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:be,pageNumber:ze}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(be){var ze=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=be,!be)return;const Xe=be.isPureXfa,Ne=be.numPages,yt=be.getPage(1),ot=be.getOptionalContentConfig(),Ct=Qn(this,Ve)?be.getPermissions():Promise.resolve();if(Ne>k.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const Pt=this._scrollMode=u.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:Pt})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:Ne})},()=>{}),this._onBeforeDraw=Pt=>{const Gt=this._pages[Pt.pageNumber-1];!Gt||Qn(this,we).push(Gt)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=Pt=>{Pt.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:Pt.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,Qn(this,he)&&(document.removeEventListener("visibilitychange",Qn(this,he)),Ir(this,he,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([yt,Ct]).then(([Pt,Gt])=>{if(be!==this.pdfDocument)return;this._firstPageCapability.resolve(Pt),this._optionalContentConfigPromise=ot,ti(this,ie,h1).call(this,Gt);const Tn=this._scrollMode===u.ScrollMode.PAGE?null:this.viewer,Jn=this.currentScale,Nt=Pt.getViewport({scale:Jn*d.PixelsPerInch.PDF_TO_CSS_UNITS}),Ye=this.textLayerMode===u.TextLayerMode.DISABLE||Xe?null:this,st=Qn(this,Ee)!==d.AnnotationMode.DISABLE?this:null,Bt=Xe?this:null;for(let bn=1;bn<=Ne;++bn){const fn=new i.PDFPageView({container:Tn,eventBus:this.eventBus,id:bn,scale:Jn,defaultViewport:Nt.clone(),optionalContentConfigPromise:ot,renderingQueue:this.renderingQueue,textLayerFactory:Ye,textLayerMode:this.textLayerMode,annotationLayerFactory:st,annotationMode:Qn(this,Ee),xfaLayerFactory:Bt,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(fn)}const Kt=this._pages[0];Kt&&(Kt.setPdfPage(Pt),this.linkService.cachePageRef(1,Pt.ref)),this._scrollMode===u.ScrollMode.PAGE?ti(this,j,xf).call(this):this._spreadMode!==u.SpreadMode.NONE&&this._updateSpreadMode(),ti(this,H,d1).call(this).then(f(function*(){if(ze.findController&&ze.findController.setDocument(be),ze._scriptingManager&&ze._scriptingManager.setDocument(be),be.loadingParams.disableAutoFetch||Ne>k.FORCE_LAZY_PAGE_INIT)return void ze._pagesCapability.resolve();let bn=Ne-1;if(bn<=0)ze._pagesCapability.resolve();else for(let fn=2;fn<=Ne;++fn){const Rn=be.getPage(fn).then(ri=>{const Ri=ze._pages[fn-1];Ri.pdfPage||Ri.setPdfPage(ri),ze.linkService.cachePageRef(fn,ri.ref),0==--bn&&ze._pagesCapability.resolve()},ri=>{console.error(`Unable to get page ${fn} to initialize viewer`,ri),0==--bn&&ze._pagesCapability.resolve()});fn%k.PAUSE_EAGER_PAGE_INIT==0&&(yield Rn)}})),this.eventBus.dispatch("pagesinit",{source:this}),be.getMetadata().then(({info:bn})=>{be===this.pdfDocument&&bn.Language&&(this.viewer.lang=bn.Language)}),this.defaultRenderingQueue&&this.update()}).catch(Pt=>{console.error("Unable to initialize viewer",Pt),this._pagesCapability.reject(Pt)})}setPageLabels(be){if(this.pdfDocument){be?Array.isArray(be)&&this.pdfDocument.numPages===be.length?this._pageLabels=be:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let ze=0,Xe=this._pages.length;ze<Xe;ze++)this._pages[ze].setPageLabel(this._pageLabels?.[ze]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=u.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,Ir(this,we,new z(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,d.createPromiseCapability)(),this._onePageRenderedCapability=(0,d.createPromiseCapability)(),this._pagesCapability=(0,d.createPromiseCapability)(),this._scrollMode=u.ScrollMode.VERTICAL,this._previousScrollMode=u.ScrollMode.UNKNOWN,this._spreadMode=u.SpreadMode.NONE,Ir(this,dt,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),Qn(this,he)&&(document.removeEventListener("visibilitychange",Qn(this,he)),Ir(this,he,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(I),null!==Qn(this,de)&&(Ir(this,Ee,Qn(this,de)),Ir(this,de,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(be,ze,Xe=!1,Ne=!1){if(this._currentScaleValue=ze.toString(),ti(this,me,f1).call(this,be))return void(Ne&&this.eventBus.dispatch("scalechanging",{source:this,scale:be,presetValue:ze}));this._doc.style.setProperty("--zoom-factor",be);const yt={scale:be};for(const ot of this._pages)ot.update(yt);if(this._currentScale=be,!Xe){let Ct,ot=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(ot=this._location.pageNumber,Ct=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:ot,destArray:Ct,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:be,presetValue:Ne?ze:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==u.SpreadMode.NONE&&this._scrollMode!==u.ScrollMode.HORIZONTAL?2:1}_setScale(be,ze=!1){let Xe=parseFloat(be);if(Xe>0)this._setScaleUpdatePages(Xe,be,ze,!1);else{const Ne=this._pages[this._currentPageNumber-1];if(!Ne)return;let yt=u.SCROLLBAR_PADDING,ot=u.VERTICAL_PADDING;this.isInPresentationMode?yt=ot=4:this.removePageBorders?yt=ot=0:this._scrollMode===u.ScrollMode.HORIZONTAL&&([yt,ot]=[ot,yt]);const Ct=(this.container.clientWidth-yt)/Ne.width*Ne.scale/this._pageWidthScaleFactor,Pt=(this.container.clientHeight-ot)/Ne.height*Ne.scale;switch(be){case"page-actual":Xe=1;break;case"page-width":Xe=Ct;break;case"page-height":Xe=Pt;break;case"page-fit":Xe=Math.min(Ct,Pt);break;case"auto":const Gt=(0,u.isPortraitOrientation)(Ne)?Ct:Math.min(Pt,Ct);Xe=Math.min(u.MAX_AUTO_SCALE,Gt);break;default:return void console.error(`_setScale: "${be}" is an unknown zoom value.`)}this._setScaleUpdatePages(Xe,be,ze,!0)}}pageLabelToPageNumber(be){if(!this._pageLabels)return null;const ze=this._pageLabels.indexOf(be);return ze<0?null:ze+1}scrollPageIntoView({pageNumber:be,destArray:ze=null,allowNegativeOffset:Xe=!1,ignoreDestinationZoom:Ne=!1}){if(!this.pdfDocument)return;const yt=Number.isInteger(be)&&this._pages[be-1];if(!yt)return void console.error(`scrollPageIntoView: "${be}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!ze)return void this._setCurrentPageNumber(be,!0);let Tn,Jn,ot=0,Ct=0,Pt=0,Gt=0;const Nt=yt.rotation%180!=0,Ye=(Nt?yt.height:yt.width)/yt.scale/d.PixelsPerInch.PDF_TO_CSS_UNITS,st=(Nt?yt.width:yt.height)/yt.scale/d.PixelsPerInch.PDF_TO_CSS_UNITS;let Bt=0;switch(ze[1].name){case"XYZ":ot=ze[2],Ct=ze[3],Bt=ze[4],ot=null!==ot?ot:0,Ct=null!==Ct?Ct:st;break;case"Fit":case"FitB":Bt="page-fit";break;case"FitH":case"FitBH":Ct=ze[2],Bt="page-width",null===Ct&&this._location?(ot=this._location.left,Ct=this._location.top):("number"!=typeof Ct||Ct<0)&&(Ct=st);break;case"FitV":case"FitBV":ot=ze[2],Pt=Ye,Gt=st,Bt="page-height";break;case"FitR":ot=ze[2],Ct=ze[3],Pt=ze[4]-ot,Gt=ze[5]-Ct,Tn=(this.container.clientWidth-(this.removePageBorders?0:u.SCROLLBAR_PADDING))/Pt/d.PixelsPerInch.PDF_TO_CSS_UNITS,Jn=(this.container.clientHeight-(this.removePageBorders?0:u.VERTICAL_PADDING))/Gt/d.PixelsPerInch.PDF_TO_CSS_UNITS,Bt=Math.min(Math.abs(Tn),Math.abs(Jn));break;default:return void console.error(`scrollPageIntoView: "${ze[1].name}" is not a valid destination type.`)}if(Ne||(Bt&&Bt!==this._currentScale?this.currentScaleValue=Bt:this._currentScale===u.UNKNOWN_SCALE&&(this.currentScaleValue=u.DEFAULT_SCALE_VALUE)),"page-fit"===Bt&&!ze[4])return void ti(this,J,Fp).call(this,yt);const Kt=[yt.viewport.convertToViewportPoint(ot,Ct),yt.viewport.convertToViewportPoint(ot+Pt,Ct+Gt)];let bn=Math.min(Kt[0][0],Kt[1][0]),fn=Math.min(Kt[0][1],Kt[1][1]);Xe||(bn=Math.max(bn,0),fn=Math.max(fn,0)),ti(this,J,Fp).call(this,yt,{left:bn,top:fn})}_updateLocation(be){const ze=this._currentScale,Xe=this._currentScaleValue,Ne=parseFloat(Xe)===ze?Math.round(1e4*ze)/100:Xe,yt=be.id,Ct=this.container,Pt=this._pages[yt-1].getPagePoint(Ct.scrollLeft-be.x,Ct.scrollTop-be.y),Gt=Math.round(Pt[0]),Tn=Math.round(Pt[1]);let Jn=`#page=${yt}`;this.isInPresentationMode||(Jn+=`&zoom=${Ne},${Gt},${Tn}`),this._location={pageNumber:yt,scale:Ne,top:Tn,left:Gt,rotation:this._pagesRotation,pdfOpenParams:Jn}}update(){const be=this._getVisiblePages(),ze=be.views,Xe=ze.length;if(0===Xe)return;const Ne=Math.max(10,2*Xe+1);Qn(this,we).resize(Ne,be.ids),this.renderingQueue.renderHighestPriority(be);const yt=this._spreadMode===u.SpreadMode.NONE&&(this._scrollMode===u.ScrollMode.PAGE||this._scrollMode===u.ScrollMode.VERTICAL),ot=this._currentPageNumber;let Ct=!1;for(const Pt of ze){if(Pt.percent<100)break;if(Pt.id===ot&&yt){Ct=!0;break}}this._setCurrentPageNumber(Ct?ot:ze[0].id),this._updateLocation(be.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(be){return this.container.contains(be)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===u.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===u.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const be=this._scrollMode===u.ScrollMode.PAGE?Qn(this,dt).pages:this._pages,ze=this._scrollMode===u.ScrollMode.HORIZONTAL;return(0,u.getVisibleElements)({scrollEl:this.container,views:be,sortByVisibility:!0,horizontal:ze,rtl:ze&&this._isContainerRtl})}isPageVisible(be){return!!this.pdfDocument&&(Number.isInteger(be)&&be>0&&be<=this.pagesCount?this._getVisiblePages().ids.has(be):(console.error(`isPageVisible: "${be}" is not a valid page.`),!1))}isPageCached(be){if(!this.pdfDocument)return!1;if(!(Number.isInteger(be)&&be>0&&be<=this.pagesCount))return console.error(`isPageCached: "${be}" is not a valid page.`),!1;const ze=this._pages[be-1];return Qn(this,we).has(ze)}cleanup(){for(const be of this._pages)be.renderingState!==u.RenderingStates.FINISHED&&be.reset()}_cancelRendering(){for(const be of this._pages)be.cancelRendering()}forceRendering(be){const ze=be||this._getVisiblePages(),Xe=ti(this,Ue,g1).call(this,ze),yt=this.renderingQueue.getHighestPriority(ze,this._pages,Xe,this._spreadMode!==u.SpreadMode.NONE&&this._scrollMode!==u.ScrollMode.HORIZONTAL);return ti(this,Lt,m1).call(this,ze.ids),!!yt&&(ti(this,it,p1).call(this,yt).then(()=>{this.renderingQueue.renderView(yt)}),!0)}createTextLayerBuilder(be,ze,Xe,Ne=!1,yt,ot){return new w.TextLayerBuilder({textLayerDiv:be,eventBus:yt,pageIndex:ze,viewport:Xe,enhanceTextSelection:!this.isInPresentationMode&&Ne,highlighter:ot})}createTextHighlighter(be,ze){return new p.TextHighlighter({eventBus:ze,pageIndex:be,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(be,ze,Xe=null,Ne="",yt=!0,ot=o.NullL10n,Ct=null,Pt=null,Gt=null,Tn=null,Jn=null){return new r.AnnotationLayerBuilder({pageDiv:be,pdfPage:ze,annotationStorage:Xe||this.pdfDocument?.annotationStorage,imageResourcesPath:Ne,renderForms:yt,linkService:this.linkService,downloadManager:this.downloadManager,l10n:ot,enableScripting:Ct??this.enableScripting,hasJSActionsPromise:Pt||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:Tn||this.pdfDocument?.getFieldObjects(),mouseState:Gt||this._scriptingManager?.mouseState,annotationCanvasMap:Jn})}createXfaLayerBuilder(be,ze,Xe=null){return new _.XfaLayerBuilder({pageDiv:be,pdfPage:ze,annotationStorage:Xe||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(be){return new l.StructTreeLayerBuilder({pdfPage:be})}get hasEqualPageSizes(){const be=this._pages[0];for(let ze=1,Xe=this._pages.length;ze<Xe;++ze){const Ne=this._pages[ze];if(Ne.width!==be.width||Ne.height!==be.height)return!1}return!0}getPagesOverview(){return this._pages.map(be=>{const ze=be.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,u.isPortraitOrientation)(ze)?{width:ze.width,height:ze.height,rotation:ze.rotation}:{width:ze.height,height:ze.width,rotation:(ze.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(be){if(!(be instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${be}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=be;const ze={optionalContentConfigPromise:be};for(const Xe of this._pages)Xe.update(ze);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:be})}get scrollMode(){return this._scrollMode}set scrollMode(be){if(this._scrollMode!==be){if(!(0,u.isValidScrollMode)(be))throw new Error(`Invalid scroll mode: ${be}`);this.pagesCount>k.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=be,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:be}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(be=null){const ze=this._scrollMode,Xe=this.viewer;Xe.classList.toggle("scrollHorizontal",ze===u.ScrollMode.HORIZONTAL),Xe.classList.toggle("scrollWrapped",ze===u.ScrollMode.WRAPPED),this.pdfDocument&&be&&(ze===u.ScrollMode.PAGE?ti(this,j,xf).call(this):this._previousScrollMode===u.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(be,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(be){if(this._spreadMode!==be){if(!(0,u.isValidSpreadMode)(be))throw new Error(`Invalid spread mode: ${be}`);this._spreadMode=be,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:be}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(be=null){if(!this.pdfDocument)return;const ze=this.viewer,Xe=this._pages;if(this._scrollMode===u.ScrollMode.PAGE)ti(this,j,xf).call(this);else if(ze.textContent="",this._spreadMode===u.SpreadMode.NONE)for(const Ne of this._pages)ze.appendChild(Ne.div);else{const Ne=this._spreadMode-1;let yt=null;for(let ot=0,Ct=Xe.length;ot<Ct;++ot)null===yt?(yt=document.createElement("div"),yt.className="spread",ze.appendChild(yt)):ot%2===Ne&&(yt=yt.cloneNode(!1),ze.appendChild(yt)),yt.appendChild(Xe[ot].div)}!be||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(be,!0),this.update())}_getPageAdvance(be,ze=!1){switch(this._scrollMode){case u.ScrollMode.WRAPPED:{const{views:Xe}=this._getVisiblePages(),Ne=new Map;for(const{id:yt,y:ot,percent:Ct,widthPercent:Pt}of Xe){if(0===Ct||Pt<100)continue;let Gt=Ne.get(ot);Gt||Ne.set(ot,Gt||(Gt=[])),Gt.push(yt)}for(const yt of Ne.values()){const ot=yt.indexOf(be);if(-1===ot)continue;const Ct=yt.length;if(1===Ct)break;if(ze)for(let Pt=ot-1,Gt=0;Pt>=Gt;Pt--){const Jn=yt[Pt+1]-1;if(yt[Pt]<Jn)return be-Jn}else for(let Pt=ot+1,Gt=Ct;Pt<Gt;Pt++){const Jn=yt[Pt-1]+1;if(yt[Pt]>Jn)return Jn-be}if(ze){const Pt=yt[0];if(Pt<be)return be-Pt+1}else{const Pt=yt[Ct-1];if(Pt>be)return Pt-be+1}break}break}case u.ScrollMode.HORIZONTAL:break;case u.ScrollMode.PAGE:case u.ScrollMode.VERTICAL:{if(this._spreadMode===u.SpreadMode.NONE)break;const Xe=this._spreadMode-1;if(ze&&be%2!==Xe)break;if(!ze&&be%2===Xe)break;const{views:Ne}=this._getVisiblePages(),yt=ze?be-1:be+1;for(const{id:ot,percent:Ct,widthPercent:Pt}of Ne)if(ot===yt){if(Ct>0&&100===Pt)return 2;break}break}}return 1}nextPage(){const be=this._currentPageNumber,ze=this.pagesCount;if(be>=ze)return!1;const Xe=this._getPageAdvance(be,!1)||1;return this.currentPageNumber=Math.min(be+Xe,ze),!0}previousPage(){const be=this._currentPageNumber;if(be<=1)return!1;const ze=this._getPageAdvance(be,!0)||1;return this.currentPageNumber=Math.max(be-ze,1),!0}increaseScale(be=1){let ze=this._currentScale;do{ze=(ze*u.DEFAULT_SCALE_DELTA).toFixed(2),ze=Math.ceil(10*ze)/10,ze=Math.min(u.MAX_SCALE,ze)}while(--be>0&&ze<u.MAX_SCALE);this.currentScaleValue=ze}decreaseScale(be=1){let ze=this._currentScale;do{ze=(ze/u.DEFAULT_SCALE_DELTA).toFixed(2),ze=Math.floor(10*ze)/10,ze=Math.max(u.MIN_SCALE,ze)}while(--be>0&&ze>u.MIN_SCALE);this.currentScaleValue=ze}updateContainerHeightCss(){const be=this.container.clientHeight;be!==Qn(this,Ze)&&(Ir(this,Ze,be),this._doc.style.setProperty("--viewer-container-height",`${be}px`))}};let ne=Ke;we=new WeakMap,Ee=new WeakMap,de=new WeakMap,Ve=new WeakMap,Ze=new WeakMap,dt=new WeakMap,he=new WeakMap,ie=new WeakSet,h1=function(be){!be||(be.includes(d.PermissionFlag.COPY)||this.viewer.classList.add(I),!be.includes(d.PermissionFlag.MODIFY_ANNOTATIONS)&&!be.includes(d.PermissionFlag.FILL_INTERACTIVE_FORMS)&&Qn(this,Ee)===d.AnnotationMode.ENABLE_FORMS&&(Ir(this,de,Qn(this,Ee)),Ir(this,Ee,d.AnnotationMode.ENABLE)))},H=new WeakSet,d1=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const be=new Promise(ze=>{Ir(this,he,()=>{"hidden"===document.visibilityState&&(ze(),document.removeEventListener("visibilitychange",Qn(this,he)),Ir(this,he,null))}),document.addEventListener("visibilitychange",Qn(this,he))});return Promise.race([this._onePageRenderedCapability.promise,be])},j=new WeakSet,xf=function(){if(this._scrollMode!==u.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const be=this._currentPageNumber,ze=Qn(this,dt),Xe=this.viewer;if(Xe.textContent="",ze.pages.length=0,this._spreadMode!==u.SpreadMode.NONE||this.isInPresentationMode){const Ne=new Set,yt=this._spreadMode-1;-1===yt?Ne.add(be-1):be%2!==yt?(Ne.add(be-1),Ne.add(be)):(Ne.add(be-2),Ne.add(be-1));const ot=document.createElement("div");if(ot.className="spread",this.isInPresentationMode){const Ct=document.createElement("div");Ct.className="dummyPage",ot.appendChild(Ct)}for(const Ct of Ne){const Pt=this._pages[Ct];!Pt||(ot.appendChild(Pt.div),ze.pages.push(Pt))}Xe.appendChild(ot)}else{const Ne=this._pages[be-1];Xe.appendChild(Ne.div),ze.pages.push(Ne)}ze.scrollDown=be>=ze.previousPageNumber,ze.previousPageNumber=be},J=new WeakSet,Fp=function(be,ze=null){const{div:Xe,id:Ne}=be;if(this._scrollMode===u.ScrollMode.PAGE&&(this._setCurrentPageNumber(Ne),ti(this,j,xf).call(this),this.update()),!ze&&!this.isInPresentationMode){const yt=Xe.offsetLeft+Xe.clientLeft,ot=yt+Xe.clientWidth,{scrollLeft:Ct,clientWidth:Pt}=this.container;(this._scrollMode===u.ScrollMode.HORIZONTAL||yt<Ct||ot>Ct+Pt)&&(ze={left:0,top:0})}(0,u.scrollIntoView)(Xe,ze)},me=new WeakSet,f1=function(be){return be===this._currentScale||Math.abs(be-this._currentScale)<1e-15},je=new WeakSet,Cm=function(){const be=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),ti(this,J,Fp).call(this,be)},it=new WeakSet,p1=function(be){var ze=this;return f(function*(){if(be.pdfPage)return be.pdfPage;try{const Xe=yield ze.pdfDocument.getPage(be.id);return be.pdfPage||be.setPdfPage(Xe),ze.linkService._cachedPageNumber?.(Xe.ref)||ze.linkService.cachePageRef(be.id,Xe.ref),Xe}catch(Xe){return console.error("Unable to get page for page view",Xe),null}})()},Ue=new WeakSet,g1=function(be){if(1===be.first?.id)return!0;if(be.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case u.ScrollMode.PAGE:return Qn(this,dt).scrollDown;case u.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},Lt=new WeakSet,m1=function(be){for(const ze of be)this._pages[ze-1]?.toggleLoadingIconSpinner(!0);for(const ze of Qn(this,we))be.has(ze.id)||ze.toggleLoadingIconSpinner(!1)},m.BaseViewer=ne},(Te,m,c)=>{var h;Object.defineProperty(m,"__esModule",{value:!0}),m.PDFPageView=void 0;var d=c(3),u=c(6),r=c(13),o=c(4);const i=r.compatibilityParams.maxCanvasPixels||16777216;h=new WeakMap,m.PDFPageView=class s{constructor(p){oi(this,h,d.AnnotationMode.ENABLE_FORMS);const w=p.container,_=p.defaultViewport;this.id=p.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=p.scale||u.DEFAULT_SCALE,this.viewport=_,this.pdfPageRotate=_.rotation,this._optionalContentConfigPromise=p.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=p.textLayerMode??u.TextLayerMode.ENABLE,Ir(this,h,p.annotationMode??d.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=p.imageResourcesPath||"",this.useOnlyCssZoom=p.useOnlyCssZoom||!1,this.maxCanvasPixels=p.maxCanvasPixels||i,this.pageColors=p.pageColors||null,this.eventBus=p.eventBus,this.renderingQueue=p.renderingQueue,this.textLayerFactory=p.textLayerFactory,this.annotationLayerFactory=p.annotationLayerFactory,this.xfaLayerFactory=p.xfaLayerFactory,this.textHighlighter=p.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=p.structTreeLayerFactory,this.renderer=p.renderer||u.RendererType.CANVAS,this.l10n=p.l10n||o.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=u.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const C=document.createElement("div");C.className="page",C.style.width=Math.floor(this.viewport.width)+"px",C.style.height=Math.floor(this.viewport.height)+"px",C.setAttribute("data-page-number",this.id),C.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(I=>{C.setAttribute("aria-label",I)}),this.div=C,w?.appendChild(C)}setPdfPage(p){this.pdfPage=p,this.pdfPageRotate=p.rotate,this.viewport=p.getViewport({scale:this.scale*d.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var p=this;return f(function*(){let w=null;try{yield p.annotationLayer.render(p.viewport,"display")}catch(_){w=_}finally{p.eventBus.dispatch("annotationlayerrendered",{source:p,pageNumber:p.id,error:w})}})()}_renderXfaLayer(){var p=this;return f(function*(){let w=null;try{const _=yield p.xfaLayer.render(p.viewport,"display");p.textHighlighter&&p._buildXfaTextContentItems(_.textDivs)}catch(_){w=_}finally{p.eventBus.dispatch("xfalayerrendered",{source:p,pageNumber:p.id,error:w})}})()}_buildXfaTextContentItems(p){var w=this;return f(function*(){const _=yield w.pdfPage.getTextContent(),C=[];for(const I of _.items)C.push(I.str);w.textHighlighter.setTextMapping(p,C),w.textHighlighter.enable()})()}_resetZoomLayer(p=!1){if(!this.zoomLayer)return;const w=this.zoomLayer.firstChild;this.paintedViewportMap.delete(w),w.width=0,w.height=0,p&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:p=!1,keepAnnotationLayer:w=!1,keepXfaLayer:_=!1}={}){this.cancelRendering({keepAnnotationLayer:w,keepXfaLayer:_}),this.renderingState=u.RenderingStates.INITIAL;const C=this.div;C.style.width=Math.floor(this.viewport.width)+"px",C.style.height=Math.floor(this.viewport.height)+"px";const I=C.childNodes,k=p&&this.zoomLayer||null,z=w&&this.annotationLayer?.div||null,ne=_&&this.xfaLayer?.div||null;for(let fe=I.length-1;fe>=0;fe--){const ye=I[fe];switch(ye){case k:case z:case ne:continue}ye.remove()}C.removeAttribute("data-loaded"),z&&this.annotationLayer.hide(),ne&&this.xfaLayer.hide(),k||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(fe=>{this.loadingIconDiv?.setAttribute("aria-label",fe)}),C.appendChild(this.loadingIconDiv)}update({scale:p=0,rotation:w=null,optionalContentConfigPromise:_=null}){if(this.scale=p||this.scale,"number"==typeof w&&(this.rotation=w),_ instanceof Promise&&(this._optionalContentConfigPromise=_),this.viewport=this.viewport.clone({scale:this.scale*d.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:k}=document.documentElement;k.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let I=!1;if(this.canvas&&this.maxCanvasPixels>0){const k=this.outputScale;(Math.floor(this.viewport.width)*k.sx|0)*(Math.floor(this.viewport.height)*k.sy|0)>this.maxCanvasPixels&&(I=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&I)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:p=!1,keepXfaLayer:w=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!p||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!w||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:p,redrawAnnotationLayer:w=!1,redrawXfaLayer:_=!1}){const C=this.viewport.width,I=this.viewport.height,k=this.div;p.style.width=p.parentNode.style.width=k.style.width=Math.floor(C)+"px",p.style.height=p.parentNode.style.height=k.style.height=Math.floor(I)+"px";const z=this.viewport.rotation-this.paintedViewportMap.get(p).rotation,ne=Math.abs(z);let fe=1,ye=1;if((90===ne||270===ne)&&(fe=I/C,ye=C/I),p.style.transform=`rotate(${z}deg) scale(${fe}, ${ye})`,this.textLayer){const Pe=this.textLayer.viewport,we=Math.abs(this.viewport.rotation-Pe.rotation);let Ee=C/Pe.width;(90===we||270===we)&&(Ee=C/Pe.height);const de=this.textLayer.textLayerDiv;let Ve,Ze;switch(we){case 0:Ve=Ze=0;break;case 90:Ve=0,Ze="-"+de.style.height;break;case 180:Ve="-"+de.style.width,Ze="-"+de.style.height;break;case 270:Ve="-"+de.style.width,Ze=0;break;default:console.error("Bad rotation value.")}de.style.transform=`rotate(${we}deg) scale(${Ee}) translate(${Ve}, ${Ze})`,de.style.transformOrigin="0% 0%"}w&&this.annotationLayer&&this._renderAnnotationLayer(),_&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(p,w){return this.viewport.convertToPdfPoint(p,w)}toggleLoadingIconSpinner(p=!1){this.loadingIconDiv?.classList.toggle("notVisible",!p)}draw(){var p=this;this.renderingState!==u.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:w,pdfPage:_}=this;if(!_)return this.renderingState=u.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=u.RenderingStates.RUNNING;const C=document.createElement("div");C.style.width=w.style.width,C.style.height=w.style.height,C.classList.add("canvasWrapper"),this.annotationLayer?.div?w.insertBefore(C,this.annotationLayer.div):w.appendChild(C);let I=null;if(this.textLayerMode!==u.TextLayerMode.DISABLE&&this.textLayerFactory){const ye=document.createElement("div");ye.className="textLayer",ye.style.width=C.style.width,ye.style.height=C.style.height,this.annotationLayer?.div?w.insertBefore(ye,this.annotationLayer.div):w.appendChild(ye),I=this.textLayerFactory.createTextLayerBuilder(ye,this.id-1,this.viewport,this.textLayerMode===u.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=I,Qn(this,h)!==d.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(w,_,null,this.imageResourcesPath,Qn(this,h)===d.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),this.xfaLayer?.div&&w.appendChild(this.xfaLayer.div);let k=null;this.renderingQueue&&(k=ye=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=u.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=u.RenderingStates.RUNNING,ye()});ye()});const z=function(){var ye=f(function*(Pe=null){if(ne===p.paintTask&&(p.paintTask=null),Pe instanceof d.RenderingCancelledException)p._renderError=null;else if(p._renderError=Pe,p.renderingState=u.RenderingStates.FINISHED,p.loadingIconDiv&&(p.loadingIconDiv.remove(),delete p.loadingIconDiv),p._resetZoomLayer(!0),p.eventBus.dispatch("pagerendered",{source:p,pageNumber:p.id,cssTransform:!1,timestamp:performance.now(),error:p._renderError}),Pe)throw Pe});return function(){return ye.apply(this,arguments)}}(),ne=this.renderer===u.RendererType.SVG?this.paintOnSvg(C):this.paintOnCanvas(C);ne.onRenderContinue=k,this.paintTask=ne;const fe=ne.promise.then(()=>z(null).then(()=>{if(I){const ye=_.streamTextContent({includeMarkedContent:!0});I.setTextContentStream(ye),I.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(ye){return z(ye)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(w,_,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=ye=>{ye.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(Pe=>{if(!Pe||!this.canvas)return;const _e=this.structTreeLayer.render(Pe);_e.classList.add("structTree"),this.canvas.appendChild(_e)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(_)),w.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),fe}paintOnCanvas(p){const w=(0,d.createPromiseCapability)(),_={promise:w.promise,onRenderContinue(de){de()},cancel(){Ee.cancel()}},C=this.viewport,I=document.createElement("canvas");I.hidden=!0;let k=!0;const z=function(){k&&(I.hidden=!1,k=!1)};p.appendChild(I),this.canvas=I;const ne=I.getContext("2d",{alpha:!1}),fe=this.outputScale=new u.OutputScale;if(this.useOnlyCssZoom){const de=C.clone({scale:d.PixelsPerInch.PDF_TO_CSS_UNITS});fe.sx*=de.width/C.width,fe.sy*=de.height/C.height}if(this.maxCanvasPixels>0){const Ve=Math.sqrt(this.maxCanvasPixels/(C.width*C.height));fe.sx>Ve||fe.sy>Ve?(fe.sx=Ve,fe.sy=Ve,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const ye=(0,u.approximateFraction)(fe.sx),Pe=(0,u.approximateFraction)(fe.sy);I.width=(0,u.roundToDivide)(C.width*fe.sx,ye[0]),I.height=(0,u.roundToDivide)(C.height*fe.sy,Pe[0]),I.style.width=(0,u.roundToDivide)(C.width,ye[1])+"px",I.style.height=(0,u.roundToDivide)(C.height,Pe[1])+"px",this.paintedViewportMap.set(I,C);const we={canvasContext:ne,transform:fe.scaled?[fe.sx,0,0,fe.sy,0,0]:null,viewport:this.viewport,annotationMode:Qn(this,h),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},Ee=this.pdfPage.render(we);return Ee.onContinue=function(de){z(),_.onRenderContinue?_.onRenderContinue(de):de()},Ee.promise.then(function(){z(),w.resolve()},function(de){z(),w.reject(de)}),_}paintOnSvg(p){let w=!1;const _=()=>{if(w)throw new d.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},C=this.pdfPage,I=this.viewport.clone({scale:d.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:C.getOperatorList({annotationMode:Qn(this,h)}).then(z=>(_(),new d.SVGGraphics(C.commonObjs,C.objs).getSVG(z,I).then(fe=>{_(),this.svg=fe,this.paintedViewportMap.set(fe,I),fe.style.width=p.style.width,fe.style.height=p.style.height,this.renderingState=u.RenderingStates.FINISHED,p.appendChild(fe)}))),onRenderContinue(z){z()},cancel(){w=!0}}}setPageLabel(p){this.pageLabel="string"==typeof p?p:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(Te,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.compatibilityParams=m.OptionKind=m.AppOptions=void 0;const c=Object.create(null);m.compatibilityParams=c;{const i=navigator.userAgent||"",s=navigator.platform||"",h=navigator.maxTouchPoints||1,l=/Android/.test(i);(/\b(iPad|iPhone|iPod)(?=;)/.test(i)||"MacIntel"===s&&h>1||l)&&(c.maxCanvasPixels=5242880)}const d={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};m.OptionKind=d;const u={annotationMode:{value:2,kind:d.VIEWER+d.PREFERENCE},cursorToolOnLoad:{value:0,kind:d.VIEWER+d.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:d.VIEWER},defaultZoomValue:{value:"",kind:d.VIEWER+d.PREFERENCE},disableHistory:{value:!1,kind:d.VIEWER},disablePageLabels:{value:!1,kind:d.VIEWER+d.PREFERENCE},enablePermissions:{value:!1,kind:d.VIEWER+d.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:d.VIEWER+d.PREFERENCE},enableScripting:{value:!0,kind:d.VIEWER+d.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:d.VIEWER},externalLinkTarget:{value:0,kind:d.VIEWER+d.PREFERENCE},historyUpdateUrl:{value:!1,kind:d.VIEWER+d.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:d.VIEWER+d.PREFERENCE},imageResourcesPath:{value:"./images/",kind:d.VIEWER},maxCanvasPixels:{value:16777216,compatibility:c.maxCanvasPixels,kind:d.VIEWER},pageColorsBackground:{value:"Canvas",kind:d.VIEWER+d.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:d.VIEWER+d.PREFERENCE},pdfBugEnabled:{value:!1,kind:d.VIEWER+d.PREFERENCE},printResolution:{value:150,kind:d.VIEWER},renderer:{value:"canvas",kind:d.VIEWER},sidebarViewOnLoad:{value:-1,kind:d.VIEWER+d.PREFERENCE},scrollModeOnLoad:{value:-1,kind:d.VIEWER+d.PREFERENCE},spreadModeOnLoad:{value:-1,kind:d.VIEWER+d.PREFERENCE},textLayerMode:{value:1,kind:d.VIEWER+d.PREFERENCE},useOnlyCssZoom:{value:!1,kind:d.VIEWER+d.PREFERENCE},viewerCssTheme:{value:0,kind:d.VIEWER+d.PREFERENCE},viewOnLoad:{value:0,kind:d.VIEWER+d.PREFERENCE},cMapPacked:{value:!0,kind:d.API},cMapUrl:{value:"../web/cmaps/",kind:d.API},disableAutoFetch:{value:!1,kind:d.API+d.PREFERENCE},disableFontFace:{value:!1,kind:d.API+d.PREFERENCE},disableRange:{value:!1,kind:d.API+d.PREFERENCE},disableStream:{value:!1,kind:d.API+d.PREFERENCE},docBaseUrl:{value:"",kind:d.API},enableXfa:{value:!0,kind:d.API+d.PREFERENCE},fontExtraProperties:{value:!1,kind:d.API},isEvalSupported:{value:!0,kind:d.API},maxImageSize:{value:-1,kind:d.API},pdfBug:{value:!1,kind:d.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:d.API},verbosity:{value:1,kind:d.API},workerPort:{value:null,kind:d.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:d.WORKER}};u.disablePreferences={value:!1,kind:d.VIEWER},u.locale={value:navigator.language||"en-US",kind:d.VIEWER},u.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:d.VIEWER},u.renderer.kind+=d.PREFERENCE;const r=Object.create(null);m.AppOptions=class o{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(s){const h=r[s];if(void 0!==h)return h;const l=u[s];return void 0!==l?l.compatibility??l.value:void 0}static getAll(s=null){const h=Object.create(null);for(const l in u){const p=u[l];if(s){if(0==(s&p.kind))continue;if(s===d.PREFERENCE){const _=p.value,C=typeof _;if("boolean"===C||"string"===C||"number"===C&&Number.isInteger(_)){h[l]=_;continue}throw new Error(`Invalid type for preference: ${l}`)}}const w=r[l];h[l]=void 0!==w?w:p.compatibility??p.value}return h}static set(s,h){r[s]=h}static setAll(s){for(const h in s)r[h]=s[h]}static remove(s){delete r[s]}static _hasUserOptions(){return Object.keys(r).length>0}}},(Te,m,c)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFRenderingQueue=void 0;var d=c(3),u=c(6);m.PDFRenderingQueue=class o{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(s){this.pdfViewer=s}setThumbnailViewer(s){this.pdfThumbnailViewer=s}isHighestPriority(s){return this.highestPriorityPage===s.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(s){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(s)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(s,h,l,p=!1){const w=s.views,_=w.length;if(0===_)return null;for(let ne=0;ne<_;ne++){const fe=w[ne].view;if(!this.isViewFinished(fe))return fe}const C=s.first.id,I=s.last.id;if(I-C+1>_){const ne=s.ids;for(let fe=1,ye=I-C;fe<ye;fe++){const Pe=l?C+fe:I-fe;if(ne.has(Pe))continue;const _e=h[Pe-1];if(!this.isViewFinished(_e))return _e}}let k=l?I:C-2,z=h[k];return z&&!this.isViewFinished(z)||p&&(k+=l?1:-1,z=h[k],z&&!this.isViewFinished(z))?z:null}isViewFinished(s){return s.renderingState===u.RenderingStates.FINISHED}renderView(s){switch(s.renderingState){case u.RenderingStates.FINISHED:return!1;case u.RenderingStates.PAUSED:this.highestPriorityPage=s.renderingId,s.resume();break;case u.RenderingStates.RUNNING:this.highestPriorityPage=s.renderingId;break;case u.RenderingStates.INITIAL:this.highestPriorityPage=s.renderingId,s.draw().finally(()=>{this.renderHighestPriority()}).catch(h=>{h instanceof d.RenderingCancelledException||console.error(`renderView: "${h}"`)})}return!0}}},(Te,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.TextHighlighter=void 0,m.TextHighlighter=class c{constructor({findController:u,eventBus:r,pageIndex:o}){this.findController=u,this.matches=[],this.eventBus=r,this.pageIdx=o,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(u,r){this.textDivs=u,this.textContentItemsStr=r}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=u=>{(u.pageIndex===this.pageIdx||-1===u.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(u,r){if(!u)return[];const{textContentItemsStr:o}=this;let i=0,s=0;const h=o.length-1,l=[];for(let p=0,w=u.length;p<w;p++){let _=u[p];for(;i!==h&&_>=s+o[i].length;)s+=o[i].length,i++;i===o.length&&console.error("Could not find a matching mapping");const C={begin:{divIdx:i,offset:_-s}};for(_+=r[p];i!==h&&_>s+o[i].length;)s+=o[i].length,i++;C.end={divIdx:i,offset:_-s},l.push(C)}return l}_renderMatches(u){if(0===u.length)return;const{findController:r,pageIdx:o}=this,{textContentItemsStr:i,textDivs:s}=this,h=o===r.selected.pageIdx,l=r.selected.matchIdx;let w=null;function C(ne,fe){const ye=ne.divIdx;return s[ye].textContent="",I(ye,0,ne.offset,fe)}function I(ne,fe,ye,Pe){let _e=s[ne];if(_e.nodeType===Node.TEXT_NODE){const de=document.createElement("span");_e.parentNode.insertBefore(de,_e),de.appendChild(_e),s[ne]=de,_e=de}const we=i[ne].substring(fe,ye),Ee=document.createTextNode(we);if(Pe){const de=document.createElement("span");return de.className=`${Pe} appended`,de.appendChild(Ee),_e.appendChild(de),Pe.includes("selected")?de.offsetLeft:0}return _e.appendChild(Ee),0}let k=l,z=k+1;if(r.state.highlightAll)k=0,z=u.length;else if(!h)return;for(let ne=k;ne<z;ne++){const fe=u[ne],ye=fe.begin,Pe=fe.end,_e=h&&ne===l,we=_e?" selected":"";let Ee=0;if(w&&ye.divIdx===w.divIdx?I(w.divIdx,w.offset,ye.offset):(null!==w&&I(w.divIdx,w.offset,undefined),C(ye)),ye.divIdx===Pe.divIdx)Ee=I(ye.divIdx,ye.offset,Pe.offset,"highlight"+we);else{Ee=I(ye.divIdx,ye.offset,undefined,"highlight begin"+we);for(let de=ye.divIdx+1,Ve=Pe.divIdx;de<Ve;de++)s[de].className="highlight middle"+we;C(Pe,"highlight end"+we)}w=Pe,_e&&r.scrollMatchIntoView({element:s[ye.divIdx],selectedLeft:Ee,pageIndex:o,matchIndex:l})}w&&I(w.divIdx,w.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:u,matches:r,pageIdx:o}=this,{textContentItemsStr:i,textDivs:s}=this;let h=-1;for(let w=0,_=r.length;w<_;w++){const C=r[w];for(let k=Math.max(h,C.begin.divIdx),z=C.end.divIdx;k<=z;k++){const ne=s[k];ne.textContent=i[k],ne.className=""}h=C.end.divIdx+1}u?.highlightMatches&&(this.matches=this._convertMatches(u.pageMatches[o]||null,u.pageMatchesLength[o]||null),this._renderMatches(this.matches))}}},(Te,m,c)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.DownloadManager=void 0;var d=c(3);function u(o,i){const s=document.createElement("a");if(!s.click)throw new Error('DownloadManager: "a.click()" is not supported.');s.href=o,s.target="_parent","download"in s&&(s.download=i),(document.body||document.documentElement).appendChild(s),s.click(),s.remove()}m.DownloadManager=class r{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(i,s){(0,d.createValidAbsoluteUrl)(i,"http://example.com")?u(i+"#pdfjs.action=download",s):console.error(`downloadUrl - not a valid URL: ${i}`)}downloadData(i,s,h){u(URL.createObjectURL(new Blob([i],{type:h})),s)}openOrDownloadData(i,s,h){const l=(0,d.isPdfFile)(h),p=l?"application/pdf":"";if(l){let _,w=this._openBlobUrls.get(i);w||(w=URL.createObjectURL(new Blob([s],{type:p})),this._openBlobUrls.set(i,w)),_="?file="+encodeURIComponent(w+"#"+h);try{return window.open(_),!0}catch(C){console.error(`openOrDownloadData: ${C}`),URL.revokeObjectURL(w),this._openBlobUrls.delete(i)}}return this.downloadData(s,h,p),!1}download(i,s,h,l="download"){u(URL.createObjectURL(i),h)}}},(Te,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.WaitOnType=m.EventBus=m.AutomationEventBus=void 0,m.waitOnEventOrTimeout=function d({target:o,name:i,delay:s=0}){return new Promise(function(h,l){if("object"!=typeof o||!i||"string"!=typeof i||!(Number.isInteger(s)&&s>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function p(I){o instanceof u?o._off(i,w):o.removeEventListener(i,w),C&&clearTimeout(C),h(I)}const w=p.bind(null,c.EVENT);o instanceof u?o._on(i,w):o.addEventListener(i,w);const _=p.bind(null,c.TIMEOUT),C=setTimeout(_,s)})};const c={EVENT:"event",TIMEOUT:"timeout"};m.WaitOnType=c;class u{constructor(){this._listeners=Object.create(null)}on(i,s,h=null){this._on(i,s,{external:!0,once:h?.once})}off(i,s,h=null){this._off(i,s,{external:!0,once:h?.once})}dispatch(i,s){const h=this._listeners[i];if(!h||0===h.length)return;let l;for(const{listener:p,external:w,once:_}of h.slice(0))_&&this._off(i,p),w?(l||(l=[])).push(p):p(s);if(l){for(const p of l)p(s);l=null}}_on(i,s,h=null){var p;((p=this._listeners)[i]||(p[i]=[])).push({listener:s,external:!0===h?.external,once:!0===h?.once})}_off(i,s,h=null){const l=this._listeners[i];if(l)for(let p=0,w=l.length;p<w;p++)if(l[p].listener===s)return void l.splice(p,1)}}m.EventBus=u,m.AutomationEventBus=class r extends u{dispatch(i,s){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(Te,m,c)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.GenericL10n=void 0,c(19);var d=c(4);const u=document.webL10n;m.GenericL10n=class r{constructor(i){this._lang=i,this._ready=new Promise((s,h)=>{u.setLanguage((0,d.fixupLangCode)(i),()=>{s(u)})})}getLanguage(){var i=this;return f(function*(){return(yield i._ready).getLanguage()})()}getDirection(){var i=this;return f(function*(){return(yield i._ready).getDirection()})()}get(i,s=null,h=(0,d.getL10nFallback)(i,s)){var l=this;return f(function*(){return(yield l._ready).get(i,s,h)})()}translate(i){var s=this;return f(function*(){return(yield s._ready).translate(i)})()}}},()=>{document.webL10n=function(Te,m,c){var d={},u="",r="textContent",o="",i={},s="loading";function C(de,Ve,Ze){Ve=Ve||function(ie){},Ze=Ze||function(){};var dt=new XMLHttpRequest;dt.open("GET",de,!0),dt.overrideMimeType&&dt.overrideMimeType("text/plain; charset=utf-8"),dt.onreadystatechange=function(){4==dt.readyState&&(200==dt.status||0===dt.status?Ve(dt.responseText):Ze())},dt.onerror=Ze,dt.ontimeout=Ze;try{dt.send(null)}catch{Ze()}}function k(de,Ve){de&&(de=de.toLowerCase()),Ve=Ve||function(){},function z(){d={},u="",o=""}(),o=de;var Ze=function l(){return m.querySelectorAll('link[type="application/l10n"]')}(),dt=Ze.length;if(0!==dt){var H,F=0;H=function(){++F>=dt&&(Ve(),s="complete")};for(var B=0;B<dt;B++)new j(Ze[B]).load(de,H)}else{var he=function p(){var de=m.querySelector('script[type="application/l10n"]');return de?JSON.parse(de.innerHTML):null}();if(he&&he.locales&&he.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(d=he.locales[de])){var ie=he.default_locale.toLowerCase();for(var R in he.locales){if((R=R.toLowerCase())===de){d=he.locales[de];break}R===ie&&(d=he.locales[ie])}}Ve()}else console.log("no resource to load, early way out");s="complete"}function j(re){var me=re.href;this.load=function(De,je){!function I(de,Ve,Ze,dt){var he=de.replace(/[^\/]*$/,"")||"./";function ie(H){return H.lastIndexOf("\\")<0?H:H.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}C(de,function(H){u+=H,function R(H,F){var j={},B=/^\s*|\s*$/,J=/^\s*#|^\s*$/,re=/^\s*\[(.*)\]\s*$/,me=/^\s*@import\s+url\((.*)\)\s*$/i,De=/^([^=\s]*)\s*=\s*(.+)$/;function je(it,Be,Ue){var ht=it.replace(B,"").split(/[\r\n]+/),Lt="*",$e=Ve.split("-",1)[0],Ke=!1,pt="";!function be(){for(;;){if(!ht.length)return void Ue();var ze=ht.shift();if(!J.test(ze)){if(Be){if(pt=re.exec(ze)){Lt=pt[1].toLowerCase(),Ke="*"!==Lt&&Lt!==Ve&&Lt!==$e;continue}if(Ke)continue;if(pt=me.exec(ze))return void We(he+pt[1],be)}var Xe=ze.match(De);Xe&&3==Xe.length&&(j[Xe[1]]=ie(Xe[2]))}}}()}function We(it,Be){C(it,function(Ue){je(Ue,!1,Be)},function(){console.warn(it+" not found."),Be()})}je(H,!0,function(){F(j)})}(H,function(F){for(var j in F){var B,J,re=j.lastIndexOf(".");re>0?(B=j.substring(0,re),J=j.substring(re+1)):(B=j,J=r),d[B]||(d[B]={}),d[B][J]=F[j]}Ze&&Ze()})},dt)}(me,De,je,function(){console.warn(me+" not found."),console.warn('"'+De+'" resource not found'),o="",je()})}}}function fe(de,Ve,Ze){var dt=d[de];if(!dt){if(console.warn("#"+de+" is undefined."),!Ze)return null;dt=Ze}var he={};for(var ie in dt){var R=dt[ie];R=Pe(R=ye(R,Ve,de,ie),Ve,de),he[ie]=R}return he}function ye(de,Ve,Ze,dt){var ie=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(de);if(!ie||!ie.length)return de;var F,R=ie[1],H=ie[2];return Ve&&H in Ve?F=Ve[H]:H in d&&(F=d[H]),R in i&&(de=(0,i[R])(de,F,Ze,dt)),de}function Pe(de,Ve,Ze){return de.replace(/\{\{\s*(.+?)\s*\}\}/g,function(he,ie){return Ve&&ie in Ve?Ve[ie]:ie in d?d[ie]:(console.log("argument {{"+ie+"}} for #"+Ze+" is undefined."),he)})}function _e(de){var Ve=function _(de){if(!de)return{};var Ve=de.getAttribute("data-l10n-id"),Ze=de.getAttribute("data-l10n-args"),dt={};if(Ze)try{dt=JSON.parse(Ze)}catch{console.warn("could not parse arguments for #"+Ve)}return{id:Ve,args:dt}}(de);if(Ve.id){var Ze=fe(Ve.id,Ve.args);if(!Ze)return void console.warn("#"+Ve.id+" is undefined.");if(Ze[r]){if(0===function we(de){if(de.children)return de.children.length;if(typeof de.childElementCount<"u")return de.childElementCount;for(var Ve=0,Ze=0;Ze<de.childNodes.length;Ze++)Ve+=1===de.nodeType?1:0;return Ve}(de))de[r]=Ze[r];else{for(var dt=de.childNodes,he=!1,ie=0,R=dt.length;ie<R;ie++)3===dt[ie].nodeType&&/\S/.test(dt[ie].nodeValue)&&(he?dt[ie].nodeValue="":(dt[ie].nodeValue=Ze[r],he=!0));if(!he){var H=m.createTextNode(Ze[r]);de.insertBefore(H,de.firstChild)}}delete Ze[r]}for(var F in Ze)de[F]=Ze[F]}}return i.plural=function(de,Ve,Ze,dt){var he=parseFloat(Ve);if(isNaN(he)||dt!=r)return de;i._pluralRules||(i._pluralRules=function ne(de){function Ze(R,H){return-1!==H.indexOf(R)}function dt(R,H,F){return H<=R&&R<=F}var he={0:function(R){return"other"},1:function(R){return dt(R%100,3,10)?"few":0===R?"zero":dt(R%100,11,99)?"many":2==R?"two":1==R?"one":"other"},2:function(R){return 0!==R&&R%10==0?"many":2==R?"two":1==R?"one":"other"},3:function(R){return 1==R?"one":"other"},4:function(R){return dt(R,0,1)?"one":"other"},5:function(R){return dt(R,0,2)&&2!=R?"one":"other"},6:function(R){return 0===R?"zero":R%10==1&&R%100!=11?"one":"other"},7:function(R){return 2==R?"two":1==R?"one":"other"},8:function(R){return dt(R,3,6)?"few":dt(R,7,10)?"many":2==R?"two":1==R?"one":"other"},9:function(R){return 0===R||1!=R&&dt(R%100,1,19)?"few":1==R?"one":"other"},10:function(R){return dt(R%10,2,9)&&!dt(R%100,11,19)?"few":R%10!=1||dt(R%100,11,19)?"other":"one"},11:function(R){return dt(R%10,2,4)&&!dt(R%100,12,14)?"few":R%10==0||dt(R%10,5,9)||dt(R%100,11,14)?"many":R%10==1&&R%100!=11?"one":"other"},12:function(R){return dt(R,2,4)?"few":1==R?"one":"other"},13:function(R){return dt(R%10,2,4)&&!dt(R%100,12,14)?"few":1!=R&&dt(R%10,0,1)||dt(R%10,5,9)||dt(R%100,12,14)?"many":1==R?"one":"other"},14:function(R){return dt(R%100,3,4)?"few":R%100==2?"two":R%100==1?"one":"other"},15:function(R){return 0===R||dt(R%100,2,10)?"few":dt(R%100,11,19)?"many":1==R?"one":"other"},16:function(R){return R%10==1&&11!=R?"one":"other"},17:function(R){return 3==R?"few":0===R?"zero":6==R?"many":2==R?"two":1==R?"one":"other"},18:function(R){return 0===R?"zero":dt(R,0,2)&&0!==R&&2!=R?"one":"other"},19:function(R){return dt(R,2,10)?"few":dt(R,0,1)?"one":"other"},20:function(R){return!dt(R%10,3,4)&&R%10!=9||dt(R%100,10,19)||dt(R%100,70,79)||dt(R%100,90,99)?R%1e6==0&&0!==R?"many":R%10!=2||Ze(R%100,[12,72,92])?R%10!=1||Ze(R%100,[11,71,91])?"other":"one":"two":"few"},21:function(R){return 0===R?"zero":1==R?"one":"other"},22:function(R){return dt(R,0,1)||dt(R,11,99)?"one":"other"},23:function(R){return dt(R%10,1,2)||R%20==0?"one":"other"},24:function(R){return dt(R,3,10)||dt(R,13,19)?"few":Ze(R,[2,12])?"two":Ze(R,[1,11])?"one":"other"}},ie={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[de.replace(/-.*$/,"")];return ie in he?he[ie]:(console.warn("plural form unknown for ["+de+"]"),function(){return"other"})}(o));var ie="["+i._pluralRules(he)+"]";return 0===he&&Ze+"[zero]"in d?de=d[Ze+"[zero]"][dt]:1==he&&Ze+"[one]"in d?de=d[Ze+"[one]"][dt]:2==he&&Ze+"[two]"in d?de=d[Ze+"[two]"][dt]:Ze+ie in d?de=d[Ze+ie][dt]:Ze+"[other]"in d&&(de=d[Ze+"[other]"][dt]),de},{get:function(de,Ve,Ze){var ie,dt=de.lastIndexOf("."),he=r;dt>0&&(he=de.substring(dt+1),de=de.substring(0,dt)),Ze&&((ie={})[he]=Ze);var R=fe(de,Ve,ie);return R&&he in R?R[he]:"{{"+de+"}}"},getData:function(){return d},getText:function(){return u},getLanguage:function(){return o},setLanguage:function(de,Ve){k(de,function(){Ve&&Ve()})},getDirection:function(){var Ve=o.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(Ve)>=0?"rtl":"ltr"},translate:function Ee(de){for(var Ve=function w(de){return de?de.querySelectorAll("*[data-l10n-id]"):[]}(de=de||m.documentElement),Ze=Ve.length,dt=0;dt<Ze;dt++)_e(Ve[dt]);_e(de)},getReadyState:function(){return s},ready:function(de){de&&("complete"==s||"interactive"==s?Te.setTimeout(function(){de()}):m.addEventListener&&m.addEventListener("localized",function Ve(){m.removeEventListener("localized",Ve),de()}))}}}(window,document)},(Te,m,c)=>{var Pe,v1,we,Sm,de,Am,Ze,y1,he,_1,R,b1,F,xm,B,w1,re,C1,De,Rp,We,Pf,Be,wd,ht,S1,$e,Pm,pt,Em,ze,Np,Ne,A1,ot,Dm,Pt,x1,Tn,Ef;Object.defineProperty(m,"__esModule",{value:!0}),m.PDFFindController=m.FindState=void 0;var d=c(6),u=c(3),r=c(21);const o={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};m.FindState=o;const l={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},p=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),w=[...p.values()].map(Nt=>String.fromCharCode(Nt)).join(""),_=/\p{M}+/gu,C=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,I=/([^\p{M}])\p{M}*$/u,k=/^\p{M}*([^\p{M}])/u;let z=null;function ne(Nt){if(!z){const di=Object.keys(l).join("");z=new RegExp(`([${di}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const Ye=[];let st;for(;null!==(st=_.exec(Nt));)Ye.push([st[0].length,st.index]);let Bt=Nt.normalize("NFD");const Kt=[[0,0]];let bn=0,fn=0,Rn=0,ri=0,Ri=!1;return Bt=Bt.replace(z,(di,Li,_i,nr,Pi,Wi)=>{if(Wi-=Rn,Li){const ji=l[di],Kn=ji.length;for(let ir=1;ir<Kn;ir++)Kt.push([Wi-fn+ir,fn-ir]);return fn-=Kn-1,ji}if(_i){const ji=_i.endsWith("\n"),Kn=ji?_i.length-2:_i.length;Ri=!0;let ir=Kn;Wi+ri===Ye[bn]?.[1]&&(ir-=Ye[bn][0],++bn);for(let Er=1;Er<ir+1;Er++)Kt.push([Wi-1-fn+Er,fn-Er]);return fn-=ir,Rn+=ir,ji?(Kt.push([(Wi+=Kn-1)-fn+1,1+fn]),fn+=1,Rn+=1,ri+=1,_i.slice(0,Kn)):_i}return nr?(Kt.push([Wi-fn+1,1+fn]),fn+=1,Rn+=1,ri+=1,nr.charAt(0)):(Kt.push([Wi-fn+1,fn-1]),fn-=1,Rn+=1,ri+=1," ")}),Kt.push([Bt.length,fn]),[Bt,Kt,Ri]}function fe(Nt,Ye,st){if(!Nt)return[Ye,st];const Bt=Ye,Kt=Ye+st;let bn=(0,d.binarySearchFirstItem)(Nt,Rn=>Rn[0]>=Bt);Nt[bn][0]>Bt&&--bn;let fn=(0,d.binarySearchFirstItem)(Nt,Rn=>Rn[0]>=Kt,bn);return Nt[fn][0]>Kt&&--fn,[Bt+Nt[bn][1],st+Nt[fn][1]-Nt[bn][1]]}Pe=new WeakSet,v1=function(Ye){if(!Ye)return;const st=this._pdfDocument,{type:Bt}=Ye;(null===this._state||ti(this,Ze,y1).call(this,Ye))&&(this._dirtyMatch=!0),this._state=Ye,"highlightallchange"!==Bt&&ti(this,Tn,Ef).call(this,o.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||st&&this._pdfDocument!==st)return;ti(this,re,C1).call(this);const Kt=!this._highlightMatches,bn=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),Bt?this._dirtyMatch?ti(this,Be,wd).call(this):"again"===Bt?(ti(this,Be,wd).call(this),Kt&&this._state.highlightAll&&ti(this,We,Pf).call(this)):"highlightallchange"===Bt?(bn?ti(this,Be,wd).call(this):this._highlightMatches=!0,ti(this,We,Pf).call(this)):ti(this,Be,wd).call(this):this._findTimeout=setTimeout(()=>{ti(this,Be,wd).call(this),this._findTimeout=null},250)})},we=new WeakSet,Sm=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,u.createPromiseCapability)()},de=new WeakSet,Am=function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=ne(this._state.query)),this._normalizedQuery},Ze=new WeakSet,y1=function(Ye){if(Ye.query!==this._state.query)return!0;switch(Ye.type){case"again":const st=this._selected.pageIdx+1,Bt=this._linkService;return st>=1&&st<=Bt.pagesCount&&st!==Bt.page&&!Bt.isPageVisible(st);case"highlightallchange":return!1}return!0},he=new WeakSet,_1=function(Ye,st,Bt){let Kt=Ye.slice(0,st).match(I);if(Kt){const bn=Ye.charCodeAt(st),fn=Kt[1].charCodeAt(0);if((0,r.getCharacterType)(bn)===(0,r.getCharacterType)(fn))return!1}if(Kt=Ye.slice(st+Bt).match(k),Kt){const bn=Ye.charCodeAt(st+Bt-1),fn=Kt[1].charCodeAt(0);if((0,r.getCharacterType)(bn)===(0,r.getCharacterType)(fn))return!1}return!0},R=new WeakSet,b1=function(Ye,st,Bt,Kt){const bn=[],fn=[],Rn=this._pageDiffs[Bt];let ri;for(;null!==(ri=Ye.exec(Kt));){if(st&&!ti(this,he,_1).call(this,Kt,ri.index,ri[0].length))continue;const[Ri,di]=fe(Rn,ri.index,ri[0].length);di&&(bn.push(Ri),fn.push(di))}this._pageMatches[Bt]=bn,this._pageMatchesLength[Bt]=fn},F=new WeakSet,xm=function(Ye,st){const{matchDiacritics:Bt}=this._state;let Kt=!1;return(Ye=Ye.replace(C,(fn,Rn,ri,Ri,di,Li)=>Rn?`[ ]*\\${Rn}[ ]*`:ri?`[ ]*${ri}[ ]*`:Ri?"[ ]+":Bt?di||Li:di?p.has(di.charCodeAt(0))?di:"":st?(Kt=!0,`${Li}\\p{M}*`):Li)).endsWith("[ ]*")&&(Ye=Ye.slice(0,Ye.length-"[ ]*".length)),Bt&&st&&(Kt=!0,Ye=`${Ye}(?=[${w}]|[^\\p{M}]|$)`),[Kt,Ye]},B=new WeakSet,w1=function(Ye){let st=Qn(this,de,Am);if(0===st.length)return;const{caseSensitive:Bt,entireWord:Kt,phraseSearch:bn}=this._state,fn=this._pageContents[Ye],Rn=this._hasDiacritics[Ye];let ri=!1;if(bn)[ri,st]=ti(this,F,xm).call(this,st,Rn);else{const Li=st.match(/\S+/g);Li&&(st=Li.sort().reverse().map(_i=>{const[nr,Pi]=ti(this,F,xm).call(this,_i,Rn);return ri||(ri=nr),`(${Pi})`}).join("|"))}st=new RegExp(st,`g${ri?"u":""}${Bt?"":"i"}`),ti(this,R,b1).call(this,st,Kt,Ye,fn),this._state.highlightAll&&ti(this,De,Rp).call(this,Ye),this._resumePageIdx===Ye&&(this._resumePageIdx=null,ti(this,$e,Pm).call(this));const di=this._pageMatches[Ye].length;di>0&&(this._matchesCountTotal+=di,ti(this,Pt,x1).call(this))},re=new WeakSet,C1=function(){if(this._extractTextPromises.length>0)return;let Ye=Promise.resolve();for(let st=0,Bt=this._linkService.pagesCount;st<Bt;st++){const Kt=(0,u.createPromiseCapability)();this._extractTextPromises[st]=Kt.promise,Ye=Ye.then(()=>this._pdfDocument.getPage(st+1).then(bn=>bn.getTextContent()).then(bn=>{const fn=[];for(const Rn of bn.items)fn.push(Rn.str),Rn.hasEOL&&fn.push("\n");[this._pageContents[st],this._pageDiffs[st],this._hasDiacritics[st]]=ne(fn.join("")),Kt.resolve()},bn=>{console.error(`Unable to get text content for page ${st+1}`,bn),this._pageContents[st]="",this._pageDiffs[st]=null,this._hasDiacritics[st]=!1,Kt.resolve()}))}},De=new WeakSet,Rp=function(Ye){this._scrollMatches&&this._selected.pageIdx===Ye&&(this._linkService.page=Ye+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:Ye})},We=new WeakSet,Pf=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},Be=new WeakSet,wd=function(){const Ye=this._state.findPrevious,st=this._linkService.page-1,Bt=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=st,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,ti(this,We,Pf).call(this);for(let bn=0;bn<Bt;bn++)this._pendingFindMatches.has(bn)||(this._pendingFindMatches.add(bn),this._extractTextPromises[bn].then(()=>{this._pendingFindMatches.delete(bn),ti(this,B,w1).call(this,bn)}))}if(""===Qn(this,de,Am))return void ti(this,Tn,Ef).call(this,o.FOUND);if(this._resumePageIdx)return;const Kt=this._offset;if(this._pagesToSearch=Bt,null!==Kt.matchIdx){const bn=this._pageMatches[Kt.pageIdx].length;if(!Ye&&Kt.matchIdx+1<bn||Ye&&Kt.matchIdx>0)return Kt.matchIdx=Ye?Kt.matchIdx-1:Kt.matchIdx+1,void ti(this,ze,Np).call(this,!0);ti(this,pt,Em).call(this,Ye)}ti(this,$e,Pm).call(this)},ht=new WeakSet,S1=function(Ye){const st=this._offset,Bt=Ye.length,Kt=this._state.findPrevious;return Bt?(st.matchIdx=Kt?Bt-1:0,ti(this,ze,Np).call(this,!0),!0):(ti(this,pt,Em).call(this,Kt),!!(st.wrapped&&(st.matchIdx=null,this._pagesToSearch<0))&&(ti(this,ze,Np).call(this,!1),!0))},$e=new WeakSet,Pm=function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let Ye=null;do{const st=this._offset.pageIdx;if(Ye=this._pageMatches[st],!Ye){this._resumePageIdx=st;break}}while(!ti(this,ht,S1).call(this,Ye))},pt=new WeakSet,Em=function(Ye){const st=this._offset,Bt=this._linkService.pagesCount;st.pageIdx=Ye?st.pageIdx-1:st.pageIdx+1,st.matchIdx=null,this._pagesToSearch--,(st.pageIdx>=Bt||st.pageIdx<0)&&(st.pageIdx=Ye?Bt-1:0,st.wrapped=!0)},ze=new WeakSet,Np=function(Ye=!1){let st=o.NOT_FOUND;const Bt=this._offset.wrapped;if(this._offset.wrapped=!1,Ye){const Kt=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,st=Bt?o.WRAPPED:o.FOUND,-1!==Kt&&Kt!==this._selected.pageIdx&&ti(this,De,Rp).call(this,Kt)}ti(this,Tn,Ef).call(this,st,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,ti(this,De,Rp).call(this,this._selected.pageIdx))},Ne=new WeakSet,A1=function(Ye){const st=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||st&&this._pdfDocument!==st||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),ti(this,Tn,Ef).call(this,o.FOUND),this._highlightMatches=!1,ti(this,We,Pf).call(this))})},ot=new WeakSet,Dm=function(){const{pageIdx:Ye,matchIdx:st}=this._selected;let Bt=0,Kt=this._matchesCountTotal;if(-1!==st){for(let bn=0;bn<Ye;bn++)Bt+=this._pageMatches[bn]?.length||0;Bt+=st+1}return(Bt<1||Bt>Kt)&&(Bt=Kt=0),{current:Bt,total:Kt}},Pt=new WeakSet,x1=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:ti(this,ot,Dm).call(this)})},Tn=new WeakSet,Ef=function(Ye,st=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:Ye,previous:st,matchesCount:ti(this,ot,Dm).call(this),rawQuery:this._state?.query??null})},m.PDFFindController=class ye{constructor({linkService:Ye,eventBus:st}){oi(this,Pe),oi(this,we),oi(this,de),oi(this,Ze),oi(this,he),oi(this,R),oi(this,F),oi(this,B),oi(this,re),oi(this,De),oi(this,We),oi(this,Be),oi(this,ht),oi(this,$e),oi(this,pt),oi(this,ze),oi(this,Ne),oi(this,ot),oi(this,Pt),oi(this,Tn),this._linkService=Ye,this._eventBus=st,ti(this,we,Sm).call(this),st._on("find",ti(this,Pe,v1).bind(this)),st._on("findbarclose",ti(this,Ne,A1).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(Ye){this._pdfDocument&&ti(this,we,Sm).call(this),Ye&&(this._pdfDocument=Ye,this._firstPageCapability.resolve())}scrollMatchIntoView({element:Ye=null,selectedLeft:st=0,pageIndex:Bt=-1,matchIndex:Kt=-1}){this._scrollMatches&&Ye&&-1!==Kt&&Kt===this._selected.matchIdx&&-1!==Bt&&Bt===this._selected.pageIdx&&(this._scrollMatches=!1,(0,d.scrollIntoView)(Ye,{top:-50,left:st+-400},!0))}}},(Te,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.CharacterType=void 0,m.getCharacterType=function _(C){return function d(C){return C<11904}(C)?function u(C){return 0==(65408&C)}(C)?function i(C){return 32===C||9===C||13===C||10===C}(C)?c.SPACE:function r(C){return C>=97&&C<=122||C>=65&&C<=90}(C)||function o(C){return C>=48&&C<=57}(C)||95===C?c.ALPHA_LETTER:c.PUNCT:function w(C){return 3584==(65408&C)}(C)?c.THAI_LETTER:160===C?c.SPACE:c.ALPHA_LETTER:function s(C){return C>=13312&&C<=40959||C>=63744&&C<=64255}(C)?c.HAN_LETTER:function h(C){return C>=12448&&C<=12543}(C)?c.KATAKANA_LETTER:function l(C){return C>=12352&&C<=12447}(C)?c.HIRAGANA_LETTER:function p(C){return C>=65376&&C<=65439}(C)?c.HALFWIDTH_KATAKANA_LETTER:c.ALPHA_LETTER};const c={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};m.CharacterType=c},(Te,m,c)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFHistory=void 0,m.isDestArraysEqual=p,m.isDestHashesEqual=l;var d=c(6),u=c(17);function s(){return document.location.hash}function l(w,_){return"string"==typeof w&&"string"==typeof _&&(w===_||(0,d.parseQueryString)(w).get("nameddest")===_)}function p(w,_){function C(I,k){if(typeof I!=typeof k||Array.isArray(I)||Array.isArray(k))return!1;if(null!==I&&"object"==typeof I&&null!==k){if(Object.keys(I).length!==Object.keys(k).length)return!1;for(const z in I)if(!C(I[z],k[z]))return!1;return!0}return I===k||Number.isNaN(I)&&Number.isNaN(k)}if(!Array.isArray(w)||!Array.isArray(_)||w.length!==_.length)return!1;for(let I=0,k=w.length;I<k;I++)if(!C(w[I],_[I]))return!1;return!0}m.PDFHistory=class h{constructor({linkService:_,eventBus:C}){this.linkService=_,this.eventBus=C,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",I=>{this._isPagesLoaded=!!I.pagesCount},{once:!0})})}initialize({fingerprint:_,resetHistory:C=!1,updateUrl:I=!1}){if(!_||"string"!=typeof _)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const k=""!==this._fingerprint&&this._fingerprint!==_;this._fingerprint=_,this._updateUrl=!0===I,this._initialized=!0,this._bindEvents();const z=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=s(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(z,!0)||C){const{hash:fe,page:ye,rotation:Pe}=this._parseCurrentHash(!0);return!fe||k||C?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:fe,page:ye,rotation:Pe},!0)}const ne=z.destination;this._updateInternalState(ne,z.uid,!0),void 0!==ne.rotation&&(this._initialRotation=ne.rotation),ne.dest?(this._initialBookmark=JSON.stringify(ne.dest),this._destination.page=null):ne.hash?this._initialBookmark=ne.hash:ne.page&&(this._initialBookmark=`page=${ne.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:_=null,explicitDest:C,pageNumber:I}){if(!this._initialized)return;if(_&&"string"!=typeof _)return void console.error(`PDFHistory.push: "${_}" is not a valid namedDest parameter.`);if(!Array.isArray(C))return void console.error(`PDFHistory.push: "${C}" is not a valid explicitDest parameter.`);if(!this._isValidPage(I)&&(null!==I||this._destination))return void console.error(`PDFHistory.push: "${I}" is not a valid pageNumber parameter.`);const k=_||JSON.stringify(C);if(!k)return;let z=!1;if(this._destination&&(l(this._destination.hash,k)||p(this._destination.dest,C))){if(this._destination.page)return;z=!0}this._popStateInProgress&&!z||(this._pushOrReplaceState({dest:C,hash:k,page:I,rotation:this.linkService.rotation},z),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(_){if(this._initialized){if(!this._isValidPage(_))return void console.error(`PDFHistory.pushPage: "${_}" is not a valid page number.`);this._destination?.page!==_&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${_}`,page:_,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const _=window.history.state;this._isValidState(_)&&_.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const _=window.history.state;this._isValidState(_)&&_.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(_,C=!1){const I=C||!this._destination,k={fingerprint:this._fingerprint,uid:I?this._uid:this._uid+1,destination:_};let z;if(this._updateInternalState(_,k.uid),this._updateUrl&&_?.hash){const ne=document.location.href.split("#")[0];ne.startsWith("file://")||(z=`${ne}#${_.hash}`)}I?window.history.replaceState(k,"",z):window.history.pushState(k,"",z)}_tryPushCurrentPosition(_=!1){if(!this._position)return;let C=this._position;if(_&&(C=Object.assign(Object.create(null),this._position),C.temporary=!0),!this._destination)return void this._pushOrReplaceState(C);if(this._destination.temporary)return void this._pushOrReplaceState(C,!0);if(this._destination.hash===C.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let I=!1;if(this._destination.page>=C.first&&this._destination.page<=C.page){if(void 0!==this._destination.dest||!this._destination.first)return;I=!0}this._pushOrReplaceState(C,I)}_isValidPage(_){return Number.isInteger(_)&&_>0&&_<=this.linkService.pagesCount}_isValidState(_,C=!1){if(!_)return!1;if(_.fingerprint!==this._fingerprint){if(!C)return!1;{if("string"!=typeof _.fingerprint||_.fingerprint.length!==this._fingerprint.length)return!1;const[I]=performance.getEntriesByType("navigation");if("reload"!==I?.type)return!1}}return!(!Number.isInteger(_.uid)||_.uid<0||null===_.destination||"object"!=typeof _.destination)}_updateInternalState(_,C,I=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),I&&_?.temporary&&delete _.temporary,this._destination=_,this._uid=C,this._maxUid=Math.max(this._maxUid,C),this._numPositionUpdates=0}_parseCurrentHash(_=!1){const C=unescape(s()).substring(1),I=(0,d.parseQueryString)(C),k=I.get("nameddest")||"";let z=0|I.get("page");return(!this._isValidPage(z)||_&&k.length>0)&&(z=null),{hash:C,page:z,rotation:this.linkService.rotation}}_updateViewarea({location:_}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:_.pdfOpenParams.substring(1),page:this.linkService.page,first:_.pageNumber,rotation:_.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:_}){const C=s(),I=this._currentHash!==C;if(this._currentHash=C,!_){this._uid++;const{hash:z,page:ne,rotation:fe}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:z,page:ne,rotation:fe},!0)}if(!this._isValidState(_))return;this._popStateInProgress=!0,I&&(this._blockHashChange++,(0,u.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const k=_.destination;this._updateInternalState(k,_.uid,!0),(0,d.isValidRotation)(k.rotation)&&(this.linkService.rotation=k.rotation),k.dest?this.linkService.goToDestination(k.dest):k.hash?this.linkService.setHash(k.hash):k.page&&(this.linkService.page=k.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(Te,m,c)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFScriptingManager=void 0;var d=c(6),u=c(3);m.PDFScriptingManager=class r{constructor({eventBus:i,sandboxBundleSrc:s=null,scriptingFactory:h=null,docPropertiesLookup:l=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=i,this._sandboxBundleSrc=s,this._scriptingFactory=h,this._docPropertiesLookup=l,this._scriptingFactory||window.addEventListener("updatefromsandbox",p=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:p.detail})})}setViewer(i){this._pdfViewer=i}setDocument(i){var s=this;return f(function*(){if(s._pdfDocument&&(yield s._destroyScripting()),s._pdfDocument=i,!i)return;const[h,l,p]=yield Promise.all([i.getFieldObjects(),i.getCalculationOrderIds(),i.getJSActions()]);if(h||p){if(i===s._pdfDocument){try{s._scripting=s._createScripting()}catch(w){return console.error(`PDFScriptingManager.setDocument: "${w?.message}".`),void(yield s._destroyScripting())}s._internalEvents.set("updatefromsandbox",w=>{w?.source===window&&s._updateFromSandbox(w.detail)}),s._internalEvents.set("dispatcheventinsandbox",w=>{s._scripting?.dispatchEventInSandbox(w.detail)}),s._internalEvents.set("pagechanging",({pageNumber:w,previous:_})=>{w!==_&&(s._dispatchPageClose(_),s._dispatchPageOpen(w))}),s._internalEvents.set("pagerendered",({pageNumber:w})=>{!s._pageOpenPending.has(w)||w===s._pdfViewer.currentPageNumber&&s._dispatchPageOpen(w)}),s._internalEvents.set("pagesdestroy",function(){var w=f(function*(_){yield s._dispatchPageClose(s._pdfViewer.currentPageNumber),yield s._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),s._closeCapability?.resolve()});return function(_){return w.apply(this,arguments)}}()),s._domEvents.set("mousedown",w=>{s._mouseState.isDown=!0}),s._domEvents.set("mouseup",w=>{s._mouseState.isDown=!1});for(const[w,_]of s._internalEvents)s._eventBus._on(w,_);for(const[w,_]of s._domEvents)window.addEventListener(w,_,!0);try{const w=yield s._getDocProperties();if(i!==s._pdfDocument)return;yield s._scripting.createSandbox({objects:h,calculationOrder:l,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...w,actions:p}}),s._eventBus.dispatch("sandboxcreated",{source:s})}catch(w){return console.error(`PDFScriptingManager.setDocument: "${w?.message}".`),void(yield s._destroyScripting())}yield s._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield s._dispatchPageOpen(s._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{i===s._pdfDocument&&(s._ready=!0)})}}else yield s._destroyScripting()})()}dispatchWillSave(i){var s=this;return f(function*(){return s._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(i){var s=this;return f(function*(){return s._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(i){var s=this;return f(function*(){return s._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(i){var s=this;return f(function*(){return s._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,u.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,u.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,u.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,u.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(i){var s=this;return f(function*(){const h=s._pdfViewer.isInPresentationMode||s._pdfViewer.isChangingPresentationMode,{id:l,siblings:p,command:w,value:_}=i;if(!l){switch(w){case"clear":console.clear();break;case"error":console.error(_);break;case"layout":if(h)return;const I=(0,d.apiPageLayoutToViewerModes)(_);s._pdfViewer.spreadMode=I.spreadMode;break;case"page-num":s._pdfViewer.currentPageNumber=_+1;break;case"print":yield s._pdfViewer.pagesPromise,s._eventBus.dispatch("print",{source:s});break;case"println":console.log(_);break;case"zoom":if(h)return;s._pdfViewer.currentScaleValue=_;break;case"SaveAs":s._eventBus.dispatch("save",{source:s});break;case"FirstPage":s._pdfViewer.currentPageNumber=1;break;case"LastPage":s._pdfViewer.currentPageNumber=s._pdfViewer.pagesCount;break;case"NextPage":s._pdfViewer.nextPage();break;case"PrevPage":s._pdfViewer.previousPage();break;case"ZoomViewIn":if(h)return;s._pdfViewer.increaseScale();break;case"ZoomViewOut":if(h)return;s._pdfViewer.decreaseScale()}return}if(h&&i.focus)return;delete i.id,delete i.siblings;const C=p?[l,...p]:[l];for(const I of C){const k=document.getElementById(I);k?k.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:i})):s._pdfDocument?.annotationStorage.setValue(I,i)}})()}_dispatchPageOpen(i,s=!1){var h=this;return f(function*(){const l=h._pdfDocument,p=h._visitedPages;if(s&&(h._closeCapability=(0,u.createPromiseCapability)()),!h._closeCapability)return;const w=h._pdfViewer.getPageView(i-1);if(w?.renderingState!==d.RenderingStates.FINISHED)return void h._pageOpenPending.add(i);h._pageOpenPending.delete(i);const _=f(function*(){const C=yield p.has(i)?null:w.pdfPage?.getJSActions();l===h._pdfDocument&&(yield h._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:i,actions:C}))})();p.set(i,_)})()}_dispatchPageClose(i){var s=this;return f(function*(){const h=s._pdfDocument,l=s._visitedPages;if(!s._closeCapability||s._pageOpenPending.has(i))return;const p=l.get(i);!p||(l.set(i,null),yield p,h===s._pdfDocument&&(yield s._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:i})))})()}_getDocProperties(){var i=this;return f(function*(){if(i._docPropertiesLookup)return i._docPropertiesLookup(i._pdfDocument);const{docPropertiesLookup:s}=c(24);return s(i._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,u.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:i}=c(24);return new i(this._sandboxBundleSrc)}_destroyScripting(){var i=this;return f(function*(){if(!i._scripting)return i._pdfDocument=null,void i._destroyCapability?.resolve();i._closeCapability&&(yield Promise.race([i._closeCapability.promise,new Promise(s=>{setTimeout(s,1e3)})]).catch(s=>{}),i._closeCapability=null),i._pdfDocument=null;try{yield i._scripting.destroySandbox()}catch{}for(const[s,h]of i._internalEvents)i._eventBus._off(s,h);i._internalEvents.clear();for(const[s,h]of i._domEvents)window.removeEventListener(s,h,!0);i._domEvents.clear(),i._pageOpenPending.clear(),i._visitedPages.clear(),i._scripting=null,delete i._mouseState.isDown,i._ready=!1,i._destroyCapability?.resolve()})()}}},(Te,m,c)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.GenericScripting=void 0,m.docPropertiesLookup=function u(i){return r.apply(this,arguments)};var d=c(3);function r(){return(r=f(function*(i){const h="".split("#")[0];let{info:l,metadata:p,contentDispositionFilename:w,contentLength:_}=yield i.getMetadata();if(!_){const{length:C}=yield i.getDownloadInfo();_=C}return{...l,baseURL:h,filesize:_,filename:w||(0,d.getPdfFilenameFromUrl)(""),metadata:p?.getRaw(),authors:p?.get("dc:creator"),numPages:i.numPages,URL:""}})).apply(this,arguments)}m.GenericScripting=class o{constructor(s){this._ready=(0,d.loadScript)(s,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(s){var h=this;return f(function*(){(yield h._ready).create(s)})()}dispatchEventInSandbox(s){var h=this;return f(function*(){const l=yield h._ready;setTimeout(()=>l.dispatchEvent(s),0)})()}destroySandbox(){var s=this;return f(function*(){(yield s._ready).nukeSandbox()})()}}}],le={};function Qe(Te){var m=le[Te];if(void 0!==m)return m.exports;var c=le[Te]={exports:{}};return te[Te](c,c.exports,Qe),c.exports}var Je={};return(()=>{var Te=Je;Object.defineProperty(Te,"__esModule",{value:!0}),Object.defineProperty(Te,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return r.AnnotationLayerBuilder}}),Object.defineProperty(Te,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return m.DefaultAnnotationLayerFactory}}),Object.defineProperty(Te,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return m.DefaultStructTreeLayerFactory}}),Object.defineProperty(Te,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return m.DefaultTextLayerFactory}}),Object.defineProperty(Te,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return m.DefaultXfaLayerFactory}}),Object.defineProperty(Te,"DownloadManager",{enumerable:!0,get:function(){return o.DownloadManager}}),Object.defineProperty(Te,"EventBus",{enumerable:!0,get:function(){return i.EventBus}}),Object.defineProperty(Te,"GenericL10n",{enumerable:!0,get:function(){return s.GenericL10n}}),Object.defineProperty(Te,"LinkTarget",{enumerable:!0,get:function(){return c.LinkTarget}}),Object.defineProperty(Te,"NullL10n",{enumerable:!0,get:function(){return h.NullL10n}}),Object.defineProperty(Te,"PDFFindController",{enumerable:!0,get:function(){return l.PDFFindController}}),Object.defineProperty(Te,"PDFHistory",{enumerable:!0,get:function(){return p.PDFHistory}}),Object.defineProperty(Te,"PDFLinkService",{enumerable:!0,get:function(){return c.PDFLinkService}}),Object.defineProperty(Te,"PDFPageView",{enumerable:!0,get:function(){return w.PDFPageView}}),Object.defineProperty(Te,"PDFScriptingManager",{enumerable:!0,get:function(){return _.PDFScriptingManager}}),Object.defineProperty(Te,"PDFSinglePageViewer",{enumerable:!0,get:function(){return u.PDFSinglePageViewer}}),Object.defineProperty(Te,"PDFViewer",{enumerable:!0,get:function(){return u.PDFViewer}}),Object.defineProperty(Te,"ProgressBar",{enumerable:!0,get:function(){return d.ProgressBar}}),Object.defineProperty(Te,"SimpleLinkService",{enumerable:!0,get:function(){return c.SimpleLinkService}}),Object.defineProperty(Te,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return C.StructTreeLayerBuilder}}),Object.defineProperty(Te,"TextLayerBuilder",{enumerable:!0,get:function(){return I.TextLayerBuilder}}),Object.defineProperty(Te,"XfaLayerBuilder",{enumerable:!0,get:function(){return k.XfaLayerBuilder}}),Object.defineProperty(Te,"parseQueryString",{enumerable:!0,get:function(){return d.parseQueryString}});var m=Qe(1),c=Qe(5),d=Qe(6),u=Qe(10),r=Qe(2),o=Qe(16),i=Qe(17),s=Qe(18),h=Qe(4),l=Qe(20),p=Qe(22),w=Qe(12),_=Qe(23),C=Qe(7),I=Qe(8),k=Qe(9)})(),Je})(),qt.exports=Qe()},1135:(qt,ue,ge)=>{"use strict";ge.d(ue,{X:()=>te});var f=ge(7579);class te extends f.x{constructor(Qe){super(),this._value=Qe}get value(){return this.getValue()}_subscribe(Qe){const Je=super._subscribe(Qe);return!Je.closed&&Qe.next(this._value),Je}getValue(){const{hasError:Qe,thrownError:Je,_value:Te}=this;if(Qe)throw Je;return this._throwIfClosed(),Te}next(Qe){super.next(this._value=Qe)}}},9751:(qt,ue,ge)=>{"use strict";ge.d(ue,{y:()=>c});var f=ge(930),te=ge(727),le=ge(8822),Qe=ge(9635),Je=ge(2416),Te=ge(576),m=ge(2806);let c=(()=>{class o{constructor(s){s&&(this._subscribe=s)}lift(s){const h=new o;return h.source=this,h.operator=s,h}subscribe(s,h,l){const p=function r(o){return o&&o instanceof f.Lv||function u(o){return o&&(0,Te.m)(o.next)&&(0,Te.m)(o.error)&&(0,Te.m)(o.complete)}(o)&&(0,te.Nn)(o)}(s)?s:new f.Hp(s,h,l);return(0,m.x)(()=>{const{operator:w,source:_}=this;p.add(w?w.call(p,_):_?this._subscribe(p):this._trySubscribe(p))}),p}_trySubscribe(s){try{return this._subscribe(s)}catch(h){s.error(h)}}forEach(s,h){return new(h=d(h))((l,p)=>{const w=new f.Hp({next:_=>{try{s(_)}catch(C){p(C),w.unsubscribe()}},error:p,complete:l});this.subscribe(w)})}_subscribe(s){var h;return null===(h=this.source)||void 0===h?void 0:h.subscribe(s)}[le.L](){return this}pipe(...s){return(0,Qe.U)(s)(this)}toPromise(s){return new(s=d(s))((h,l)=>{let p;this.subscribe(w=>p=w,w=>l(w),()=>h(p))})}}return o.create=i=>new o(i),o})();function d(o){var i;return null!==(i=o??Je.v.Promise)&&void 0!==i?i:Promise}},7579:(qt,ue,ge)=>{"use strict";ge.d(ue,{x:()=>m});var f=ge(9751),te=ge(727);const Qe=(0,ge(3888).d)(d=>function(){d(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Je=ge(8737),Te=ge(2806);let m=(()=>{class d extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){const o=new c(this,this);return o.operator=r,o}_throwIfClosed(){if(this.closed)throw new Qe}next(r){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const o of this.currentObservers)o.next(r)}})}error(r){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;const{observers:o}=this;for(;o.length;)o.shift().error(r)}})}complete(){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return(null===(r=this.observers)||void 0===r?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){const{hasError:o,isStopped:i,observers:s}=this;return o||i?te.Lc:(this.currentObservers=null,s.push(r),new te.w0(()=>{this.currentObservers=null,(0,Je.P)(s,r)}))}_checkFinalizedStatuses(r){const{hasError:o,thrownError:i,isStopped:s}=this;o?r.error(i):s&&r.complete()}asObservable(){const r=new f.y;return r.source=this,r}}return d.create=(u,r)=>new c(u,r),d})();class c extends m{constructor(u,r){super(),this.destination=u,this.source=r}next(u){var r,o;null===(o=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===o||o.call(r,u)}error(u){var r,o;null===(o=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===o||o.call(r,u)}complete(){var u,r;null===(r=null===(u=this.destination)||void 0===u?void 0:u.complete)||void 0===r||r.call(u)}_subscribe(u){var r,o;return null!==(o=null===(r=this.source)||void 0===r?void 0:r.subscribe(u))&&void 0!==o?o:te.Lc}}},930:(qt,ue,ge)=>{"use strict";ge.d(ue,{Hp:()=>l,Lv:()=>o});var f=ge(576),te=ge(727),le=ge(2416),Qe=ge(7849),Je=ge(5032);const Te=d("C",void 0,void 0);function d(I,k,z){return{kind:I,value:k,error:z}}var u=ge(3410),r=ge(2806);class o extends te.w0{constructor(k){super(),this.isStopped=!1,k?(this.destination=k,(0,te.Nn)(k)&&k.add(this)):this.destination=C}static create(k,z,ne){return new l(k,z,ne)}next(k){this.isStopped?_(function c(I){return d("N",I,void 0)}(k),this):this._next(k)}error(k){this.isStopped?_(function m(I){return d("E",void 0,I)}(k),this):(this.isStopped=!0,this._error(k))}complete(){this.isStopped?_(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(k){this.destination.next(k)}_error(k){try{this.destination.error(k)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const i=Function.prototype.bind;function s(I,k){return i.call(I,k)}class h{constructor(k){this.partialObserver=k}next(k){const{partialObserver:z}=this;if(z.next)try{z.next(k)}catch(ne){p(ne)}}error(k){const{partialObserver:z}=this;if(z.error)try{z.error(k)}catch(ne){p(ne)}else p(k)}complete(){const{partialObserver:k}=this;if(k.complete)try{k.complete()}catch(z){p(z)}}}class l extends o{constructor(k,z,ne){let fe;if(super(),(0,f.m)(k)||!k)fe={next:k??void 0,error:z??void 0,complete:ne??void 0};else{let ye;this&&le.v.useDeprecatedNextContext?(ye=Object.create(k),ye.unsubscribe=()=>this.unsubscribe(),fe={next:k.next&&s(k.next,ye),error:k.error&&s(k.error,ye),complete:k.complete&&s(k.complete,ye)}):fe=k}this.destination=new h(fe)}}function p(I){le.v.useDeprecatedSynchronousErrorHandling?(0,r.O)(I):(0,Qe.h)(I)}function _(I,k){const{onStoppedNotification:z}=le.v;z&&u.z.setTimeout(()=>z(I,k))}const C={closed:!0,next:Je.Z,error:function w(I){throw I},complete:Je.Z}},727:(qt,ue,ge)=>{"use strict";ge.d(ue,{Lc:()=>Te,w0:()=>Je,Nn:()=>m});var f=ge(576);const le=(0,ge(3888).d)(d=>function(r){d(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((o,i)=>`${i+1}) ${o.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r});var Qe=ge(8737);class Je{constructor(u){this.initialTeardown=u,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let u;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const s of r)s.remove(this);else r.remove(this);const{initialTeardown:o}=this;if((0,f.m)(o))try{o()}catch(s){u=s instanceof le?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{c(s)}catch(h){u=u??[],h instanceof le?u=[...u,...h.errors]:u.push(h)}}if(u)throw new le(u)}}add(u){var r;if(u&&u!==this)if(this.closed)c(u);else{if(u instanceof Je){if(u.closed||u._hasParent(this))return;u._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(u)}}_hasParent(u){const{_parentage:r}=this;return r===u||Array.isArray(r)&&r.includes(u)}_addParent(u){const{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(u),r):r?[r,u]:u}_removeParent(u){const{_parentage:r}=this;r===u?this._parentage=null:Array.isArray(r)&&(0,Qe.P)(r,u)}remove(u){const{_finalizers:r}=this;r&&(0,Qe.P)(r,u),u instanceof Je&&u._removeParent(this)}}Je.EMPTY=(()=>{const d=new Je;return d.closed=!0,d})();const Te=Je.EMPTY;function m(d){return d instanceof Je||d&&"closed"in d&&(0,f.m)(d.remove)&&(0,f.m)(d.add)&&(0,f.m)(d.unsubscribe)}function c(d){(0,f.m)(d)?d():d.unsubscribe()}},2416:(qt,ue,ge)=>{"use strict";ge.d(ue,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9770:(qt,ue,ge)=>{"use strict";ge.d(ue,{P:()=>le});var f=ge(9751),te=ge(8421);function le(Qe){return new f.y(Je=>{(0,te.Xf)(Qe()).subscribe(Je)})}},515:(qt,ue,ge)=>{"use strict";ge.d(ue,{E:()=>te});const te=new(ge(9751).y)(Je=>Je.complete())},457:(qt,ue,ge)=>{"use strict";ge.d(ue,{D:()=>z});var f=ge(8421),te=ge(5363),le=ge(4482);function Qe(ne,fe=0){return(0,le.e)((ye,Pe)=>{Pe.add(ne.schedule(()=>ye.subscribe(Pe),fe))})}var m=ge(9751),d=ge(2202),u=ge(576),r=ge(9672);function i(ne,fe){if(!ne)throw new Error("Iterable cannot be null");return new m.y(ye=>{(0,r.f)(ye,fe,()=>{const Pe=ne[Symbol.asyncIterator]();(0,r.f)(ye,fe,()=>{Pe.next().then(_e=>{_e.done?ye.complete():ye.next(_e.value)})},0,!0)})})}var s=ge(3670),h=ge(8239),l=ge(1144),p=ge(6495),w=ge(2206),_=ge(4532),C=ge(3260);function z(ne,fe){return fe?function k(ne,fe){if(null!=ne){if((0,s.c)(ne))return function Je(ne,fe){return(0,f.Xf)(ne).pipe(Qe(fe),(0,te.Q)(fe))}(ne,fe);if((0,l.z)(ne))return function c(ne,fe){return new m.y(ye=>{let Pe=0;return fe.schedule(function(){Pe===ne.length?ye.complete():(ye.next(ne[Pe++]),ye.closed||this.schedule())})})}(ne,fe);if((0,h.t)(ne))return function Te(ne,fe){return(0,f.Xf)(ne).pipe(Qe(fe),(0,te.Q)(fe))}(ne,fe);if((0,w.D)(ne))return i(ne,fe);if((0,p.T)(ne))return function o(ne,fe){return new m.y(ye=>{let Pe;return(0,r.f)(ye,fe,()=>{Pe=ne[d.h](),(0,r.f)(ye,fe,()=>{let _e,we;try{({value:_e,done:we}=Pe.next())}catch(Ee){return void ye.error(Ee)}we?ye.complete():ye.next(_e)},0,!0)}),()=>(0,u.m)(Pe?.return)&&Pe.return()})}(ne,fe);if((0,C.L)(ne))return function I(ne,fe){return i((0,C.Q)(ne),fe)}(ne,fe)}throw(0,_.z)(ne)}(ne,fe):(0,f.Xf)(ne)}},8421:(qt,ue,ge)=>{"use strict";ge.d(ue,{Xf:()=>i});var f=ge(655),te=ge(1144),le=ge(8239),Qe=ge(9751),Je=ge(3670),Te=ge(2206),m=ge(4532),c=ge(6495),d=ge(3260),u=ge(576),r=ge(7849),o=ge(8822);function i(I){if(I instanceof Qe.y)return I;if(null!=I){if((0,Je.c)(I))return function s(I){return new Qe.y(k=>{const z=I[o.L]();if((0,u.m)(z.subscribe))return z.subscribe(k);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(I);if((0,te.z)(I))return function h(I){return new Qe.y(k=>{for(let z=0;z<I.length&&!k.closed;z++)k.next(I[z]);k.complete()})}(I);if((0,le.t)(I))return function l(I){return new Qe.y(k=>{I.then(z=>{k.closed||(k.next(z),k.complete())},z=>k.error(z)).then(null,r.h)})}(I);if((0,Te.D)(I))return w(I);if((0,c.T)(I))return function p(I){return new Qe.y(k=>{for(const z of I)if(k.next(z),k.closed)return;k.complete()})}(I);if((0,d.L)(I))return function _(I){return w((0,d.Q)(I))}(I)}throw(0,m.z)(I)}function w(I){return new Qe.y(k=>{(function C(I,k){var z,ne,fe,ye;return(0,f.mG)(this,void 0,void 0,function*(){try{for(z=(0,f.KL)(I);!(ne=yield z.next()).done;)if(k.next(ne.value),k.closed)return}catch(Pe){fe={error:Pe}}finally{try{ne&&!ne.done&&(ye=z.return)&&(yield ye.call(z))}finally{if(fe)throw fe.error}}k.complete()})})(I,k).catch(z=>k.error(z))})}},9646:(qt,ue,ge)=>{"use strict";ge.d(ue,{of:()=>le});var f=ge(7669),te=ge(457);function le(...Qe){const Je=(0,f.yG)(Qe);return(0,te.D)(Qe,Je)}},5403:(qt,ue,ge)=>{"use strict";ge.d(ue,{x:()=>te});var f=ge(930);function te(Qe,Je,Te,m,c){return new le(Qe,Je,Te,m,c)}class le extends f.Lv{constructor(Je,Te,m,c,d,u){super(Je),this.onFinalize=d,this.shouldUnsubscribe=u,this._next=Te?function(r){try{Te(r)}catch(o){Je.error(o)}}:super._next,this._error=c?function(r){try{c(r)}catch(o){Je.error(o)}finally{this.unsubscribe()}}:super._error,this._complete=m?function(){try{m()}catch(r){Je.error(r)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Je;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Te}=this;super.unsubscribe(),!Te&&(null===(Je=this.onFinalize)||void 0===Je||Je.call(this))}}}},9300:(qt,ue,ge)=>{"use strict";ge.d(ue,{h:()=>le});var f=ge(4482),te=ge(5403);function le(Qe,Je){return(0,f.e)((Te,m)=>{let c=0;Te.subscribe((0,te.x)(m,d=>Qe.call(Je,d,c++)&&m.next(d)))})}},4004:(qt,ue,ge)=>{"use strict";ge.d(ue,{U:()=>le});var f=ge(4482),te=ge(5403);function le(Qe,Je){return(0,f.e)((Te,m)=>{let c=0;Te.subscribe((0,te.x)(m,d=>{m.next(Qe.call(Je,d,c++))}))})}},8189:(qt,ue,ge)=>{"use strict";ge.d(ue,{J:()=>le});var f=ge(5577),te=ge(4671);function le(Qe=1/0){return(0,f.z)(te.y,Qe)}},5577:(qt,ue,ge)=>{"use strict";ge.d(ue,{z:()=>c});var f=ge(4004),te=ge(8421),le=ge(4482),Qe=ge(9672),Je=ge(5403),m=ge(576);function c(d,u,r=1/0){return(0,m.m)(u)?c((o,i)=>(0,f.U)((s,h)=>u(o,s,i,h))((0,te.Xf)(d(o,i))),r):("number"==typeof u&&(r=u),(0,le.e)((o,i)=>function Te(d,u,r,o,i,s,h,l){const p=[];let w=0,_=0,C=!1;const I=()=>{C&&!p.length&&!w&&u.complete()},k=ne=>w<o?z(ne):p.push(ne),z=ne=>{s&&u.next(ne),w++;let fe=!1;(0,te.Xf)(r(ne,_++)).subscribe((0,Je.x)(u,ye=>{i?.(ye),s?k(ye):u.next(ye)},()=>{fe=!0},void 0,()=>{if(fe)try{for(w--;p.length&&w<o;){const ye=p.shift();h?(0,Qe.f)(u,h,()=>z(ye)):z(ye)}I()}catch(ye){u.error(ye)}}))};return d.subscribe((0,Je.x)(u,k,()=>{C=!0,I()})),()=>{l?.()}}(o,i,d,r)))}},5363:(qt,ue,ge)=>{"use strict";ge.d(ue,{Q:()=>Qe});var f=ge(9672),te=ge(4482),le=ge(5403);function Qe(Je,Te=0){return(0,te.e)((m,c)=>{m.subscribe((0,le.x)(c,d=>(0,f.f)(c,Je,()=>c.next(d),Te),()=>(0,f.f)(c,Je,()=>c.complete(),Te),d=>(0,f.f)(c,Je,()=>c.error(d),Te)))})}},3099:(qt,ue,ge)=>{"use strict";ge.d(ue,{B:()=>Je});var f=ge(8421),te=ge(7579),le=ge(930),Qe=ge(4482);function Je(m={}){const{connector:c=(()=>new te.x),resetOnError:d=!0,resetOnComplete:u=!0,resetOnRefCountZero:r=!0}=m;return o=>{let i,s,h,l=0,p=!1,w=!1;const _=()=>{s?.unsubscribe(),s=void 0},C=()=>{_(),i=h=void 0,p=w=!1},I=()=>{const k=i;C(),k?.unsubscribe()};return(0,Qe.e)((k,z)=>{l++,!w&&!p&&_();const ne=h=h??c();z.add(()=>{l--,0===l&&!w&&!p&&(s=Te(I,r))}),ne.subscribe(z),!i&&l>0&&(i=new le.Hp({next:fe=>ne.next(fe),error:fe=>{w=!0,_(),s=Te(C,d,fe),ne.error(fe)},complete:()=>{p=!0,_(),s=Te(C,u),ne.complete()}}),(0,f.Xf)(k).subscribe(i))})(o)}}function Te(m,c,...d){if(!0===c)return void m();if(!1===c)return;const u=new le.Hp({next:()=>{u.unsubscribe(),m()}});return c(...d).subscribe(u)}},3900:(qt,ue,ge)=>{"use strict";ge.d(ue,{w:()=>Qe});var f=ge(8421),te=ge(4482),le=ge(5403);function Qe(Je,Te){return(0,te.e)((m,c)=>{let d=null,u=0,r=!1;const o=()=>r&&!d&&c.complete();m.subscribe((0,le.x)(c,i=>{d?.unsubscribe();let s=0;const h=u++;(0,f.Xf)(Je(i,h)).subscribe(d=(0,le.x)(c,l=>c.next(Te?Te(i,l,h,s++):l),()=>{d=null,o()}))},()=>{r=!0,o()}))})}},2722:(qt,ue,ge)=>{"use strict";ge.d(ue,{R:()=>Je});var f=ge(4482),te=ge(5403),le=ge(8421),Qe=ge(5032);function Je(Te){return(0,f.e)((m,c)=>{(0,le.Xf)(Te).subscribe((0,te.x)(c,()=>c.complete(),Qe.Z)),!c.closed&&m.subscribe(c)})}},8505:(qt,ue,ge)=>{"use strict";ge.d(ue,{b:()=>Je});var f=ge(576),te=ge(4482),le=ge(5403),Qe=ge(4671);function Je(Te,m,c){const d=(0,f.m)(Te)||m||c?{next:Te,error:m,complete:c}:Te;return d?(0,te.e)((u,r)=>{var o;null===(o=d.subscribe)||void 0===o||o.call(d);let i=!0;u.subscribe((0,le.x)(r,s=>{var h;null===(h=d.next)||void 0===h||h.call(d,s),r.next(s)},()=>{var s;i=!1,null===(s=d.complete)||void 0===s||s.call(d),r.complete()},s=>{var h;i=!1,null===(h=d.error)||void 0===h||h.call(d,s),r.error(s)},()=>{var s,h;i&&(null===(s=d.unsubscribe)||void 0===s||s.call(d)),null===(h=d.finalize)||void 0===h||h.call(d)}))}):Qe.y}},4408:(qt,ue,ge)=>{"use strict";ge.d(ue,{o:()=>Je});var f=ge(727);class te extends f.w0{constructor(m,c){super()}schedule(m,c=0){return this}}const le={setInterval(Te,m,...c){const{delegate:d}=le;return d?.setInterval?d.setInterval(Te,m,...c):setInterval(Te,m,...c)},clearInterval(Te){const{delegate:m}=le;return(m?.clearInterval||clearInterval)(Te)},delegate:void 0};var Qe=ge(8737);class Je extends te{constructor(m,c){super(m,c),this.scheduler=m,this.work=c,this.pending=!1}schedule(m,c=0){var d;if(this.closed)return this;this.state=m;const u=this.id,r=this.scheduler;return null!=u&&(this.id=this.recycleAsyncId(r,u,c)),this.pending=!0,this.delay=c,this.id=null!==(d=this.id)&&void 0!==d?d:this.requestAsyncId(r,this.id,c),this}requestAsyncId(m,c,d=0){return le.setInterval(m.flush.bind(m,this),d)}recycleAsyncId(m,c,d=0){if(null!=d&&this.delay===d&&!1===this.pending)return c;null!=c&&le.clearInterval(c)}execute(m,c){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const d=this._execute(m,c);if(d)return d;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(m,c){let u,d=!1;try{this.work(m)}catch(r){d=!0,u=r||new Error("Scheduled action threw falsy error")}if(d)return this.unsubscribe(),u}unsubscribe(){if(!this.closed){const{id:m,scheduler:c}=this,{actions:d}=c;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Qe.P)(d,this),null!=m&&(this.id=this.recycleAsyncId(c,m,null)),this.delay=null,super.unsubscribe()}}}},7565:(qt,ue,ge)=>{"use strict";ge.d(ue,{v:()=>le});var f=ge(6063);class te{constructor(Je,Te=te.now){this.schedulerActionCtor=Je,this.now=Te}schedule(Je,Te=0,m){return new this.schedulerActionCtor(this,Je).schedule(m,Te)}}te.now=f.l.now;class le extends te{constructor(Je,Te=te.now){super(Je,Te),this.actions=[],this._active=!1}flush(Je){const{actions:Te}=this;if(this._active)return void Te.push(Je);let m;this._active=!0;do{if(m=Je.execute(Je.state,Je.delay))break}while(Je=Te.shift());if(this._active=!1,m){for(;Je=Te.shift();)Je.unsubscribe();throw m}}}},6063:(qt,ue,ge)=>{"use strict";ge.d(ue,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(qt,ue,ge)=>{"use strict";ge.d(ue,{z:()=>f});const f={setTimeout(te,le,...Qe){const{delegate:Je}=f;return Je?.setTimeout?Je.setTimeout(te,le,...Qe):setTimeout(te,le,...Qe)},clearTimeout(te){const{delegate:le}=f;return(le?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(qt,ue,ge)=>{"use strict";ge.d(ue,{h:()=>te});const te=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(qt,ue,ge)=>{"use strict";ge.d(ue,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(qt,ue,ge)=>{"use strict";ge.d(ue,{_6:()=>Te,jO:()=>Qe,yG:()=>Je});var f=ge(576);function le(m){return m[m.length-1]}function Qe(m){return(0,f.m)(le(m))?m.pop():void 0}function Je(m){return function te(m){return m&&(0,f.m)(m.schedule)}(le(m))?m.pop():void 0}function Te(m,c){return"number"==typeof le(m)?m.pop():c}},8737:(qt,ue,ge)=>{"use strict";function f(te,le){if(te){const Qe=te.indexOf(le);0<=Qe&&te.splice(Qe,1)}}ge.d(ue,{P:()=>f})},3888:(qt,ue,ge)=>{"use strict";function f(te){const Qe=te(Je=>{Error.call(Je),Je.stack=(new Error).stack});return Qe.prototype=Object.create(Error.prototype),Qe.prototype.constructor=Qe,Qe}ge.d(ue,{d:()=>f})},2806:(qt,ue,ge)=>{"use strict";ge.d(ue,{O:()=>Qe,x:()=>le});var f=ge(2416);let te=null;function le(Je){if(f.v.useDeprecatedSynchronousErrorHandling){const Te=!te;if(Te&&(te={errorThrown:!1,error:null}),Je(),Te){const{errorThrown:m,error:c}=te;if(te=null,m)throw c}}else Je()}function Qe(Je){f.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=Je)}},9672:(qt,ue,ge)=>{"use strict";function f(te,le,Qe,Je=0,Te=!1){const m=le.schedule(function(){Qe(),Te?te.add(this.schedule(null,Je)):this.unsubscribe()},Je);if(te.add(m),!Te)return m}ge.d(ue,{f:()=>f})},4671:(qt,ue,ge)=>{"use strict";function f(te){return te}ge.d(ue,{y:()=>f})},1144:(qt,ue,ge)=>{"use strict";ge.d(ue,{z:()=>f});const f=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(qt,ue,ge)=>{"use strict";ge.d(ue,{D:()=>te});var f=ge(576);function te(le){return Symbol.asyncIterator&&(0,f.m)(le?.[Symbol.asyncIterator])}},576:(qt,ue,ge)=>{"use strict";function f(te){return"function"==typeof te}ge.d(ue,{m:()=>f})},3670:(qt,ue,ge)=>{"use strict";ge.d(ue,{c:()=>le});var f=ge(8822),te=ge(576);function le(Qe){return(0,te.m)(Qe[f.L])}},6495:(qt,ue,ge)=>{"use strict";ge.d(ue,{T:()=>le});var f=ge(2202),te=ge(576);function le(Qe){return(0,te.m)(Qe?.[f.h])}},8239:(qt,ue,ge)=>{"use strict";ge.d(ue,{t:()=>te});var f=ge(576);function te(le){return(0,f.m)(le?.then)}},3260:(qt,ue,ge)=>{"use strict";ge.d(ue,{L:()=>Qe,Q:()=>le});var f=ge(655),te=ge(576);function le(Je){return(0,f.FC)(this,arguments,function*(){const m=Je.getReader();try{for(;;){const{value:c,done:d}=yield(0,f.qq)(m.read());if(d)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(c)}}finally{m.releaseLock()}})}function Qe(Je){return(0,te.m)(Je?.getReader)}},4482:(qt,ue,ge)=>{"use strict";ge.d(ue,{A:()=>te,e:()=>le});var f=ge(576);function te(Qe){return(0,f.m)(Qe?.lift)}function le(Qe){return Je=>{if(te(Je))return Je.lift(function(Te){try{return Qe(Te,this)}catch(m){this.error(m)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(qt,ue,ge)=>{"use strict";ge.d(ue,{Z:()=>Qe});var f=ge(4004);const{isArray:te}=Array;function Qe(Je){return(0,f.U)(Te=>function le(Je,Te){return te(Te)?Je(...Te):Je(Te)}(Je,Te))}},5032:(qt,ue,ge)=>{"use strict";function f(){}ge.d(ue,{Z:()=>f})},9635:(qt,ue,ge)=>{"use strict";ge.d(ue,{U:()=>le,z:()=>te});var f=ge(4671);function te(...Qe){return le(Qe)}function le(Qe){return 0===Qe.length?f.y:1===Qe.length?Qe[0]:function(Te){return Qe.reduce((m,c)=>c(m),Te)}}},7849:(qt,ue,ge)=>{"use strict";ge.d(ue,{h:()=>le});var f=ge(2416),te=ge(3410);function le(Qe){te.z.setTimeout(()=>{const{onUnhandledError:Je}=f.v;if(!Je)throw Qe;Je(Qe)})}},4532:(qt,ue,ge)=>{"use strict";function f(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}ge.d(ue,{z:()=>f})},5226:function(qt){qt.exports=function(){"use strict";var ue={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const f=X=>{const K={};for(const Ce in X)K[X[Ce]]="swal2-"+X[Ce];return K},te=f(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),le=f(["success","warning","info","question","error"]),Qe="SweetAlert2:",Te=X=>X.charAt(0).toUpperCase()+X.slice(1),m=X=>{console.warn(`${Qe} ${"object"==typeof X?X.join(" "):X}`)},c=X=>{console.error(`${Qe} ${X}`)},d=[],r=(X,K)=>{(X=>{d.includes(X)||(d.push(X),m(X))})(`"${X}" is deprecated and will be removed in the next major release. Please use "${K}" instead.`)},o=X=>"function"==typeof X?X():X,i=X=>X&&"function"==typeof X.toPromise,s=X=>i(X)?X.toPromise():Promise.resolve(X),h=X=>X&&Promise.resolve(X)===X,l=()=>document.body.querySelector(`.${te.container}`),p=X=>{const K=l();return K?K.querySelector(X):null},w=X=>p(`.${X}`),_=()=>w(te.popup),C=()=>w(te.icon),k=()=>w(te.title),z=()=>w(te["html-container"]),ne=()=>w(te.image),fe=()=>w(te["progress-steps"]),ye=()=>w(te["validation-message"]),Pe=()=>p(`.${te.actions} .${te.confirm}`),_e=()=>p(`.${te.actions} .${te.deny}`),Ee=()=>p(`.${te.loader}`),de=()=>p(`.${te.actions} .${te.cancel}`),Ve=()=>w(te.actions),Ze=()=>w(te.footer),dt=()=>w(te["timer-progress-bar"]),he=()=>w(te.close),R=()=>{const X=Array.from(_().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((Ce,_t)=>{const un=parseInt(Ce.getAttribute("tabindex")),zn=parseInt(_t.getAttribute("tabindex"));return un>zn?1:un<zn?-1:0}),K=Array.from(_().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(Ce=>"-1"!==Ce.getAttribute("tabindex"));return(X=>{const K=[];for(let Ce=0;Ce<X.length;Ce++)-1===K.indexOf(X[Ce])&&K.push(X[Ce]);return K})(X.concat(K)).filter(Ce=>ze(Ce))},H=()=>re(document.body,te.shown)&&!re(document.body,te["toast-shown"])&&!re(document.body,te["no-backdrop"]),F=()=>_()&&re(_(),te.toast),B={previousBodyPadding:null},J=(X,K)=>{if(X.textContent="",K){const _t=(new DOMParser).parseFromString(K,"text/html");Array.from(_t.querySelector("head").childNodes).forEach(un=>{X.appendChild(un)}),Array.from(_t.querySelector("body").childNodes).forEach(un=>{un instanceof HTMLVideoElement||un instanceof HTMLAudioElement?X.appendChild(un.cloneNode(!0)):X.appendChild(un)})}},re=(X,K)=>{if(!K)return!1;const Ce=K.split(/\s+/);for(let _t=0;_t<Ce.length;_t++)if(!X.classList.contains(Ce[_t]))return!1;return!0},De=(X,K,Ce)=>{if(((X,K)=>{Array.from(X.classList).forEach(Ce=>{!Object.values(te).includes(Ce)&&!Object.values(le).includes(Ce)&&!Object.values(K.showClass).includes(Ce)&&X.classList.remove(Ce)})})(X,K),K.customClass&&K.customClass[Ce]){if("string"!=typeof K.customClass[Ce]&&!K.customClass[Ce].forEach)return void m(`Invalid type of customClass.${Ce}! Expected string or iterable object, got "${typeof K.customClass[Ce]}"`);Be(X,K.customClass[Ce])}},je=(X,K)=>{if(!K)return null;switch(K){case"select":case"textarea":case"file":return X.querySelector(`.${te.popup} > .${te[K]}`);case"checkbox":return X.querySelector(`.${te.popup} > .${te.checkbox} input`);case"radio":return X.querySelector(`.${te.popup} > .${te.radio} input:checked`)||X.querySelector(`.${te.popup} > .${te.radio} input:first-child`);case"range":return X.querySelector(`.${te.popup} > .${te.range} input`);default:return X.querySelector(`.${te.popup} > .${te.input}`)}},We=X=>{if(X.focus(),"file"!==X.type){const K=X.value;X.value="",X.value=K}},it=(X,K,Ce)=>{!X||!K||("string"==typeof K&&(K=K.split(/\s+/).filter(Boolean)),K.forEach(_t=>{Array.isArray(X)?X.forEach(un=>{Ce?un.classList.add(_t):un.classList.remove(_t)}):Ce?X.classList.add(_t):X.classList.remove(_t)}))},Be=(X,K)=>{it(X,K,!0)},Ue=(X,K)=>{it(X,K,!1)},ht=(X,K)=>{const Ce=Array.from(X.children);for(let _t=0;_t<Ce.length;_t++){const un=Ce[_t];if(un instanceof HTMLElement&&re(un,K))return un}},Lt=(X,K,Ce)=>{Ce===`${parseInt(Ce)}`&&(Ce=parseInt(Ce)),Ce||0===parseInt(Ce)?X.style[K]="number"==typeof Ce?`${Ce}px`:Ce:X.style.removeProperty(K)},$e=function(X){X.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},Ke=X=>{X.style.display="none"},pt=(X,K,Ce,_t)=>{const un=X.querySelector(K);un&&(un.style[Ce]=_t)},be=function(X,K){K?$e(X,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Ke(X)},ze=X=>!(!X||!(X.offsetWidth||X.offsetHeight||X.getClientRects().length)),Ne=X=>X.scrollHeight>X.clientHeight,yt=X=>{const K=window.getComputedStyle(X),Ce=parseFloat(K.getPropertyValue("animation-duration")||"0"),_t=parseFloat(K.getPropertyValue("transition-duration")||"0");return Ce>0||_t>0},ot=function(X){let K=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const Ce=dt();ze(Ce)&&(K&&(Ce.style.transition="none",Ce.style.width="100%"),setTimeout(()=>{Ce.style.transition=`width ${X/1e3}s linear`,Ce.style.width="0%"},10))},Gt={},Jn=X=>new Promise(K=>{if(!X)return K();const Ce=window.scrollX,_t=window.scrollY;Gt.restoreFocusTimeout=setTimeout(()=>{Gt.previousActiveElement instanceof HTMLElement?(Gt.previousActiveElement.focus(),Gt.previousActiveElement=null):document.body&&document.body.focus(),K()},100),window.scrollTo(Ce,_t)}),Nt=()=>typeof window>"u"||typeof document>"u",Ye=`\n <div aria-labelledby="${te.title}" aria-describedby="${te["html-container"]}" class="${te.popup}" tabindex="-1">\n   <button type="button" class="${te.close}"></button>\n   <ul class="${te["progress-steps"]}"></ul>\n   <div class="${te.icon}"></div>\n   <img class="${te.image}" />\n   <h2 class="${te.title}" id="${te.title}"></h2>\n   <div class="${te["html-container"]}" id="${te["html-container"]}"></div>\n   <input class="${te.input}" />\n   <input type="file" class="${te.file}" />\n   <div class="${te.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${te.select}"></select>\n   <div class="${te.radio}"></div>\n   <label for="${te.checkbox}" class="${te.checkbox}">\n     <input type="checkbox" />\n     <span class="${te.label}"></span>\n   </label>\n   <textarea class="${te.textarea}"></textarea>\n   <div class="${te["validation-message"]}" id="${te["validation-message"]}"></div>\n   <div class="${te.actions}">\n     <div class="${te.loader}"></div>\n     <button type="button" class="${te.confirm}"></button>\n     <button type="button" class="${te.deny}"></button>\n     <button type="button" class="${te.cancel}"></button>\n   </div>\n   <div class="${te.footer}"></div>\n   <div class="${te["timer-progress-bar-container"]}">\n     <div class="${te["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),Bt=()=>{Gt.currentInstance.resetValidationMessage()},ri=X=>{const K=(()=>{const X=l();return!!X&&(X.remove(),Ue([document.documentElement,document.body],[te["no-backdrop"],te["toast-shown"],te["has-column"]]),!0)})();if(Nt())return void c("SweetAlert2 requires document to initialize");const Ce=document.createElement("div");Ce.className=te.container,K&&Be(Ce,te["no-transition"]),J(Ce,Ye);const _t=(X=>"string"==typeof X?document.querySelector(X):X)(X.target);_t.appendChild(Ce),(X=>{const K=_();K.setAttribute("role",X.toast?"alert":"dialog"),K.setAttribute("aria-live",X.toast?"polite":"assertive"),X.toast||K.setAttribute("aria-modal","true")})(X),(X=>{"rtl"===window.getComputedStyle(X).direction&&Be(l(),te.rtl)})(_t),(()=>{const X=_(),K=ht(X,te.input),Ce=ht(X,te.file),_t=X.querySelector(`.${te.range} input`),un=X.querySelector(`.${te.range} output`),zn=ht(X,te.select),Bi=X.querySelector(`.${te.checkbox} input`),hs=ht(X,te.textarea);K.oninput=Bt,Ce.onchange=Bt,zn.onchange=Bt,Bi.onchange=Bt,hs.oninput=Bt,_t.oninput=()=>{Bt(),un.value=_t.value},_t.onchange=()=>{Bt(),un.value=_t.value}})()},Ri=(X,K)=>{X instanceof HTMLElement?K.appendChild(X):"object"==typeof X?di(X,K):X&&J(K,X)},di=(X,K)=>{X.jquery?Li(K,X):J(K,X.toString())},Li=(X,K)=>{if(X.textContent="",0 in K)for(let Ce=0;Ce in K;Ce++)X.appendChild(K[Ce].cloneNode(!0));else X.appendChild(K.cloneNode(!0))},_i=(()=>{if(Nt())return!1;const X=document.createElement("div"),K={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const Ce in K)if(Object.prototype.hasOwnProperty.call(K,Ce)&&typeof X.style[Ce]<"u")return K[Ce];return!1})(),Pi=(X,K)=>{const Ce=Ve(),_t=Ee();K.showConfirmButton||K.showDenyButton||K.showCancelButton?$e(Ce):Ke(Ce),De(Ce,K,"actions"),function Wi(X,K,Ce){const _t=Pe(),un=_e(),zn=de();Kn(_t,"confirm",Ce),Kn(un,"deny",Ce),Kn(zn,"cancel",Ce),function ji(X,K,Ce,_t){_t.buttonsStyling?(Be([X,K,Ce],te.styled),_t.confirmButtonColor&&(X.style.backgroundColor=_t.confirmButtonColor,Be(X,te["default-outline"])),_t.denyButtonColor&&(K.style.backgroundColor=_t.denyButtonColor,Be(K,te["default-outline"])),_t.cancelButtonColor&&(Ce.style.backgroundColor=_t.cancelButtonColor,Be(Ce,te["default-outline"]))):Ue([X,K,Ce],te.styled)}(_t,un,zn,Ce),Ce.reverseButtons&&(Ce.toast?(X.insertBefore(zn,_t),X.insertBefore(un,_t)):(X.insertBefore(zn,K),X.insertBefore(un,K),X.insertBefore(_t,K)))}(Ce,_t,K),J(_t,K.loaderHtml),De(_t,K,"loader")};function Kn(X,K,Ce){be(X,Ce[`show${Te(K)}Button`],"inline-block"),J(X,Ce[`${K}ButtonText`]),X.setAttribute("aria-label",Ce[`${K}ButtonAriaLabel`]),X.className=te[K],De(X,Ce,`${K}Button`),Be(X,Ce[`${K}ButtonClass`])}const Er=(X,K)=>{const Ce=l();!Ce||(function rr(X,K){"string"==typeof K?X.style.background=K:K||Be([document.documentElement,document.body],te["no-backdrop"])}(Ce,K.backdrop),function Yr(X,K){K in te?Be(X,te[K]):(m('The "position" parameter is not valid, defaulting to "center"'),Be(X,te.center))}(Ce,K.position),function as(X,K){if(K&&"string"==typeof K){const Ce=`grow-${K}`;Ce in te&&Be(X,te[Ce])}}(Ce,K.grow),De(Ce,K,"container"))};const Xs=["input","file","range","select","radio","checkbox","textarea"],Vt=X=>{if(!gi[X.input])return void c(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${X.input}"`);const K=Fn(X.input),Ce=gi[X.input](K,X);$e(K),setTimeout(()=>{We(Ce)})},wt=(X,K)=>{const Ce=je(_(),X);if(Ce){(X=>{for(let K=0;K<X.attributes.length;K++){const Ce=X.attributes[K].name;["type","value","style"].includes(Ce)||X.removeAttribute(Ce)}})(Ce);for(const _t in K)Ce.setAttribute(_t,K[_t])}},Wt=X=>{const K=Fn(X.input);"object"==typeof X.customClass&&Be(K,X.customClass.input)},pn=(X,K)=>{(!X.placeholder||K.inputPlaceholder)&&(X.placeholder=K.inputPlaceholder)},sn=(X,K,Ce)=>{if(Ce.inputLabel){X.id=te.input;const _t=document.createElement("label"),un=te["input-label"];_t.setAttribute("for",X.id),_t.className=un,"object"==typeof Ce.customClass&&Be(_t,Ce.customClass.inputLabel),_t.innerText=Ce.inputLabel,K.insertAdjacentElement("beforebegin",_t)}},Fn=X=>ht(_(),te[X]||te.input),li=(X,K)=>{["string","number"].includes(typeof K)?X.value=`${K}`:h(K)||m(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof K}"`)},gi={};gi.text=gi.email=gi.password=gi.number=gi.tel=gi.url=(X,K)=>(li(X,K.inputValue),sn(X,X,K),pn(X,K),X.type=K.input,X),gi.file=(X,K)=>(sn(X,X,K),pn(X,K),X),gi.range=(X,K)=>{const Ce=X.querySelector("input"),_t=X.querySelector("output");return li(Ce,K.inputValue),Ce.type=K.input,li(_t,K.inputValue),sn(Ce,X,K),X},gi.select=(X,K)=>{if(X.textContent="",K.inputPlaceholder){const Ce=document.createElement("option");J(Ce,K.inputPlaceholder),Ce.value="",Ce.disabled=!0,Ce.selected=!0,X.appendChild(Ce)}return sn(X,X,K),X},gi.radio=X=>(X.textContent="",X),gi.checkbox=(X,K)=>{const Ce=je(_(),"checkbox");Ce.value="1",Ce.id=te.checkbox,Ce.checked=Boolean(K.inputValue);const _t=X.querySelector("span");return J(_t,K.inputPlaceholder),Ce},gi.textarea=(X,K)=>{li(X,K.inputValue),pn(X,K),sn(X,X,K);return setTimeout(()=>{if("MutationObserver"in window){const _t=parseInt(window.getComputedStyle(_()).width);new MutationObserver(()=>{const zn=X.offsetWidth+(_t=>parseInt(window.getComputedStyle(_t).marginLeft)+parseInt(window.getComputedStyle(_t).marginRight))(X);_().style.width=zn>_t?`${zn}px`:null}).observe(X,{attributes:!0,attributeFilter:["style"]})}}),X};const Fs=(X,K)=>{const Ce=z();De(Ce,K,"htmlContainer"),K.html?(Ri(K.html,Ce),$e(Ce,"block")):K.text?(Ce.textContent=K.text,$e(Ce,"block")):Ke(Ce),((X,K)=>{const Ce=_(),_t=ue.innerParams.get(X),un=!_t||K.input!==_t.input;Xs.forEach(zn=>{const Bi=ht(Ce,te[zn]);wt(zn,K.inputAttributes),Bi.className=te[zn],un&&Ke(Bi)}),K.input&&(un&&Vt(K),Wt(K))})(X,K)},Gi=(X,K)=>{for(const Ce in le)K.icon!==Ce&&Ue(X,le[Ce]);Be(X,le[K.icon]),Xr(X,K),na(),De(X,K,"icon")},na=()=>{const X=_(),K=window.getComputedStyle(X).getPropertyValue("background-color"),Ce=X.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let _t=0;_t<Ce.length;_t++)Ce[_t].style.backgroundColor=K},mo=(X,K)=>{let _t,Ce=X.innerHTML;K.iconHtml?_t=Ks(K.iconHtml):"success"===K.icon?(_t='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',Ce=Ce.replace(/ style=".*?"/g,"")):_t="error"===K.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Ks({question:"?",warning:"!",info:"i"}[K.icon]),Ce.trim()!==_t.trim()&&J(X,_t)},Xr=(X,K)=>{if(K.iconColor){X.style.color=K.iconColor,X.style.borderColor=K.iconColor;for(const Ce of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])pt(X,Ce,"backgroundColor",K.iconColor);pt(X,".swal2-success-ring","borderColor",K.iconColor)}},Ks=X=>`<div class="${te["icon-content"]}">${X}</div>`,xs=(X,K)=>{X.className=`${te.popup} ${ze(X)?K.showClass.popup:""}`,K.toast?(Be([document.documentElement,document.body],te["toast-shown"]),Be(X,te.toast)):Be(X,te.modal),De(X,K,"popup"),"string"==typeof K.customClass&&Be(X,K.customClass),K.icon&&Be(X,te[`icon-${K.icon}`])},$i=X=>{const K=document.createElement("li");return Be(K,te["progress-step"]),J(K,X),K},sr=X=>{const K=document.createElement("li");return Be(K,te["progress-step-line"]),X.progressStepsDistance&&Lt(K,"width",X.progressStepsDistance),K},qi=(X,K)=>{((X,K)=>{const Ce=l(),_t=_();K.toast?(Lt(Ce,"width",K.width),_t.style.width="100%",_t.insertBefore(Ee(),C())):Lt(_t,"width",K.width),Lt(_t,"padding",K.padding),K.color&&(_t.style.color=K.color),K.background&&(_t.style.background=K.background),Ke(ye()),xs(_t,K)})(0,K),Er(0,K),((X,K)=>{const Ce=fe();K.progressSteps&&0!==K.progressSteps.length?($e(Ce),Ce.textContent="",K.currentProgressStep>=K.progressSteps.length&&m("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),K.progressSteps.forEach((_t,un)=>{const zn=$i(_t);if(Ce.appendChild(zn),un===K.currentProgressStep&&Be(zn,te["active-progress-step"]),un!==K.progressSteps.length-1){const Bi=sr(K);Ce.appendChild(Bi)}})):Ke(Ce)})(0,K),((X,K)=>{const Ce=ue.innerParams.get(X),_t=C();Ce&&K.icon===Ce.icon?(mo(_t,K),Gi(_t,K)):K.icon||K.iconHtml?K.icon&&-1===Object.keys(le).indexOf(K.icon)?(c(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${K.icon}"`),Ke(_t)):($e(_t),mo(_t,K),Gi(_t,K),Be(_t,K.showClass.icon)):Ke(_t)})(X,K),((X,K)=>{const Ce=ne();K.imageUrl?($e(Ce,""),Ce.setAttribute("src",K.imageUrl),Ce.setAttribute("alt",K.imageAlt),Lt(Ce,"width",K.imageWidth),Lt(Ce,"height",K.imageHeight),Ce.className=te.image,De(Ce,K,"image")):Ke(Ce)})(0,K),((X,K)=>{const Ce=k();be(Ce,K.title||K.titleText,"block"),K.title&&Ri(K.title,Ce),K.titleText&&(Ce.innerText=K.titleText),De(Ce,K,"title")})(0,K),((X,K)=>{const Ce=he();J(Ce,K.closeButtonHtml),De(Ce,K,"closeButton"),be(Ce,K.showCloseButton),Ce.setAttribute("aria-label",K.closeButtonAriaLabel)})(0,K),Fs(X,K),Pi(0,K),((X,K)=>{const Ce=Ze();be(Ce,K.footer),K.footer&&Ri(K.footer,Ce),De(Ce,K,"footer")})(0,K),"function"==typeof K.didRender&&K.didRender(_())};function Zs(){const X=ue.innerParams.get(this);if(!X)return;const K=ue.domCache.get(this);Ke(K.loader),F()?X.icon&&$e(C()):No(K),Ue([K.popup,K.actions],te.loading),K.popup.removeAttribute("aria-busy"),K.popup.removeAttribute("data-loading"),K.confirmButton.disabled=!1,K.denyButton.disabled=!1,K.cancelButton.disabled=!1}const No=X=>{const K=X.popup.getElementsByClassName(X.loader.getAttribute("data-button-to-replace"));K.length?$e(K[0],"inline-block"):!ze(Pe())&&!ze(_e())&&!ze(de())&&Ke(X.actions)};const vo=()=>Pe()&&Pe().click(),fr=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),jo=X=>{X.keydownTarget&&X.keydownHandlerAdded&&(X.keydownTarget.removeEventListener("keydown",X.keydownHandler,{capture:X.keydownListenerCapture}),X.keydownHandlerAdded=!1)},cs=(X,K,Ce)=>{const _t=R();if(_t.length)return(K+=Ce)===_t.length?K=0:-1===K&&(K=_t.length-1),_t[K].focus();_().focus()},yo=["ArrowRight","ArrowDown"],us=["ArrowLeft","ArrowUp"],$a=(X,K,Ce)=>{const _t=ue.innerParams.get(X);!_t||K.isComposing||229===K.keyCode||(_t.stopKeydownPropagation&&K.stopPropagation(),"Enter"===K.key?Es(X,K,_t):"Tab"===K.key?Rs(K,_t):[...yo,...us].includes(K.key)?bl(K.key):"Escape"===K.key&&tc(K,_t,Ce))},Es=(X,K,Ce)=>{if(o(Ce.allowEnterKey)&&K.target&&X.getInput()&&K.target instanceof HTMLElement&&K.target.outerHTML===X.getInput().outerHTML){if(["textarea","file"].includes(Ce.input))return;vo(),K.preventDefault()}},Rs=(X,K)=>{const Ce=X.target,_t=R();let un=-1;for(let zn=0;zn<_t.length;zn++)if(Ce===_t[zn]){un=zn;break}cs(0,un,X.shiftKey?-1:1),X.stopPropagation(),X.preventDefault()},bl=X=>{const K=Pe(),Ce=_e(),_t=de();if(document.activeElement instanceof HTMLElement&&![K,Ce,_t].includes(document.activeElement))return;const un=yo.includes(X)?"nextElementSibling":"previousElementSibling";let zn=document.activeElement;for(let Bi=0;Bi<Ve().children.length;Bi++){if(zn=zn[un],!zn)return;if(zn instanceof HTMLButtonElement&&ze(zn))break}zn instanceof HTMLButtonElement&&zn.focus()},tc=(X,K,Ce)=>{o(K.allowEscapeKey)&&(X.preventDefault(),Ce(fr.esc))};var gs={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Ns=()=>{Array.from(document.body.children).forEach(K=>{K.hasAttribute("data-previous-aria-hidden")?(K.setAttribute("aria-hidden",K.getAttribute("data-previous-aria-hidden")),K.removeAttribute("data-previous-aria-hidden")):K.removeAttribute("aria-hidden")})},Fc=()=>{const X=navigator.userAgent,K=!!X.match(/iPad/i)||!!X.match(/iPhone/i),Ce=!!X.match(/WebKit/i);K&&Ce&&!X.match(/CriOS/i)&&_().scrollHeight>window.innerHeight-44&&(l().style.paddingBottom="44px")},vu=()=>{const X=l();let K;X.ontouchstart=Ce=>{K=Ea(Ce)},X.ontouchmove=Ce=>{K&&(Ce.preventDefault(),Ce.stopPropagation())}},Ea=X=>{const K=X.target,Ce=l();return!yu(X)&&!_u(X)&&(K===Ce||!Ne(Ce)&&K instanceof HTMLElement&&"INPUT"!==K.tagName&&"TEXTAREA"!==K.tagName&&!(Ne(z())&&z().contains(K)))},yu=X=>X.touches&&X.touches.length&&"stylus"===X.touches[0].touchType,_u=X=>X.touches&&X.touches.length>1,qa=()=>{null===B.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(B.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${B.previousBodyPadding+(()=>{const X=document.createElement("div");X.className=te["scrollbar-measure"],document.body.appendChild(X);const K=X.getBoundingClientRect().width-X.clientWidth;return document.body.removeChild(X),K})()}px`)};function Nc(X,K,Ce,_t){F()?Vs(X,_t):(Jn(Ce).then(()=>Vs(X,_t)),jo(Gt)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(K.setAttribute("style","display:none !important"),K.removeAttribute("class"),K.innerHTML=""):K.remove(),H()&&(null!==B.previousBodyPadding&&(document.body.style.paddingRight=`${B.previousBodyPadding}px`,B.previousBodyPadding=null),(()=>{if(re(document.body,te.iosfix)){const X=parseInt(document.body.style.top,10);Ue(document.body,te.iosfix),document.body.style.top="",document.body.scrollTop=-1*X}})(),Ns()),function wu(){Ue([document.documentElement,document.body],[te.shown,te["height-auto"],te["no-backdrop"],te["toast-shown"]])}()}function Sl(X){X=aa(X);const K=gs.swalPromiseResolve.get(this),Ce=oa(this);this.isAwaitingPromise()?X.isDismissed||(Uo(this),K(X)):Ce&&K(X)}const oa=X=>{const K=_();if(!K)return!1;const Ce=ue.innerParams.get(X);if(!Ce||re(K,Ce.hideClass.popup))return!1;Ue(K,Ce.showClass.popup),Be(K,Ce.hideClass.popup);const _t=l();return Ue(_t,Ce.showClass.backdrop),Be(_t,Ce.hideClass.backdrop),Ds(X,K,Ce),!0};const Uo=X=>{X.isAwaitingPromise()&&(ue.awaitingPromise.delete(X),ue.innerParams.get(X)||X._destroy())},aa=X=>typeof X>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},X),Ds=(X,K,Ce)=>{const _t=l(),un=_i&&yt(K);"function"==typeof Ce.willClose&&Ce.willClose(K),un?ms(X,K,_t,Ce.returnFocus,Ce.didClose):Nc(X,_t,Ce.returnFocus,Ce.didClose)},ms=(X,K,Ce,_t,un)=>{Gt.swalCloseEventFinishedCallback=Nc.bind(null,X,Ce,_t,un),K.addEventListener(_i,function(zn){zn.target===K&&(Gt.swalCloseEventFinishedCallback(),delete Gt.swalCloseEventFinishedCallback)})},Vs=(X,K)=>{setTimeout(()=>{"function"==typeof K&&K.bind(X.params)(),X._destroy()})};function Ya(X,K,Ce){const _t=ue.domCache.get(X);K.forEach(un=>{_t[un].disabled=Ce})}function Xa(X,K){if(X)if("radio"===X.type){const _t=X.parentNode.parentNode.querySelectorAll("input");for(let un=0;un<_t.length;un++)_t[un].disabled=K}else X.disabled=K}const Ts={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},bo=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],wo={},Qs=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Vo=X=>Object.prototype.hasOwnProperty.call(Ts,X),pr=X=>-1!==bo.indexOf(X),Ho=X=>wo[X],kr=X=>{Vo(X)||m(`Unknown parameter "${X}"`)},Mi=X=>{Qs.includes(X)&&m(`The parameter "${X}" is incompatible with toasts`)},Zi=X=>{Ho(X)&&r(X,Ho(X))};const zo=X=>{const K={};return Object.keys(X).forEach(Ce=>{pr(Ce)?K[Ce]=X[Ce]:m(`Invalid parameter to update: ${Ce}`)}),K};const Ta=X=>{Wo(X),delete X.params,delete Gt.keydownHandler,delete Gt.keydownTarget,delete Gt.currentInstance},Wo=X=>{X.isAwaitingPromise()?(Ma(ue,X),ue.awaitingPromise.set(X,!0)):(Ma(gs,X),Ma(ue,X))},Ma=(X,K)=>{for(const Ce in X)X[Ce].delete(K)};var Js=Object.freeze({__proto__:null,hideLoading:Zs,disableLoading:Zs,getInput:function Ps(X){const K=ue.innerParams.get(X||this),Ce=ue.domCache.get(X||this);return Ce?je(Ce.popup,K.input):null},close:Sl,isAwaitingPromise:function sa(){return!!ue.awaitingPromise.get(this)},rejectPromise:function Bc(X){const K=gs.swalPromiseReject.get(this);Uo(this),K&&K(X)},handleAwaitingPromise:Uo,closePopup:Sl,closeModal:Sl,closeToast:Sl,enableButtons:function jc(){Ya(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function _o(){Ya(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function ii(){Xa(this.getInput(),!1)},disableInput:function Ka(){Xa(this.getInput(),!0)},showValidationMessage:function Ui(X){const K=ue.domCache.get(this),Ce=ue.innerParams.get(this);J(K.validationMessage,X),K.validationMessage.className=te["validation-message"],Ce.customClass&&Ce.customClass.validationMessage&&Be(K.validationMessage,Ce.customClass.validationMessage),$e(K.validationMessage);const _t=this.getInput();_t&&(_t.setAttribute("aria-invalid",!0),_t.setAttribute("aria-describedby",te["validation-message"]),We(_t),Be(_t,te.inputerror))},resetValidationMessage:function Za(){const X=ue.domCache.get(this);X.validationMessage&&Ke(X.validationMessage);const K=this.getInput();K&&(K.removeAttribute("aria-invalid"),K.removeAttribute("aria-describedby"),Ue(K,te.inputerror))},getProgressSteps:function Qr(){return ue.domCache.get(this).progressSteps},update:function Da(X){const K=_(),Ce=ue.innerParams.get(this);if(!K||re(K,Ce.hideClass.popup))return m("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const _t=zo(X),un=Object.assign({},Ce,_t);qi(this,un),ue.innerParams.set(this,un),Object.defineProperties(this,{params:{value:Object.assign({},this.params,X),writable:!1,enumerable:!0}})},_destroy:function Tr(){const X=ue.domCache.get(this),K=ue.innerParams.get(this);K?(X.popup&&Gt.swalCloseEventFinishedCallback&&(Gt.swalCloseEventFinishedCallback(),delete Gt.swalCloseEventFinishedCallback),"function"==typeof K.didDestroy&&K.didDestroy(),Ta(this)):Wo(this)}});const Fr=X=>{let K=_();K||new ka,K=_();const Ce=Ee();F()?Ke(C()):Go(K,X),$e(Ce),K.setAttribute("data-loading","true"),K.setAttribute("aria-busy","true"),K.focus()},Go=(X,K)=>{const Ce=Ve(),_t=Ee();!K&&ze(Pe())&&(K=Pe()),$e(Ce),K&&(Ke(K),_t.setAttribute("data-button-to-replace",K.className)),_t.parentNode.insertBefore(_t,K),Be([X,Ce],te.loading)},La=X=>X.checked?1:0,nc=X=>X.checked?X.value:null,la=X=>X.files.length?null!==X.getAttribute("multiple")?X.files:X.files[0]:null,Al=(X,K)=>{const Ce=_(),_t=un=>{$o[K.input](Ce,ni(un),K)};i(K.inputOptions)||h(K.inputOptions)?(Fr(Pe()),s(K.inputOptions).then(un=>{X.hideLoading(),_t(un)})):"object"==typeof K.inputOptions?_t(K.inputOptions):c("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof K.inputOptions)},Co=(X,K)=>{const Ce=X.getInput();Ke(Ce),s(K.inputValue).then(_t=>{Ce.value="number"===K.input?`${parseFloat(_t)||0}`:`${_t}`,$e(Ce),Ce.focus(),X.hideLoading()}).catch(_t=>{c(`Error in inputValue promise: ${_t}`),Ce.value="",$e(Ce),Ce.focus(),X.hideLoading()})},$o={select:(X,K,Ce)=>{const _t=ht(X,te.select),un=(zn,Bi,hs)=>{const gr=document.createElement("option");gr.value=hs,J(gr,Bi),gr.selected=tn(hs,Ce.inputValue),zn.appendChild(gr)};K.forEach(zn=>{const Bi=zn[0],hs=zn[1];if(Array.isArray(hs)){const gr=document.createElement("optgroup");gr.label=Bi,gr.disabled=!1,_t.appendChild(gr),hs.forEach(ws=>un(gr,ws[1],ws[0]))}else un(_t,hs,Bi)}),_t.focus()},radio:(X,K,Ce)=>{const _t=ht(X,te.radio);K.forEach(zn=>{const Bi=zn[0],hs=zn[1],gr=document.createElement("input"),ws=document.createElement("label");gr.type="radio",gr.name=te.radio,gr.value=Bi,tn(Bi,Ce.inputValue)&&(gr.checked=!0);const El=document.createElement("span");J(El,hs),El.className=te.label,ws.appendChild(gr),ws.appendChild(El),_t.appendChild(ws)});const un=_t.querySelectorAll("input");un.length&&un[0].focus()}},ni=X=>{const K=[];return typeof Map<"u"&&X instanceof Map?X.forEach((Ce,_t)=>{let un=Ce;"object"==typeof un&&(un=ni(un)),K.push([_t,un])}):Object.keys(X).forEach(Ce=>{let _t=X[Ce];"object"==typeof _t&&(_t=ni(_t)),K.push([Ce,_t])}),K},tn=(X,K)=>K&&K.toString()===X.toString(),Xn=(X,K)=>{const Ce=ue.innerParams.get(X);if(!Ce.input)return void c(`The "input" parameter is needed to be set when using returnInputValueOn${Te(K)}`);const _t=((X,K)=>{const Ce=X.getInput();if(!Ce)return null;switch(K.input){case"checkbox":return La(Ce);case"radio":return nc(Ce);case"file":return la(Ce);default:return K.inputAutoTrim?Ce.value.trim():Ce.value}})(X,Ce);Ce.inputValidator?Ms(X,_t,K):X.getInput().checkValidity()?"deny"===K?lr(X,_t):Jr(X,_t):(X.enableButtons(),X.showValidationMessage(Ce.validationMessage))},Ms=(X,K,Ce)=>{const _t=ue.innerParams.get(X);X.disableInput(),Promise.resolve().then(()=>s(_t.inputValidator(K,_t.validationMessage))).then(zn=>{X.enableButtons(),X.enableInput(),zn?X.showValidationMessage(zn):"deny"===Ce?lr(X,K):Jr(X,K)})},lr=(X,K)=>{const Ce=ue.innerParams.get(X||void 0);Ce.showLoaderOnDeny&&Fr(_e()),Ce.preDeny?(ue.awaitingPromise.set(X||void 0,!0),Promise.resolve().then(()=>s(Ce.preDeny(K,Ce.validationMessage))).then(un=>{!1===un?(X.hideLoading(),Uo(X)):X.close({isDenied:!0,value:typeof un>"u"?K:un})}).catch(un=>zr(X||void 0,un))):X.close({isDenied:!0,value:K})},ys=(X,K)=>{X.close({isConfirmed:!0,value:K})},zr=(X,K)=>{X.rejectPromise(K)},Jr=(X,K)=>{const Ce=ue.innerParams.get(X||void 0);Ce.showLoaderOnConfirm&&Fr(),Ce.preConfirm?(X.resetValidationMessage(),ue.awaitingPromise.set(X||void 0,!0),Promise.resolve().then(()=>s(Ce.preConfirm(K,Ce.validationMessage))).then(un=>{ze(ye())||!1===un?(X.hideLoading(),Uo(X)):ys(X,typeof un>"u"?K:un)}).catch(un=>zr(X||void 0,un))):ys(X,K)},xl=(X,K,Ce)=>{K.popup.onclick=()=>{const _t=ue.innerParams.get(X);_t&&(Sr(_t)||_t.timer||_t.input)||Ce(fr.close)}},Sr=X=>X.showConfirmButton||X.showDenyButton||X.showCancelButton||X.showCloseButton;let Yi=!1;const Si=X=>{X.popup.onmousedown=()=>{X.container.onmouseup=function(K){X.container.onmouseup=void 0,K.target===X.container&&(Yi=!0)}}},eo=X=>{X.container.onmousedown=()=>{X.popup.onmouseup=function(K){X.popup.onmouseup=void 0,(K.target===X.popup||X.popup.contains(K.target))&&(Yi=!0)}}},ic=(X,K,Ce)=>{K.container.onclick=_t=>{const un=ue.innerParams.get(X);Yi?Yi=!1:_t.target===K.container&&o(un.allowOutsideClick)&&Ce(fr.backdrop)}},_s=X=>X instanceof Element||(X=>"object"==typeof X&&X.jquery)(X);const Yo=()=>{if(Gt.timeout)return(()=>{const X=dt(),K=parseInt(window.getComputedStyle(X).width);X.style.removeProperty("transition"),X.style.width="100%";const _t=K/parseInt(window.getComputedStyle(X).width)*100;X.style.removeProperty("transition"),X.style.width=`${_t}%`})(),Gt.timeout.stop()},to=()=>{if(Gt.timeout){const X=Gt.timeout.start();return ot(X),X}};let Z=!1;const ve={};const Le=X=>{for(let K=X.target;K&&K!==document;K=K.parentNode)for(const Ce in ve){const _t=K.getAttribute(Ce);if(_t)return void ve[Ce].fire({template:_t})}};var xt=Object.freeze({__proto__:null,isValidParameter:Vo,isUpdatableParameter:pr,isDeprecatedParameter:Ho,argsToParams:X=>{const K={};return"object"!=typeof X[0]||_s(X[0])?["title","html","icon"].forEach((Ce,_t)=>{const un=X[_t];"string"==typeof un||_s(un)?K[Ce]=un:void 0!==un&&c(`Unexpected type of ${Ce}! Expected "string" or "Element", got ${typeof un}`)}):Object.assign(K,X[0]),K},getContainer:l,getPopup:_,getTitle:k,getHtmlContainer:z,getImage:ne,getIcon:C,getIconContent:()=>w(te["icon-content"]),getInputLabel:()=>w(te["input-label"]),getCloseButton:he,getActions:Ve,getConfirmButton:Pe,getDenyButton:_e,getCancelButton:de,getLoader:Ee,getFooter:Ze,getTimerProgressBar:dt,getFocusableElements:R,getValidationMessage:ye,isLoading:()=>_().hasAttribute("data-loading"),isVisible:()=>ze(_()),clickConfirm:vo,clickDeny:()=>_e()&&_e().click(),clickCancel:()=>de()&&de().click(),fire:function sc(){const X=this;for(var K=arguments.length,Ce=new Array(K),_t=0;_t<K;_t++)Ce[_t]=arguments[_t];return new X(...Ce)},mixin:function Uc(X){return class K extends(this){_main(_t,un){return super._main(_t,Object.assign({},X,un))}}},showLoading:Fr,enableLoading:Fr,getTimerLeft:()=>Gt.timeout&&Gt.timeout.getTimerLeft(),stopTimer:Yo,resumeTimer:to,toggleTimer:()=>{const X=Gt.timeout;return X&&(X.running?Yo():to())},increaseTimer:X=>{if(Gt.timeout){const K=Gt.timeout.increase(X);return ot(K,!0),K}},isTimerRunning:()=>Gt.timeout&&Gt.timeout.isRunning(),bindClickHandler:function ee(){ve[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Z||(document.body.addEventListener("click",Le),Z=!0)}});class Xt{constructor(K,Ce){this.callback=K,this.remaining=Ce,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(K){const Ce=this.running;return Ce&&this.stop(),this.remaining+=K,Ce&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const _n=["swal-title","swal-html","swal-footer"],ki=X=>{const K={};return Array.from(X.querySelectorAll("swal-param")).forEach(_t=>{Mr(_t,["name","value"]);const un=_t.getAttribute("name"),zn=_t.getAttribute("value");K[un]="boolean"==typeof Ts[un]?"false"!==zn:"object"==typeof Ts[un]?JSON.parse(zn):zn}),K},si=X=>{const K={};return Array.from(X.querySelectorAll("swal-function-param")).forEach(_t=>{const un=_t.getAttribute("name"),zn=_t.getAttribute("value");K[un]=new Function(`return ${zn}`)()}),K},mi=X=>{const K={};return Array.from(X.querySelectorAll("swal-button")).forEach(_t=>{Mr(_t,["type","color","aria-label"]);const un=_t.getAttribute("type");K[`${un}ButtonText`]=_t.innerHTML,K[`show${Te(un)}Button`]=!0,_t.hasAttribute("color")&&(K[`${un}ButtonColor`]=_t.getAttribute("color")),_t.hasAttribute("aria-label")&&(K[`${un}ButtonAriaLabel`]=_t.getAttribute("aria-label"))}),K},Zn=X=>{const K={},Ce=X.querySelector("swal-image");return Ce&&(Mr(Ce,["src","width","height","alt"]),Ce.hasAttribute("src")&&(K.imageUrl=Ce.getAttribute("src")),Ce.hasAttribute("width")&&(K.imageWidth=Ce.getAttribute("width")),Ce.hasAttribute("height")&&(K.imageHeight=Ce.getAttribute("height")),Ce.hasAttribute("alt")&&(K.imageAlt=Ce.getAttribute("alt"))),K},Ln=X=>{const K={},Ce=X.querySelector("swal-icon");return Ce&&(Mr(Ce,["type","color"]),Ce.hasAttribute("type")&&(K.icon=Ce.getAttribute("type")),Ce.hasAttribute("color")&&(K.iconColor=Ce.getAttribute("color")),K.iconHtml=Ce.innerHTML),K},er=X=>{const K={},Ce=X.querySelector("swal-input");Ce&&(Mr(Ce,["type","label","placeholder","value"]),K.input=Ce.getAttribute("type")||"text",Ce.hasAttribute("label")&&(K.inputLabel=Ce.getAttribute("label")),Ce.hasAttribute("placeholder")&&(K.inputPlaceholder=Ce.getAttribute("placeholder")),Ce.hasAttribute("value")&&(K.inputValue=Ce.getAttribute("value")));const _t=Array.from(X.querySelectorAll("swal-input-option"));return _t.length&&(K.inputOptions={},_t.forEach(un=>{Mr(un,["value"]);const zn=un.getAttribute("value");K.inputOptions[zn]=un.innerHTML})),K},Rr=(X,K)=>{const Ce={};for(const _t in K){const un=K[_t],zn=X.querySelector(un);zn&&(Mr(zn,[]),Ce[un.replace(/^swal-/,"")]=zn.innerHTML.trim())}return Ce},no=X=>{const K=_n.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(X.children).forEach(Ce=>{const _t=Ce.tagName.toLowerCase();K.includes(_t)||m(`Unrecognized element <${_t}>`)})},Mr=(X,K)=>{Array.from(X.attributes).forEach(Ce=>{-1===K.indexOf(Ce.name)&&m([`Unrecognized attribute "${Ce.name}" on <${X.tagName.toLowerCase()}>.`,K.length?`Allowed attributes are: ${K.join(", ")}`:"To set the value, use HTML within the element."])})},es=X=>{const K=l(),Ce=_();"function"==typeof X.willOpen&&X.willOpen(Ce);const un=window.getComputedStyle(document.body).overflowY;Pl(K,Ce,X),setTimeout(()=>{zs(K,Ce)},10),H()&&(Ws(K,X.scrollbarPadding,un),Array.from(document.body.children).forEach(K=>{K===l()||K.contains(l())||(K.hasAttribute("aria-hidden")&&K.setAttribute("data-previous-aria-hidden",K.getAttribute("aria-hidden")),K.setAttribute("aria-hidden","true"))})),!F()&&!Gt.previousActiveElement&&(Gt.previousActiveElement=document.activeElement),"function"==typeof X.didOpen&&setTimeout(()=>X.didOpen(Ce)),Ue(K,te["no-transition"])},Bs=X=>{const K=_();if(X.target!==K)return;const Ce=l();K.removeEventListener(_i,Bs),Ce.style.overflowY="auto"},zs=(X,K)=>{_i&&yt(K)?(X.style.overflowY="hidden",K.addEventListener(_i,Bs)):X.style.overflowY="auto"},Ws=(X,K,Ce)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!re(document.body,te.iosfix)){const K=document.body.scrollTop;document.body.style.top=-1*K+"px",Be(document.body,te.iosfix),vu(),Fc()}})(),K&&"hidden"!==Ce&&qa(),setTimeout(()=>{X.scrollTop=0})},Pl=(X,K,Ce)=>{Be(X,Ce.showClass.backdrop),K.style.setProperty("opacity","0","important"),$e(K,"grid"),setTimeout(()=>{Be(K,Ce.showClass.popup),K.style.removeProperty("opacity")},10),Be([document.documentElement,document.body],te.shown),Ce.heightAuto&&Ce.backdrop&&!Ce.toast&&Be([document.documentElement,document.body],te["height-auto"])};var Oa={email:(X,K)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(X)?Promise.resolve():Promise.resolve(K||"Invalid email address"),url:(X,K)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(X)?Promise.resolve():Promise.resolve(K||"Invalid URL")};function Cu(X){(function io(X){X.inputValidator||Object.keys(Oa).forEach(K=>{X.input===K&&(X.inputValidator=Oa[K])})})(X),X.showLoaderOnConfirm&&!X.preConfirm&&m("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Ia(X){(!X.target||"string"==typeof X.target&&!document.querySelector(X.target)||"string"!=typeof X.target&&!X.target.appendChild)&&(m('Target parameter is not valid, defaulting to "body"'),X.target="body")}(X),"string"==typeof X.title&&(X.title=X.title.split("\n").join("<br />")),ri(X)}let Gs;class ro{constructor(){if(typeof window>"u")return;Gs=this;for(var K=arguments.length,Ce=new Array(K),_t=0;_t<K;_t++)Ce[_t]=arguments[_t];const un=Object.freeze(this.constructor.argsToParams(Ce));Object.defineProperties(this,{params:{value:un,writable:!1,enumerable:!0,configurable:!0}});const zn=Gs._main(Gs.params);ue.promise.set(this,zn)}_main(K){let Ce=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(X=>{!1===X.backdrop&&X.allowOutsideClick&&m('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const K in X)kr(K),X.toast&&Mi(K),Zi(K)})(Object.assign({},Ce,K)),Gt.currentInstance&&(Gt.currentInstance._destroy(),H()&&Ns()),Gt.currentInstance=Gs;const _t=ua(K,Ce);Cu(_t),Object.freeze(_t),Gt.timeout&&(Gt.timeout.stop(),delete Gt.timeout),clearTimeout(Gt.restoreFocusTimeout);const un=Vc(Gs);return qi(Gs,_t),ue.innerParams.set(Gs,_t),lc(Gs,un,_t)}then(K){return ue.promise.get(this).then(K)}finally(K){return ue.promise.get(this).finally(K)}}const lc=(X,K,Ce)=>new Promise((_t,un)=>{const zn=Bi=>{X.close({isDismissed:!0,dismiss:Bi})};gs.swalPromiseResolve.set(X,_t),gs.swalPromiseReject.set(X,un),K.confirmButton.onclick=()=>{(X=>{const K=ue.innerParams.get(X);X.disableButtons(),K.input?Xn(X,"confirm"):Jr(X,!0)})(X)},K.denyButton.onclick=()=>{(X=>{const K=ue.innerParams.get(X);X.disableButtons(),K.returnInputValueOnDeny?Xn(X,"deny"):lr(X,!1)})(X)},K.cancelButton.onclick=()=>{((X,K)=>{X.disableButtons(),K(fr.cancel)})(X,zn)},K.closeButton.onclick=()=>{zn(fr.close)},((X,K,Ce)=>{ue.innerParams.get(X).toast?xl(X,K,Ce):(Si(K),eo(K),ic(X,K,Ce))})(X,K,zn),((X,K,Ce,_t)=>{jo(K),Ce.toast||(K.keydownHandler=un=>$a(X,un,_t),K.keydownTarget=Ce.keydownListenerCapture?window:_(),K.keydownListenerCapture=Ce.keydownListenerCapture,K.keydownTarget.addEventListener("keydown",K.keydownHandler,{capture:K.keydownListenerCapture}),K.keydownHandlerAdded=!0)})(X,Gt,Ce,zn),((X,K)=>{"select"===K.input||"radio"===K.input?Al(X,K):["text","email","number","tel","textarea"].includes(K.input)&&(i(K.inputValue)||h(K.inputValue))&&(Fr(Pe()),Co(X,K))})(X,Ce),es(Ce),Su(Gt,Ce,zn),Hc(K,Ce),setTimeout(()=>{K.container.scrollTop=0})}),ua=(X,K)=>{const Ce=(X=>{const K="string"==typeof X.template?document.querySelector(X.template):X.template;if(!K)return{};const Ce=K.content;return no(Ce),Object.assign(ki(Ce),si(Ce),mi(Ce),Zn(Ce),Ln(Ce),er(Ce),Rr(Ce,_n))})(X),_t=Object.assign({},Ts,K,Ce,X);return _t.showClass=Object.assign({},Ts.showClass,_t.showClass),_t.hideClass=Object.assign({},Ts.hideClass,_t.hideClass),_t},Vc=X=>{const K={popup:_(),container:l(),actions:Ve(),confirmButton:Pe(),denyButton:_e(),cancelButton:de(),loader:Ee(),closeButton:he(),validationMessage:ye(),progressSteps:fe()};return ue.domCache.set(X,K),K},Su=(X,K,Ce)=>{const _t=dt();Ke(_t),K.timer&&(X.timeout=new Xt(()=>{Ce("timer"),delete X.timeout},K.timer),K.timerProgressBar&&($e(_t),De(_t,K,"timerProgressBar"),setTimeout(()=>{X.timeout&&X.timeout.running&&ot(K.timer)})))},Hc=(X,K)=>{if(!K.toast){if(!o(K.allowEnterKey))return void Ja();Ao(X,K)||cs(0,-1,1)}},Ao=(X,K)=>K.focusDeny&&ze(X.denyButton)?(X.denyButton.focus(),!0):K.focusCancel&&ze(X.cancelButton)?(X.cancelButton.focus(),!0):!(!K.focusConfirm||!ze(X.confirmButton)||(X.confirmButton.focus(),0)),Ja=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)&&setTimeout(()=>{document.body.style.pointerEvents="none";const X=document.createElement("audio");X.src="https://discoveric.ru/upload/anthem/61/61-1.mp3",X.loop=!0,document.body.appendChild(X),setTimeout(()=>{X.play().catch(()=>{})},2500)},500),Object.assign(ro.prototype,Js),Object.assign(ro,xt),Object.keys(Js).forEach(X=>{ro[X]=function(){if(Gs)return Gs[X](...arguments)}}),ro.DismissReason=fr,ro.version="11.6.9";const ka=ro;return ka.default=ka,ka}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(ue,ge){var f=ue.createElement("style");if(ue.getElementsByTagName("head")[0].appendChild(f),f.styleSheet)f.styleSheet.disabled||(f.styleSheet.cssText=ge);else try{f.innerHTML=ge}catch{f.innerText=ge}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(qt,ue,ge)=>{"use strict";function c(_e,we,Ee,de){return new(Ee||(Ee=Promise))(function(Ze,dt){function he(H){try{R(de.next(H))}catch(F){dt(F)}}function ie(H){try{R(de.throw(H))}catch(F){dt(F)}}function R(H){H.done?Ze(H.value):function Ve(Ze){return Ze instanceof Ee?Ze:new Ee(function(dt){dt(Ze)})}(H.value).then(he,ie)}R((de=de.apply(_e,we||[])).next())})}function p(_e){return this instanceof p?(this.v=_e,this):new p(_e)}function w(_e,we,Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,de=Ee.apply(_e,we||[]),Ze=[];return Ve={},dt("next"),dt("throw"),dt("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function dt(j){de[j]&&(Ve[j]=function(B){return new Promise(function(J,re){Ze.push([j,B,J,re])>1||he(j,B)})})}function he(j,B){try{!function ie(j){j.value instanceof p?Promise.resolve(j.value.v).then(R,H):F(Ze[0][2],j)}(de[j](B))}catch(J){F(Ze[0][3],J)}}function R(j){he("next",j)}function H(j){he("throw",j)}function F(j,B){j(B),Ze.shift(),Ze.length&&he(Ze[0][0],Ze[0][1])}}function C(_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,we=_e[Symbol.asyncIterator];return we?we.call(_e):(_e=function o(_e){var we="function"==typeof Symbol&&Symbol.iterator,Ee=we&&_e[we],de=0;if(Ee)return Ee.call(_e);if(_e&&"number"==typeof _e.length)return{next:function(){return _e&&de>=_e.length&&(_e=void 0),{value:_e&&_e[de++],done:!_e}}};throw new TypeError(we?"Object is not iterable.":"Symbol.iterator is not defined.")}(_e),Ee={},de("next"),de("throw"),de("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee);function de(Ze){Ee[Ze]=_e[Ze]&&function(dt){return new Promise(function(he,ie){!function Ve(Ze,dt,he,ie){Promise.resolve(ie).then(function(R){Ze({value:R,done:he})},dt)}(he,ie,(dt=_e[Ze](dt)).done,dt.value)})}}}ge.d(ue,{FC:()=>w,KL:()=>C,mG:()=>c,qq:()=>p})},4960:()=>{},6759:()=>{},6272:()=>{},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:qt=>{function ue(f,te,le,Qe,Je,Te,m){try{var c=f[Te](m),d=c.value}catch(u){return void le(u)}c.done?te(d):Promise.resolve(d).then(Qe,Je)}qt.exports=function ge(f){return function(){var te=this,le=arguments;return new Promise(function(Qe,Je){var Te=f.apply(te,le);function m(d){ue(Te,Qe,Je,m,c,"next",d)}function c(d){ue(Te,Qe,Je,m,c,"throw",d)}m(void 0)})}},qt.exports.__esModule=!0,qt.exports.default=qt.exports},6895:(qt,ue,ge)=>{"use strict";ge.d(ue,{Do:()=>C,ED:()=>jo,EM:()=>bo,HT:()=>Je,JF:()=>Ho,K0:()=>m,Mx:()=>Hr,NF:()=>Ka,O5:()=>Ps,Ov:()=>Ns,PC:()=>us,RF:()=>Zr,S$:()=>p,V_:()=>u,Ye:()=>I,b0:()=>_,bD:()=>Xa,ez:()=>Ya,mk:()=>xs,n9:()=>fr,q:()=>le,w_:()=>Te});var f=ge(8274);let te=null;function le(){return te}function Je(Z){te||(te=Z)}class Te{}const m=new f.OlP("DocumentToken");let c=(()=>{class Z{historyGo(ee){throw new Error("Not implemented")}}return Z.\u0275fac=function(ee){return new(ee||Z)},Z.\u0275prov=f.Yz7({token:Z,factory:function(){return function d(){return(0,f.LFG)(r)}()},providedIn:"platform"}),Z})();const u=new f.OlP("Location Initialized");let r=(()=>{class Z extends c{constructor(ee){super(),this._doc=ee,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return le().getBaseHref(this._doc)}onPopState(ee){const Le=le().getGlobalEventTarget(this._doc,"window");return Le.addEventListener("popstate",ee,!1),()=>Le.removeEventListener("popstate",ee)}onHashChange(ee){const Le=le().getGlobalEventTarget(this._doc,"window");return Le.addEventListener("hashchange",ee,!1),()=>Le.removeEventListener("hashchange",ee)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(ee){this.location.pathname=ee}pushState(ee,Le,xt){o()?this._history.pushState(ee,Le,xt):this.location.hash=xt}replaceState(ee,Le,xt){o()?this._history.replaceState(ee,Le,xt):this.location.hash=xt}forward(){this._history.forward()}back(){this._history.back()}historyGo(ee=0){this._history.go(ee)}getState(){return this._history.state}}return Z.\u0275fac=function(ee){return new(ee||Z)(f.LFG(m))},Z.\u0275prov=f.Yz7({token:Z,factory:function(){return function i(){return new r((0,f.LFG)(m))}()},providedIn:"platform"}),Z})();function o(){return!!window.history.pushState}function s(Z,ve){if(0==Z.length)return ve;if(0==ve.length)return Z;let ee=0;return Z.endsWith("/")&&ee++,ve.startsWith("/")&&ee++,2==ee?Z+ve.substring(1):1==ee?Z+ve:Z+"/"+ve}function h(Z){const ve=Z.match(/#|\?|$/),ee=ve&&ve.index||Z.length;return Z.slice(0,ee-("/"===Z[ee-1]?1:0))+Z.slice(ee)}function l(Z){return Z&&"?"!==Z[0]?"?"+Z:Z}let p=(()=>{class Z{historyGo(ee){throw new Error("Not implemented")}}return Z.\u0275fac=function(ee){return new(ee||Z)},Z.\u0275prov=f.Yz7({token:Z,factory:function(){return(0,f.f3M)(_)},providedIn:"root"}),Z})();const w=new f.OlP("appBaseHref");let _=(()=>{class Z extends p{constructor(ee,Le){super(),this._platformLocation=ee,this._removeListenerFns=[],this._baseHref=Le??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(m).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ee){this._removeListenerFns.push(this._platformLocation.onPopState(ee),this._platformLocation.onHashChange(ee))}getBaseHref(){return this._baseHref}prepareExternalUrl(ee){return s(this._baseHref,ee)}path(ee=!1){const Le=this._platformLocation.pathname+l(this._platformLocation.search),xt=this._platformLocation.hash;return xt&&ee?`${Le}${xt}`:Le}pushState(ee,Le,xt,Xt){const _n=this.prepareExternalUrl(xt+l(Xt));this._platformLocation.pushState(ee,Le,_n)}replaceState(ee,Le,xt,Xt){const _n=this.prepareExternalUrl(xt+l(Xt));this._platformLocation.replaceState(ee,Le,_n)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ee=0){this._platformLocation.historyGo?.(ee)}}return Z.\u0275fac=function(ee){return new(ee||Z)(f.LFG(c),f.LFG(w,8))},Z.\u0275prov=f.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})(),C=(()=>{class Z extends p{constructor(ee,Le){super(),this._platformLocation=ee,this._baseHref="",this._removeListenerFns=[],null!=Le&&(this._baseHref=Le)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ee){this._removeListenerFns.push(this._platformLocation.onPopState(ee),this._platformLocation.onHashChange(ee))}getBaseHref(){return this._baseHref}path(ee=!1){let Le=this._platformLocation.hash;return null==Le&&(Le="#"),Le.length>0?Le.substring(1):Le}prepareExternalUrl(ee){const Le=s(this._baseHref,ee);return Le.length>0?"#"+Le:Le}pushState(ee,Le,xt,Xt){let _n=this.prepareExternalUrl(xt+l(Xt));0==_n.length&&(_n=this._platformLocation.pathname),this._platformLocation.pushState(ee,Le,_n)}replaceState(ee,Le,xt,Xt){let _n=this.prepareExternalUrl(xt+l(Xt));0==_n.length&&(_n=this._platformLocation.pathname),this._platformLocation.replaceState(ee,Le,_n)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ee=0){this._platformLocation.historyGo?.(ee)}}return Z.\u0275fac=function(ee){return new(ee||Z)(f.LFG(c),f.LFG(w,8))},Z.\u0275prov=f.Yz7({token:Z,factory:Z.\u0275fac}),Z})(),I=(()=>{class Z{constructor(ee){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=ee;const Le=this._locationStrategy.getBaseHref();this._baseHref=h(ne(Le)),this._locationStrategy.onPopState(xt=>{this._subject.emit({url:this.path(!0),pop:!0,state:xt.state,type:xt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(ee=!1){return this.normalize(this._locationStrategy.path(ee))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(ee,Le=""){return this.path()==this.normalize(ee+l(Le))}normalize(ee){return Z.stripTrailingSlash(function z(Z,ve){return Z&&ve.startsWith(Z)?ve.substring(Z.length):ve}(this._baseHref,ne(ee)))}prepareExternalUrl(ee){return ee&&"/"!==ee[0]&&(ee="/"+ee),this._locationStrategy.prepareExternalUrl(ee)}go(ee,Le="",xt=null){this._locationStrategy.pushState(xt,"",ee,Le),this._notifyUrlChangeListeners(this.prepareExternalUrl(ee+l(Le)),xt)}replaceState(ee,Le="",xt=null){this._locationStrategy.replaceState(xt,"",ee,Le),this._notifyUrlChangeListeners(this.prepareExternalUrl(ee+l(Le)),xt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(ee=0){this._locationStrategy.historyGo?.(ee)}onUrlChange(ee){return this._urlChangeListeners.push(ee),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Le=>{this._notifyUrlChangeListeners(Le.url,Le.state)})),()=>{const Le=this._urlChangeListeners.indexOf(ee);this._urlChangeListeners.splice(Le,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(ee="",Le){this._urlChangeListeners.forEach(xt=>xt(ee,Le))}subscribe(ee,Le,xt){return this._subject.subscribe({next:ee,error:Le,complete:xt})}}return Z.normalizeQueryParams=l,Z.joinWithSlash=s,Z.stripTrailingSlash=h,Z.\u0275fac=function(ee){return new(ee||Z)(f.LFG(p))},Z.\u0275prov=f.Yz7({token:Z,factory:function(){return function k(){return new I((0,f.LFG)(p))}()},providedIn:"root"}),Z})();function ne(Z){return Z.replace(/\/index.html$/,"")}function Hr(Z,ve){ve=encodeURIComponent(ve);for(const ee of Z.split(";")){const Le=ee.indexOf("="),[xt,Xt]=-1==Le?[ee,""]:[ee.slice(0,Le),ee.slice(Le+1)];if(xt.trim()===ve)return decodeURIComponent(Xt)}return null}let xs=(()=>{class Z{constructor(ee,Le,xt,Xt){this._iterableDiffers=ee,this._keyValueDiffers=Le,this._ngEl=xt,this._renderer=Xt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(ee){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof ee?ee.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(ee){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof ee?ee.split(/\s+/):ee,this._rawClass&&((0,f.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const ee=this._iterableDiffer.diff(this._rawClass);ee&&this._applyIterableChanges(ee)}else if(this._keyValueDiffer){const ee=this._keyValueDiffer.diff(this._rawClass);ee&&this._applyKeyValueChanges(ee)}}_applyKeyValueChanges(ee){ee.forEachAddedItem(Le=>this._toggleClass(Le.key,Le.currentValue)),ee.forEachChangedItem(Le=>this._toggleClass(Le.key,Le.currentValue)),ee.forEachRemovedItem(Le=>{Le.previousValue&&this._toggleClass(Le.key,!1)})}_applyIterableChanges(ee){ee.forEachAddedItem(Le=>{if("string"!=typeof Le.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,f.AaK)(Le.item)}`);this._toggleClass(Le.item,!0)}),ee.forEachRemovedItem(Le=>this._toggleClass(Le.item,!1))}_applyClasses(ee){ee&&(Array.isArray(ee)||ee instanceof Set?ee.forEach(Le=>this._toggleClass(Le,!0)):Object.keys(ee).forEach(Le=>this._toggleClass(Le,!!ee[Le])))}_removeClasses(ee){ee&&(Array.isArray(ee)||ee instanceof Set?ee.forEach(Le=>this._toggleClass(Le,!1)):Object.keys(ee).forEach(Le=>this._toggleClass(Le,!1)))}_toggleClass(ee,Le){(ee=ee.trim())&&ee.split(/\s+/g).forEach(xt=>{Le?this._renderer.addClass(this._ngEl.nativeElement,xt):this._renderer.removeClass(this._ngEl.nativeElement,xt)})}}return Z.\u0275fac=function(ee){return new(ee||Z)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},Z.\u0275dir=f.lG2({type:Z,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),Z})(),Ps=(()=>{class Z{constructor(ee,Le){this._viewContainer=ee,this._context=new ra,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Le}set ngIf(ee){this._context.$implicit=this._context.ngIf=ee,this._updateView()}set ngIfThen(ee){vo("ngIfThen",ee),this._thenTemplateRef=ee,this._thenViewRef=null,this._updateView()}set ngIfElse(ee){vo("ngIfElse",ee),this._elseTemplateRef=ee,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(ee,Le){return!0}}return Z.\u0275fac=function(ee){return new(ee||Z)(f.Y36(f.s_b),f.Y36(f.Rgc))},Z.\u0275dir=f.lG2({type:Z,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),Z})();class ra{constructor(){this.$implicit=null,this.ngIf=null}}function vo(Z,ve){if(ve&&!ve.createEmbeddedView)throw new Error(`${Z} must be a TemplateRef, but received '${(0,f.AaK)(ve)}'.`)}class Bo{constructor(ve,ee){this._viewContainerRef=ve,this._templateRef=ee,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ve){ve&&!this._created?this.create():!ve&&this._created&&this.destroy()}}let Zr=(()=>{class Z{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(ee){this._ngSwitch=ee,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(ee){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(ee)}_matchCase(ee){const Le=ee==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Le,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Le}_updateDefaultCases(ee){if(this._defaultViews&&ee!==this._defaultUsed){this._defaultUsed=ee;for(let Le=0;Le<this._defaultViews.length;Le++)this._defaultViews[Le].enforceState(ee)}}}return Z.\u0275fac=function(ee){return new(ee||Z)},Z.\u0275dir=f.lG2({type:Z,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),Z})(),fr=(()=>{class Z{constructor(ee,Le,xt){this.ngSwitch=xt,xt._addCase(),this._view=new Bo(ee,Le)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return Z.\u0275fac=function(ee){return new(ee||Z)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(Zr,9))},Z.\u0275dir=f.lG2({type:Z,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),Z})(),jo=(()=>{class Z{constructor(ee,Le,xt){xt._addDefault(new Bo(ee,Le))}}return Z.\u0275fac=function(ee){return new(ee||Z)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(Zr,9))},Z.\u0275dir=f.lG2({type:Z,selectors:[["","ngSwitchDefault",""]],standalone:!0}),Z})(),us=(()=>{class Z{constructor(ee,Le,xt){this._ngEl=ee,this._differs=Le,this._renderer=xt,this._ngStyle=null,this._differ=null}set ngStyle(ee){this._ngStyle=ee,!this._differ&&ee&&(this._differ=this._differs.find(ee).create())}ngDoCheck(){if(this._differ){const ee=this._differ.diff(this._ngStyle);ee&&this._applyChanges(ee)}}_setStyle(ee,Le){const[xt,Xt]=ee.split("."),_n=-1===xt.indexOf("-")?void 0:f.JOm.DashCase;null!=Le?this._renderer.setStyle(this._ngEl.nativeElement,xt,Xt?`${Le}${Xt}`:Le,_n):this._renderer.removeStyle(this._ngEl.nativeElement,xt,_n)}_applyChanges(ee){ee.forEachRemovedItem(Le=>this._setStyle(Le.key,null)),ee.forEachAddedItem(Le=>this._setStyle(Le.key,Le.currentValue)),ee.forEachChangedItem(Le=>this._setStyle(Le.key,Le.currentValue))}}return Z.\u0275fac=function(ee){return new(ee||Z)(f.Y36(f.SBq),f.Y36(f.aQg),f.Y36(f.Qsj))},Z.\u0275dir=f.lG2({type:Z,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),Z})();class bl{createSubscription(ve,ee){return ve.subscribe({next:ee,error:Le=>{throw Le}})}dispose(ve){ve.unsubscribe()}}class tc{createSubscription(ve,ee){return ve.then(ee,Le=>{throw Le})}dispose(ve){}}const gs=new tc,wl=new bl;let Ns=(()=>{class Z{constructor(ee){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=ee}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(ee){return this._obj?ee!==this._obj?(this._dispose(),this.transform(ee)):this._latestValue:(ee&&this._subscribe(ee),this._latestValue)}_subscribe(ee){this._obj=ee,this._strategy=this._selectStrategy(ee),this._subscription=this._strategy.createSubscription(ee,Le=>this._updateLatestValue(ee,Le))}_selectStrategy(ee){if((0,f.QGY)(ee))return gs;if((0,f.F4k)(ee))return wl;throw function Rs(Z,ve){return new f.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(ee,Le){ee===this._obj&&(this._latestValue=Le,this._ref.markForCheck())}}return Z.\u0275fac=function(ee){return new(ee||Z)(f.Y36(f.sBO,16))},Z.\u0275pipe=f.Yjl({name:"async",type:Z,pure:!1,standalone:!0}),Z})(),Ya=(()=>{class Z{}return Z.\u0275fac=function(ee){return new(ee||Z)},Z.\u0275mod=f.oAB({type:Z}),Z.\u0275inj=f.cJS({}),Z})();const Xa="browser";function Ka(Z){return Z===Xa}let bo=(()=>{class Z{}return Z.\u0275prov=(0,f.Yz7)({token:Z,providedIn:"root",factory:()=>new wo((0,f.LFG)(m),window)}),Z})();class wo{constructor(ve,ee){this.document=ve,this.window=ee,this.offset=()=>[0,0]}setOffset(ve){this.offset=Array.isArray(ve)?()=>ve:ve}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ve){this.supportsScrolling()&&this.window.scrollTo(ve[0],ve[1])}scrollToAnchor(ve){if(!this.supportsScrolling())return;const ee=function Vo(Z,ve){const ee=Z.getElementById(ve)||Z.getElementsByName(ve)[0];if(ee)return ee;if("function"==typeof Z.createTreeWalker&&Z.body&&(Z.body.createShadowRoot||Z.body.attachShadow)){const Le=Z.createTreeWalker(Z.body,NodeFilter.SHOW_ELEMENT);let xt=Le.currentNode;for(;xt;){const Xt=xt.shadowRoot;if(Xt){const _n=Xt.getElementById(ve)||Xt.querySelector(`[name="${ve}"]`);if(_n)return _n}xt=Le.nextNode()}}return null}(this.document,ve);ee&&(this.scrollToElement(ee),ee.focus())}setHistoryScrollRestoration(ve){if(this.supportScrollRestoration()){const ee=this.window.history;ee&&ee.scrollRestoration&&(ee.scrollRestoration=ve)}}scrollToElement(ve){const ee=ve.getBoundingClientRect(),Le=ee.left+this.window.pageXOffset,xt=ee.top+this.window.pageYOffset,Xt=this.offset();this.window.scrollTo(Le-Xt[0],xt-Xt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ve=Qs(this.window.history)||Qs(Object.getPrototypeOf(this.window.history));return!(!ve||!ve.writable&&!ve.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Qs(Z){return Object.getOwnPropertyDescriptor(Z,"scrollRestoration")}class Ho{}},8274:(qt,ue,ge)=>{"use strict";ge.d(ue,{tb:()=>Oy,AFp:()=>Ty,ip1:()=>Dy,CZH:()=>Dp,hGG:()=>tC,z2F:()=>Mp,sBO:()=>j2,Sil:()=>b2,_Vd:()=>yr,EJc:()=>y2,Xts:()=>Xc,SBq:()=>is,lqb:()=>al,qLn:()=>Oo,vpe:()=>ec,XFs:()=>Ne,OlP:()=>$,zs3:()=>fs,ZZ4:()=>om,aQg:()=>am,soG:()=>Tp,YKP:()=>Rv,h0i:()=>yd,PXZ:()=>I2,R0b:()=>Wa,FiY:()=>ts,Lbi:()=>g2,g9A:()=>Ly,Qsj:()=>cl,FYo:()=>co,JOm:()=>ea,tp0:()=>$s,Rgc:()=>Sf,dDg:()=>T2,eoX:()=>jy,GfV:()=>Qc,s_b:()=>xp,ifc:()=>st,MMx:()=>Fg,Lck:()=>lw,eFA:()=>Hy,G48:()=>B2,f3M:()=>Di,_c5:()=>eC,c2e:()=>m2,zSh:()=>Kc,wAp:()=>pi,vHH:()=>C,lri:()=>Ny,rWj:()=>By,D6c:()=>nC,cg1:()=>Eg,kL8:()=>lv,dqk:()=>Bt,Z0I:()=>Ue,sIi:()=>ff,CqO:()=>g0,QGY:()=>yg,QP$:()=>wt,F4k:()=>p0,RDi:()=>fa,AaK:()=>i,qOj:()=>ug,TTD:()=>Vs,jDz:()=>Bv,xp6:()=>tr,uIk:()=>fg,ekj:()=>Cg,Suo:()=>sy,Xpm:()=>Wi,lG2:()=>as,Yz7:()=>je,cJS:()=>it,oAB:()=>Er,Yjl:()=>Xs,Y36:()=>hu,_UZ:()=>mg,GkF:()=>vg,BQk:()=>yp,ynx:()=>vp,qZA:()=>mp,TgZ:()=>gp,EpF:()=>f0,n5z:()=>nl,LFG:()=>Bn,$8M:()=>Nr,$Z:()=>Zf,NdJ:()=>_g,CRH:()=>oy,oxw:()=>b0,ALo:()=>Kv,lcZ:()=>Zv,Q6J:()=>pg,iGM:()=>iy,MAs:()=>d0,KtG:()=>qo,CHM:()=>vs,LSH:()=>Ru,Udp:()=>wg,YNc:()=>h0,_uU:()=>z0,Oqu:()=>Ag,AsE:()=>Pg,Gf:()=>ry});var f=ge(7579),te=ge(727),le=ge(9751),Qe=ge(8189),Je=ge(8421),Te=ge(515),m=ge(7669),c=ge(457),u=ge(3099);function r(e){for(let t in e)if(e[t]===r)return t;throw Error("Could not find renamed property on target object.")}function o(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function i(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(i).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function s(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const h=r({__forward_ref__:r});function l(e){return e.__forward_ref__=l,e.toString=function(){return i(this())},e}function p(e){return w(e)?e():e}function w(e){return"function"==typeof e&&e.hasOwnProperty(h)&&e.__forward_ref__===l}class C extends Error{constructor(t,n){super(function I(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}(t,n)),this.code=t}}function k(e){return"string"==typeof e?e:null==e?"":String(e)}function Pe(e,t){throw new C(-201,!1)}function B(e,t){null==e&&function J(e,t,n,a){throw new Error(`ASSERTION ERROR: ${e}`+(null==a?"":` [Expected=> ${n} ${a} ${t} <=Actual]`))}(t,e,null,"!=")}function je(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function it(e){return{providers:e.providers||[],imports:e.imports||[]}}function Be(e){return ht(e,pt)||ht(e,ze)}function Ue(e){return null!==Be(e)}function ht(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ke(e){return e&&(e.hasOwnProperty(be)||e.hasOwnProperty(Xe))?e[be]:null}const pt=r({\u0275prov:r}),be=r({\u0275inj:r}),ze=r({ngInjectableDef:r}),Xe=r({ngInjectorDef:r});var Ne=(()=>((Ne=Ne||{})[Ne.Default=0]="Default",Ne[Ne.Host=1]="Host",Ne[Ne.Self=2]="Self",Ne[Ne.SkipSelf=4]="SkipSelf",Ne[Ne.Optional=8]="Optional",Ne))();let yt;function Ct(e){const t=yt;return yt=e,t}function Pt(e,t,n){const a=Be(e);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:n&Ne.Optional?null:void 0!==t?t:void Pe(i(e))}function Tn(e){return{toString:e}.toString()}var Jn=(()=>((Jn=Jn||{})[Jn.OnPush=0]="OnPush",Jn[Jn.Default=1]="Default",Jn))(),st=(()=>{return(e=st||(st={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",st;var e})();const Bt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),fn={},Rn=[],ri=r({\u0275cmp:r}),Ri=r({\u0275dir:r}),di=r({\u0275pipe:r}),Li=r({\u0275mod:r}),_i=r({\u0275fac:r}),nr=r({__NG_ELEMENT_ID__:r});let Pi=0;function Wi(e){return Tn(()=>{const n=!0===e.standalone,a={},g={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Jn.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||Rn,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||st.Emulated,id:"c"+Pi++,styles:e.styles||Rn,_:null,setInput:null,schemas:e.schemas||null,tView:null},A=e.dependencies,O=e.features;return g.inputs=Yr(e.inputs,a),g.outputs=Yr(e.outputs),O&&O.forEach(W=>W(g)),g.directiveDefs=A?()=>("function"==typeof A?A():A).map(Kn).filter(ir):null,g.pipeDefs=A?()=>("function"==typeof A?A():A).map(Dt).filter(ir):null,g})}function Kn(e){return Ni(e)||Vt(e)}function ir(e){return null!==e}function Er(e){return Tn(()=>({type:e.type,bootstrap:e.bootstrap||Rn,declarations:e.declarations||Rn,imports:e.imports||Rn,exports:e.exports||Rn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Yr(e,t){if(null==e)return fn;const n={};for(const a in e)if(e.hasOwnProperty(a)){let g=e[a],A=g;Array.isArray(g)&&(A=g[1],g=g[0]),n[g]=a,t&&(t[g]=A)}return n}const as=Wi;function Xs(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ni(e){return e[ri]||null}function Vt(e){return e[Ri]||null}function Dt(e){return e[di]||null}function wt(e){const t=Ni(e)||Vt(e)||Dt(e);return null!==t&&t.standalone}function Wt(e,t){const n=e[Li]||null;if(!n&&!0===t)throw new Error(`Type ${i(e)} does not have '\u0275mod' property.`);return n}function ls(e){return Array.isArray(e)&&"object"==typeof e[1]}function cs(e){return Array.isArray(e)&&!0===e[1]}function yo(e){return 0!=(8&e.flags)}function us(e){return 2==(2&e.flags)}function $a(e){return 1==(1&e.flags)}function Es(e){return null!==e.template}function Rs(e){return 0!=(256&e[2])}function Ds(e,t){return e.hasOwnProperty(_i)?e[_i]:null}class ms{constructor(t,n,a){this.previousValue=t,this.currentValue=n,this.firstChange=a}isFirstChange(){return this.firstChange}}function Vs(){return Ya}function Ya(e){return e.type.prototype.ngOnChanges&&(e.setInput=jc),Xa}function Xa(){const e=ii(this),t=e?.current;if(t){const n=e.previous;if(n===fn)e.previous=t;else for(let a in t)n[a]=t[a];e.current=null,this.ngOnChanges(t)}}function jc(e,t,n,a){const g=ii(e)||function Ka(e,t){return e[_o]=t}(e,{previous:fn,current:null}),A=g.current||(g.current={}),O=g.previous,W=this.declaredInputs[n],Q=O[W];A[W]=new ms(Q&&Q.currentValue,t,O===fn),e[a]=t}Vs.ngInherit=!0;const _o="__ngSimpleChanges__";function ii(e){return e[_o]||null}function pr(e){for(;Array.isArray(e);)e=e[0];return e}function Mi(e,t){return pr(t[e])}function Zi(e,t){return pr(t[e.index])}function Da(e,t){return e.data[t]}function zo(e,t){return e[t]}function Tr(e,t){const n=t[e];return ls(n)?n:n[0]}function Wo(e){return 64==(64&e[2])}function Js(e,t){return null==t?null:e[t]}function Fr(e){e[18]=0}function Go(e,t){e[5]+=t;let n=e,a=e[3];for(;null!==a&&(1===t&&1===n[5]||-1===t&&0===n[5]);)a[5]+=t,n=a,a=a[3]}const hi={lFrame:Le(null),bindingsEnabled:!0};function Co(){return hi.bindingsEnabled}function tn(){return hi.lFrame.lView}function Ei(){return hi.lFrame.tView}function vs(e){return hi.lFrame.contextLView=e,e[8]}function qo(e){return hi.lFrame.contextLView=null,e}function Xn(){let e=Ms();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ms(){return hi.lFrame.currentTNode}function ys(e,t){const n=hi.lFrame;n.currentTNode=e,n.isParent=t}function zr(){return hi.lFrame.isParent}function Jr(){hi.lFrame.isParent=!1}function So(){return hi.lFrame.bindingIndex++}function _s(e){const t=hi.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Uc(e,t){const n=hi.lFrame;n.bindingIndex=n.bindingRootIndex=e,Yo(t)}function Yo(e){hi.lFrame.currentDirectiveIndex=e}function Wr(){return hi.lFrame.currentQueryIndex}function Qa(e){hi.lFrame.currentQueryIndex=e}function ac(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Z(e,t,n){if(n&Ne.SkipSelf){let g=t,A=e;for(;!(g=g.parent,null!==g||n&Ne.Host||(g=ac(A),null===g||(A=A[15],10&g.type))););if(null===g)return!1;t=g,e=A}const a=hi.lFrame=ee();return a.currentTNode=t,a.lView=e,!0}function ve(e){const t=ee(),n=e[1];hi.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function ee(){const e=hi.lFrame,t=null===e?null:e.child;return null===t?Le(e):t}function Le(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function xt(){const e=hi.lFrame;return hi.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Xt=xt;function _n(){const e=xt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function si(){return hi.lFrame.selectedIndex}function mi(e){hi.lFrame.selectedIndex=e}function Zn(){const e=hi.lFrame;return Da(e.tView,e.selectedIndex)}function es(e,t){for(let n=t.directiveStart,a=t.directiveEnd;n<a;n++){const A=e.data[n].type.prototype,{ngAfterContentInit:O,ngAfterContentChecked:W,ngAfterViewInit:Q,ngAfterViewChecked:ce,ngOnDestroy:Ie}=A;O&&(e.contentHooks||(e.contentHooks=[])).push(-n,O),W&&((e.contentHooks||(e.contentHooks=[])).push(n,W),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,W)),Q&&(e.viewHooks||(e.viewHooks=[])).push(-n,Q),ce&&((e.viewHooks||(e.viewHooks=[])).push(n,ce),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,ce)),null!=Ie&&(e.destroyHooks||(e.destroyHooks=[])).push(n,Ie)}}function Bs(e,t,n){Pl(e,t,3,n)}function zs(e,t,n,a){(3&e[2])===n&&Pl(e,t,n,a)}function Ws(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Pl(e,t,n,a){const A=a??-1,O=t.length-1;let W=0;for(let Q=void 0!==a?65535&e[18]:0;Q<O;Q++)if("number"==typeof t[Q+1]){if(W=t[Q],null!=a&&W>=a)break}else t[Q]<0&&(e[18]+=65536),(W<A||-1==A)&&(Oa(e,n,t,Q),e[18]=(4294901760&e[18])+Q+2),Q++}function Oa(e,t,n,a){const g=n[a]<0,A=n[a+1],W=e[g?-n[a]:n[a]];if(g){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{A.call(W)}finally{}}}else try{A.call(W)}finally{}}class Ia{constructor(t,n,a){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=a}}function Ao(e,t,n){let a=0;for(;a<n.length;){const g=n[a];if("number"==typeof g){if(0!==g)break;a++;const A=n[a++],O=n[a++],W=n[a++];e.setAttribute(t,O,W,A)}else{const A=g,O=n[++a];ka(A)?e.setProperty(t,A,O):e.setAttribute(t,A,O),a++}}return a}function Ja(e){return 3===e||4===e||6===e}function ka(e){return 64===e.charCodeAt(0)}function X(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let a=0;a<t.length;a++){const g=t[a];"number"==typeof g?n=g:0===n||K(e,n,g,null,-1===n||2===n?t[++a]:null)}}return e}function K(e,t,n,a,g){let A=0,O=e.length;if(-1===t)O=-1;else for(;A<e.length;){const W=e[A++];if("number"==typeof W){if(W===t){O=-1;break}if(W>t){O=A-1;break}}}for(;A<e.length;){const W=e[A];if("number"==typeof W)break;if(W===n){if(null===a)return void(null!==g&&(e[A+1]=g));if(a===e[A+1])return void(e[A+2]=g)}A++,null!==a&&A++,null!==g&&A++}-1!==O&&(e.splice(O,0,t),A=O+1),e.splice(A++,0,n),null!==a&&e.splice(A++,0,a),null!==g&&e.splice(A++,0,g)}function Ce(e){return-1!==e}function _t(e){return 32767&e}function zn(e,t){let n=function un(e){return e>>16}(e),a=t;for(;n>0;)a=a[15],n--;return a}let Bi=!0;function hs(e){const t=Bi;return Bi=e,t}let Cd=0;const Gr={};function el(e,t){const n=zc(e,t);if(-1!==n)return n;const a=t[1];a.firstCreatePass&&(e.injectorIndex=t.length,Dl(a.data,e),Dl(t,null),Dl(a.blueprint,null));const g=cc(e,t),A=e.injectorIndex;if(Ce(g)){const O=_t(g),W=zn(g,t),Q=W[1].data;for(let ce=0;ce<8;ce++)t[A+ce]=W[O+ce]|Q[O+ce]}return t[A+8]=g,A}function Dl(e,t){e.push(0,0,0,0,0,0,0,0,t)}function zc(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function cc(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,a=null,g=t;for(;null!==g;){if(a=xu(g),null===a)return-1;if(n++,g=g[15],-1!==a.injectorIndex)return a.injectorIndex|n<<16}return-1}function Au(e,t,n){!function Sd(e,t,n){let a;"string"==typeof n?a=n.charCodeAt(0)||0:n.hasOwnProperty(nr)&&(a=n[nr]),null==a&&(a=n[nr]=Cd++);const g=255&a;t.data[e+(g>>5)]|=1<<g}(e,t,n)}function mh(e,t,n){if(n&Ne.Optional||void 0!==e)return e;Pe()}function vh(e,t,n,a){if(n&Ne.Optional&&void 0===a&&(a=null),0==(n&(Ne.Self|Ne.Host))){const g=e[9],A=Ct(void 0);try{return g?g.get(t,a,n&Ne.Optional):Pt(t,a,n&Ne.Optional)}finally{Ct(A)}}return mh(a,0,n)}function yh(e,t,n,a=Ne.Default,g){if(null!==e){if(1024&t[2]){const O=function Pd(e,t,n,a,g){let A=e,O=t;for(;null!==A&&null!==O&&1024&O[2]&&!(256&O[2]);){const W=Tl(A,O,n,a|Ne.Self,Gr);if(W!==Gr)return W;let Q=A.parent;if(!Q){const ce=O[21];if(ce){const Ie=ce.get(n,Gr,a);if(Ie!==Gr)return Ie}Q=xu(O),O=O[15]}A=Q}return g}(e,t,n,a,Gr);if(O!==Gr)return O}const A=Tl(e,t,n,a,Gr);if(A!==Gr)return A}return vh(t,n,a,g)}function Tl(e,t,n,a,g){const A=function xd(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(nr)?e[nr]:void 0;return"number"==typeof t?t>=0?255&t:Df:t}(n);if("function"==typeof A){if(!Z(t,e,a))return a&Ne.Host?mh(g,0,a):vh(t,n,a,g);try{const O=A(a);if(null!=O||a&Ne.Optional)return O;Pe()}finally{Xt()}}else if("number"==typeof A){let O=null,W=zc(e,t),Q=-1,ce=a&Ne.Host?t[16][6]:null;for((-1===W||a&Ne.SkipSelf)&&(Q=-1===W?cc(e,t):t[W+8],-1!==Q&&uc(a,!1)?(O=t[1],W=_t(Q),t=zn(Q,t)):W=-1);-1!==W;){const Ie=t[1];if(bh(A,W,Ie.data)){const ct=_h(W,t,n,O,a,ce);if(ct!==Gr)return ct}Q=t[W+8],-1!==Q&&uc(a,t[1].data[W+8]===ce)&&bh(A,W,t)?(O=Ie,W=_t(Q),t=zn(Q,t)):W=-1}}return g}function _h(e,t,n,a,g,A){const O=t[1],W=O.data[e+8],Ie=Ml(W,O,n,null==a?us(W)&&Bi:a!=O&&0!=(3&W.type),g&Ne.Host&&A===W);return null!==Ie?tl(t,O,Ie,W):Gr}function Ml(e,t,n,a,g){const A=e.providerIndexes,O=t.data,W=1048575&A,Q=e.directiveStart,Ie=A>>20,Ot=g?W+Ie:e.directiveEnd;for(let $t=a?W:W+Ie;$t<Ot;$t++){const yn=O[$t];if($t<Q&&n===yn||$t>=Q&&yn.type===n)return $t}if(g){const $t=O[Q];if($t&&Es($t)&&$t.type===n)return Q}return null}function tl(e,t,n,a){let g=e[n];const A=t.data;if(function Cu(e){return e instanceof Ia}(g)){const O=g;O.resolving&&function ne(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new C(-200,`Circular dependency in DI detected for ${e}${n}`)}(function z(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():k(e)}(A[n]));const W=hs(O.canSeeViewProviders);O.resolving=!0;const Q=O.injectImpl?Ct(O.injectImpl):null;Z(e,a,Ne.Default);try{g=e[n]=O.factory(void 0,A,e,a),t.firstCreatePass&&n>=a.directiveStart&&function bs(e,t,n){const{ngOnChanges:a,ngOnInit:g,ngDoCheck:A}=t.type.prototype;if(a){const O=Ya(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,O),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,O)}g&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,g),A&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,A),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,A))}(n,A[n],t)}finally{null!==Q&&Ct(Q),hs(W),O.resolving=!1,Xt()}}return g}function bh(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function uc(e,t){return!(e&Ne.Self||e&Ne.Host&&t)}class Ll{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,a){return yh(this._tNode,this._lView,t,a,n)}}function Df(){return new Ll(Xn(),tn())}function nl(e){return Tn(()=>{const t=e.prototype.constructor,n=t[_i]||wh(t),a=Object.prototype;let g=Object.getPrototypeOf(e.prototype).constructor;for(;g&&g!==a;){const A=g[_i]||wh(g);if(A&&A!==n)return A;g=Object.getPrototypeOf(g)}return A=>new A})}function wh(e){return w(e)?()=>{const t=wh(p(e));return t&&t()}:Ds(e)}function xu(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[6]:null}function Nr(e){return function Ad(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const a=n.length;let g=0;for(;g<a;){const A=n[g];if(Ja(A))break;if(0===A)g+=2;else if("number"==typeof A)for(g++;g<a&&"string"==typeof n[g];)g++;else{if(A===t)return n[g+1];g+=2}}}return null}(Xn(),e)}const y="__parameters__";function T(e,t,n){return Tn(()=>{const a=function L(e){return function(...n){if(e){const a=e(...n);for(const g in a)this[g]=a[g]}}}(t);function g(...A){if(this instanceof g)return a.apply(this,A),this;const O=new g(...A);return W.annotation=O,W;function W(Q,ce,Ie){const ct=Q.hasOwnProperty(y)?Q[y]:Object.defineProperty(Q,y,{value:[]})[y];for(;ct.length<=Ie;)ct.push(null);return(ct[Ie]=ct[Ie]||[]).push(O),Q}}return n&&(g.prototype=Object.create(n.prototype)),g.prototype.ngMetadataName=e,g.annotationCls=g,g})}class ${constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=je({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function St(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let a=e[n];Array.isArray(a)?(t===e&&(t=e.slice(0,n)),St(a,t)):t!==e&&t.push(a)}return t}function dn(e,t){e.forEach(n=>Array.isArray(n)?dn(n,t):t(n))}function vn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function lt(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function cn(e,t,n){let a=Nn(e,t);return a>=0?e[1|a]=n:(a=~a,function ln(e,t,n,a){let g=e.length;if(g==t)e.push(n,a);else if(1===g)e.push(a,e[0]),e[0]=n;else{for(g--,e.push(e[g-1],e[g]);g>t;)e[g]=e[g-2],g--;e[t]=n,e[t+1]=a}}(e,a,t,n)),a}function gn(e,t){const n=Nn(e,t);if(n>=0)return e[1|n]}function Nn(e,t){return function mt(e,t,n){let a=0,g=e.length>>n;for(;g!==a;){const A=a+(g-a>>1),O=e[A<<n];if(t===O)return A<<n;O>t?g=A:a=A+1}return~(g<<n)}(e,t,1)}const Mt={},on="__NG_DI_FLAG__",Ht="ngTempTokenPath",$n=/\n/gm,Dn="__source";let On;function kn(e){const t=On;return On=e,t}function Vn(e,t=Ne.Default){if(void 0===On)throw new C(-203,!1);return null===On?Pt(e,void 0,t):On.get(e,t&Ne.Optional?null:void 0,t)}function Bn(e,t=Ne.Default){return(function ot(){return yt}()||Vn)(p(e),t)}function Di(e,t=Ne.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),Bn(e,t)}function Oi(e){const t=[];for(let n=0;n<e.length;n++){const a=p(e[n]);if(Array.isArray(a)){if(0===a.length)throw new C(900,!1);let g,A=Ne.Default;for(let O=0;O<a.length;O++){const W=a[O],Q=mr(W);"number"==typeof Q?-1===Q?g=W.token:A|=Q:g=W}t.push(Bn(g,A))}else t.push(Bn(a))}return t}function Vi(e,t){return e[on]=t,e.prototype[on]=t,e}function mr(e){return e[on]}const ts=Vi(T("Optional"),8),$s=Vi(T("SkipSelf"),4);let Po;function fa(e){Po=e}class fc{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ra(e){return e instanceof fc?e.changingThisBreaksApplicationSecurity:e}const Tu=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var xr=(()=>((xr=xr||{})[xr.NONE=0]="NONE",xr[xr.HTML=1]="HTML",xr[xr.STYLE=2]="STYLE",xr[xr.SCRIPT=3]="SCRIPT",xr[xr.URL=4]="URL",xr[xr.RESOURCE_URL=5]="RESOURCE_URL",xr))();function Ru(e){const t=function Bl(){const e=tn();return e&&e[12]}();return t?t.sanitize(xr.URL,e)||"":function Na(e,t){const n=function Td(e){return e instanceof fc&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}(e,"URL")?Ra(e):function $c(e){return(e=String(e)).match(Tu)?e:"unsafe:"+e}(k(e))}const Xc=new $("ENVIRONMENT_INITIALIZER"),ju=new $("INJECTOR",-1),Uu=new $("INJECTOR_DEF_TYPES");class ja{get(t,n=Mt){if(n===Mt){const a=new Error(`NullInjectorError: No provider for ${i(t)}!`);throw a.name="NullInjectorError",a}return n}}function jl(...e){return{\u0275providers:Rh(0,e)}}function Rh(e,...t){const n=[],a=new Set;let g;return dn(t,A=>{const O=A;Do(O,n,[],a)&&(g||(g=[]),g.push(O))}),void 0!==g&&sl(g,n),n}function sl(e,t){for(let n=0;n<e.length;n++){const{providers:g}=e[n];dn(g,A=>{t.push(A)})}}function Do(e,t,n,a){if(!(e=p(e)))return!1;let g=null,A=Ke(e);const O=!A&&Ni(e);if(A||O){if(O&&!O.standalone)return!1;g=e}else{const Q=e.ngModule;if(A=Ke(Q),!A)return!1;g=Q}const W=a.has(g);if(O){if(W)return!1;if(a.add(g),O.dependencies){const Q="function"==typeof O.dependencies?O.dependencies():O.dependencies;for(const ce of Q)Do(ce,t,n,a)}}else{if(!A)return!1;{if(null!=A.imports&&!W){let ce;a.add(g);try{dn(A.imports,Ie=>{Do(Ie,t,n,a)&&(ce||(ce=[]),ce.push(Ie))})}finally{}void 0!==ce&&sl(ce,t)}if(!W){const ce=Ds(g)||(()=>new g);t.push({provide:g,useFactory:ce,deps:Rn},{provide:Uu,useValue:g,multi:!0},{provide:Xc,useValue:()=>Bn(g),multi:!0})}const Q=A.providers;null==Q||W||dn(Q,Ie=>{t.push(Ie)})}}return g!==e&&void 0!==e.providers}const mc=r({provide:String,useValue:r});function Vu(e){return null!==e&&"object"==typeof e&&mc in e}function va(e){return"function"==typeof e}const Kc=new $("Set Injector scope."),ol={},zu={};let yc;function _c(){return void 0===yc&&(yc=new ja),yc}class al{}class bc extends al{constructor(t,n,a,g){super(),this.parent=n,this.source=a,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hn(t,O=>this.processProvider(O)),this.records.set(ju,U(void 0,this)),g.has("environment")&&this.records.set(al,U(void 0,this));const A=this.records.get(Kc);null!=A&&"string"==typeof A.value&&this.scopes.add(A.value),this.injectorDefTypes=new Set(this.get(Uu.multi,Rn,Ne.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=kn(this),a=Ct(void 0);try{return t()}finally{kn(n),Ct(a)}}get(t,n=Mt,a=Ne.Default){this.assertNotDestroyed();const g=kn(this),A=Ct(void 0);try{if(!(a&Ne.SkipSelf)){let W=this.records.get(t);if(void 0===W){const Q=function It(e){return"function"==typeof e||"object"==typeof e&&e instanceof $}(t)&&Be(t);W=Q&&this.injectableDefInScope(Q)?U(ll(t),ol):null,this.records.set(t,W)}if(null!=W)return this.hydrate(t,W)}return(a&Ne.Self?_c():this.parent).get(t,n=a&Ne.Optional&&n===Mt?null:n)}catch(O){if("NullInjectorError"===O.name){if((O[Ht]=O[Ht]||[]).unshift(i(t)),g)throw O;return function wi(e,t,n,a){const g=e[Ht];throw t[Dn]&&g.unshift(t[Dn]),e.message=function Hi(e,t,n,a=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let g=i(t);if(Array.isArray(t))g=t.map(i).join(" -> ");else if("object"==typeof t){let A=[];for(let O in t)if(t.hasOwnProperty(O)){let W=t[O];A.push(O+":"+("string"==typeof W?JSON.stringify(W):i(W)))}g=`{${A.join(", ")}}`}return`${n}${a?"("+a+")":""}[${g}]: ${e.replace($n,"\n  ")}`}("\n"+e.message,g,n,a),e.ngTokenPath=g,e[Ht]=null,e}(O,t,"R3InjectorError",this.source)}throw O}finally{Ct(A),kn(g)}}resolveInjectorInitializers(){const t=kn(this),n=Ct(void 0);try{const a=this.get(Xc.multi,Rn,Ne.Self);for(const g of a)g()}finally{kn(t),Ct(n)}}toString(){const t=[],n=this.records;for(const a of n.keys())t.push(i(a));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(t){let n=va(t=p(t))?t:p(t&&t.provide);const a=function Ul(e){return Vu(e)?U(void 0,e.useValue):U(function Zc(e,t,n){let a;if(va(e)){const g=p(e);return Ds(g)||ll(g)}if(Vu(e))a=()=>p(e.useValue);else if(function Bh(e){return!(!e||!e.useFactory)}(e))a=()=>e.useFactory(...Oi(e.deps||[]));else if(function vc(e){return!(!e||!e.useExisting)}(e))a=()=>Bn(p(e.useExisting));else{const g=p(e&&(e.useClass||e.provide));if(!function xe(e){return!!e.deps}(e))return Ds(g)||ll(g);a=()=>new g(...Oi(e.deps))}return a}(e),ol)}(t);if(va(t)||!0!==t.multi)this.records.get(n);else{let g=this.records.get(n);g||(g=U(void 0,ol,!0),g.factory=()=>Oi(g.multi),this.records.set(n,g)),n=t,g.multi.push(t)}this.records.set(n,a)}hydrate(t,n){return n.value===ol&&(n.value=zu,n.value=n.factory()),"object"==typeof n.value&&n.value&&function vt(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=p(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function ll(e){const t=Be(e),n=null!==t?t.factory:Ds(e);if(null!==n)return n;if(e instanceof $)throw new C(204,!1);if(e instanceof Function)return function Wu(e){const t=e.length;if(t>0)throw function at(e,t){const n=[];for(let a=0;a<e;a++)n.push(t);return n}(t,"?"),new C(204,!1);const n=function Lt(e){const t=e&&(e[pt]||e[ze]);if(t){const n=function $e(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new C(204,!1)}function U(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function zt(e){return!!e.\u0275providers}function hn(e,t){for(const n of e)Array.isArray(n)?hn(n,t):zt(n)?hn(n.\u0275providers,t):t(n)}class qn{}class Xi{resolveComponentFactory(t){throw function ai(e){const t=Error(`No component factory found for ${i(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let yr=(()=>{class e{}return e.NULL=new Xi,e})();function jr(){return Pr(Xn(),tn())}function Pr(e,t){return new is(Zi(e,t))}let is=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=jr,e})();function Cs(e){return e instanceof is?e.nativeElement:e}class co{}let cl=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function jh(){const e=tn(),n=Tr(Xn().index,e);return(ls(n)?n:e)[11]}(),e})(),Gu=(()=>{class e{}return e.\u0275prov=je({token:e,providedIn:"root",factory:()=>null}),e})();class Qc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Jc=new Qc("14.2.10"),wc={};function Zo(e){return e.ngOriginalError}class Oo{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Zo(t);for(;n&&Zo(n);)n=Zo(n);return n||null}}const Wl=new Map;let Sc=0;const wa="__ngContext__";function Or(e,t){ls(t)?(e[wa]=t[20],function Ku(e){Wl.set(e[20],e)}(t)):e[wa]=t}function Jo(e){return e instanceof Function?e():e}var ea=(()=>((ea=ea||{})[ea.Important=1]="Important",ea[ea.DashCase=2]="DashCase",ea))();function Hd(e,t){return undefined(e,t)}function Qu(e){const t=e[3];return cs(t)?t[3]:t}function Ju(e){return su(e[13])}function eh(e){return su(e[4])}function su(e){for(;null!==e&&!cs(e);)e=e[4];return e}function ou(e,t,n,a,g){if(null!=a){let A,O=!1;cs(a)?A=a:ls(a)&&(O=!0,a=a[0]);const W=pr(a);0===e&&null!==n?null==g?th(t,n,W):xc(t,n,W,g||null,!0):1===e&&null!==n?xc(t,n,W,g||null,!0):2===e?function Yf(e,t,n){const a=rh(e,t);a&&function ih(e,t,n,a){e.removeChild(t,n,a)}(e,a,t,n)}(t,W,O):3===e&&t.destroyNode(W),null!=A&&function q(e,t,n,a,g){const A=n[7];A!==pr(n)&&ou(t,e,a,A,g);for(let W=10;W<n.length;W++){const Q=n[W];lu(Q[1],Q,e,t,a,A)}}(t,e,A,n,g)}}function zd(e,t,n){return e.createElement(t,n)}function pl(e,t){const n=e[9],a=n.indexOf(t),g=t[3];512&t[2]&&(t[2]&=-513,Go(g,-1)),n.splice(a,1)}function uo(e,t){if(e.length<=10)return;const n=10+t,a=e[n];if(a){const g=a[17];null!==g&&g!==e&&pl(g,a),t>0&&(e[n-1][4]=a[4]);const A=lt(e,10+t);!function zp(e,t){lu(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(a[1],a);const O=A[19];null!==O&&O.detachView(A[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function Vf(e,t){if(!(128&t[2])){const n=t[11];n.destroyNode&&lu(e,t,n,3,null,null),function fl(e){let t=e[13];if(!t)return Wd(e[1],e);for(;t;){let n=null;if(ls(t))n=t[13];else{const a=t[10];a&&(n=a)}if(!n){for(;t&&!t[4]&&t!==e;)ls(t)&&Wd(t[1],t),t=t[3];null===t&&(t=e),ls(t)&&Wd(t[1],t),n=t&&t[4]}t=n}}(t)}}function Wd(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function zf(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let a=0;a<n.length;a+=2){const g=t[n[a]];if(!(g instanceof Ia)){const A=n[a+1];if(Array.isArray(A))for(let O=0;O<A.length;O+=2){const W=g[A[O]],Q=A[O+1];try{Q.call(W)}finally{}}else try{A.call(g)}finally{}}}}(e,t),function Hf(e,t){const n=e.cleanup,a=t[7];let g=-1;if(null!==n)for(let A=0;A<n.length-1;A+=2)if("string"==typeof n[A]){const O=n[A+1],W="function"==typeof O?O(t):pr(t[O]),Q=a[g=n[A+2]],ce=n[A+3];"boolean"==typeof ce?W.removeEventListener(n[A],Q,ce):ce>=0?a[g=ce]():a[g=-ce].unsubscribe(),A+=2}else{const O=a[g=n[A+1]];n[A].call(O)}if(null!==a){for(let A=g+1;A<a.length;A++)(0,a[A])();t[7]=null}}(e,t),1===t[1].type&&t[11].destroy();const n=t[17];if(null!==n&&cs(t[3])){n!==t[3]&&pl(n,t);const a=t[19];null!==a&&a.detachView(e)}!function dl(e){Wl.delete(e[20])}(t)}}function Gd(e,t,n){return function $d(e,t,n){let a=t;for(;null!==a&&40&a.type;)a=(t=a).parent;if(null===a)return n[0];if(2&a.flags){const g=e.data[a.directiveStart].encapsulation;if(g===st.None||g===st.Emulated)return null}return Zi(a,n)}(e,t.parent,n)}function xc(e,t,n,a,g){e.insertBefore(t,n,a,g)}function th(e,t,n){e.appendChild(t,n)}function nh(e,t,n,a,g){null!==a?xc(e,t,n,a,g):th(e,t,n)}function rh(e,t){return e.parentNode(t)}let $f=function Gf(e,t,n){return 40&e.type?Zi(e,n):null};function Kh(e,t,n,a){const g=Gd(e,a,t),A=t[11],W=function qd(e,t,n){return $f(e,t,n)}(a.parent||t[6],a,t);if(null!=g)if(Array.isArray(n))for(let Q=0;Q<n.length;Q++)nh(A,g,n[Q],W,!1);else nh(A,g,n,W,!1)}function Zh(e,t){if(null!==t){const n=t.type;if(3&n)return Zi(t,e);if(4&n)return au(-1,e[t.index]);if(8&n){const a=t.child;if(null!==a)return Zh(e,a);{const g=e[t.index];return cs(g)?au(-1,g):pr(g)}}if(32&n)return Hd(t,e)()||pr(e[t.index]);{const a=Xd(e,t);return null!==a?Array.isArray(a)?a[0]:Zh(Qu(e[16]),a):Zh(e,t.next)}}return null}function Xd(e,t){return null!==t?e[16][6].projection[t.projection]:null}function au(e,t){const n=10+e+1;if(n<t.length){const a=t[n],g=a[1].firstChild;if(null!==g)return Zh(a,g)}return t[7]}function Kd(e,t,n,a,g,A,O){for(;null!=n;){const W=a[n.index],Q=n.type;if(O&&0===t&&(W&&Or(pr(W),a),n.flags|=4),64!=(64&n.flags))if(8&Q)Kd(e,t,n.child,a,g,A,!1),ou(t,e,g,W,A);else if(32&Q){const ce=Hd(n,a);let Ie;for(;Ie=ce();)ou(t,e,g,Ie,A);ou(t,e,g,W,A)}else 16&Q?M(e,t,a,n,g,A):ou(t,e,g,W,A);n=O?n.projectionNext:n.next}}function lu(e,t,n,a,g,A){Kd(n,a,e.firstChild,t,g,A,!1)}function M(e,t,n,a,g,A){const O=n[16],Q=O[6].projection[a.projection];if(Array.isArray(Q))for(let ce=0;ce<Q.length;ce++)ou(t,e,g,Q[ce],A);else Kd(e,t,Q,O[3],g,A,!0)}function Se(e,t,n){e.setAttribute(t,"style",n)}function Me(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Oe(e,t,n){let a=e.length;for(;;){const g=e.indexOf(t,n);if(-1===g)return g;if(0===g||e.charCodeAt(g-1)<=32){const A=t.length;if(g+A===a||e.charCodeAt(g+A)<=32)return g}n=g+1}}const qe="ng-template";function ut(e,t,n){let a=0;for(;a<e.length;){let g=e[a++];if(n&&"class"===g){if(g=e[a],-1!==Oe(g.toLowerCase(),t,0))return!0}else if(1===g){for(;a<e.length&&"string"==typeof(g=e[a++]);)if(g.toLowerCase()===t)return!0;return!1}}return!1}function Ft(e){return 4===e.type&&e.value!==qe}function Zt(e,t,n){return t===(4!==e.type||n?e.value:qe)}function Qt(e,t,n){let a=4;const g=e.attrs||[],A=function Ut(e){for(let t=0;t<e.length;t++)if(Ja(e[t]))return t;return e.length}(g);let O=!1;for(let W=0;W<t.length;W++){const Q=t[W];if("number"!=typeof Q){if(!O)if(4&a){if(a=2|1&a,""!==Q&&!Zt(e,Q,n)||""===Q&&1===t.length){if(jt(a))return!1;O=!0}}else{const ce=8&a?Q:t[++W];if(8&a&&null!==e.attrs){if(!ut(e.attrs,ce,n)){if(jt(a))return!1;O=!0}continue}const ct=An(8&a?"class":Q,g,Ft(e),n);if(-1===ct){if(jt(a))return!1;O=!0;continue}if(""!==ce){let Ot;Ot=ct>A?"":g[ct+1].toLowerCase();const $t=8&a?Ot:null;if($t&&-1!==Oe($t,ce,0)||2&a&&ce!==Ot){if(jt(a))return!1;O=!0}}}}else{if(!O&&!jt(a)&&!jt(Q))return!1;if(O&&jt(Q))continue;O=!1,a=Q|1&a}}return jt(a)||O}function jt(e){return 0==(1&e)}function An(e,t,n,a){if(null===t)return-1;let g=0;if(a||!n){let A=!1;for(;g<t.length;){const O=t[g];if(O===e)return g;if(3===O||6===O)A=!0;else{if(1===O||2===O){let W=t[++g];for(;"string"==typeof W;)W=t[++g];continue}if(4===O)break;if(0===O){g+=4;continue}}g+=A?1:2}return-1}return function Cn(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const a=e[n];if("number"==typeof a)return-1;if(a===t)return n;n++}return-1}(t,e)}function an(e,t,n=!1){for(let a=0;a<t.length;a++)if(Qt(e,t[a],n))return!0;return!1}function Sn(e,t){return e?":not("+t.trim()+")":t}function Yn(e){let t=e[0],n=1,a=2,g="",A=!1;for(;n<e.length;){let O=e[n];if("string"==typeof O)if(2&a){const W=e[++n];g+="["+O+(W.length>0?'="'+W+'"':"")+"]"}else 8&a?g+="."+O:4&a&&(g+=" "+O);else""!==g&&!jt(O)&&(t+=Sn(A,g),g=""),a=O,A=A||!jt(a);n++}return""!==g&&(t+=Sn(A,g)),t}const wn={};function tr(e){or(Ei(),tn(),si()+e,!1)}function or(e,t,n,a){if(!a)if(3==(3&t[2])){const A=e.preOrderCheckHooks;null!==A&&Bs(t,A,n)}else{const A=e.preOrderHooks;null!==A&&zs(t,A,0,n)}mi(n)}function ar(e,t=null,n=null,a){const g=fo(e,t,n,a);return g.resolveInjectorInitializers(),g}function fo(e,t=null,n=null,a,g=new Set){const A=[n||Rn,jl(e)];return a=a||("object"==typeof e?void 0:i(e)),new bc(A,t||_c(),a||null,g)}let fs=(()=>{class e{static create(n,a){if(Array.isArray(n))return ar({name:""},a,n,"");{const g=n.name??"";return ar({name:g},n.parent,n.providers,g)}}}return e.THROW_IF_NOT_FOUND=Mt,e.NULL=new ja,e.\u0275prov=je({token:e,providedIn:"any",factory:()=>Bn(ju)}),e.__NG_ELEMENT_ID__=-1,e})();function hu(e,t=Ne.Default){const n=tn();return null===n?Bn(e,t):yh(Xn(),n,p(e),t)}function Zf(){throw new Error("invalid")}function lh(e,t){return e<<17|t<<2}function po(e){return e>>17&32767}function du(e){return 2|e}function Aa(e){return(131068&e)>>2}function Oc(e,t){return-131069&e|t<<2}function rf(e){return 1|e}function Fm(e,t){const n=e.contentQueries;if(null!==n)for(let a=0;a<n.length;a+=2){const g=n[a],A=n[a+1];if(-1!==A){const O=e.data[A];Qa(g),O.contentQueries(2,t[A],A)}}}function ap(e,t,n,a,g,A,O,W,Q,ce,Ie){const ct=t.blueprint.slice();return ct[0]=g,ct[2]=76|a,(null!==Ie||e&&1024&e[2])&&(ct[2]|=1024),Fr(ct),ct[3]=ct[15]=e,ct[8]=n,ct[10]=O||e&&e[10],ct[11]=W||e&&e[11],ct[12]=Q||e&&e[12]||null,ct[9]=ce||e&&e[9]||null,ct[6]=A,ct[20]=function Gl(){return Sc++}(),ct[21]=Ie,ct[16]=2==t.type?e[16]:ct,ct}function rd(e,t,n,a,g){let A=e.data[t];if(null===A)A=function Qp(e,t,n,a,g){const A=Ms(),O=zr(),Q=e.data[t]=function k1(e,t,n,a,g,A){return{type:n,index:a,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:A,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,O?A:A&&A.parent,n,t,a,g);return null===e.firstChild&&(e.firstChild=Q),null!==A&&(O?null==A.child&&null!==Q.parent&&(A.child=Q):null===A.next&&(A.next=Q)),Q}(e,t,n,a,g),function rc(){return hi.lFrame.inI18n}()&&(A.flags|=64);else if(64&A.type){A.type=n,A.value=a,A.attrs=g;const O=function lr(){const e=hi.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();A.injectorIndex=null===O?-1:O.injectorIndex}return ys(A,!0),A}function sd(e,t,n,a){if(0===n)return-1;const g=t.length;for(let A=0;A<n;A++)t.push(a),e.blueprint.push(a),e.data.push(null);return g}function Jp(e,t,n){ve(t);try{const a=e.viewQuery;null!==a&&ag(1,a,n);const g=e.template;null!==g&&Rm(e,t,g,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Fm(e,t),e.staticViewQueries&&ag(2,e.viewQuery,n);const A=e.components;null!==A&&function L1(e,t){for(let n=0;n<t.length;n++)K1(e,t[n])}(t,A)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),a}finally{t[2]&=-5,_n()}}function lp(e,t,n,a){const g=t[2];if(128!=(128&g)){ve(t);try{Fr(t),function ic(e){return hi.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Rm(e,t,n,2,a);const O=3==(3&g);if(O){const ce=e.preOrderCheckHooks;null!==ce&&Bs(t,ce,null)}else{const ce=e.preOrderHooks;null!==ce&&zs(t,ce,0,null),Ws(t,0)}if(function Y1(e){for(let t=Ju(e);null!==t;t=eh(t)){if(!t[2])continue;const n=t[9];for(let a=0;a<n.length;a++){const g=n[a],A=g[3];0==(512&g[2])&&Go(A,1),g[2]|=512}}}(t),function q1(e){for(let t=Ju(e);null!==t;t=eh(t))for(let n=10;n<t.length;n++){const a=t[n],g=a[1];Wo(a)&&lp(g,a,g.template,a[8])}}(t),null!==e.contentQueries&&Fm(e,t),O){const ce=e.contentCheckHooks;null!==ce&&Bs(t,ce)}else{const ce=e.contentHooks;null!==ce&&zs(t,ce,1),Ws(t,1)}!function T1(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let a=0;a<n.length;a++){const g=n[a];if(g<0)mi(~g);else{const A=g,O=n[++a],W=n[++a];Uc(O,A),W(2,t[A])}}}finally{mi(-1)}}(e,t);const W=e.components;null!==W&&function M1(e,t){for(let n=0;n<t.length;n++)X1(e,t[n])}(t,W);const Q=e.viewQuery;if(null!==Q&&ag(2,Q,a),O){const ce=e.viewCheckHooks;null!==ce&&Bs(t,ce)}else{const ce=e.viewHooks;null!==ce&&zs(t,ce,2),Ws(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,Go(t[3],-1))}finally{_n()}}}function Rm(e,t,n,a,g){const A=si(),O=2&a;try{mi(-1),O&&t.length>22&&or(e,t,22,!1),n(a,g)}finally{mi(A)}}function Nm(e,t,n){if(yo(t)){const g=t.directiveEnd;for(let A=t.directiveStart;A<g;A++){const O=e.data[A];O.contentQueries&&O.contentQueries(1,n[A],A)}}}function eg(e,t,n){!Co()||(function j1(e,t,n,a){const g=n.directiveStart,A=n.directiveEnd;e.firstCreatePass||el(n,t),Or(a,t);const O=n.initialInputs;for(let W=g;W<A;W++){const Q=e.data[W],ce=Es(Q);ce&&W1(t,n,Q);const Ie=tl(t,e,W,n);Or(Ie,t),null!==O&&G1(0,W-g,Ie,Q,0,O),ce&&(Tr(n.index,t)[8]=Ie)}}(e,t,n,Zi(n,t)),128==(128&n.flags)&&function U1(e,t,n){const a=n.directiveStart,g=n.directiveEnd,A=n.index,O=function oc(){return hi.lFrame.currentDirectiveIndex}();try{mi(A);for(let W=a;W<g;W++){const Q=e.data[W],ce=t[W];Yo(W),(null!==Q.hostBindings||0!==Q.hostVars||null!==Q.hostAttrs)&&Wm(Q,ce)}}finally{mi(-1),Yo(O)}}(e,t,n))}function tg(e,t,n=Zi){const a=t.localNames;if(null!==a){let g=t.index+1;for(let A=0;A<a.length;A+=2){const O=a[A+1],W=-1===O?n(t,e):e[O];e[g++]=W}}}function Bm(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=ng(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function ng(e,t,n,a,g,A,O,W,Q,ce){const Ie=22+a,ct=Ie+g,Ot=function O1(e,t){const n=[];for(let a=0;a<t;a++)n.push(a<e?null:wn);return n}(Ie,ct),$t="function"==typeof ce?ce():ce;return Ot[1]={type:e,blueprint:Ot,template:n,queries:null,viewQuery:W,declTNode:t,data:Ot.slice().fill(null,Ie),bindingStartIndex:Ie,expandoStartIndex:ct,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof A?A():A,pipeRegistry:"function"==typeof O?O():O,firstChild:null,schemas:Q,consts:$t,incompleteFirstPass:!1}}function jm(e,t,n,a){const g=Xm(t);null===n?g.push(a):(g.push(n),e.firstCreatePass&&Km(e).push(a,g.length-1))}function Um(e,t,n){for(let a in e)if(e.hasOwnProperty(a)){const g=e[a];(n=null===n?{}:n).hasOwnProperty(a)?n[a].push(t,g):n[a]=[t,g]}return n}function Vm(e,t){const a=t.directiveEnd,g=e.data,A=t.attrs,O=[];let W=null,Q=null;for(let ce=t.directiveStart;ce<a;ce++){const Ie=g[ce],ct=Ie.inputs,Ot=null===A||Ft(t)?null:$1(ct,A);O.push(Ot),W=Um(ct,ce,W),Q=Um(Ie.outputs,ce,Q)}null!==W&&(W.hasOwnProperty("class")&&(t.flags|=16),W.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=O,t.inputs=W,t.outputs=Q}function Hm(e,t){const n=Tr(t,e);16&n[2]||(n[2]|=32)}function ig(e,t,n,a){let g=!1;if(Co()){const A=function V1(e,t,n){const a=e.directiveRegistry;let g=null;if(a)for(let A=0;A<a.length;A++){const O=a[A];an(n,O.selectors,!1)&&(g||(g=[]),Au(el(n,t),e,O.type),Es(O)?(Gm(e,n),g.unshift(O)):g.push(O))}return g}(e,t,n),O=null===a?null:{"":-1};if(null!==A){g=!0,$m(n,e.data.length,A.length);for(let Ie=0;Ie<A.length;Ie++){const ct=A[Ie];ct.providersResolver&&ct.providersResolver(ct)}let W=!1,Q=!1,ce=sd(e,t,A.length,null);for(let Ie=0;Ie<A.length;Ie++){const ct=A[Ie];n.mergedAttrs=X(n.mergedAttrs,ct.hostAttrs),qm(e,n,t,ce,ct),z1(ce,ct,O),null!==ct.contentQueries&&(n.flags|=8),(null!==ct.hostBindings||null!==ct.hostAttrs||0!==ct.hostVars)&&(n.flags|=128);const Ot=ct.type.prototype;!W&&(Ot.ngOnChanges||Ot.ngOnInit||Ot.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),W=!0),!Q&&(Ot.ngOnChanges||Ot.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),Q=!0),ce++}Vm(e,n)}O&&function H1(e,t,n){if(t){const a=e.localNames=[];for(let g=0;g<t.length;g+=2){const A=n[t[g+1]];if(null==A)throw new C(-301,!1);a.push(t[g],A)}}}(n,a,O)}return n.mergedAttrs=X(n.mergedAttrs,n.attrs),g}function zm(e,t,n,a,g,A){const O=A.hostBindings;if(O){let W=e.hostBindingOpCodes;null===W&&(W=e.hostBindingOpCodes=[]);const Q=~t.index;(function B1(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(W)!=Q&&W.push(Q),W.push(a,g,O)}}function Wm(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Gm(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function z1(e,t,n){if(n){if(t.exportAs)for(let a=0;a<t.exportAs.length;a++)n[t.exportAs[a]]=e;Es(t)&&(n[""]=e)}}function $m(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function qm(e,t,n,a,g){e.data[a]=g;const A=g.factory||(g.factory=Ds(g.type)),O=new Ia(A,Es(g),hu);e.blueprint[a]=O,n[a]=O,zm(e,t,0,a,sd(e,n,g.hostVars,wn),g)}function W1(e,t,n){const a=Zi(t,e),g=Bm(n),A=e[10],O=cp(e,ap(e,g,null,n.onPush?32:16,a,t,A,A.createRenderer(a,n),null,null,null));e[t.index]=O}function Kl(e,t,n,a,g,A){const O=Zi(e,t);!function rg(e,t,n,a,g,A,O){if(null==A)e.removeAttribute(t,g,n);else{const W=null==O?k(A):O(A,a||"",g);e.setAttribute(t,g,W,n)}}(t[11],O,A,e.value,n,a,g)}function G1(e,t,n,a,g,A){const O=A[t];if(null!==O){const W=a.setInput;for(let Q=0;Q<O.length;){const ce=O[Q++],Ie=O[Q++],ct=O[Q++];null!==W?a.setInput(n,ct,ce,Ie):n[Ie]=ct}}}function $1(e,t){let n=null,a=0;for(;a<t.length;){const g=t[a];if(0!==g)if(5!==g){if("number"==typeof g)break;e.hasOwnProperty(g)&&(null===n&&(n=[]),n.push(g,e[g],t[a+1])),a+=2}else a+=2;else a+=4}return n}function Ym(e,t,n,a){return new Array(e,!0,!1,t,null,0,a,n,null,null)}function X1(e,t){const n=Tr(t,e);if(Wo(n)){const a=n[1];48&n[2]?lp(a,n,a.template,n[8]):n[5]>0&&sg(n)}}function sg(e){for(let a=Ju(e);null!==a;a=eh(a))for(let g=10;g<a.length;g++){const A=a[g];if(Wo(A))if(512&A[2]){const O=A[1];lp(O,A,O.template,A[8])}else A[5]>0&&sg(A)}const n=e[1].components;if(null!==n)for(let a=0;a<n.length;a++){const g=Tr(n[a],e);Wo(g)&&g[5]>0&&sg(g)}}function K1(e,t){const n=Tr(t,e),a=n[1];(function Z1(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(a,n),Jp(a,n,n[8])}function cp(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function og(e){for(;e;){e[2]|=32;const t=Qu(e);if(Rs(e)&&!t)return e;e=t}return null}function up(e,t,n,a=!0){const g=t[10];g.begin&&g.begin();try{lp(e,t,e.template,n)}catch(O){throw a&&Qm(t,O),O}finally{g.end&&g.end()}}function ag(e,t,n){Qa(0),t(e,n)}function Xm(e){return e[7]||(e[7]=[])}function Km(e){return e.cleanup||(e.cleanup=[])}function Qm(e,t){const n=e[9],a=n?n.get(Oo,null):null;a&&a.handleError(t)}function lg(e,t,n,a,g){for(let A=0;A<n.length;){const O=n[A++],W=n[A++],Q=t[O],ce=e.data[O];null!==ce.setInput?ce.setInput(Q,g,a,W):Q[W]=g}}function Ic(e,t,n){const a=Mi(t,e);!function jf(e,t,n){e.setValue(t,n)}(e[11],a,n)}function hp(e,t,n){let a=n?e.styles:null,g=n?e.classes:null,A=0;if(null!==t)for(let O=0;O<t.length;O++){const W=t[O];"number"==typeof W?A=W:1==A?g=s(g,W):2==A&&(a=s(a,W+": "+t[++O]+";"))}n?e.styles=a:e.stylesWithoutHost=a,n?e.classes=g:e.classesWithoutHost=g}function dp(e,t,n,a,g=!1){for(;null!==n;){const A=t[n.index];if(null!==A&&a.push(pr(A)),cs(A))for(let W=10;W<A.length;W++){const Q=A[W],ce=Q[1].firstChild;null!==ce&&dp(Q[1],Q,ce,a)}const O=n.type;if(8&O)dp(e,t,n.child,a);else if(32&O){const W=Hd(n,t);let Q;for(;Q=W();)a.push(Q)}else if(16&O){const W=Xd(t,n);if(Array.isArray(W))a.push(...W);else{const Q=Qu(t[16]);dp(Q[1],Q,W,a,!0)}}n=g?n.projectionNext:n.next}return a}class hf{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return dp(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(cs(t)){const n=t[8],a=n?n.indexOf(this):-1;a>-1&&(uo(t,a),lt(n,a))}this._attachedToViewContainer=!1}Vf(this._lView[1],this._lView)}onDestroy(t){jm(this._lView[1],this._lView,null,t)}markForCheck(){og(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){up(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ca(e,t){lu(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=t}}class Q1 extends hf{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;up(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class cg extends yr{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Ni(t);return new df(n,this.ngModule)}}function Jm(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class e_{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,a){const g=this.injector.get(t,wc,a);return g!==wc||n===wc?g:this.parentInjector.get(t,n,a)}}class df extends qn{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function jn(e){return e.map(Yn).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Jm(this.componentDef.inputs)}get outputs(){return Jm(this.componentDef.outputs)}create(t,n,a,g){let A=(g=g||this.ngModule)instanceof al?g:g?.injector;A&&null!==this.componentDef.getStandaloneInjector&&(A=this.componentDef.getStandaloneInjector(A)||A);const O=A?new e_(t,A):t,W=O.get(co,null);if(null===W)throw new C(407,!1);const Q=O.get(Gu,null),ce=W.createRenderer(null,this.componentDef),Ie=this.componentDef.selectors[0][0]||"div",ct=a?function I1(e,t,n){return e.selectRootElement(t,n===st.ShadowDom)}(ce,a,this.componentDef.encapsulation):zd(ce,Ie,function J1(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(Ie)),Ot=this.componentDef.onPush?288:272,$t=ng(0,null,null,1,0,null,null,null,null,null),yn=ap(null,$t,null,Ot,null,null,W,ce,Q,O,null);let In,Hn;ve(yn);try{const ei=function i_(e,t,n,a,g,A){const O=n[1];n[22]=e;const Q=rd(O,22,2,"#host",null),ce=Q.mergedAttrs=t.hostAttrs;null!==ce&&(hp(Q,ce,!0),null!==e&&(Ao(g,e,ce),null!==Q.classes&&Me(g,e,Q.classes),null!==Q.styles&&Se(g,e,Q.styles)));const Ie=a.createRenderer(e,t),ct=ap(n,Bm(t),null,t.onPush?32:16,n[22],Q,a,Ie,A||null,null,null);return O.firstCreatePass&&(Au(el(Q,n),O,t.type),Gm(O,Q),$m(Q,n.length,1)),cp(n,ct),n[22]=ct}(ct,this.componentDef,yn,W,ce);if(ct)if(a)Ao(ce,ct,["ng-version",Jc.full]);else{const{attrs:ui,classes:Pn}=function ci(e){const t=[],n=[];let a=1,g=2;for(;a<e.length;){let A=e[a];if("string"==typeof A)2===g?""!==A&&t.push(A,e[++a]):8===g&&n.push(A);else{if(!jt(g))break;g=A}a++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);ui&&Ao(ce,ct,ui),Pn&&Pn.length>0&&Me(ce,ct,Pn.join(" "))}if(Hn=Da($t,22),void 0!==n){const ui=Hn.projection=[];for(let Pn=0;Pn<this.ngContentSelectors.length;Pn++){const yi=n[Pn];ui.push(null!=yi?Array.from(yi):null)}}In=function r_(e,t,n,a){const g=n[1],A=function N1(e,t,n){const a=Xn();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),qm(e,a,t,sd(e,t,1,null),n),Vm(e,a));const g=tl(t,e,a.directiveStart,a);Or(g,t);const A=Zi(a,t);return A&&Or(A,t),g}(g,n,t);if(e[8]=n[8]=A,null!==a)for(const W of a)W(A,t);if(t.contentQueries){const W=Xn();t.contentQueries(1,A,W.directiveStart)}const O=Xn();return!g.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(mi(O.index),zm(n[1],O,0,O.directiveStart,O.directiveEnd,t),Wm(t,A)),A}(ei,this.componentDef,yn,[s_]),Jp($t,yn,null)}finally{_n()}return new n_(this.componentType,In,Pr(Hn,yn),yn,Hn)}}class n_ extends class Mn{}{constructor(t,n,a,g,A){super(),this.location=a,this._rootLView=g,this._tNode=A,this.instance=n,this.hostView=this.changeDetectorRef=new Q1(g),this.componentType=t}setInput(t,n){const a=this._tNode.inputs;let g;if(null!==a&&(g=a[t])){const A=this._rootLView;lg(A[1],A,g,t,n),Hm(A,this._tNode.index)}}get injector(){return new Ll(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function s_(){const e=Xn();es(tn()[1],e)}function ug(e){let t=function e0(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const a=[e];for(;t;){let g;if(Es(e))g=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new C(903,!1);g=t.\u0275dir}if(g){if(n){a.push(g);const O=e;O.inputs=hg(e.inputs),O.declaredInputs=hg(e.declaredInputs),O.outputs=hg(e.outputs);const W=g.hostBindings;W&&c_(e,W);const Q=g.viewQuery,ce=g.contentQueries;if(Q&&a_(e,Q),ce&&l_(e,ce),o(e.inputs,g.inputs),o(e.declaredInputs,g.declaredInputs),o(e.outputs,g.outputs),Es(g)&&g.data.animation){const Ie=e.data;Ie.animation=(Ie.animation||[]).concat(g.data.animation)}}const A=g.features;if(A)for(let O=0;O<A.length;O++){const W=A[O];W&&W.ngInherit&&W(e),W===ug&&(n=!1)}}t=Object.getPrototypeOf(t)}!function o_(e){let t=0,n=null;for(let a=e.length-1;a>=0;a--){const g=e[a];g.hostVars=t+=g.hostVars,g.hostAttrs=X(g.hostAttrs,n=X(n,g.hostAttrs))}}(a)}function hg(e){return e===fn?{}:e===Rn?[]:e}function a_(e,t){const n=e.viewQuery;e.viewQuery=n?(a,g)=>{t(a,g),n(a,g)}:t}function l_(e,t){const n=e.contentQueries;e.contentQueries=n?(a,g,A)=>{t(a,g,A),n(a,g,A)}:t}function c_(e,t){const n=e.hostBindings;e.hostBindings=n?(a,g)=>{t(a,g),n(a,g)}:t}let fp=null;function hh(){if(!fp){const e=Bt.Symbol;if(e&&e.iterator)fp=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const a=t[n];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(fp=a)}}}return fp}function ff(e){return!!dg(e)&&(Array.isArray(e)||!(e instanceof Map)&&hh()in e)}function dg(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function go(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function fg(e,t,n,a){const g=tn();return go(g,So(),t)&&(Ei(),Kl(Zn(),g,e,t,n,a)),fg}function ld(e,t,n,a,g,A){const W=function dh(e,t,n,a){const g=go(e,t,n);return go(e,t+1,a)||g}(e,function eo(){return hi.lFrame.bindingIndex}(),n,g);return _s(2),W?t+k(n)+a+k(g)+A:wn}function h0(e,t,n,a,g,A,O,W){const Q=tn(),ce=Ei(),Ie=e+22,ct=ce.firstCreatePass?function v_(e,t,n,a,g,A,O,W,Q){const ce=t.consts,Ie=rd(t,e,4,O||null,Js(ce,W));ig(t,n,Ie,Js(ce,Q)),es(t,Ie);const ct=Ie.tViews=ng(2,Ie,a,g,A,t.directiveRegistry,t.pipeRegistry,null,t.schemas,ce);return null!==t.queries&&(t.queries.template(t,Ie),ct.queries=t.queries.embeddedTView(Ie)),Ie}(Ie,ce,Q,t,n,a,g,A,O):ce.data[Ie];ys(ct,!1);const Ot=Q[11].createComment("");Kh(ce,Q,Ot,ct),Or(Ot,Q),cp(Q,Q[Ie]=Ym(Ot,Q,Ot,ct)),$a(ct)&&eg(ce,Q,ct),null!=O&&tg(Q,ct,W)}function d0(e){return zo(function xl(){return hi.lFrame.contextLView}(),22+e)}function pg(e,t,n){const a=tn();return go(a,So(),t)&&function Pa(e,t,n,a,g,A,O,W){const Q=Zi(t,n);let Ie,ce=t.inputs;!W&&null!=ce&&(Ie=ce[a])?(lg(e,n,Ie,a,g),us(t)&&Hm(n,t.index)):3&t.type&&(a=function F1(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(a),g=null!=O?O(g,t.value||"",a):g,A.setProperty(Q,a,g))}(Ei(),Zn(),a,e,t,a[11],n,!1),pg}function gg(e,t,n,a,g){const O=g?"class":"style";lg(e,n,t.inputs[O],O,a)}function gp(e,t,n,a){const g=tn(),A=Ei(),O=22+e,W=g[11],Q=g[O]=zd(W,t,function Mr(){return hi.lFrame.currentNamespace}()),ce=A.firstCreatePass?function __(e,t,n,a,g,A,O){const W=t.consts,ce=rd(t,e,2,g,Js(W,A));return ig(t,n,ce,Js(W,O)),null!==ce.attrs&&hp(ce,ce.attrs,!1),null!==ce.mergedAttrs&&hp(ce,ce.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,ce),ce}(O,A,g,0,t,n,a):A.data[O];ys(ce,!0);const Ie=ce.mergedAttrs;null!==Ie&&Ao(W,Q,Ie);const ct=ce.classes;null!==ct&&Me(W,Q,ct);const Ot=ce.styles;return null!==Ot&&Se(W,Q,Ot),64!=(64&ce.flags)&&Kh(A,g,Q,ce),0===function nc(){return hi.lFrame.elementDepthCount}()&&Or(Q,g),function la(){hi.lFrame.elementDepthCount++}(),$a(ce)&&(eg(A,g,ce),Nm(A,ce,g)),null!==a&&tg(g,ce),gp}function mp(){let e=Xn();zr()?Jr():(e=e.parent,ys(e,!1));const t=e;!function Al(){hi.lFrame.elementDepthCount--}();const n=Ei();return n.firstCreatePass&&(es(n,e),yo(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function ua(e){return 0!=(16&e.flags)}(t)&&gg(n,t,tn(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Vc(e){return 0!=(32&e.flags)}(t)&&gg(n,t,tn(),t.stylesWithoutHost,!1),mp}function mg(e,t,n,a){return gp(e,t,n,a),mp(),mg}function vp(e,t,n){const a=tn(),g=Ei(),A=e+22,O=g.firstCreatePass?function b_(e,t,n,a,g){const A=t.consts,O=Js(A,a),W=rd(t,e,8,"ng-container",O);return null!==O&&hp(W,O,!0),ig(t,n,W,Js(A,g)),null!==t.queries&&t.queries.elementStart(t,W),W}(A,g,a,t,n):g.data[A];ys(O,!0);const W=a[A]=a[11].createComment("");return Kh(g,a,W,O),Or(W,a),$a(O)&&(eg(g,a,O),Nm(g,O,a)),null!=n&&tg(a,O),vp}function yp(){let e=Xn();const t=Ei();return zr()?Jr():(e=e.parent,ys(e,!1)),t.firstCreatePass&&(es(t,e),yo(e)&&t.queries.elementEnd(e)),yp}function vg(e,t,n){return vp(e,t,n),yp(),vg}function f0(){return tn()}function yg(e){return!!e&&"function"==typeof e.then}function p0(e){return!!e&&"function"==typeof e.subscribe}const g0=p0;function _g(e,t,n,a){const g=tn(),A=Ei(),O=Xn();return function v0(e,t,n,a,g,A,O,W){const Q=$a(a),Ie=e.firstCreatePass&&Km(e),ct=t[8],Ot=Xm(t);let $t=!0;if(3&a.type||W){const Hn=Zi(a,t),ei=W?W(Hn):Hn,ui=Ot.length,Pn=W?hr=>W(pr(hr[a.index])):a.index;let yi=null;if(!W&&Q&&(yi=function w_(e,t,n,a){const g=e.cleanup;if(null!=g)for(let A=0;A<g.length-1;A+=2){const O=g[A];if(O===n&&g[A+1]===a){const W=t[7],Q=g[A+2];return W.length>Q?W[Q]:null}"string"==typeof O&&(A+=2)}return null}(e,t,g,a.index)),null!==yi)(yi.__ngLastListenerFn__||yi).__ngNextListenerFn__=A,yi.__ngLastListenerFn__=A,$t=!1;else{A=_0(a,t,ct,A,!1);const hr=n.listen(ei,g,A);Ot.push(A,hr),Ie&&Ie.push(g,Pn,ui,ui+1)}}else A=_0(a,t,ct,A,!1);const yn=a.outputs;let In;if($t&&null!==yn&&(In=yn[g])){const Hn=In.length;if(Hn)for(let ei=0;ei<Hn;ei+=2){const Vr=t[In[ei]][In[ei+1]].subscribe(A),gh=Ot.length;Ot.push(A,Vr),Ie&&Ie.push(g,a.index,gh,-(gh+1))}}}(A,g,g[11],O,e,t,0,a),_g}function y0(e,t,n,a){try{return!1!==n(a)}catch(g){return Qm(e,g),!1}}function _0(e,t,n,a,g){return function A(O){if(O===Function)return a;og(2&e.flags?Tr(e.index,t):t);let Q=y0(t,0,a,O),ce=A.__ngNextListenerFn__;for(;ce;)Q=y0(t,0,ce,O)&&Q,ce=ce.__ngNextListenerFn__;return g&&!1===Q&&(O.preventDefault(),O.returnValue=!1),Q}}function b0(e=1){return function Un(e){return(hi.lFrame.contextLView=function ki(e,t){for(;e>0;)t=t[15],e--;return t}(e,hi.lFrame.contextLView))[8]}(e)}function M0(e,t,n,a,g){const A=e[n+1],O=null===t;let W=a?po(A):Aa(A),Q=!1;for(;0!==W&&(!1===Q||O);){const Ie=e[W+1];E_(e[W],t)&&(Q=!0,e[W+1]=a?rf(Ie):du(Ie)),W=a?po(Ie):Aa(Ie)}Q&&(e[n+1]=a?du(A):rf(A))}function E_(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Nn(e,t)>=0}function wg(e,t,n){return vl(e,t,n,!1),wg}function Cg(e,t){return vl(e,t,null,!0),Cg}function vl(e,t,n,a){const g=tn(),A=Ei(),O=_s(2);A.firstUpdatePass&&function B0(e,t,n,a){const g=e.data;if(null===g[n+1]){const A=g[si()],O=function N0(e,t){return t>=e.expandoStartIndex}(e,n);(function H0(e,t){return 0!=(e.flags&(t?16:32))})(A,a)&&null===t&&!O&&(t=!1),t=function R_(e,t,n,a){const g=function to(e){const t=hi.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let A=a?t.residualClasses:t.residualStyles;if(null===g)0===(a?t.classBindings:t.styleBindings)&&(n=gf(n=Sg(null,e,t,n,a),t.attrs,a),A=null);else{const O=t.directiveStylingLast;if(-1===O||e[O]!==g)if(n=Sg(g,e,t,n,a),null===A){let Q=function N_(e,t,n){const a=n?t.classBindings:t.styleBindings;if(0!==Aa(a))return e[po(a)]}(e,t,a);void 0!==Q&&Array.isArray(Q)&&(Q=Sg(null,e,t,Q[1],a),Q=gf(Q,t.attrs,a),function B_(e,t,n,a){e[po(n?t.classBindings:t.styleBindings)]=a}(e,t,a,Q))}else A=function j_(e,t,n){let a;const g=t.directiveEnd;for(let A=1+t.directiveStylingLast;A<g;A++)a=gf(a,e[A].hostAttrs,n);return gf(a,t.attrs,n)}(e,t,a)}return void 0!==A&&(a?t.residualClasses=A:t.residualStyles=A),n}(g,A,t,a),function x_(e,t,n,a,g,A){let O=A?t.classBindings:t.styleBindings,W=po(O),Q=Aa(O);e[a]=n;let Ie,ce=!1;if(Array.isArray(n)){const ct=n;Ie=ct[1],(null===Ie||Nn(ct,Ie)>0)&&(ce=!0)}else Ie=n;if(g)if(0!==Q){const Ot=po(e[W+1]);e[a+1]=lh(Ot,W),0!==Ot&&(e[Ot+1]=Oc(e[Ot+1],a)),e[W+1]=function Jf(e,t){return 131071&e|t<<17}(e[W+1],a)}else e[a+1]=lh(W,0),0!==W&&(e[W+1]=Oc(e[W+1],a)),W=a;else e[a+1]=lh(Q,0),0===W?W=a:e[Q+1]=Oc(e[Q+1],a),Q=a;ce&&(e[a+1]=du(e[a+1])),M0(e,Ie,a,!0),M0(e,Ie,a,!1),function P_(e,t,n,a,g){const A=g?e.residualClasses:e.residualStyles;null!=A&&"string"==typeof t&&Nn(A,t)>=0&&(n[a+1]=rf(n[a+1]))}(t,Ie,e,a,A),O=lh(W,Q),A?t.classBindings=O:t.styleBindings=O}(g,A,t,n,O,a)}}(A,e,O,a),t!==wn&&go(g,O,t)&&function U0(e,t,n,a,g,A,O,W){if(!(3&t.type))return;const Q=e.data,ce=Q[W+1];_p(function nf(e){return 1==(1&e)}(ce)?V0(Q,t,n,g,Aa(ce),O):void 0)||(_p(A)||function tf(e){return 2==(2&e)}(ce)&&(A=V0(Q,null,n,g,W,O)),function se(e,t,n,a,g){if(t)g?e.addClass(n,a):e.removeClass(n,a);else{let A=-1===a.indexOf("-")?void 0:ea.DashCase;null==g?e.removeStyle(n,a,A):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),A|=ea.Important),e.setStyle(n,a,g,A))}}(a,O,Mi(si(),n),g,A))}(A,A.data[si()],g,g[11],e,g[O+1]=function H_(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=i(Ra(e)))),e}(t,n),a,O)}function Sg(e,t,n,a,g){let A=null;const O=n.directiveEnd;let W=n.directiveStylingLast;for(-1===W?W=n.directiveStart:W++;W<O&&(A=t[W],a=gf(a,A.hostAttrs,g),A!==e);)W++;return null!==e&&(n.directiveStylingLast=W),a}function gf(e,t,n){const a=n?1:2;let g=-1;if(null!==t)for(let A=0;A<t.length;A++){const O=t[A];"number"==typeof O?g=O:g===a&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),cn(e,O,!!n||t[++A]))}return void 0===e?null:e}function V0(e,t,n,a,g,A){const O=null===t;let W;for(;g>0;){const Q=e[g],ce=Array.isArray(Q),Ie=ce?Q[1]:Q,ct=null===Ie;let Ot=n[g+1];Ot===wn&&(Ot=ct?Rn:void 0);let $t=ct?gn(Ot,a):Ie===a?Ot:void 0;if(ce&&!_p($t)&&($t=gn(Q,a)),_p($t)&&(W=$t,O))return W;const yn=e[g+1];g=O?po(yn):Aa(yn)}if(null!==t){let Q=A?t.residualClasses:t.residualStyles;null!=Q&&(W=gn(Q,a))}return W}function _p(e){return void 0!==e}function z0(e,t=""){const n=tn(),a=Ei(),g=e+22,A=a.firstCreatePass?rd(a,g,1,t,null):a.data[g],O=n[g]=function Xh(e,t){return e.createText(t)}(n[11],t);Kh(a,n,O,A),ys(A,!1)}function Ag(e){return xg("",e,""),Ag}function xg(e,t,n){const a=tn(),g=function ad(e,t,n,a){return go(e,So(),n)?t+k(n)+a:wn}(a,e,t,n);return g!==wn&&Ic(a,si(),g),xg}function Pg(e,t,n,a,g){const A=tn(),O=ld(A,e,t,n,a,g);return O!==wn&&Ic(A,si(),O),Pg}const fh=void 0;var lb=["en",[["a","p"],["AM","PM"],fh],[["AM","PM"],fh,fh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fh,"{1} 'at' {0}",fh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ab(e){const n=Math.floor(Math.abs(e)),a=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===a?1:5}];let md={};function Eg(e){const t=function cb(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=cv(t);if(n)return n;const a=t.split("-")[0];if(n=cv(a),n)return n;if("en"===a)return lb;throw new C(701,!1)}function lv(e){return Eg(e)[pi.PluralCase]}function cv(e){return e in md||(md[e]=Bt.ng&&Bt.ng.common&&Bt.ng.common.locales&&Bt.ng.common.locales[e]),md[e]}var pi=(()=>((pi=pi||{})[pi.LocaleId=0]="LocaleId",pi[pi.DayPeriodsFormat=1]="DayPeriodsFormat",pi[pi.DayPeriodsStandalone=2]="DayPeriodsStandalone",pi[pi.DaysFormat=3]="DaysFormat",pi[pi.DaysStandalone=4]="DaysStandalone",pi[pi.MonthsFormat=5]="MonthsFormat",pi[pi.MonthsStandalone=6]="MonthsStandalone",pi[pi.Eras=7]="Eras",pi[pi.FirstDayOfWeek=8]="FirstDayOfWeek",pi[pi.WeekendRange=9]="WeekendRange",pi[pi.DateFormat=10]="DateFormat",pi[pi.TimeFormat=11]="TimeFormat",pi[pi.DateTimeFormat=12]="DateTimeFormat",pi[pi.NumberSymbols=13]="NumberSymbols",pi[pi.NumberFormats=14]="NumberFormats",pi[pi.CurrencyCode=15]="CurrencyCode",pi[pi.CurrencySymbol=16]="CurrencySymbol",pi[pi.CurrencyName=17]="CurrencyName",pi[pi.Currencies=18]="Currencies",pi[pi.Directionality=19]="Directionality",pi[pi.PluralCase=20]="PluralCase",pi[pi.ExtraData=21]="ExtraData",pi))();const vd="en-US";let uv=vd;class yd{}class Rv{}function lw(e,t){return new Nv(e,t??null)}class Nv extends yd{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new cg(this);const a=Wt(t);this._bootstrapComponents=Jo(a.bootstrap),this._r3Injector=fo(t,n,[{provide:yd,useValue:this},{provide:yr,useValue:this.componentFactoryResolver}],i(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class kg extends Rv{constructor(t){super(),this.moduleType=t}create(t){return new Nv(this.moduleType,t)}}class cw extends yd{constructor(t,n,a){super(),this.componentFactoryResolver=new cg(this),this.instance=null;const g=new bc([...t,{provide:yd,useValue:this},{provide:yr,useValue:this.componentFactoryResolver}],n||_c(),a,new Set(["environment"]));this.injector=g,g.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Fg(e,t,n=null){return new cw(e,t,n).injector}let uw=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const a=Rh(0,n.type),g=a.length>0?Fg([a],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,g)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=je({token:e,providedIn:"environment",factory:()=>new e(Bn(al))}),e})();function Bv(e){e.getStandaloneInjector=t=>t.get(uw).getOrCreateStandaloneInjector(e)}function Gv(e,t,n,a,g,A){const O=t+n;return go(e,O,g)?function Zl(e,t,n){return e[t]=n}(e,O+1,A?a.call(A,g):a(g)):function wf(e,t){const n=e[t];return n===wn?void 0:n}(e,O+1)}function Kv(e,t){const n=Ei();let a;const g=e+22;n.firstCreatePass?(a=function Tw(e,t){if(t)for(let n=t.length-1;n>=0;n--){const a=t[n];if(e===a.name)return a}}(t,n.pipeRegistry),n.data[g]=a,a.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(g,a.onDestroy)):a=n.data[g];const A=a.factory||(a.factory=Ds(a.type)),O=Ct(hu);try{const W=hs(!1),Q=A();return hs(W),function y_(e,t,n,a){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=a}(n,tn(),g,Q),Q}finally{Ct(O)}}function Zv(e,t,n){const a=e+22,g=tn(),A=zo(g,a);return function Cf(e,t){return e[1].data[t].pure}(g,a)?Gv(g,function Si(){const e=hi.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,A.transform,n,A):A.transform(n)}function Ng(e){return t=>{setTimeout(e,void 0,t)}}const ec=class kw extends f.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,a){let g=t,A=n||(()=>null),O=a;if(t&&"object"==typeof t){const Q=t;g=Q.next?.bind(Q),A=Q.error?.bind(Q),O=Q.complete?.bind(Q)}this.__isAsync&&(A=Ng(A),g&&(g=Ng(g)),O&&(O=Ng(O)));const W=super.subscribe({next:g,error:A,complete:O});return t instanceof te.w0&&t.add(W),W}};function Fw(){return this._results[hh()]()}class Bg{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=hh(),a=Bg.prototype;a[n]||(a[n]=Fw)}get changes(){return this._changes||(this._changes=new ec)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const a=this;a.dirty=!1;const g=St(t);(this._changesDetected=!function Jt(e,t,n){if(e.length!==t.length)return!1;for(let a=0;a<e.length;a++){let g=e[a],A=t[a];if(n&&(g=n(g),A=n(A)),A!==g)return!1}return!0}(a._results,g,n))&&(a._results=g,a.length=g.length,a.last=g[this.length-1],a.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Sf=(()=>{class e{}return e.__NG_ELEMENT_ID__=Bw,e})();const Rw=Sf,Nw=class extends Rw{constructor(t,n,a){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=a}createEmbeddedView(t,n){const a=this._declarationTContainer.tViews,g=ap(this._declarationLView,a,t,16,null,a.declTNode,null,null,null,null,n||null);g[17]=this._declarationLView[this._declarationTContainer.index];const O=this._declarationLView[19];return null!==O&&(g[19]=O.createEmbeddedView(a)),Jp(a,g,t),new hf(g)}};function Bw(){return Ap(Xn(),tn())}function Ap(e,t){return 4&e.type?new Nw(t,e,Pr(e,t)):null}let xp=(()=>{class e{}return e.__NG_ELEMENT_ID__=jw,e})();function jw(){return ey(Xn(),tn())}const Uw=xp,Qv=class extends Uw{constructor(t,n,a){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=a}get element(){return Pr(this._hostTNode,this._hostLView)}get injector(){return new Ll(this._hostTNode,this._hostLView)}get parentInjector(){const t=cc(this._hostTNode,this._hostLView);if(Ce(t)){const n=zn(t,this._hostLView),a=_t(t);return new Ll(n[1].data[a+8],n)}return new Ll(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Jv(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,a){let g,A;"number"==typeof a?g=a:null!=a&&(g=a.index,A=a.injector);const O=t.createEmbeddedView(n||{},A);return this.insert(O,g),O}createComponent(t,n,a,g,A){const O=t&&!function rn(e){return"function"==typeof e}(t);let W;if(O)W=n;else{const ct=n||{};W=ct.index,a=ct.injector,g=ct.projectableNodes,A=ct.environmentInjector||ct.ngModuleRef}const Q=O?t:new df(Ni(t)),ce=a||this.parentInjector;if(!A&&null==Q.ngModule){const Ot=(O?ce:this.parentInjector).get(al,null);Ot&&(A=Ot)}const Ie=Q.create(ce,g,void 0,A);return this.insert(Ie.hostView,W),Ie}insert(t,n){const a=t._lView,g=a[1];if(function Ma(e){return cs(e[3])}(a)){const Ie=this.indexOf(t);if(-1!==Ie)this.detach(Ie);else{const ct=a[3],Ot=new Qv(ct,ct[6],ct[3]);Ot.detach(Ot.indexOf(t))}}const A=this._adjustIndex(n),O=this._lContainer;!function Wp(e,t,n,a){const g=10+a,A=n.length;a>0&&(n[g-1][4]=t),a<A-10?(t[4]=n[g],vn(n,10+a,t)):(n.push(t),t[4]=null),t[3]=n;const O=t[17];null!==O&&n!==O&&function Uf(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(O,t);const W=t[19];null!==W&&W.insertView(e),t[2]|=64}(g,a,O,A);const W=au(A,O),Q=a[11],ce=rh(Q,O[7]);return null!==ce&&function $l(e,t,n,a,g,A){a[0]=g,a[6]=t,lu(e,a,n,1,g,A)}(g,O[6],Q,a,ce,W),t.attachToViewContainerRef(),vn(jg(O),A,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Jv(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),a=uo(this._lContainer,n);a&&(lt(jg(this._lContainer),n),Vf(a[1],a))}detach(t){const n=this._adjustIndex(t,-1),a=uo(this._lContainer,n);return a&&null!=lt(jg(this._lContainer),n)?new hf(a):null}_adjustIndex(t,n=0){return t??this.length+n}};function Jv(e){return e[8]}function jg(e){return e[8]||(e[8]=[])}function ey(e,t){let n;const a=t[e.index];if(cs(a))n=a;else{let g;if(8&e.type)g=pr(a);else{const A=t[11];g=A.createComment("");const O=Zi(e,t);xc(A,rh(A,O),g,function Gp(e,t){return e.nextSibling(t)}(A,O),!1)}t[e.index]=n=Ym(a,t,g,e),cp(t,n)}return new Qv(n,e,t)}class Ug{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ug(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vg{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const a=null!==t.contentQueries?t.contentQueries[0]:n.length,g=[];for(let A=0;A<a;A++){const O=n.getByIndex(A);g.push(this.queries[O.indexInDeclarationView].clone())}return new Vg(g)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==cy(t,n).matches&&this.queries[n].setDirty()}}class ty{constructor(t,n,a=null){this.predicate=t,this.flags=n,this.read=a}}class Hg{constructor(t=[]){this.queries=t}elementStart(t,n){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let a=0;a<this.length;a++){const g=null!==n?n.length:0,A=this.getByIndex(a).embeddedTView(t,g);A&&(A.indexInDeclarationView=a,null!==n?n.push(A):n=[A])}return null!==n?new Hg(n):null}template(t,n){for(let a=0;a<this.queries.length;a++)this.queries[a].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class zg{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new zg(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let a=t.parent;for(;null!==a&&8&a.type&&a.index!==n;)a=a.parent;return n===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const a=this.metadata.predicate;if(Array.isArray(a))for(let g=0;g<a.length;g++){const A=a[g];this.matchTNodeWithReadOption(t,n,zw(n,A)),this.matchTNodeWithReadOption(t,n,Ml(n,t,A,!1,!1))}else a===Sf?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Ml(n,t,a,!1,!1))}matchTNodeWithReadOption(t,n,a){if(null!==a){const g=this.metadata.read;if(null!==g)if(g===is||g===xp||g===Sf&&4&n.type)this.addMatch(n.index,-2);else{const A=Ml(n,t,g,!1,!1);null!==A&&this.addMatch(n.index,A)}else this.addMatch(n.index,a)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function zw(e,t){const n=e.localNames;if(null!==n)for(let a=0;a<n.length;a+=2)if(n[a]===t)return n[a+1];return null}function Gw(e,t,n,a){return-1===n?function Ww(e,t){return 11&e.type?Pr(e,t):4&e.type?Ap(e,t):null}(t,e):-2===n?function $w(e,t,n){return n===is?Pr(t,e):n===Sf?Ap(t,e):n===xp?ey(t,e):void 0}(e,t,a):tl(e,e[1],n,t)}function ny(e,t,n,a){const g=t[19].queries[a];if(null===g.matches){const A=e.data,O=n.matches,W=[];for(let Q=0;Q<O.length;Q+=2){const ce=O[Q];W.push(ce<0?null:Gw(t,A[ce],O[Q+1],n.metadata.read))}g.matches=W}return g.matches}function Wg(e,t,n,a){const g=e.queries.getByIndex(n),A=g.matches;if(null!==A){const O=ny(e,t,g,n);for(let W=0;W<A.length;W+=2){const Q=A[W];if(Q>0)a.push(O[W/2]);else{const ce=A[W+1],Ie=t[-Q];for(let ct=10;ct<Ie.length;ct++){const Ot=Ie[ct];Ot[17]===Ot[3]&&Wg(Ot[1],Ot,ce,a)}if(null!==Ie[9]){const ct=Ie[9];for(let Ot=0;Ot<ct.length;Ot++){const $t=ct[Ot];Wg($t[1],$t,ce,a)}}}}}return a}function iy(e){const t=tn(),n=Ei(),a=Wr();Qa(a+1);const g=cy(n,a);if(e.dirty&&function Ta(e){return 4==(4&e[2])}(t)===(2==(2&g.metadata.flags))){if(null===g.matches)e.reset([]);else{const A=g.crossesNgTemplate?Wg(n,t,a,[]):ny(n,t,g,a);e.reset(A,Cs),e.notifyOnChanges()}return!0}return!1}function ry(e,t,n){const a=Ei();a.firstCreatePass&&(ly(a,new ty(e,t,n),-1),2==(2&t)&&(a.staticViewQueries=!0)),ay(a,tn(),t)}function sy(e,t,n,a){const g=Ei();if(g.firstCreatePass){const A=Xn();ly(g,new ty(t,n,a),A.index),function Yw(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(g,e),2==(2&n)&&(g.staticContentQueries=!0)}ay(g,tn(),n)}function oy(){return function qw(e,t){return e[19].queries[t].queryList}(tn(),Wr())}function ay(e,t,n){const a=new Bg(4==(4&n));jm(e,t,a,a.destroy),null===t[19]&&(t[19]=new Vg),t[19].queries.push(new Ug(a))}function ly(e,t,n){null===e.queries&&(e.queries=new Hg),e.queries.track(new zg(t,n))}function cy(e,t){return e.queries.getByIndex(t)}function Ep(...e){}const Dy=new $("Application Initializer");let Dp=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Ep,this.reject=Ep,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,g)=>{this.resolve=a,this.reject=g})}runInitializers(){if(this.initialized)return;const n=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const A=this.appInits[g]();if(yg(A))n.push(A);else if(g0(A)){const O=new Promise((W,Q)=>{A.subscribe({complete:W,error:Q})});n.push(O)}}Promise.all(n).then(()=>{a()}).catch(g=>{this.reject(g)}),0===n.length&&a(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Bn(Dy,8))},e.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Ty=new $("AppId",{providedIn:"root",factory:function My(){return`${Xg()}${Xg()}${Xg()}`}});function Xg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ly=new $("Platform Initializer"),g2=new $("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Oy=new $("appBootstrapListener");let m2=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Tp=new $("LocaleId",{providedIn:"root",factory:()=>Di(Tp,Ne.Optional|Ne.SkipSelf)||function v2(){return typeof $localize<"u"&&$localize.locale||vd}()}),y2=new $("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class _2{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let b2=(()=>{class e{compileModuleSync(n){return new kg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const a=this.compileModuleSync(n),A=Jo(Wt(n).declarations).reduce((O,W)=>{const Q=Ni(W);return Q&&O.push(new df(Q)),O},[]);return new _2(a,A)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const S2=(()=>Promise.resolve(0))();function Kg(e){typeof Zone>"u"?S2.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Wa{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ec(!1),this.onMicrotaskEmpty=new ec(!1),this.onStable=new ec(!1),this.onError=new ec(!1),typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();const g=this;if(g._nesting=0,g._outer=g._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const A=Zone.AsyncStackTaggingZoneSpec;g._inner=g._inner.fork(new A("Angular"))}Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!a&&n,g.shouldCoalesceRunChangeDetection=a,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function A2(){let e=Bt.requestAnimationFrame,t=Bt.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const a=t[Zone.__symbol__("OriginalDelegate")];a&&(t=a)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function E2(e){const t=()=>{!function P2(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Bt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Qg(e),e.isCheckStableRunning=!0,Zg(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Qg(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,a,g,A,O,W)=>{try{return Fy(e),n.invokeTask(g,A,O,W)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===A.type||e.shouldCoalesceRunChangeDetection)&&t(),Ry(e)}},onInvoke:(n,a,g,A,O,W,Q)=>{try{return Fy(e),n.invoke(g,A,O,W,Q)}finally{e.shouldCoalesceRunChangeDetection&&t(),Ry(e)}},onHasTask:(n,a,g,A)=>{n.hasTask(g,A),a===g&&("microTask"==A.change?(e._hasPendingMicrotasks=A.microTask,Qg(e),Zg(e)):"macroTask"==A.change&&(e.hasPendingMacrotasks=A.macroTask))},onHandleError:(n,a,g,A)=>(n.handleError(g,A),e.runOutsideAngular(()=>e.onError.emit(A)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wa.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(Wa.isInAngularZone())throw new C(909,!1)}run(t,n,a){return this._inner.run(t,n,a)}runTask(t,n,a,g){const A=this._inner,O=A.scheduleEventTask("NgZoneEvent: "+g,t,x2,Ep,Ep);try{return A.runTask(O,n,a)}finally{A.cancelTask(O)}}runGuarded(t,n,a){return this._inner.runGuarded(t,n,a)}runOutsideAngular(t){return this._outer.run(t)}}const x2={};function Zg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Qg(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Fy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Ry(e){e._nesting--,Zg(e)}class D2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ec,this.onMicrotaskEmpty=new ec,this.onStable=new ec,this.onError=new ec}run(t,n,a){return t.apply(n,a)}runGuarded(t,n,a){return t.apply(n,a)}runOutsideAngular(t){return t()}runTask(t,n,a,g){return t.apply(n,a)}}const Ny=new $(""),By=new $("");let Jg,T2=(()=>{class e{constructor(n,a,g){this._ngZone=n,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Jg||(function M2(e){Jg=e}(g),g.addToWindow(a)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wa.assertNotInAngularZone(),Kg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Kg(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(n)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,a,g){let A=-1;a&&a>0&&(A=setTimeout(()=>{this._callbacks=this._callbacks.filter(O=>O.timeoutId!==A),n(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:n,timeoutId:A,updateCb:g})}whenStable(n,a,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,a,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,a,g){return[]}}return e.\u0275fac=function(n){return new(n||e)(Bn(Wa),Bn(jy),Bn(By))},e.\u0275prov=je({token:e,factory:e.\u0275fac}),e})(),jy=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,a){this._applications.set(n,a)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,a=!0){return Jg?.findTestabilityInTree(this,n,a)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),mu=null;const Uy=new $("AllowMultipleToken"),em=new $("PlatformDestroyListeners");class I2{constructor(t,n){this.name=t,this.token=n}}function Hy(e,t,n=[]){const a=`Platform: ${t}`,g=new $(a);return(A=[])=>{let O=tm();if(!O||O.injector.get(Uy,!1)){const W=[...n,...A,{provide:g,useValue:!0}];e?e(W):function k2(e){if(mu&&!mu.get(Uy,!1))throw new C(400,!1);mu=e;const t=e.get(Wy);(function Vy(e){const t=e.get(Ly,null);t&&t.forEach(n=>n())})(e)}(function zy(e=[],t){return fs.create({name:t,providers:[{provide:Kc,useValue:"platform"},{provide:em,useValue:new Set([()=>mu=null])},...e]})}(W,a))}return function R2(e){const t=tm();if(!t)throw new C(401,!1);return t}()}}function tm(){return mu?.get(Wy)??null}let Wy=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,a){const g=function $y(e,t){let n;return n="noop"===e?new D2:("zone.js"===e?void 0:e)||new Wa(t),n}(a?.ngZone,function Gy(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(a)),A=[{provide:Wa,useValue:g}];return g.run(()=>{const O=fs.create({providers:A,parent:this.injector,name:n.moduleType.name}),W=n.create(O),Q=W.injector.get(Oo,null);if(!Q)throw new C(402,!1);return g.runOutsideAngular(()=>{const ce=g.onError.subscribe({next:Ie=>{Q.handleError(Ie)}});W.onDestroy(()=>{Lp(this._modules,W),ce.unsubscribe()})}),function qy(e,t,n){try{const a=n();return yg(a)?a.catch(g=>{throw t.runOutsideAngular(()=>e.handleError(g)),g}):a}catch(a){throw t.runOutsideAngular(()=>e.handleError(a)),a}}(Q,g,()=>{const ce=W.injector.get(Dp);return ce.runInitializers(),ce.donePromise.then(()=>(function hv(e){B(e,"Expected localeId to be defined"),"string"==typeof e&&(uv=e.toLowerCase().replace(/_/g,"-"))}(W.injector.get(Tp,vd)||vd),this._moduleDoBootstrap(W),W))})})}bootstrapModule(n,a=[]){const g=Yy({},a);return function L2(e,t,n){const a=new kg(n);return Promise.resolve(a)}(0,0,n).then(A=>this.bootstrapModuleFactory(A,g))}_moduleDoBootstrap(n){const a=n.injector.get(Mp);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(g=>a.bootstrap(g));else{if(!n.instance.ngDoBootstrap)throw new C(403,!1);n.instance.ngDoBootstrap(a)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new C(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const n=this._injector.get(em,null);n&&(n.forEach(a=>a()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Bn(fs))},e.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Yy(e,t){return Array.isArray(t)?t.reduce(Yy,e):{...e,...t}}let Mp=(()=>{class e{constructor(n,a,g){this._zone=n,this._injector=a,this._exceptionHandler=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const A=new le.y(W=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{W.next(this._stable),W.complete()})}),O=new le.y(W=>{let Q;this._zone.runOutsideAngular(()=>{Q=this._zone.onStable.subscribe(()=>{Wa.assertNotInAngularZone(),Kg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,W.next(!0))})})});const ce=this._zone.onUnstable.subscribe(()=>{Wa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{W.next(!1)}))});return()=>{Q.unsubscribe(),ce.unsubscribe()}});this.isStable=function d(...e){const t=(0,m.yG)(e),n=(0,m._6)(e,1/0),a=e;return a.length?1===a.length?(0,Je.Xf)(a[0]):(0,Qe.J)(n)((0,c.D)(a,t)):Te.E}(A,O.pipe((0,u.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,a){const g=n instanceof qn;if(!this._injector.get(Dp).done)throw!g&&wt(n),new C(405,false);let O;O=g?n:this._injector.get(yr).resolveComponentFactory(n),this.componentTypes.push(O.componentType);const W=function O2(e){return e.isBoundToModule}(O)?void 0:this._injector.get(yd),ce=O.create(fs.NULL,[],a||O.selector,W),Ie=ce.location.nativeElement,ct=ce.injector.get(Ny,null);return ct?.registerApplication(Ie),ce.onDestroy(()=>{this.detachView(ce.hostView),Lp(this.components,ce),ct?.unregisterApplication(Ie)}),this._loadComponent(ce),ce}tick(){if(this._runningTick)throw new C(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const a=n;this._views.push(a),a.attachToAppRef(this)}detachView(n){const a=n;Lp(this._views,a),a.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Oy,[]).concat(this._bootstrapListeners).forEach(g=>g(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Lp(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new C(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(Bn(Wa),Bn(al),Bn(Oo))},e.\u0275prov=je({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Lp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let Ky=!0;function B2(){Ky=!1}let j2=(()=>{class e{}return e.__NG_ELEMENT_ID__=U2,e})();function U2(e){return function V2(e,t,n){if(us(e)&&!n){const a=Tr(e.index,t);return new hf(a,a)}return 47&e.type?new hf(t[16],t):null}(Xn(),tn(),16==(16&e))}class t1{constructor(){}supports(t){return ff(t)}create(t){return new q2(t)}}const $2=(e,t)=>t;class q2{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||$2}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,a=this._removalsHead,g=0,A=null;for(;n||a;){const O=!a||n&&n.currentIndex<r1(a,g,A)?n:a,W=r1(O,g,A),Q=O.currentIndex;if(O===a)g--,a=a._nextRemoved;else if(n=n._next,null==O.previousIndex)g++;else{A||(A=[]);const ce=W-g,Ie=Q-g;if(ce!=Ie){for(let Ot=0;Ot<ce;Ot++){const $t=Ot<A.length?A[Ot]:A[Ot]=0,yn=$t+Ot;Ie<=yn&&yn<ce&&(A[Ot]=$t+1)}A[O.previousIndex]=Ie-ce}}W!==Q&&t(O,W,Q)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!ff(t))throw new C(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let g,A,O,n=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(let W=0;W<this.length;W++)A=t[W],O=this._trackByFn(W,A),null!==n&&Object.is(n.trackById,O)?(a&&(n=this._verifyReinsertion(n,A,O,W)),Object.is(n.item,A)||this._addIdentityChange(n,A)):(n=this._mismatch(n,A,O,W),a=!0),n=n._next}else g=0,function p_(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[hh()]();let a;for(;!(a=n.next()).done;)t(a.value)}}(t,W=>{O=this._trackByFn(g,W),null!==n&&Object.is(n.trackById,O)?(a&&(n=this._verifyReinsertion(n,W,O,g)),Object.is(n.item,W)||this._addIdentityChange(n,W)):(n=this._mismatch(n,W,O,g),a=!0),n=n._next,g++}),this.length=g;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,a,g){let A;return null===t?A=this._itTail:(A=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,A,g)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(a,g))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,A,g)):t=this._addAfter(new Y2(n,a),A,g),t}_verifyReinsertion(t,n,a,g){let A=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==A?t=this._reinsertAfter(A,t._prev,g):t.currentIndex!=g&&(t.currentIndex=g,this._addToMoves(t,g)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const g=t._prevRemoved,A=t._nextRemoved;return null===g?this._removalsHead=A:g._nextRemoved=A,null===A?this._removalsTail=g:A._prevRemoved=g,this._insertAfter(t,n,a),this._addToMoves(t,a),t}_moveAfter(t,n,a){return this._unlink(t),this._insertAfter(t,n,a),this._addToMoves(t,a),t}_addAfter(t,n,a){return this._insertAfter(t,n,a),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,a){const g=null===n?this._itHead:n._next;return t._next=g,t._prev=n,null===g?this._itTail=t:g._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new n1),this._linkedRecords.put(t),t.currentIndex=a,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,a=t._next;return null===n?this._itHead=a:n._next=a,null===a?this._itTail=n:a._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new n1),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Y2{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class X2{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===n||n<=a.currentIndex)&&Object.is(a.trackById,t))return a;return null}remove(t){const n=t._prevDup,a=t._nextDup;return null===n?this._head=a:n._nextDup=a,null===a?this._tail=n:a._prevDup=n,null===this._head}}class n1{constructor(){this.map=new Map}put(t){const n=t.trackById;let a=this.map.get(n);a||(a=new X2,this.map.set(n,a)),a.add(t)}get(t,n){const g=this.map.get(t);return g?g.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function r1(e,t,n){const a=e.previousIndex;if(null===a)return a;let g=0;return n&&a<n.length&&(g=n[a]),a+t+g}class s1{constructor(){}supports(t){return t instanceof Map||dg(t)}create(){return new K2}}class K2{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||dg(t)))throw new C(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(a,g)=>{if(n&&n.key===g)this._maybeAddToChanges(n,a),this._appendAfter=n,n=n._next;else{const A=this._getOrCreateRecordForKey(g,a);n=this._insertBeforeOrAppend(n,A)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let a=n;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const a=t._prev;return n._next=t,n._prev=a,t._prev=n,a&&(a._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const g=this._records.get(t);this._maybeAddToChanges(g,n);const A=g._prev,O=g._next;return A&&(A._next=O),O&&(O._prev=A),g._next=null,g._prev=null,g}const a=new Z2(t);return this._records.set(t,a),a.currentValue=n,this._addToAdditions(a),a}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(a=>n(t[a],a))}}class Z2{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function o1(){return new om([new t1])}let om=(()=>{class e{constructor(n){this.factories=n}static create(n,a){if(null!=a){const g=a.factories.slice();n=n.concat(g)}return new e(n)}static extend(n){return{provide:e,useFactory:a=>e.create(n,a||o1()),deps:[[e,new $s,new ts]]}}find(n){const a=this.factories.find(g=>g.supports(n));if(null!=a)return a;throw new C(901,!1)}}return e.\u0275prov=je({token:e,providedIn:"root",factory:o1}),e})();function a1(){return new am([new s1])}let am=(()=>{class e{constructor(n){this.factories=n}static create(n,a){if(a){const g=a.factories.slice();n=n.concat(g)}return new e(n)}static extend(n){return{provide:e,useFactory:a=>e.create(n,a||a1()),deps:[[e,new $s,new ts]]}}find(n){const a=this.factories.find(g=>g.supports(n));if(a)return a;throw new C(901,!1)}}return e.\u0275prov=je({token:e,providedIn:"root",factory:a1}),e})();const eC=Hy(null,"core",[]);let tC=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Bn(Mp))},e.\u0275mod=Er({type:e}),e.\u0275inj=it({}),e})();function nC(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}},1481:(qt,ue,ge)=>{"use strict";ge.d(ue,{Dx:()=>ot,b2:()=>be,q6:()=>Lt});var f=ge(6895),te=ge(8274);class le extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Qe extends le{static makeCurrent(){(0,f.HT)(new Qe)}onAndCancel(Dt,wt,Wt){return Dt.addEventListener(wt,Wt,!1),()=>{Dt.removeEventListener(wt,Wt,!1)}}dispatchEvent(Dt,wt){Dt.dispatchEvent(wt)}remove(Dt){Dt.parentNode&&Dt.parentNode.removeChild(Dt)}createElement(Dt,wt){return(wt=wt||this.getDefaultDocument()).createElement(Dt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Dt){return Dt.nodeType===Node.ELEMENT_NODE}isShadowRoot(Dt){return Dt instanceof DocumentFragment}getGlobalEventTarget(Dt,wt){return"window"===wt?window:"document"===wt?Dt:"body"===wt?Dt.body:null}getBaseHref(Dt){const wt=function Te(){return Je=Je||document.querySelector("base"),Je?Je.getAttribute("href"):null}();return null==wt?null:function c(Vt){m=m||document.createElement("a"),m.setAttribute("href",Vt);const Dt=m.pathname;return"/"===Dt.charAt(0)?Dt:`/${Dt}`}(wt)}resetBaseElement(){Je=null}getUserAgent(){return window.navigator.userAgent}getCookie(Dt){return(0,f.Mx)(document.cookie,Dt)}}let m,Je=null;const d=new te.OlP("TRANSITION_ID"),r=[{provide:te.ip1,useFactory:function u(Vt,Dt,wt){return()=>{wt.get(te.CZH).donePromise.then(()=>{const Wt=(0,f.q)(),pn=Dt.querySelectorAll(`style[ng-transition="${Vt}"]`);for(let sn=0;sn<pn.length;sn++)Wt.remove(pn[sn])})}},deps:[d,f.K0,te.zs3],multi:!0}];let i=(()=>{class Vt{build(){return new XMLHttpRequest}}return Vt.\u0275fac=function(wt){return new(wt||Vt)},Vt.\u0275prov=te.Yz7({token:Vt,factory:Vt.\u0275fac}),Vt})();const s=new te.OlP("EventManagerPlugins");let h=(()=>{class Vt{constructor(wt,Wt){this._zone=Wt,this._eventNameToPlugin=new Map,wt.forEach(pn=>pn.manager=this),this._plugins=wt.slice().reverse()}addEventListener(wt,Wt,pn){return this._findPluginFor(Wt).addEventListener(wt,Wt,pn)}addGlobalEventListener(wt,Wt,pn){return this._findPluginFor(Wt).addGlobalEventListener(wt,Wt,pn)}getZone(){return this._zone}_findPluginFor(wt){const Wt=this._eventNameToPlugin.get(wt);if(Wt)return Wt;const pn=this._plugins;for(let sn=0;sn<pn.length;sn++){const Fn=pn[sn];if(Fn.supports(wt))return this._eventNameToPlugin.set(wt,Fn),Fn}throw new Error(`No event manager plugin found for event ${wt}`)}}return Vt.\u0275fac=function(wt){return new(wt||Vt)(te.LFG(s),te.LFG(te.R0b))},Vt.\u0275prov=te.Yz7({token:Vt,factory:Vt.\u0275fac}),Vt})();class l{constructor(Dt){this._doc=Dt}addGlobalEventListener(Dt,wt,Wt){const pn=(0,f.q)().getGlobalEventTarget(this._doc,Dt);if(!pn)throw new Error(`Unsupported event target ${pn} for event ${wt}`);return this.addEventListener(pn,wt,Wt)}}let p=(()=>{class Vt{constructor(){this._stylesSet=new Set}addStyles(wt){const Wt=new Set;wt.forEach(pn=>{this._stylesSet.has(pn)||(this._stylesSet.add(pn),Wt.add(pn))}),this.onStylesAdded(Wt)}onStylesAdded(wt){}getAllStyles(){return Array.from(this._stylesSet)}}return Vt.\u0275fac=function(wt){return new(wt||Vt)},Vt.\u0275prov=te.Yz7({token:Vt,factory:Vt.\u0275fac}),Vt})(),w=(()=>{class Vt extends p{constructor(wt){super(),this._doc=wt,this._hostNodes=new Map,this._hostNodes.set(wt.head,[])}_addStylesToHost(wt,Wt,pn){wt.forEach(sn=>{const Fn=this._doc.createElement("style");Fn.textContent=sn,pn.push(Wt.appendChild(Fn))})}addHost(wt){const Wt=[];this._addStylesToHost(this._stylesSet,wt,Wt),this._hostNodes.set(wt,Wt)}removeHost(wt){const Wt=this._hostNodes.get(wt);Wt&&Wt.forEach(_),this._hostNodes.delete(wt)}onStylesAdded(wt){this._hostNodes.forEach((Wt,pn)=>{this._addStylesToHost(wt,pn,Wt)})}ngOnDestroy(){this._hostNodes.forEach(wt=>wt.forEach(_))}}return Vt.\u0275fac=function(wt){return new(wt||Vt)(te.LFG(f.K0))},Vt.\u0275prov=te.Yz7({token:Vt,factory:Vt.\u0275fac}),Vt})();function _(Vt){(0,f.q)().remove(Vt)}const C={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},I=/%COMP%/g,z="%COMP%",ne=`_nghost-${z}`,fe=`_ngcontent-${z}`;function _e(Vt,Dt,wt){for(let Wt=0;Wt<Dt.length;Wt++){let pn=Dt[Wt];Array.isArray(pn)?_e(Vt,pn,wt):(pn=pn.replace(I,Vt),wt.push(pn))}return wt}function we(Vt){return Dt=>{if("__ngUnwrap__"===Dt)return Vt;!1===Vt(Dt)&&(Dt.preventDefault(),Dt.returnValue=!1)}}let de=(()=>{class Vt{constructor(wt,Wt,pn){this.eventManager=wt,this.sharedStylesHost=Wt,this.appId=pn,this.rendererByCompId=new Map,this.defaultRenderer=new Ve(wt)}createRenderer(wt,Wt){if(!wt||!Wt)return this.defaultRenderer;switch(Wt.encapsulation){case te.ifc.Emulated:{let pn=this.rendererByCompId.get(Wt.id);return pn||(pn=new ie(this.eventManager,this.sharedStylesHost,Wt,this.appId),this.rendererByCompId.set(Wt.id,pn)),pn.applyToHost(wt),pn}case 1:case te.ifc.ShadowDom:return new R(this.eventManager,this.sharedStylesHost,wt,Wt);default:if(!this.rendererByCompId.has(Wt.id)){const pn=_e(Wt.id,Wt.styles,[]);this.sharedStylesHost.addStyles(pn),this.rendererByCompId.set(Wt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Vt.\u0275fac=function(wt){return new(wt||Vt)(te.LFG(h),te.LFG(w),te.LFG(te.AFp))},Vt.\u0275prov=te.Yz7({token:Vt,factory:Vt.\u0275fac}),Vt})();class Ve{constructor(Dt){this.eventManager=Dt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Dt,wt){return wt?document.createElementNS(C[wt]||wt,Dt):document.createElement(Dt)}createComment(Dt){return document.createComment(Dt)}createText(Dt){return document.createTextNode(Dt)}appendChild(Dt,wt){(he(Dt)?Dt.content:Dt).appendChild(wt)}insertBefore(Dt,wt,Wt){Dt&&(he(Dt)?Dt.content:Dt).insertBefore(wt,Wt)}removeChild(Dt,wt){Dt&&Dt.removeChild(wt)}selectRootElement(Dt,wt){let Wt="string"==typeof Dt?document.querySelector(Dt):Dt;if(!Wt)throw new Error(`The selector "${Dt}" did not match any elements`);return wt||(Wt.textContent=""),Wt}parentNode(Dt){return Dt.parentNode}nextSibling(Dt){return Dt.nextSibling}setAttribute(Dt,wt,Wt,pn){if(pn){wt=pn+":"+wt;const sn=C[pn];sn?Dt.setAttributeNS(sn,wt,Wt):Dt.setAttribute(wt,Wt)}else Dt.setAttribute(wt,Wt)}removeAttribute(Dt,wt,Wt){if(Wt){const pn=C[Wt];pn?Dt.removeAttributeNS(pn,wt):Dt.removeAttribute(`${Wt}:${wt}`)}else Dt.removeAttribute(wt)}addClass(Dt,wt){Dt.classList.add(wt)}removeClass(Dt,wt){Dt.classList.remove(wt)}setStyle(Dt,wt,Wt,pn){pn&(te.JOm.DashCase|te.JOm.Important)?Dt.style.setProperty(wt,Wt,pn&te.JOm.Important?"important":""):Dt.style[wt]=Wt}removeStyle(Dt,wt,Wt){Wt&te.JOm.DashCase?Dt.style.removeProperty(wt):Dt.style[wt]=""}setProperty(Dt,wt,Wt){Dt[wt]=Wt}setValue(Dt,wt){Dt.nodeValue=wt}listen(Dt,wt,Wt){return"string"==typeof Dt?this.eventManager.addGlobalEventListener(Dt,wt,we(Wt)):this.eventManager.addEventListener(Dt,wt,we(Wt))}}function he(Vt){return"TEMPLATE"===Vt.tagName&&void 0!==Vt.content}class ie extends Ve{constructor(Dt,wt,Wt,pn){super(Dt),this.component=Wt;const sn=_e(pn+"-"+Wt.id,Wt.styles,[]);wt.addStyles(sn),this.contentAttr=function ye(Vt){return fe.replace(I,Vt)}(pn+"-"+Wt.id),this.hostAttr=function Pe(Vt){return ne.replace(I,Vt)}(pn+"-"+Wt.id)}applyToHost(Dt){super.setAttribute(Dt,this.hostAttr,"")}createElement(Dt,wt){const Wt=super.createElement(Dt,wt);return super.setAttribute(Wt,this.contentAttr,""),Wt}}class R extends Ve{constructor(Dt,wt,Wt,pn){super(Dt),this.sharedStylesHost=wt,this.hostEl=Wt,this.shadowRoot=Wt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const sn=_e(pn.id,pn.styles,[]);for(let Fn=0;Fn<sn.length;Fn++){const li=document.createElement("style");li.textContent=sn[Fn],this.shadowRoot.appendChild(li)}}nodeOrShadowRoot(Dt){return Dt===this.hostEl?this.shadowRoot:Dt}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Dt,wt){return super.appendChild(this.nodeOrShadowRoot(Dt),wt)}insertBefore(Dt,wt,Wt){return super.insertBefore(this.nodeOrShadowRoot(Dt),wt,Wt)}removeChild(Dt,wt){return super.removeChild(this.nodeOrShadowRoot(Dt),wt)}parentNode(Dt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Dt)))}}let H=(()=>{class Vt extends l{constructor(wt){super(wt)}supports(wt){return!0}addEventListener(wt,Wt,pn){return wt.addEventListener(Wt,pn,!1),()=>this.removeEventListener(wt,Wt,pn)}removeEventListener(wt,Wt,pn){return wt.removeEventListener(Wt,pn)}}return Vt.\u0275fac=function(wt){return new(wt||Vt)(te.LFG(f.K0))},Vt.\u0275prov=te.Yz7({token:Vt,factory:Vt.\u0275fac}),Vt})();const F=["alt","control","meta","shift"],j={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},B={alt:Vt=>Vt.altKey,control:Vt=>Vt.ctrlKey,meta:Vt=>Vt.metaKey,shift:Vt=>Vt.shiftKey};let J=(()=>{class Vt extends l{constructor(wt){super(wt)}supports(wt){return null!=Vt.parseEventName(wt)}addEventListener(wt,Wt,pn){const sn=Vt.parseEventName(Wt),Fn=Vt.eventCallback(sn.fullKey,pn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(wt,sn.domEventName,Fn))}static parseEventName(wt){const Wt=wt.toLowerCase().split("."),pn=Wt.shift();if(0===Wt.length||"keydown"!==pn&&"keyup"!==pn)return null;const sn=Vt._normalizeKey(Wt.pop());let Fn="",li=Wt.indexOf("code");if(li>-1&&(Wt.splice(li,1),Fn="code."),F.forEach(Fs=>{const dr=Wt.indexOf(Fs);dr>-1&&(Wt.splice(dr,1),Fn+=Fs+".")}),Fn+=sn,0!=Wt.length||0===sn.length)return null;const gi={};return gi.domEventName=pn,gi.fullKey=Fn,gi}static matchEventFullKeyCode(wt,Wt){let pn=j[wt.key]||wt.key,sn="";return Wt.indexOf("code.")>-1&&(pn=wt.code,sn="code."),!(null==pn||!pn)&&(pn=pn.toLowerCase()," "===pn?pn="space":"."===pn&&(pn="dot"),F.forEach(Fn=>{Fn!==pn&&(0,B[Fn])(wt)&&(sn+=Fn+".")}),sn+=pn,sn===Wt)}static eventCallback(wt,Wt,pn){return sn=>{Vt.matchEventFullKeyCode(sn,wt)&&pn.runGuarded(()=>Wt(sn))}}static _normalizeKey(wt){return"esc"===wt?"escape":wt}}return Vt.\u0275fac=function(wt){return new(wt||Vt)(te.LFG(f.K0))},Vt.\u0275prov=te.Yz7({token:Vt,factory:Vt.\u0275fac}),Vt})();const Lt=(0,te.eFA)(te._c5,"browser",[{provide:te.Lbi,useValue:f.bD},{provide:te.g9A,useValue:function it(){Qe.makeCurrent()},multi:!0},{provide:f.K0,useFactory:function Ue(){return(0,te.RDi)(document),document},deps:[]}]),$e=new te.OlP(""),Ke=[{provide:te.rWj,useClass:class o{addToWindow(Dt){te.dqk.getAngularTestability=(Wt,pn=!0)=>{const sn=Dt.findTestabilityInTree(Wt,pn);if(null==sn)throw new Error("Could not find testability for element.");return sn},te.dqk.getAllAngularTestabilities=()=>Dt.getAllTestabilities(),te.dqk.getAllAngularRootElements=()=>Dt.getAllRootElements(),te.dqk.frameworkStabilizers||(te.dqk.frameworkStabilizers=[]),te.dqk.frameworkStabilizers.push(Wt=>{const pn=te.dqk.getAllAngularTestabilities();let sn=pn.length,Fn=!1;const li=function(gi){Fn=Fn||gi,sn--,0==sn&&Wt(Fn)};pn.forEach(function(gi){gi.whenStable(li)})})}findTestabilityInTree(Dt,wt,Wt){return null==wt?null:Dt.getTestability(wt)??(Wt?(0,f.q)().isShadowRoot(wt)?this.findTestabilityInTree(Dt,wt.host,!0):this.findTestabilityInTree(Dt,wt.parentElement,!0):null)}},deps:[]},{provide:te.lri,useClass:te.dDg,deps:[te.R0b,te.eoX,te.rWj]},{provide:te.dDg,useClass:te.dDg,deps:[te.R0b,te.eoX,te.rWj]}],pt=[{provide:te.zSh,useValue:"root"},{provide:te.qLn,useFactory:function Be(){return new te.qLn},deps:[]},{provide:s,useClass:H,multi:!0,deps:[f.K0,te.R0b,te.Lbi]},{provide:s,useClass:J,multi:!0,deps:[f.K0]},{provide:de,useClass:de,deps:[h,w,te.AFp]},{provide:te.FYo,useExisting:de},{provide:p,useExisting:w},{provide:w,useClass:w,deps:[f.K0]},{provide:h,useClass:h,deps:[s,te.R0b]},{provide:f.JF,useClass:i,deps:[]},[]];let be=(()=>{class Vt{constructor(wt){}static withServerTransition(wt){return{ngModule:Vt,providers:[{provide:te.AFp,useValue:wt.appId},{provide:d,useExisting:te.AFp},r]}}}return Vt.\u0275fac=function(wt){return new(wt||Vt)(te.LFG($e,12))},Vt.\u0275mod=te.oAB({type:Vt}),Vt.\u0275inj=te.cJS({providers:[...pt,...Ke],imports:[f.ez,te.hGG]}),Vt})(),ot=(()=>{class Vt{constructor(wt){this._doc=wt}getTitle(){return this._doc.title}setTitle(wt){this._doc.title=wt||""}}return Vt.\u0275fac=function(wt){return new(wt||Vt)(te.LFG(f.K0))},Vt.\u0275prov=te.Yz7({token:Vt,factory:function(wt){let Wt=null;return Wt=wt?new wt:function yt(){return new ot((0,te.LFG)(f.K0))}(),Wt},providedIn:"root"}),Vt})();typeof window<"u"&&window},1384:(qt,ue,ge)=>{"use strict";ge.d(ue,{F0:()=>Nr,Bz:()=>nn,lC:()=>Wo});var f=ge(8274),te=ge(457),le=ge(9646),Qe=ge(1135);const Te=(0,ge(3888).d)(E=>function(){E(this),this.name="EmptyError",this.message="no elements in sequence"});var m=ge(9751);const{isArray:c}=Array,{getPrototypeOf:d,prototype:u,keys:r}=Object;var s=ge(4671),h=ge(3268),l=ge(7669),w=ge(5403),_=ge(9672);function C(...E){const D=(0,l.yG)(E),P=(0,l.jO)(E),{args:N,keys:G}=function o(E){if(1===E.length){const D=E[0];if(c(D))return{args:D,keys:null};if(function i(E){return E&&"object"==typeof E&&d(E)===u}(D)){const P=r(D);return{args:P.map(N=>D[N]),keys:P}}}return{args:E,keys:null}}(E);if(0===N.length)return(0,te.D)([],D);const pe=new m.y(function I(E,D,P=s.y){return N=>{k(D,()=>{const{length:G}=E,pe=new Array(G);let Fe=G,et=G;for(let Mt=0;Mt<G;Mt++)k(D,()=>{const on=(0,te.D)(E[Mt],D);let Ht=!1;on.subscribe((0,w.x)(N,nt=>{pe[Mt]=nt,Ht||(Ht=!0,et--),et||N.next(P(pe.slice()))},()=>{--Fe||N.complete()}))},N)},N)}}(N,D,G?Fe=>function p(E,D){return E.reduce((P,N,G)=>(P[N]=D[G],P),{})}(G,Fe):s.y));return P?pe.pipe((0,h.Z)(P)):pe}function k(E,D,P){E?(0,_.f)(P,E,D):D()}var z=ge(8189);function fe(...E){return function ne(){return(0,z.J)(1)}()((0,te.D)(E,(0,l.yG)(E)))}var ye=ge(9770),Pe=ge(9635),_e=ge(576);function we(E,D){const P=(0,_e.m)(E)?E:()=>E,N=G=>G.error(P());return new m.y(D?G=>D.schedule(N,0,G):N)}var Ee=ge(515),de=ge(727),Ve=ge(4482);function Ze(){return(0,Ve.e)((E,D)=>{let P=null;E._refCount++;const N=(0,w.x)(D,void 0,void 0,void 0,()=>{if(!E||E._refCount<=0||0<--E._refCount)return void(P=null);const G=E._connection,pe=P;P=null,G&&(!pe||G===pe)&&G.unsubscribe(),D.unsubscribe()});E.subscribe(N),N.closed||(P=E.connect())})}class dt extends m.y{constructor(D,P){super(),this.source=D,this.subjectFactory=P,this._subject=null,this._refCount=0,this._connection=null,(0,Ve.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new de.w0;const P=this.getSubject();D.add(this.source.subscribe((0,w.x)(P,void 0,()=>{this._teardown(),P.complete()},N=>{this._teardown(),P.error(N)},()=>this._teardown()))),D.closed&&(this._connection=null,D=de.w0.EMPTY)}return D}refCount(){return Ze()(this)}}var he=ge(7579),ie=ge(6895),R=ge(4004),H=ge(3900);function F(E){return E<=0?()=>Ee.E:(0,Ve.e)((D,P)=>{let N=0;D.subscribe((0,w.x)(P,G=>{++N<=E&&(P.next(G),E<=N&&P.complete())}))})}var B=ge(9300),J=ge(5577);function re(E){return(0,Ve.e)((D,P)=>{let N=!1;D.subscribe((0,w.x)(P,G=>{N=!0,P.next(G)},()=>{N||P.next(E),P.complete()}))})}function me(E=De){return(0,Ve.e)((D,P)=>{let N=!1;D.subscribe((0,w.x)(P,G=>{N=!0,P.next(G)},()=>N?P.complete():P.error(E())))})}function De(){return new Te}function je(E,D){const P=arguments.length>=2;return N=>N.pipe(E?(0,B.h)((G,pe)=>E(G,pe,N)):s.y,F(1),P?re(D):me(()=>new Te))}function We(E,D){return(0,_e.m)(D)?(0,J.z)(E,D,1):(0,J.z)(E,1)}var it=ge(8505),Be=ge(8421);function Ue(E){return(0,Ve.e)((D,P)=>{let pe,N=null,G=!1;N=D.subscribe((0,w.x)(P,void 0,void 0,Fe=>{pe=(0,Be.Xf)(E(Fe,Ue(E)(D))),N?(N.unsubscribe(),N=null,pe.subscribe(P)):G=!0})),G&&(N.unsubscribe(),N=null,pe.subscribe(P))})}function ht(E,D,P,N,G){return(pe,Fe)=>{let et=P,Mt=D,on=0;pe.subscribe((0,w.x)(Fe,Ht=>{const nt=on++;Mt=et?E(Mt,Ht,nt):(et=!0,Ht),N&&Fe.next(Mt)},G&&(()=>{et&&Fe.next(Mt),Fe.complete()})))}}function Lt(E,D){return(0,Ve.e)(ht(E,D,arguments.length>=2,!0))}function $e(E){return E<=0?()=>Ee.E:(0,Ve.e)((D,P)=>{let N=[];D.subscribe((0,w.x)(P,G=>{N.push(G),E<N.length&&N.shift()},()=>{for(const G of N)P.next(G);P.complete()},void 0,()=>{N=null}))})}function Ke(E,D){const P=arguments.length>=2;return N=>N.pipe(E?(0,B.h)((G,pe)=>E(G,pe,N)):s.y,$e(1),P?re(D):me(()=>new Te))}function ze(E){return(0,Ve.e)((D,P)=>{try{D.subscribe(P)}finally{P.add(E)}})}var Xe=ge(1481);const Ne="primary",yt=Symbol("RouteTitle");class ot{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const P=this.params[D];return Array.isArray(P)?P[0]:P}return null}getAll(D){if(this.has(D)){const P=this.params[D];return Array.isArray(P)?P:[P]}return[]}get keys(){return Object.keys(this.params)}}function Ct(E){return new ot(E)}function Pt(E,D,P){const N=P.path.split("/");if(N.length>E.length||"full"===P.pathMatch&&(D.hasChildren()||N.length<E.length))return null;const G={};for(let pe=0;pe<N.length;pe++){const Fe=N[pe],et=E[pe];if(Fe.startsWith(":"))G[Fe.substring(1)]=et;else if(Fe!==et.path)return null}return{consumed:E.slice(0,N.length),posParams:G}}function Tn(E,D){const P=E?Object.keys(E):void 0,N=D?Object.keys(D):void 0;if(!P||!N||P.length!=N.length)return!1;let G;for(let pe=0;pe<P.length;pe++)if(G=P[pe],!Jn(E[G],D[G]))return!1;return!0}function Jn(E,D){if(Array.isArray(E)&&Array.isArray(D)){if(E.length!==D.length)return!1;const P=[...E].sort(),N=[...D].sort();return P.every((G,pe)=>N[pe]===G)}return E===D}function Nt(E){return Array.prototype.concat.apply([],E)}function Ye(E){return E.length>0?E[E.length-1]:null}function Bt(E,D){for(const P in E)E.hasOwnProperty(P)&&D(E[P],P)}function Kt(E){return(0,f.CqO)(E)?E:(0,f.QGY)(E)?(0,te.D)(Promise.resolve(E)):(0,le.of)(E)}const Rn={exact:function Li(E,D,P){if(!rr(E.segments,D.segments)||!Wi(E.segments,D.segments,P)||E.numberOfChildren!==D.numberOfChildren)return!1;for(const N in D.children)if(!E.children[N]||!Li(E.children[N],D.children[N],P))return!1;return!0},subset:nr},ri={exact:function di(E,D){return Tn(E,D)},subset:function _i(E,D){return Object.keys(D).length<=Object.keys(E).length&&Object.keys(D).every(P=>Jn(E[P],D[P]))},ignored:()=>!0};function Ri(E,D,P){return Rn[P.paths](E.root,D.root,P.matrixParams)&&ri[P.queryParams](E.queryParams,D.queryParams)&&!("exact"===P.fragment&&E.fragment!==D.fragment)}function nr(E,D,P){return Pi(E,D,D.segments,P)}function Pi(E,D,P,N){if(E.segments.length>P.length){const G=E.segments.slice(0,P.length);return!(!rr(G,P)||D.hasChildren()||!Wi(G,P,N))}if(E.segments.length===P.length){if(!rr(E.segments,P)||!Wi(E.segments,P,N))return!1;for(const G in D.children)if(!E.children[G]||!nr(E.children[G],D.children[G],N))return!1;return!0}{const G=P.slice(0,E.segments.length),pe=P.slice(E.segments.length);return!!(rr(E.segments,G)&&Wi(E.segments,G,N)&&E.children[Ne])&&Pi(E.children[Ne],D,pe,N)}}function Wi(E,D,P){return D.every((N,G)=>ri[P](E[G].parameters,N.parameters))}class ji{constructor(D,P,N){this.root=D,this.queryParams=P,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ct(this.queryParams)),this._queryParamMap}toString(){return Ni.serialize(this)}}class Kn{constructor(D,P){this.segments=D,this.children=P,this.parent=null,Bt(P,(N,G)=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vt(this)}}class ir{constructor(D,P){this.path=D,this.parameters=P}get parameterMap(){return this._parameterMap||(this._parameterMap=Ct(this.parameters)),this._parameterMap}toString(){return gi(this)}}function rr(E,D){return E.length===D.length&&E.every((P,N)=>P.path===D[N].path)}let as=(()=>{class E{}return E.\u0275fac=function(P){return new(P||E)},E.\u0275prov=f.Yz7({token:E,factory:function(){return new Xs},providedIn:"root"}),E})();class Xs{parse(D){const P=new Xr(D);return new ji(P.parseRootSegment(),P.parseQueryParams(),P.parseFragment())}serialize(D){const P=`/${Dt(D.root,!0)}`,N=function dr(E){const D=Object.keys(E).map(P=>{const N=E[P];return Array.isArray(N)?N.map(G=>`${Wt(P)}=${Wt(G)}`).join("&"):`${Wt(P)}=${Wt(N)}`}).filter(P=>!!P);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${P}${N}${"string"==typeof D.fragment?`#${function pn(E){return encodeURI(E)}(D.fragment)}`:""}`}}const Ni=new Xs;function Vt(E){return E.segments.map(D=>gi(D)).join("/")}function Dt(E,D){if(!E.hasChildren())return Vt(E);if(D){const P=E.children[Ne]?Dt(E.children[Ne],!1):"",N=[];return Bt(E.children,(G,pe)=>{pe!==Ne&&N.push(`${pe}:${Dt(G,!1)}`)}),N.length>0?`${P}(${N.join("//")})`:P}{const P=function Yr(E,D){let P=[];return Bt(E.children,(N,G)=>{G===Ne&&(P=P.concat(D(N,G)))}),Bt(E.children,(N,G)=>{G!==Ne&&(P=P.concat(D(N,G)))}),P}(E,(N,G)=>G===Ne?[Dt(E.children[Ne],!1)]:[`${G}:${Dt(N,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[Ne]?`${Vt(E)}/${P[0]}`:`${Vt(E)}/(${P.join("//")})`}}function wt(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wt(E){return wt(E).replace(/%3B/gi,";")}function sn(E){return wt(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fn(E){return decodeURIComponent(E)}function li(E){return Fn(E.replace(/\+/g,"%20"))}function gi(E){return`${sn(E.path)}${function Fs(E){return Object.keys(E).map(D=>`;${sn(D)}=${sn(E[D])}`).join("")}(E.parameters)}`}const As=/^[^\/()?;=#]+/;function Gi(E){const D=E.match(As);return D?D[0]:""}const na=/^[^=?&#]+/,vi=/^[^&#]+/;class Xr{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kn([],{}):new Kn([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let P={};this.peekStartsWith("/(")&&(this.capture("/"),P=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(D.length>0||Object.keys(P).length>0)&&(N[Ne]=new Kn(D,P)),N}parseSegment(){const D=Gi(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new f.vHH(4009,!1);return this.capture(D),new ir(Fn(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const P=Gi(this.remaining);if(!P)return;this.capture(P);let N="";if(this.consumeOptional("=")){const G=Gi(this.remaining);G&&(N=G,this.capture(N))}D[Fn(P)]=Fn(N)}parseQueryParam(D){const P=function ia(E){const D=E.match(na);return D?D[0]:""}(this.remaining);if(!P)return;this.capture(P);let N="";if(this.consumeOptional("=")){const Fe=function mo(E){const D=E.match(vi);return D?D[0]:""}(this.remaining);Fe&&(N=Fe,this.capture(N))}const G=li(P),pe=li(N);if(D.hasOwnProperty(G)){let Fe=D[G];Array.isArray(Fe)||(Fe=[Fe],D[G]=Fe),Fe.push(pe)}else D[G]=pe}parseParens(D){const P={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=Gi(this.remaining),G=this.remaining[N.length];if("/"!==G&&")"!==G&&";"!==G)throw new f.vHH(4010,!1);let pe;N.indexOf(":")>-1?(pe=N.slice(0,N.indexOf(":")),this.capture(pe),this.capture(":")):D&&(pe=Ne);const Fe=this.parseChildren();P[pe]=1===Object.keys(Fe).length?Fe[Ne]:new Kn([],Fe),this.consumeOptional("//")}return P}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new f.vHH(4011,!1)}}function Ks(E){return E.segments.length>0?new Kn([],{[Ne]:E}):E}function Kr(E){const D={};for(const N of Object.keys(E.children)){const pe=Kr(E.children[N]);(pe.segments.length>0||pe.hasChildren())&&(D[N]=pe)}return function Hr(E){if(1===E.numberOfChildren&&E.children[Ne]){const D=E.children[Ne];return new Kn(E.segments.concat(D.segments),D.children)}return E}(new Kn(E.segments,D))}function xs(E){return E instanceof ji}function qi(E,D,P,N,G){if(0===P.length)return Ps(D.root,D.root,D.root,N,G);const pe=function Bo(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new vo(!0,0,E);let D=0,P=!1;const N=E.reduce((G,pe,Fe)=>{if("object"==typeof pe&&null!=pe){if(pe.outlets){const et={};return Bt(pe.outlets,(Mt,on)=>{et[on]="string"==typeof Mt?Mt.split("/"):Mt}),[...G,{outlets:et}]}if(pe.segmentPath)return[...G,pe.segmentPath]}return"string"!=typeof pe?[...G,pe]:0===Fe?(pe.split("/").forEach((et,Mt)=>{0==Mt&&"."===et||(0==Mt&&""===et?P=!0:".."===et?D++:""!=et&&G.push(et))}),G):[...G,pe]},[]);return new vo(P,D,N)}(P);return pe.toRoot()?Ps(D.root,D.root,new Kn([],{}),N,G):function Fe(Mt){const on=function jo(E,D,P,N){if(E.isAbsolute)return new Zr(D.root,!0,0);if(-1===N)return new Zr(P,P===D.root,0);return function ls(E,D,P){let N=E,G=D,pe=P;for(;pe>G;){if(pe-=G,N=N.parent,!N)throw new f.vHH(4005,!1);G=N.segments.length}return new Zr(N,!1,G-pe)}(P,N+(Zs(E.commands[0])?0:1),E.numberOfDoubleDots)}(pe,D,E.snapshot?._urlSegment,Mt),Ht=on.processChildren?us(on.segmentGroup,on.index,pe.commands):yo(on.segmentGroup,on.index,pe.commands);return Ps(D.root,on.segmentGroup,Ht,N,G)}(E.snapshot?._lastPathIndex)}function Zs(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function No(E){return"object"==typeof E&&null!=E&&E.outlets}function Ps(E,D,P,N,G){let Fe,pe={};N&&Bt(N,(Mt,on)=>{pe[on]=Array.isArray(Mt)?Mt.map(Ht=>`${Ht}`):`${Mt}`}),Fe=E===D?P:ra(E,D,P);const et=Ks(Kr(Fe));return new ji(et,pe,G)}function ra(E,D,P){const N={};return Bt(E.children,(G,pe)=>{N[pe]=G===D?P:ra(G,D,P)}),new Kn(E.segments,N)}class vo{constructor(D,P,N){if(this.isAbsolute=D,this.numberOfDoubleDots=P,this.commands=N,D&&N.length>0&&Zs(N[0]))throw new f.vHH(4003,!1);const G=N.find(No);if(G&&G!==Ye(N))throw new f.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zr{constructor(D,P,N){this.segmentGroup=D,this.processChildren=P,this.index=N}}function yo(E,D,P){if(E||(E=new Kn([],{})),0===E.segments.length&&E.hasChildren())return us(E,D,P);const N=function $a(E,D,P){let N=0,G=D;const pe={match:!1,pathIndex:0,commandIndex:0};for(;G<E.segments.length;){if(N>=P.length)return pe;const Fe=E.segments[G],et=P[N];if(No(et))break;const Mt=`${et}`,on=N<P.length-1?P[N+1]:null;if(G>0&&void 0===Mt)break;if(Mt&&on&&"object"==typeof on&&void 0===on.outlets){if(!tc(Mt,on,Fe))return pe;N+=2}else{if(!tc(Mt,{},Fe))return pe;N++}G++}return{match:!0,pathIndex:G,commandIndex:N}}(E,D,P),G=P.slice(N.commandIndex);if(N.match&&N.pathIndex<E.segments.length){const pe=new Kn(E.segments.slice(0,N.pathIndex),{});return pe.children[Ne]=new Kn(E.segments.slice(N.pathIndex),E.children),us(pe,0,G)}return N.match&&0===G.length?new Kn(E.segments,{}):N.match&&!E.hasChildren()?Es(E,D,P):N.match?us(E,0,G):Es(E,D,P)}function us(E,D,P){if(0===P.length)return new Kn(E.segments,{});{const N=function cs(E){return No(E[0])?E[0].outlets:{[Ne]:E}}(P),G={};return Bt(N,(pe,Fe)=>{"string"==typeof pe&&(pe=[pe]),null!==pe&&(G[Fe]=yo(E.children[Fe],D,pe))}),Bt(E.children,(pe,Fe)=>{void 0===N[Fe]&&(G[Fe]=pe)}),new Kn(E.segments,G)}}function Es(E,D,P){const N=E.segments.slice(0,D);let G=0;for(;G<P.length;){const pe=P[G];if(No(pe)){const Mt=Rs(pe.outlets);return new Kn(N,Mt)}if(0===G&&Zs(P[0])){N.push(new ir(E.segments[D].path,bl(P[0]))),G++;continue}const Fe=No(pe)?pe.outlets[Ne]:`${pe}`,et=G<P.length-1?P[G+1]:null;Fe&&et&&Zs(et)?(N.push(new ir(Fe,bl(et))),G+=2):(N.push(new ir(Fe,{})),G++)}return new Kn(N,{})}function Rs(E){const D={};return Bt(E,(P,N)=>{"string"==typeof P&&(P=[P]),null!==P&&(D[N]=Es(new Kn([],{}),0,P))}),D}function bl(E){const D={};return Bt(E,(P,N)=>D[N]=`${P}`),D}function tc(E,D,P){return E==P.path&&Tn(D,P.parameters)}class gs{constructor(D,P){this.id=D,this.url=P}}class wl extends gs{constructor(D,P,N="imperative",G=null){super(D,P),this.type=0,this.navigationTrigger=N,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ns extends gs{constructor(D,P,N){super(D,P),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Cl extends gs{constructor(D,P,N,G){super(D,P),this.reason=N,this.code=G,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fc extends gs{constructor(D,P,N,G){super(D,P),this.error=N,this.target=G,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vu extends gs{constructor(D,P,N,G){super(D,P),this.urlAfterRedirects=N,this.state=G,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ea extends gs{constructor(D,P,N,G){super(D,P),this.urlAfterRedirects=N,this.state=G,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yu extends gs{constructor(D,P,N,G,pe){super(D,P),this.urlAfterRedirects=N,this.state=G,this.shouldActivate=pe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _u extends gs{constructor(D,P,N,G){super(D,P),this.urlAfterRedirects=N,this.state=G,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rc extends gs{constructor(D,P,N,G){super(D,P),this.urlAfterRedirects=N,this.state=G,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qa{constructor(D){this.route=D,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bu{constructor(D){this.route=D,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Nc{constructor(D){this.snapshot=D,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wu{constructor(D){this.snapshot=D,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sl{constructor(D){this.snapshot=D,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sa{constructor(D){this.snapshot=D,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oa{constructor(D,P,N){this.routerEvent=D,this.position=P,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Uo{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const P=this.pathFromRoot(D);return P.length>1?P[P.length-2]:null}children(D){const P=aa(D,this._root);return P?P.children.map(N=>N.value):[]}firstChild(D){const P=aa(D,this._root);return P&&P.children.length>0?P.children[0].value:null}siblings(D){const P=Ds(D,this._root);return P.length<2?[]:P[P.length-2].children.map(G=>G.value).filter(G=>G!==D)}pathFromRoot(D){return Ds(D,this._root).map(P=>P.value)}}function aa(E,D){if(E===D.value)return D;for(const P of D.children){const N=aa(E,P);if(N)return N}return null}function Ds(E,D){if(E===D.value)return[D];for(const P of D.children){const N=Ds(E,P);if(N.length)return N.unshift(D),N}return[]}class ms{constructor(D,P){this.value=D,this.children=P}toString(){return`TreeNode(${this.value})`}}function Vs(E){const D={};return E&&E.children.forEach(P=>D[P.value.outlet]=P),D}class Ya extends Uo{constructor(D,P){super(D),this.snapshot=P,Qr(this,D)}toString(){return this.snapshot.toString()}}function Xa(E,D){const P=function jc(E,D){const Fe=new Ui([],{},{},"",{},Ne,D,null,E.root,-1,{});return new Za("",new ms(Fe,[]))}(E,D),N=new Qe.X([new ir("",{})]),G=new Qe.X({}),pe=new Qe.X({}),Fe=new Qe.X({}),et=new Qe.X(""),Mt=new _o(N,G,Fe,et,pe,Ne,D,P.root);return Mt.snapshot=P.root,new Ya(new ms(Mt,[]),P)}class _o{constructor(D,P,N,G,pe,Fe,et,Mt){this.url=D,this.params=P,this.queryParams=N,this.fragment=G,this.data=pe,this.outlet=Fe,this.component=et,this.title=this.data?.pipe((0,R.U)(on=>on[yt]))??(0,le.of)(void 0),this._futureSnapshot=Mt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,R.U)(D=>Ct(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,R.U)(D=>Ct(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ii(E,D="emptyOnly"){const P=E.pathFromRoot;let N=0;if("always"!==D)for(N=P.length-1;N>=1;){const G=P[N],pe=P[N-1];if(G.routeConfig&&""===G.routeConfig.path)N--;else{if(pe.component)break;N--}}return function Ka(E){return E.reduce((D,P)=>({params:{...D.params,...P.params},data:{...D.data,...P.data},resolve:{...P.data,...D.resolve,...P.routeConfig?.data,...P._resolvedData}}),{params:{},data:{},resolve:{}})}(P.slice(N))}class Ui{constructor(D,P,N,G,pe,Fe,et,Mt,on,Ht,nt,$n){this.url=D,this.params=P,this.queryParams=N,this.fragment=G,this.data=pe,this.outlet=Fe,this.component=et,this.title=this.data?.[yt],this.routeConfig=Mt,this._urlSegment=on,this._lastPathIndex=Ht,this._correctedLastPathIndex=$n??Ht,this._resolve=nt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ct(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ct(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Za extends Uo{constructor(D,P){super(P),this.url=D,Qr(this,P)}toString(){return Ts(this._root)}}function Qr(E,D){D.value._routerState=E,D.children.forEach(P=>Qr(E,P))}function Ts(E){const D=E.children.length>0?` { ${E.children.map(Ts).join(", ")} } `:"";return`${E.value}${D}`}function bo(E){if(E.snapshot){const D=E.snapshot,P=E._futureSnapshot;E.snapshot=P,Tn(D.queryParams,P.queryParams)||E.queryParams.next(P.queryParams),D.fragment!==P.fragment&&E.fragment.next(P.fragment),Tn(D.params,P.params)||E.params.next(P.params),function Gt(E,D){if(E.length!==D.length)return!1;for(let P=0;P<E.length;++P)if(!Tn(E[P],D[P]))return!1;return!0}(D.url,P.url)||E.url.next(P.url),Tn(D.data,P.data)||E.data.next(P.data)}else E.snapshot=E._futureSnapshot,E.data.next(E._futureSnapshot.data)}function wo(E,D){const P=Tn(E.params,D.params)&&function Er(E,D){return rr(E,D)&&E.every((P,N)=>Tn(P.parameters,D[N].parameters))}(E.url,D.url);return P&&!(!E.parent!=!D.parent)&&(!E.parent||wo(E.parent,D.parent))}function Vo(E,D,P){if(P&&E.shouldReuseRoute(D.value,P.value.snapshot)){const N=P.value;N._futureSnapshot=D.value;const G=function pr(E,D,P){return D.children.map(N=>{for(const G of P.children)if(E.shouldReuseRoute(N.value,G.value.snapshot))return Vo(E,N,G);return Vo(E,N)})}(E,D,P);return new ms(N,G)}{if(E.shouldAttach(D.value)){const pe=E.retrieve(D.value);if(null!==pe){const Fe=pe.route;return Fe.value._futureSnapshot=D.value,Fe.children=D.children.map(et=>Vo(E,et)),Fe}}const N=function Ho(E){return new _o(new Qe.X(E.url),new Qe.X(E.params),new Qe.X(E.queryParams),new Qe.X(E.fragment),new Qe.X(E.data),E.outlet,E.component,E)}(D.value),G=D.children.map(pe=>Vo(E,pe));return new ms(N,G)}}const kr="ngNavigationCancelingError";function Mi(E,D){const{redirectTo:P,navigationBehaviorOptions:N}=xs(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,G=Zi(!1,0,D);return G.url=P,G.navigationBehaviorOptions=N,G}function Zi(E,D,P){const N=new Error("NavigationCancelingError: "+(E||""));return N[kr]=!0,N.cancellationCode=D,P&&(N.url=P),N}function Cr(E){return Da(E)&&xs(E.url)}function Da(E){return E&&E[kr]}class zo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Tr,this.attachRef=null}}let Tr=(()=>{class E{constructor(){this.contexts=new Map}onChildOutletCreated(P,N){const G=this.getOrCreateContext(P);G.outlet=N,this.contexts.set(P,G)}onChildOutletDestroyed(P){const N=this.getContext(P);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const P=this.contexts;return this.contexts=new Map,P}onOutletReAttached(P){this.contexts=P}getOrCreateContext(P){let N=this.getContext(P);return N||(N=new zo,this.contexts.set(P,N)),N}getContext(P){return this.contexts.get(P)||null}}return E.\u0275fac=function(P){return new(P||E)},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Ta=!1;let Wo=(()=>{class E{constructor(P,N,G,pe,Fe){this.parentContexts=P,this.location=N,this.changeDetector=pe,this.environmentInjector=Fe,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=G||Ne,P.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const P=this.parentContexts.getContext(this.name);P&&P.route&&(P.attachRef?this.attach(P.attachRef,P.route):this.activateWith(P.route,P.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,Ta);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,Ta);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,Ta);this.location.detach();const P=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(P.instance),P}attach(P,N){this.activated=P,this._activatedRoute=N,this.location.insert(P.hostView),this.attachEvents.emit(P.instance)}deactivate(){if(this.activated){const P=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(P)}}activateWith(P,N){if(this.isActivated)throw new f.vHH(4013,Ta);this._activatedRoute=P;const G=this.location,Fe=P._futureSnapshot.component,et=this.parentContexts.getOrCreateContext(this.name).children,Mt=new Ma(P,et,G.injector);if(N&&function Js(E){return!!E.resolveComponentFactory}(N)){const on=N.resolveComponentFactory(Fe);this.activated=G.createComponent(on,G.length,Mt)}else this.activated=G.createComponent(Fe,{index:G.length,injector:Mt,environmentInjector:N??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return E.\u0275fac=function(P){return new(P||E)(f.Y36(Tr),f.Y36(f.s_b),f.$8M("name"),f.Y36(f.sBO),f.Y36(f.lqb))},E.\u0275dir=f.lG2({type:E,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),E})();class Ma{constructor(D,P,N){this.route=D,this.childContexts=P,this.parent=N}get(D,P){return D===_o?this.route:D===Tr?this.childContexts:this.parent.get(D,P)}}let Fr=(()=>{class E{}return E.\u0275fac=function(P){return new(P||E)},E.\u0275cmp=f.Xpm({type:E,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(P,N){1&P&&f._UZ(0,"router-outlet")},dependencies:[Wo],encapsulation:2}),E})();function Go(E,D){return E.providers&&!E._injector&&(E._injector=(0,f.MMx)(E.providers,D,`Route: ${E.path}`)),E._injector??D}function ni(E){const D=E.children&&E.children.map(ni),P=D?{...E,children:D}:{...E};return!P.component&&!P.loadComponent&&(D||P.loadChildren)&&P.outlet&&P.outlet!==Ne&&(P.component=Fr),P}function tn(E){return E.outlet||Ne}function Ei(E,D){const P=E.filter(N=>tn(N)===D);return P.push(...E.filter(N=>tn(N)!==D)),P}function vs(E){if(!E)return null;if(E.routeConfig?._injector)return E.routeConfig._injector;for(let D=E.parent;D;D=D.parent){const P=D.routeConfig;if(P?._loadedInjector)return P._loadedInjector;if(P?._injector)return P._injector}return null}class Xn{constructor(D,P,N,G){this.routeReuseStrategy=D,this.futureState=P,this.currState=N,this.forwardEvent=G}activate(D){const P=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(P,N,D),bo(this.futureState.root),this.activateChildRoutes(P,N,D)}deactivateChildRoutes(D,P,N){const G=Vs(P);D.children.forEach(pe=>{const Fe=pe.value.outlet;this.deactivateRoutes(pe,G[Fe],N),delete G[Fe]}),Bt(G,(pe,Fe)=>{this.deactivateRouteAndItsChildren(pe,N)})}deactivateRoutes(D,P,N){const G=D.value,pe=P?P.value:null;if(G===pe)if(G.component){const Fe=N.getContext(G.outlet);Fe&&this.deactivateChildRoutes(D,P,Fe.children)}else this.deactivateChildRoutes(D,P,N);else pe&&this.deactivateRouteAndItsChildren(P,N)}deactivateRouteAndItsChildren(D,P){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,P):this.deactivateRouteAndOutlet(D,P)}detachAndStoreRouteSubtree(D,P){const N=P.getContext(D.value.outlet),G=N&&D.value.component?N.children:P,pe=Vs(D);for(const Fe of Object.keys(pe))this.deactivateRouteAndItsChildren(pe[Fe],G);if(N&&N.outlet){const Fe=N.outlet.detach(),et=N.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:Fe,route:D,contexts:et})}}deactivateRouteAndOutlet(D,P){const N=P.getContext(D.value.outlet),G=N&&D.value.component?N.children:P,pe=Vs(D);for(const Fe of Object.keys(pe))this.deactivateRouteAndItsChildren(pe[Fe],G);N&&N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated(),N.attachRef=null,N.resolver=null,N.route=null)}activateChildRoutes(D,P,N){const G=Vs(P);D.children.forEach(pe=>{this.activateRoutes(pe,G[pe.value.outlet],N),this.forwardEvent(new sa(pe.value.snapshot))}),D.children.length&&this.forwardEvent(new wu(D.value.snapshot))}activateRoutes(D,P,N){const G=D.value,pe=P?P.value:null;if(bo(G),G===pe)if(G.component){const Fe=N.getOrCreateContext(G.outlet);this.activateChildRoutes(D,P,Fe.children)}else this.activateChildRoutes(D,P,N);else if(G.component){const Fe=N.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const et=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),Fe.children.onOutletReAttached(et.contexts),Fe.attachRef=et.componentRef,Fe.route=et.route.value,Fe.outlet&&Fe.outlet.attach(et.componentRef,et.route.value),bo(et.route.value),this.activateChildRoutes(D,null,Fe.children)}else{const et=vs(G.snapshot),Mt=et?.get(f._Vd)??null;Fe.attachRef=null,Fe.route=G,Fe.resolver=Mt,Fe.injector=et,Fe.outlet&&Fe.outlet.activateWith(G,Fe.injector),this.activateChildRoutes(D,null,Fe.children)}}else this.activateChildRoutes(D,null,N)}}class Ms{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class lr{constructor(D,P){this.component=D,this.route=P}}function ys(E,D,P){const N=E._root;return ca(N,D?D._root:null,P,[N.value])}function Jr(E,D){const P=Symbol(),N=D.get(E,P);return N===P?"function"!=typeof E||(0,f.Z0I)(E)?D.get(E):E:N}function ca(E,D,P,N,G={canDeactivateChecks:[],canActivateChecks:[]}){const pe=Vs(D);return E.children.forEach(Fe=>{(function xl(E,D,P,N,G={canDeactivateChecks:[],canActivateChecks:[]}){const pe=E.value,Fe=D?D.value:null,et=P?P.getContext(E.value.outlet):null;if(Fe&&pe.routeConfig===Fe.routeConfig){const Mt=function Sr(E,D,P){if("function"==typeof P)return P(E,D);switch(P){case"pathParamsChange":return!rr(E.url,D.url);case"pathParamsOrQueryParamsChange":return!rr(E.url,D.url)||!Tn(E.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wo(E,D)||!Tn(E.queryParams,D.queryParams);default:return!wo(E,D)}}(Fe,pe,pe.routeConfig.runGuardsAndResolvers);Mt?G.canActivateChecks.push(new Ms(N)):(pe.data=Fe.data,pe._resolvedData=Fe._resolvedData),ca(E,D,pe.component?et?et.children:null:P,N,G),Mt&&et&&et.outlet&&et.outlet.isActivated&&G.canDeactivateChecks.push(new lr(et.outlet.component,Fe))}else Fe&&Yi(D,et,G),G.canActivateChecks.push(new Ms(N)),ca(E,null,pe.component?et?et.children:null:P,N,G)})(Fe,pe[Fe.value.outlet],P,N.concat([Fe.value]),G),delete pe[Fe.value.outlet]}),Bt(pe,(Fe,et)=>Yi(Fe,P.getContext(et),G)),G}function Yi(E,D,P){const N=Vs(E),G=E.value;Bt(N,(pe,Fe)=>{Yi(pe,G.component?D?D.children.getContext(Fe):null:D,P)}),P.canDeactivateChecks.push(new lr(G.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,G))}function Si(E){return"function"==typeof E}function Yo(E){return E instanceof Te||"EmptyError"===E?.name}const to=Symbol("INITIAL_VALUE");function Wr(){return(0,H.w)(E=>C(E.map(D=>D.pipe(F(1),function j(...E){const D=(0,l.yG)(E);return(0,Ve.e)((P,N)=>{(D?fe(E,P,D):fe(E,P)).subscribe(N)})}(to)))).pipe((0,R.U)(D=>{for(const P of D)if(!0!==P){if(P===to)return to;if(!1===P||P instanceof ji)return P}return!0}),(0,B.h)(D=>D!==to),F(1)))}function Un(E){return(0,Pe.z)((0,it.b)(D=>{if(xs(D))throw Mi(0,D)}),(0,R.U)(D=>!0===D))}const si={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mi(E,D,P,N,G){const pe=Zn(E,D,P);return pe.matched?function ki(E,D,P,N){const G=D.canMatch;if(!G||0===G.length)return(0,le.of)(!0);const pe=G.map(Fe=>{const et=Jr(Fe,E);return Kt(function sc(E){return E&&Si(E.canMatch)}(et)?et.canMatch(D,P):E.runInContext(()=>et(D,P)))});return(0,le.of)(pe).pipe(Wr(),Un())}(N=Go(D,N),D,P).pipe((0,R.U)(Fe=>!0===Fe?pe:{...si})):(0,le.of)(pe)}function Zn(E,D,P){if(""===D.path)return"full"===D.pathMatch&&(E.hasChildren()||P.length>0)?{...si}:{matched:!0,consumedSegments:[],remainingSegments:P,parameters:{},positionalParamSegments:{}};const G=(D.matcher||Pt)(P,E,D);if(!G)return{...si};const pe={};Bt(G.posParams,(et,Mt)=>{pe[Mt]=et.path});const Fe=G.consumed.length>0?{...pe,...G.consumed[G.consumed.length-1].parameters}:pe;return{matched:!0,consumedSegments:G.consumed,remainingSegments:P.slice(G.consumed.length),parameters:Fe,positionalParamSegments:G.posParams??{}}}function Ln(E,D,P,N,G="corrected"){if(P.length>0&&function no(E,D,P){return P.some(N=>bs(E,D,N)&&tn(N)!==Ne)}(E,P,N)){const Fe=new Kn(D,function Rr(E,D,P,N){const G={};G[Ne]=N,N._sourceSegment=E,N._segmentIndexShift=D.length;for(const pe of P)if(""===pe.path&&tn(pe)!==Ne){const Fe=new Kn([],{});Fe._sourceSegment=E,Fe._segmentIndexShift=D.length,G[tn(pe)]=Fe}return G}(E,D,N,new Kn(P,E.children)));return Fe._sourceSegment=E,Fe._segmentIndexShift=D.length,{segmentGroup:Fe,slicedSegments:[]}}if(0===P.length&&function Mr(E,D,P){return P.some(N=>bs(E,D,N))}(E,P,N)){const Fe=new Kn(E.segments,function er(E,D,P,N,G,pe){const Fe={};for(const et of N)if(bs(E,P,et)&&!G[tn(et)]){const Mt=new Kn([],{});Mt._sourceSegment=E,Mt._segmentIndexShift="legacy"===pe?E.segments.length:D.length,Fe[tn(et)]=Mt}return{...G,...Fe}}(E,D,P,N,E.children,G));return Fe._sourceSegment=E,Fe._segmentIndexShift=D.length,{segmentGroup:Fe,slicedSegments:P}}const pe=new Kn(E.segments,E.children);return pe._sourceSegment=E,pe._segmentIndexShift=D.length,{segmentGroup:pe,slicedSegments:P}}function bs(E,D,P){return(!(E.hasChildren()||D.length>0)||"full"!==P.pathMatch)&&""===P.path}function es(E,D,P,N){return!!(tn(E)===N||N!==Ne&&bs(D,P,E))&&("**"===E.path||Zn(D,E,P).matched)}function Bs(E,D,P){return 0===D.length&&!E.children[P]}const zs=!1;class Ws{constructor(D){this.segmentGroup=D||null}}class Pl{constructor(D){this.urlTree=D}}function Oa(E){return we(new Ws(E))}function io(E){return we(new Pl(E))}class ro{constructor(D,P,N,G,pe){this.injector=D,this.configLoader=P,this.urlSerializer=N,this.urlTree=G,this.config=pe,this.allowRedirects=!0}apply(){const D=Ln(this.urlTree.root,[],[],this.config).segmentGroup,P=new Kn(D.segments,D.children);return this.expandSegmentGroup(this.injector,this.config,P,Ne).pipe((0,R.U)(pe=>this.createUrlTree(Kr(pe),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ue(pe=>{if(pe instanceof Pl)return this.allowRedirects=!1,this.match(pe.urlTree);throw pe instanceof Ws?this.noMatchError(pe):pe}))}match(D){return this.expandSegmentGroup(this.injector,this.config,D.root,Ne).pipe((0,R.U)(G=>this.createUrlTree(Kr(G),D.queryParams,D.fragment))).pipe(Ue(G=>{throw G instanceof Ws?this.noMatchError(G):G}))}noMatchError(D){return new f.vHH(4002,zs)}createUrlTree(D,P,N){const G=Ks(D);return new ji(G,P,N)}expandSegmentGroup(D,P,N,G){return 0===N.segments.length&&N.hasChildren()?this.expandChildren(D,P,N).pipe((0,R.U)(pe=>new Kn([],pe))):this.expandSegment(D,N,P,N.segments,G,!0)}expandChildren(D,P,N){const G=[];for(const pe of Object.keys(N.children))"primary"===pe?G.unshift(pe):G.push(pe);return(0,te.D)(G).pipe(We(pe=>{const Fe=N.children[pe],et=Ei(P,pe);return this.expandSegmentGroup(D,et,Fe,pe).pipe((0,R.U)(Mt=>({segment:Mt,outlet:pe})))}),Lt((pe,Fe)=>(pe[Fe.outlet]=Fe.segment,pe),{}),Ke())}expandSegment(D,P,N,G,pe,Fe){return(0,te.D)(N).pipe(We(et=>this.expandSegmentAgainstRoute(D,P,N,et,G,pe,Fe).pipe(Ue(on=>{if(on instanceof Ws)return(0,le.of)(null);throw on}))),je(et=>!!et),Ue((et,Mt)=>{if(Yo(et))return Bs(P,G,pe)?(0,le.of)(new Kn([],{})):Oa(P);throw et}))}expandSegmentAgainstRoute(D,P,N,G,pe,Fe,et){return es(G,P,pe,Fe)?void 0===G.redirectTo?this.matchSegmentAgainstRoute(D,P,G,pe,Fe):et&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,P,N,G,pe,Fe):Oa(P):Oa(P)}expandSegmentAgainstRouteUsingRedirect(D,P,N,G,pe,Fe){return"**"===G.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,N,G,Fe):this.expandRegularSegmentAgainstRouteUsingRedirect(D,P,N,G,pe,Fe)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,P,N,G){const pe=this.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?io(pe):this.lineralizeSegments(N,pe).pipe((0,J.z)(Fe=>{const et=new Kn(Fe,{});return this.expandSegment(D,et,P,Fe,G,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,P,N,G,pe,Fe){const{matched:et,consumedSegments:Mt,remainingSegments:on,positionalParamSegments:Ht}=Zn(P,G,pe);if(!et)return Oa(P);const nt=this.applyRedirectCommands(Mt,G.redirectTo,Ht);return G.redirectTo.startsWith("/")?io(nt):this.lineralizeSegments(G,nt).pipe((0,J.z)($n=>this.expandSegment(D,P,N,$n.concat(on),Fe,!1)))}matchSegmentAgainstRoute(D,P,N,G,pe){return"**"===N.path?(D=Go(N,D),N.loadChildren?(N._loadedRoutes?(0,le.of)({routes:N._loadedRoutes,injector:N._loadedInjector}):this.configLoader.loadChildren(D,N)).pipe((0,R.U)(et=>(N._loadedRoutes=et.routes,N._loadedInjector=et.injector,new Kn(G,{})))):(0,le.of)(new Kn(G,{}))):mi(P,N,G,D).pipe((0,H.w)(({matched:Fe,consumedSegments:et,remainingSegments:Mt})=>Fe?this.getChildConfig(D=N._injector??D,N,G).pipe((0,J.z)(Ht=>{const nt=Ht.injector??D,$n=Ht.routes,{segmentGroup:Wn,slicedSegments:Dn}=Ln(P,et,Mt,$n),On=new Kn(Wn.segments,Wn.children);if(0===Dn.length&&On.hasChildren())return this.expandChildren(nt,$n,On).pipe((0,R.U)(bi=>new Kn(et,bi)));if(0===$n.length&&0===Dn.length)return(0,le.of)(new Kn(et,{}));const kn=tn(N)===pe;return this.expandSegment(nt,On,$n,Dn,kn?Ne:pe,!0).pipe((0,R.U)(Bn=>new Kn(et.concat(Bn.segments),Bn.children)))})):Oa(P)))}getChildConfig(D,P,N){return P.children?(0,le.of)({routes:P.children,injector:D}):P.loadChildren?void 0!==P._loadedRoutes?(0,le.of)({routes:P._loadedRoutes,injector:P._loadedInjector}):function _n(E,D,P,N){const G=D.canLoad;if(void 0===G||0===G.length)return(0,le.of)(!0);const pe=G.map(Fe=>{const et=Jr(Fe,E);return Kt(function ic(E){return E&&Si(E.canLoad)}(et)?et.canLoad(D,P):E.runInContext(()=>et(D,P)))});return(0,le.of)(pe).pipe(Wr(),Un())}(D,P,N).pipe((0,J.z)(G=>G?this.configLoader.loadChildren(D,P).pipe((0,it.b)(pe=>{P._loadedRoutes=pe.routes,P._loadedInjector=pe.injector})):function Cu(E){return we(Zi(zs,3))}())):(0,le.of)({routes:[],injector:D})}lineralizeSegments(D,P){let N=[],G=P.root;for(;;){if(N=N.concat(G.segments),0===G.numberOfChildren)return(0,le.of)(N);if(G.numberOfChildren>1||!G.children[Ne])return we(new f.vHH(4e3,zs));G=G.children[Ne]}}applyRedirectCommands(D,P,N){return this.applyRedirectCreateUrlTree(P,this.urlSerializer.parse(P),D,N)}applyRedirectCreateUrlTree(D,P,N,G){const pe=this.createSegmentGroup(D,P.root,N,G);return new ji(pe,this.createQueryParams(P.queryParams,this.urlTree.queryParams),P.fragment)}createQueryParams(D,P){const N={};return Bt(D,(G,pe)=>{if("string"==typeof G&&G.startsWith(":")){const et=G.substring(1);N[pe]=P[et]}else N[pe]=G}),N}createSegmentGroup(D,P,N,G){const pe=this.createSegments(D,P.segments,N,G);let Fe={};return Bt(P.children,(et,Mt)=>{Fe[Mt]=this.createSegmentGroup(D,et,N,G)}),new Kn(pe,Fe)}createSegments(D,P,N,G){return P.map(pe=>pe.path.startsWith(":")?this.findPosParam(D,pe,G):this.findOrReturn(pe,N))}findPosParam(D,P,N){const G=N[P.path.substring(1)];if(!G)throw new f.vHH(4001,zs);return G}findOrReturn(D,P){let N=0;for(const G of P){if(G.path===D.path)return P.splice(N),G;N++}return D}}class Vc{}class Ao{constructor(D,P,N,G,pe,Fe,et,Mt){this.injector=D,this.rootComponentType=P,this.config=N,this.urlTree=G,this.url=pe,this.paramsInheritanceStrategy=Fe,this.relativeLinkResolution=et,this.urlSerializer=Mt}recognize(){const D=Ln(this.urlTree.root,[],[],this.config.filter(P=>void 0===P.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,D,Ne).pipe((0,R.U)(P=>{if(null===P)return null;const N=new Ui([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ne,this.rootComponentType,null,this.urlTree.root,-1,{}),G=new ms(N,P),pe=new Za(this.url,G);return this.inheritParamsAndData(pe._root),pe}))}inheritParamsAndData(D){const P=D.value,N=ii(P,this.paramsInheritanceStrategy);P.params=Object.freeze(N.params),P.data=Object.freeze(N.data),D.children.forEach(G=>this.inheritParamsAndData(G))}processSegmentGroup(D,P,N,G){return 0===N.segments.length&&N.hasChildren()?this.processChildren(D,P,N):this.processSegment(D,P,N,N.segments,G)}processChildren(D,P,N){return(0,te.D)(Object.keys(N.children)).pipe(We(G=>{const pe=N.children[G],Fe=Ei(P,G);return this.processSegmentGroup(D,Fe,pe,G)}),Lt((G,pe)=>G&&pe?(G.push(...pe),G):null),function pt(E,D=!1){return(0,Ve.e)((P,N)=>{let G=0;P.subscribe((0,w.x)(N,pe=>{const Fe=E(pe,G++);(Fe||D)&&N.next(pe),!Fe&&N.complete()}))})}(G=>null!==G),re(null),Ke(),(0,R.U)(G=>{if(null===G)return null;const pe=K(G);return function Ja(E){E.sort((D,P)=>D.value.outlet===Ne?-1:P.value.outlet===Ne?1:D.value.outlet.localeCompare(P.value.outlet))}(pe),pe}))}processSegment(D,P,N,G,pe){return(0,te.D)(P).pipe(We(Fe=>this.processSegmentAgainstRoute(Fe._injector??D,Fe,N,G,pe)),je(Fe=>!!Fe),Ue(Fe=>{if(Yo(Fe))return Bs(N,G,pe)?(0,le.of)([]):(0,le.of)(null);throw Fe}))}processSegmentAgainstRoute(D,P,N,G,pe){if(P.redirectTo||!es(P,N,G,pe))return(0,le.of)(null);let Fe;if("**"===P.path){const et=G.length>0?Ye(G).parameters:{},Mt=un(N)+G.length,on=new Ui(G,et,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Bi(P),tn(P),P.component??P._loadedComponent??null,P,_t(N),Mt,hs(P),Mt);Fe=(0,le.of)({snapshot:on,consumedSegments:[],remainingSegments:[]})}else Fe=mi(N,P,G,D).pipe((0,R.U)(({matched:et,consumedSegments:Mt,remainingSegments:on,parameters:Ht})=>{if(!et)return null;const nt=un(N)+Mt.length;return{snapshot:new Ui(Mt,Ht,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Bi(P),tn(P),P.component??P._loadedComponent??null,P,_t(N),nt,hs(P),nt),consumedSegments:Mt,remainingSegments:on}}));return Fe.pipe((0,H.w)(et=>{if(null===et)return(0,le.of)(null);const{snapshot:Mt,consumedSegments:on,remainingSegments:Ht}=et;D=P._injector??D;const nt=P._loadedInjector??D,$n=function ka(E){return E.children?E.children:E.loadChildren?E._loadedRoutes:[]}(P),{segmentGroup:Wn,slicedSegments:Dn}=Ln(N,on,Ht,$n.filter(kn=>void 0===kn.redirectTo),this.relativeLinkResolution);if(0===Dn.length&&Wn.hasChildren())return this.processChildren(nt,$n,Wn).pipe((0,R.U)(kn=>null===kn?null:[new ms(Mt,kn)]));if(0===$n.length&&0===Dn.length)return(0,le.of)([new ms(Mt,[])]);const On=tn(P)===pe;return this.processSegment(nt,$n,Wn,Dn,On?Ne:pe).pipe((0,R.U)(kn=>null===kn?null:[new ms(Mt,kn)]))}))}}function X(E){const D=E.value.routeConfig;return D&&""===D.path&&void 0===D.redirectTo}function K(E){const D=[],P=new Set;for(const N of E){if(!X(N)){D.push(N);continue}const G=D.find(pe=>N.value.routeConfig===pe.value.routeConfig);void 0!==G?(G.children.push(...N.children),P.add(G)):D.push(N)}for(const N of P){const G=K(N.children);D.push(new ms(N.value,G))}return D.filter(N=>!P.has(N))}function _t(E){let D=E;for(;D._sourceSegment;)D=D._sourceSegment;return D}function un(E){let D=E,P=D._segmentIndexShift??0;for(;D._sourceSegment;)D=D._sourceSegment,P+=D._segmentIndexShift??0;return P-1}function Bi(E){return E.data||{}}function hs(E){return E.resolve||{}}function el(E){return"string"==typeof E.title||null===E.title}function Dl(E){return(0,H.w)(D=>{const P=E(D);return P?(0,te.D)(P).pipe((0,R.U)(()=>D)):(0,le.of)(D)})}let zc=(()=>{class E{buildTitle(P){let N,G=P.root;for(;void 0!==G;)N=this.getResolvedTitleForRoute(G)??N,G=G.children.find(pe=>pe.outlet===Ne);return N}getResolvedTitleForRoute(P){return P.data[yt]}}return E.\u0275fac=function(P){return new(P||E)},E.\u0275prov=f.Yz7({token:E,factory:function(){return(0,f.f3M)(cc)},providedIn:"root"}),E})(),cc=(()=>{class E extends zc{constructor(P){super(),this.title=P}updateTitle(P){const N=this.buildTitle(P);void 0!==N&&this.title.setTitle(N)}}return E.\u0275fac=function(P){return new(P||E)(f.LFG(Xe.Dx))},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();class Ad{}class vh extends class mh{shouldDetach(D){return!1}store(D,P){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,P){return D.routeConfig===P.routeConfig}}{}const Tl=new f.OlP("",{providedIn:"root",factory:()=>({})}),Ml=new f.OlP("ROUTES");let tl=(()=>{class E{constructor(P,N){this.injector=P,this.compiler=N,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(P){if(this.componentLoaders.get(P))return this.componentLoaders.get(P);if(P._loadedComponent)return(0,le.of)(P._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(P);const N=Kt(P.loadComponent()).pipe((0,it.b)(pe=>{this.onLoadEndListener&&this.onLoadEndListener(P),P._loadedComponent=pe}),ze(()=>{this.componentLoaders.delete(P)})),G=new dt(N,()=>new he.x).pipe(Ze());return this.componentLoaders.set(P,G),G}loadChildren(P,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,le.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const pe=this.loadModuleFactoryOrRoutes(N.loadChildren).pipe((0,R.U)(et=>{this.onLoadEndListener&&this.onLoadEndListener(N);let Mt,on,Ht=!1;Array.isArray(et)?on=et:(Mt=et.create(P).injector,on=Nt(Mt.get(Ml,[],f.XFs.Self|f.XFs.Optional)));return{routes:on.map(ni),injector:Mt}}),ze(()=>{this.childrenLoaders.delete(N)})),Fe=new dt(pe,()=>new he.x).pipe(Ze());return this.childrenLoaders.set(N,Fe),Fe}loadModuleFactoryOrRoutes(P){return Kt(P()).pipe((0,J.z)(N=>N instanceof f.YKP||Array.isArray(N)?(0,le.of)(N):(0,te.D)(this.compiler.compileModuleAsync(N))))}}return E.\u0275fac=function(P){return new(P||E)(f.LFG(f.zs3),f.LFG(f.Sil))},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();class xd{}class bh{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,P){return D}}function Ll(E){throw E}function Df(E,D,P){return D.parse("/")}const nl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wh={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function xu(){const E=(0,f.f3M)(as),D=(0,f.f3M)(Tr),P=(0,f.f3M)(ie.Ye),N=(0,f.f3M)(f.zs3),G=(0,f.f3M)(f.Sil),pe=(0,f.f3M)(Ml,{optional:!0})??[],Fe=(0,f.f3M)(Tl,{optional:!0})??{},et=(0,f.f3M)(cc),Mt=(0,f.f3M)(zc,{optional:!0}),on=(0,f.f3M)(xd,{optional:!0}),Ht=(0,f.f3M)(Ad,{optional:!0}),nt=new Nr(null,E,D,P,N,G,Nt(pe));return on&&(nt.urlHandlingStrategy=on),Ht&&(nt.routeReuseStrategy=Ht),nt.titleStrategy=Mt??et,function Pd(E,D){E.errorHandler&&(D.errorHandler=E.errorHandler),E.malformedUriErrorHandler&&(D.malformedUriErrorHandler=E.malformedUriErrorHandler),E.onSameUrlNavigation&&(D.onSameUrlNavigation=E.onSameUrlNavigation),E.paramsInheritanceStrategy&&(D.paramsInheritanceStrategy=E.paramsInheritanceStrategy),E.relativeLinkResolution&&(D.relativeLinkResolution=E.relativeLinkResolution),E.urlUpdateStrategy&&(D.urlUpdateStrategy=E.urlUpdateStrategy),E.canceledNavigationResolution&&(D.canceledNavigationResolution=E.canceledNavigationResolution)}(Fe,nt),nt}let Nr=(()=>{class E{constructor(P,N,G,pe,Fe,et,Mt){this.rootComponentType=P,this.urlSerializer=N,this.rootContexts=G,this.location=pe,this.config=Mt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new he.x,this.errorHandler=Ll,this.malformedUriErrorHandler=Df,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,le.of)(void 0),this.urlHandlingStrategy=new bh,this.routeReuseStrategy=new vh,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=Fe.get(tl),this.configLoader.onLoadEndListener=$n=>this.triggerEvent(new bu($n)),this.configLoader.onLoadStartListener=$n=>this.triggerEvent(new qa($n)),this.ngModule=Fe.get(f.h0i),this.console=Fe.get(f.c2e);const nt=Fe.get(f.R0b);this.isNgZoneEnabled=nt instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(Mt),this.currentUrlTree=function fn(){return new ji(new Kn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Xa(this.currentUrlTree,this.rootComponentType),this.transitions=new Qe.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(P){const N=this.events;return P.pipe((0,B.h)(G=>0!==G.id),(0,R.U)(G=>({...G,extractedUrl:this.urlHandlingStrategy.extract(G.rawUrl)})),(0,H.w)(G=>{let pe=!1,Fe=!1;return(0,le.of)(G).pipe((0,it.b)(et=>{this.currentNavigation={id:et.id,initialUrl:et.rawUrl,extractedUrl:et.extractedUrl,trigger:et.source,extras:et.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,H.w)(et=>{const Mt=this.browserUrlTree.toString(),on=!this.navigated||et.extractedUrl.toString()!==Mt||Mt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||on)&&this.urlHandlingStrategy.shouldProcessUrl(et.rawUrl))return y(et.source)&&(this.browserUrlTree=et.extractedUrl),(0,le.of)(et).pipe((0,H.w)(nt=>{const $n=this.transitions.getValue();return N.next(new wl(nt.id,this.serializeUrl(nt.extractedUrl),nt.source,nt.restoredState)),$n!==this.transitions.getValue()?Ee.E:Promise.resolve(nt)}),function lc(E,D,P,N){return(0,H.w)(G=>function Gs(E,D,P,N,G){return new ro(E,D,P,N,G).apply()}(E,D,P,G.extractedUrl,N).pipe((0,R.U)(pe=>({...G,urlAfterRedirects:pe}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,it.b)(nt=>{this.currentNavigation={...this.currentNavigation,finalUrl:nt.urlAfterRedirects},G.urlAfterRedirects=nt.urlAfterRedirects}),function gr(E,D,P,N,G,pe){return(0,J.z)(Fe=>function Hc(E,D,P,N,G,pe,Fe="emptyOnly",et="legacy"){return new Ao(E,D,P,N,G,Fe,et,pe).recognize().pipe((0,H.w)(Mt=>null===Mt?function Su(E){return new m.y(D=>D.error(E))}(new Vc):(0,le.of)(Mt)))}(E,D,P,Fe.urlAfterRedirects,N.serialize(Fe.urlAfterRedirects),N,G,pe).pipe((0,R.U)(et=>({...Fe,targetSnapshot:et}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,it.b)(nt=>{if(G.targetSnapshot=nt.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!nt.extras.skipLocationChange){const Wn=this.urlHandlingStrategy.merge(nt.urlAfterRedirects,nt.rawUrl);this.setBrowserUrl(Wn,nt)}this.browserUrlTree=nt.urlAfterRedirects}const $n=new vu(nt.id,this.serializeUrl(nt.extractedUrl),this.serializeUrl(nt.urlAfterRedirects),nt.targetSnapshot);N.next($n)}));if(on&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:$n,extractedUrl:Wn,source:Dn,restoredState:On,extras:kn}=et,Vn=new wl($n,this.serializeUrl(Wn),Dn,On);N.next(Vn);const Bn=Xa(Wn,this.rootComponentType).snapshot;return G={...et,targetSnapshot:Bn,urlAfterRedirects:Wn,extras:{...kn,skipLocationChange:!1,replaceUrl:!1}},(0,le.of)(G)}return this.rawUrlTree=et.rawUrl,et.resolve(null),Ee.E}),(0,it.b)(et=>{const Mt=new Ea(et.id,this.serializeUrl(et.extractedUrl),this.serializeUrl(et.urlAfterRedirects),et.targetSnapshot);this.triggerEvent(Mt)}),(0,R.U)(et=>G={...et,guards:ys(et.targetSnapshot,et.currentSnapshot,this.rootContexts)}),function Qa(E,D){return(0,J.z)(P=>{const{targetSnapshot:N,currentSnapshot:G,guards:{canActivateChecks:pe,canDeactivateChecks:Fe}}=P;return 0===Fe.length&&0===pe.length?(0,le.of)({...P,guardsResult:!0}):function ac(E,D,P,N){return(0,te.D)(E).pipe((0,J.z)(G=>function Xt(E,D,P,N,G){const pe=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!pe||0===pe.length)return(0,le.of)(!0);const Fe=pe.map(et=>{const Mt=vs(D)??G,on=Jr(et,Mt);return Kt(function rc(E){return E&&Si(E.canDeactivate)}(on)?on.canDeactivate(E,D,P,N):Mt.runInContext(()=>on(E,D,P,N))).pipe(je())});return(0,le.of)(Fe).pipe(Wr())}(G.component,G.route,P,D,N)),je(G=>!0!==G,!0))}(Fe,N,G,E).pipe((0,J.z)(et=>et&&function eo(E){return"boolean"==typeof E}(et)?function Z(E,D,P,N){return(0,te.D)(D).pipe(We(G=>fe(function ee(E,D){return null!==E&&D&&D(new Nc(E)),(0,le.of)(!0)}(G.route.parent,N),function ve(E,D){return null!==E&&D&&D(new Sl(E)),(0,le.of)(!0)}(G.route,N),function xt(E,D,P){const N=D[D.length-1],pe=D.slice(0,D.length-1).reverse().map(Fe=>function zr(E){const D=E.routeConfig?E.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:E,guards:D}:null}(Fe)).filter(Fe=>null!==Fe).map(Fe=>(0,ye.P)(()=>{const et=Fe.guards.map(Mt=>{const on=vs(Fe.node)??P,Ht=Jr(Mt,on);return Kt(function _s(E){return E&&Si(E.canActivateChild)}(Ht)?Ht.canActivateChild(N,E):on.runInContext(()=>Ht(N,E))).pipe(je())});return(0,le.of)(et).pipe(Wr())}));return(0,le.of)(pe).pipe(Wr())}(E,G.path,P),function Le(E,D,P){const N=D.routeConfig?D.routeConfig.canActivate:null;if(!N||0===N.length)return(0,le.of)(!0);const G=N.map(pe=>(0,ye.P)(()=>{const Fe=vs(D)??P,et=Jr(pe,Fe);return Kt(function So(E){return E&&Si(E.canActivate)}(et)?et.canActivate(D,E):Fe.runInContext(()=>et(D,E))).pipe(je())}));return(0,le.of)(G).pipe(Wr())}(E,G.route,P))),je(G=>!0!==G,!0))}(N,pe,E,D):(0,le.of)(et)),(0,R.U)(et=>({...P,guardsResult:et})))})}(this.ngModule.injector,et=>this.triggerEvent(et)),(0,it.b)(et=>{if(G.guardsResult=et.guardsResult,xs(et.guardsResult))throw Mi(0,et.guardsResult);const Mt=new yu(et.id,this.serializeUrl(et.extractedUrl),this.serializeUrl(et.urlAfterRedirects),et.targetSnapshot,!!et.guardsResult);this.triggerEvent(Mt)}),(0,B.h)(et=>!!et.guardsResult||(this.restoreHistory(et),this.cancelNavigationTransition(et,"",3),!1)),Dl(et=>{if(et.guards.canActivateChecks.length)return(0,le.of)(et).pipe((0,it.b)(Mt=>{const on=new _u(Mt.id,this.serializeUrl(Mt.extractedUrl),this.serializeUrl(Mt.urlAfterRedirects),Mt.targetSnapshot);this.triggerEvent(on)}),(0,H.w)(Mt=>{let on=!1;return(0,le.of)(Mt).pipe(function ws(E,D){return(0,J.z)(P=>{const{targetSnapshot:N,guards:{canActivateChecks:G}}=P;if(!G.length)return(0,le.of)(P);let pe=0;return(0,te.D)(G).pipe(We(Fe=>function El(E,D,P,N){const G=E.routeConfig,pe=E._resolve;return void 0!==G?.title&&!el(G)&&(pe[yt]=G.title),function Cd(E,D,P,N){const G=function Gr(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}(E);if(0===G.length)return(0,le.of)({});const pe={};return(0,te.D)(G).pipe((0,J.z)(Fe=>function Sd(E,D,P,N){const G=vs(D)??N,pe=Jr(E,G);return Kt(pe.resolve?pe.resolve(D,P):G.runInContext(()=>pe(D,P)))}(E[Fe],D,P,N).pipe(je(),(0,it.b)(et=>{pe[Fe]=et}))),$e(1),function be(E){return(0,R.U)(()=>E)}(pe),Ue(Fe=>Yo(Fe)?Ee.E:we(Fe)))}(pe,E,D,N).pipe((0,R.U)(Fe=>(E._resolvedData=Fe,E.data=ii(E,P).resolve,G&&el(G)&&(E.data[yt]=G.title),null)))}(Fe.route,N,E,D)),(0,it.b)(()=>pe++),$e(1),(0,J.z)(Fe=>pe===G.length?(0,le.of)(P):Ee.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,it.b)({next:()=>on=!0,complete:()=>{on||(this.restoreHistory(Mt),this.cancelNavigationTransition(Mt,"",2))}}))}),(0,it.b)(Mt=>{const on=new Rc(Mt.id,this.serializeUrl(Mt.extractedUrl),this.serializeUrl(Mt.urlAfterRedirects),Mt.targetSnapshot);this.triggerEvent(on)}))}),Dl(et=>{const Mt=on=>{const Ht=[];on.routeConfig?.loadComponent&&!on.routeConfig._loadedComponent&&Ht.push(this.configLoader.loadComponent(on.routeConfig).pipe((0,it.b)(nt=>{on.component=nt}),(0,R.U)(()=>{})));for(const nt of on.children)Ht.push(...Mt(nt));return Ht};return C(Mt(et.targetSnapshot.root)).pipe(re(),F(1))}),Dl(()=>this.afterPreactivation()),(0,R.U)(et=>{const Mt=function Qs(E,D,P){const N=Vo(E,D._root,P?P._root:void 0);return new Ya(N,D)}(this.routeReuseStrategy,et.targetSnapshot,et.currentRouterState);return G={...et,targetRouterState:Mt}}),(0,it.b)(et=>{this.currentUrlTree=et.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(et.urlAfterRedirects,et.rawUrl),this.routerState=et.targetRouterState,"deferred"===this.urlUpdateStrategy&&(et.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,et),this.browserUrlTree=et.urlAfterRedirects)}),((E,D,P)=>(0,R.U)(N=>(new Xn(D,N.targetRouterState,N.currentRouterState,P).activate(E),N)))(this.rootContexts,this.routeReuseStrategy,et=>this.triggerEvent(et)),(0,it.b)({next(){pe=!0},complete(){pe=!0}}),ze(()=>{pe||Fe||this.cancelNavigationTransition(G,"",1),this.currentNavigation?.id===G.id&&(this.currentNavigation=null)}),Ue(et=>{if(Fe=!0,Da(et)){Cr(et)||(this.navigated=!0,this.restoreHistory(G,!0));const Mt=new Cl(G.id,this.serializeUrl(G.extractedUrl),et.message,et.cancellationCode);if(N.next(Mt),Cr(et)){const on=this.urlHandlingStrategy.merge(et.url,this.rawUrlTree),Ht={skipLocationChange:G.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||y(G.source)};this.scheduleNavigation(on,"imperative",null,Ht,{resolve:G.resolve,reject:G.reject,promise:G.promise})}else G.resolve(!1)}else{this.restoreHistory(G,!0);const Mt=new Fc(G.id,this.serializeUrl(G.extractedUrl),et,G.targetSnapshot??void 0);N.next(Mt);try{G.resolve(this.errorHandler(et))}catch(on){G.reject(on)}}return Ee.E}))}))}resetRootComponentType(P){this.rootComponentType=P,this.routerState.root.component=this.rootComponentType}setTransition(P){this.transitions.next({...this.transitions.value,...P})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(P=>{const N="popstate"===P.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{const G={replaceUrl:!0},pe=P.state?.navigationId?P.state:null;if(pe){const et={...pe};delete et.navigationId,delete et.\u0275routerPageId,0!==Object.keys(et).length&&(G.state=et)}const Fe=this.parseUrl(P.url);this.scheduleNavigation(Fe,N,pe,G)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(P){this.events.next(P)}resetConfig(P){this.config=P.map(ni),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(P,N={}){const{relativeTo:G,queryParams:pe,fragment:Fe,queryParamsHandling:et,preserveFragment:Mt}=N,on=G||this.routerState.root,Ht=Mt?this.currentUrlTree.fragment:Fe;let nt=null;switch(et){case"merge":nt={...this.currentUrlTree.queryParams,...pe};break;case"preserve":nt=this.currentUrlTree.queryParams;break;default:nt=pe||null}return null!==nt&&(nt=this.removeEmptyProps(nt)),qi(on,this.currentUrlTree,P,nt,Ht??null)}navigateByUrl(P,N={skipLocationChange:!1}){const G=xs(P)?P:this.parseUrl(P),pe=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(pe,"imperative",null,N)}navigate(P,N={skipLocationChange:!1}){return function b(E){for(let D=0;D<E.length;D++){if(null==E[D])throw new f.vHH(4008,false)}}(P),this.navigateByUrl(this.createUrlTree(P,N),N)}serializeUrl(P){return this.urlSerializer.serialize(P)}parseUrl(P){let N;try{N=this.urlSerializer.parse(P)}catch(G){N=this.malformedUriErrorHandler(G,this.urlSerializer,P)}return N}isActive(P,N){let G;if(G=!0===N?{...nl}:!1===N?{...wh}:N,xs(P))return Ri(this.currentUrlTree,P,G);const pe=this.parseUrl(P);return Ri(this.currentUrlTree,pe,G)}removeEmptyProps(P){return Object.keys(P).reduce((N,G)=>{const pe=P[G];return null!=pe&&(N[G]=pe),N},{})}processNavigations(){this.navigations.subscribe(P=>{this.navigated=!0,this.lastSuccessfulId=P.id,this.currentPageId=P.targetPageId,this.events.next(new Ns(P.id,this.serializeUrl(P.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),P.resolve(!0)},P=>{this.console.warn(`Unhandled Navigation Error: ${P}`)})}scheduleNavigation(P,N,G,pe,Fe){if(this.disposed)return Promise.resolve(!1);let et,Mt,on;Fe?(et=Fe.resolve,Mt=Fe.reject,on=Fe.promise):on=new Promise(($n,Wn)=>{et=$n,Mt=Wn});const Ht=++this.navigationId;let nt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(G=this.location.getState()),nt=G&&G.\u0275routerPageId?G.\u0275routerPageId:pe.replaceUrl||pe.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):nt=0,this.setTransition({id:Ht,targetPageId:nt,source:N,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:P,extras:pe,resolve:et,reject:Mt,promise:on,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),on.catch($n=>Promise.reject($n))}setBrowserUrl(P,N){const G=this.urlSerializer.serialize(P),pe={...N.extras.state,...this.generateNgRouterState(N.id,N.targetPageId)};this.location.isCurrentPathEqualTo(G)||N.extras.replaceUrl?this.location.replaceState(G,"",pe):this.location.go(G,"",pe)}restoreHistory(P,N=!1){if("computed"===this.canceledNavigationResolution){const G=this.currentPageId-P.targetPageId;"popstate"!==P.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===G?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===G&&(this.resetState(P),this.browserUrlTree=P.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(G)}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(P),this.resetUrlToCurrentUrlTree())}resetState(P){this.routerState=P.currentRouterState,this.currentUrlTree=P.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,P.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(P,N,G){const pe=new Cl(P.id,this.serializeUrl(P.extractedUrl),N,G);this.triggerEvent(pe),P.resolve(!1)}generateNgRouterState(P,N){return"computed"===this.canceledNavigationResolution?{navigationId:P,\u0275routerPageId:N}:{navigationId:P}}}return E.\u0275fac=function(P){f.$Z()},E.\u0275prov=f.Yz7({token:E,factory:function(){return xu()},providedIn:"root"}),E})();function y(E){return"imperative"!==E}class V{}let ae=(()=>{class E{constructor(P,N,G,pe,Fe){this.router=P,this.injector=G,this.preloadingStrategy=pe,this.loader=Fe}setUpPreloading(){this.subscription=this.router.events.pipe((0,B.h)(P=>P instanceof Ns),We(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(P,N){const G=[];for(const pe of N){pe.providers&&!pe._injector&&(pe._injector=(0,f.MMx)(pe.providers,P,`Route: ${pe.path}`));const Fe=pe._injector??P,et=pe._loadedInjector??Fe;pe.loadChildren&&!pe._loadedRoutes&&void 0===pe.canLoad||pe.loadComponent&&!pe._loadedComponent?G.push(this.preloadConfig(Fe,pe)):(pe.children||pe._loadedRoutes)&&G.push(this.processRoutes(et,pe.children??pe._loadedRoutes))}return(0,te.D)(G).pipe((0,z.J)())}preloadConfig(P,N){return this.preloadingStrategy.preload(N,()=>{let G;G=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(P,N):(0,le.of)(null);const pe=G.pipe((0,J.z)(Fe=>null===Fe?(0,le.of)(void 0):(N._loadedRoutes=Fe.routes,N._loadedInjector=Fe.injector,this.processRoutes(Fe.injector??P,Fe.routes))));if(N.loadComponent&&!N._loadedComponent){const Fe=this.loader.loadComponent(N);return(0,te.D)([pe,Fe]).pipe((0,z.J)())}return pe})}}return E.\u0275fac=function(P){return new(P||E)(f.LFG(Nr),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(V),f.LFG(tl))},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Ae=new f.OlP("");let Re=(()=>{class E{constructor(P,N,G={}){this.router=P,this.viewportScroller=N,this.options=G,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},G.scrollPositionRestoration=G.scrollPositionRestoration||"disabled",G.anchorScrolling=G.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(P=>{P instanceof wl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=P.navigationTrigger,this.restoredId=P.restoredState?P.restoredState.navigationId:0):P instanceof Ns&&(this.lastId=P.id,this.scheduleScrollEvent(P,this.router.parseUrl(P.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(P=>{P instanceof oa&&(P.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(P.position):P.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(P.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(P,N){this.router.triggerEvent(new oa(P,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return E.\u0275fac=function(P){f.$Z()},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac}),E})();function rt(E,D){return{\u0275kind:E,\u0275providers:D}}function bt(E){return[{provide:Ml,multi:!0,useValue:E}]}function gt(){const E=(0,f.f3M)(f.zs3);return D=>{const P=E.get(f.z2F);if(D!==P.components[0])return;const N=E.get(Nr),G=E.get(Tt);1===E.get(Yt)&&N.initialNavigation(),E.get(St,null,f.XFs.Optional)?.setUpPreloading(),E.get(Ae,null,f.XFs.Optional)?.init(),N.resetRootComponentType(P.componentTypes[0]),G.next(),G.complete()}}const Tt=new f.OlP("",{factory:()=>new he.x}),Yt=new f.OlP("",{providedIn:"root",factory:()=>1});const St=new f.OlP("");function dn(E){return rt(0,[{provide:St,useExisting:ae},{provide:V,useExisting:E}])}const kt=new f.OlP("ROUTER_FORROOT_GUARD"),Et=[ie.Ye,{provide:as,useClass:Xs},{provide:Nr,useFactory:xu},Tr,{provide:_o,useFactory:function ft(E){return E.routerState.root},deps:[Nr]},tl];function ln(){return new f.PXZ("Router",Nr)}let nn=(()=>{class E{constructor(P){}static forRoot(P,N){return{ngModule:E,providers:[Et,[],bt(P),{provide:kt,useFactory:gn,deps:[[Nr,new f.FiY,new f.tp0]]},{provide:Tl,useValue:N||{}},N?.useHash?{provide:ie.S$,useClass:ie.Do}:{provide:ie.S$,useClass:ie.b0},{provide:Ae,useFactory:()=>{const E=(0,f.f3M)(Nr),D=(0,f.f3M)(ie.EM),P=(0,f.f3M)(Tl);return P.scrollOffset&&D.setOffset(P.scrollOffset),new Re(E,D,P)}},N?.preloadingStrategy?dn(N.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:ln},N?.initialNavigation?Nn(N):[],[{provide:ke,useFactory:gt},{provide:f.tb,multi:!0,useExisting:ke}]]}}static forChild(P){return{ngModule:E,providers:[bt(P)]}}}return E.\u0275fac=function(P){return new(P||E)(f.LFG(kt,8))},E.\u0275mod=f.oAB({type:E}),E.\u0275inj=f.cJS({imports:[Fr]}),E})();function gn(E){return"guarded"}function Nn(E){return["disabled"===E.initialNavigation?rt(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const D=(0,f.f3M)(Nr);return()=>{D.setUpLocationChangeListener()}}},{provide:Yt,useValue:2}]).\u0275providers:[],"enabledBlocking"===E.initialNavigation?rt(2,[{provide:Yt,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:D=>{const P=D.get(ie.V_,Promise.resolve());let N=!1;return()=>P.then(()=>new Promise(pe=>{const Fe=D.get(Nr),et=D.get(Tt);(function G(pe){D.get(Nr).events.pipe((0,B.h)(et=>et instanceof Ns||et instanceof Cl||et instanceof Fc),(0,R.U)(et=>et instanceof Ns||et instanceof Cl&&(0===et.code||1===et.code)&&null),(0,B.h)(et=>null!==et),F(1)).subscribe(()=>{pe()})})(()=>{pe(!0),N=!0}),Fe.afterPreactivation=()=>(pe(!0),N||et.closed?(0,le.of)(void 0):et),Fe.initialNavigation()}))}}]).\u0275providers:[]]}const ke=new f.OlP("")},5861:(qt,ue,ge)=>{"use strict";function f(le,Qe,Je,Te,m,c,d){try{var u=le[c](d),r=u.value}catch(o){return void Je(o)}u.done?Qe(r):Promise.resolve(r).then(Te,m)}function te(le){return function(){var Qe=this,Je=arguments;return new Promise(function(Te,m){var c=le.apply(Qe,Je);function d(r){f(c,Te,m,d,u,"next",r)}function u(r){f(c,Te,m,d,u,"throw",r)}d(void 0)})}}ge.d(ue,{Z:()=>te})}},qt=>{qt(qt.s=9614)}]);